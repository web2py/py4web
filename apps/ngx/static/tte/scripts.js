/*! pace 1.0.2 */
(function() {
    var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X = [].slice,
        Y = {}.hasOwnProperty,
        Z = function(a, b) {
            function c() {
                this.constructor = a
            }
            for (var d in b) Y.call(b, d) && (a[d] = b[d]);
            return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a
        },
        $ = [].indexOf || function(a) {
            for (var b = 0, c = this.length; c > b; b++)
                if (b in this && this[b] === a) return b;
            return -1
        };
    for (u = {
            catchupTime: 100,
            initialRate: .03,
            minTime: 250,
            ghostTime: 100,
            maxProgressPerFrame: 20,
            easeFactor: 1.25,
            startOnPageLoad: !0,
            restartOnPushState: !0,
            restartOnRequestAfter: 500,
            target: "body",
            elements: {
                checkInterval: 100,
                selectors: ["body"]
            },
            eventLag: {
                minSamples: 10,
                sampleCount: 3,
                lagThreshold: 3
            },
            ajax: {
                trackMethods: ["GET"],
                trackWebSockets: !0,
                ignoreURLs: []
            }
        }, C = function() {
            var a;
            return null != (a = "undefined" != typeof performance && null !== performance && "function" == typeof performance.now ? performance.now() : void 0) ? a : +new Date
        }, E = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame, t = window.cancelAnimationFrame || window.mozCancelAnimationFrame, null == E && (E = function(a) {
            return setTimeout(a, 50)
        }, t = function(a) {
            return clearTimeout(a)
        }), G = function(a) {
            var b, c;
            return b = C(), (c = function() {
                var d;
                return d = C() - b, d >= 33 ? (b = C(), a(d, function() {
                    return E(c)
                })) : setTimeout(c, 33 - d)
            })()
        }, F = function() {
            var a, b, c;
            return c = arguments[0], b = arguments[1], a = 3 <= arguments.length ? X.call(arguments, 2) : [], "function" == typeof c[b] ? c[b].apply(c, a) : c[b]
        }, v = function() {
            var a, b, c, d, e, f, g;
            for (b = arguments[0], d = 2 <= arguments.length ? X.call(arguments, 1) : [], f = 0, g = d.length; g > f; f++)
                if (c = d[f])
                    for (a in c) Y.call(c, a) && (e = c[a], null != b[a] && "object" == typeof b[a] && null != e && "object" == typeof e ? v(b[a], e) : b[a] = e);
            return b
        }, q = function(a) {
            var b, c, d, e, f;
            for (c = b = 0, e = 0, f = a.length; f > e; e++) d = a[e], c += Math.abs(d), b++;
            return c / b
        }, x = function(a, b) {
            var c, d, e;
            if (null == a && (a = "options"), null == b && (b = !0), e = document.querySelector("[data-pace-" + a + "]")) {
                if (c = e.getAttribute("data-pace-" + a), !b) return c;
                try {
                    return JSON.parse(c)
                } catch (f) {
                    return d = f, "undefined" != typeof console && null !== console ? console.error("Error parsing inline pace options", d) : void 0
                }
            }
        }, g = function() {
            function a() {}
            return a.prototype.on = function(a, b, c, d) {
                var e;
                return null == d && (d = !1), null == this.bindings && (this.bindings = {}), null == (e = this.bindings)[a] && (e[a] = []), this.bindings[a].push({
                    handler: b,
                    ctx: c,
                    once: d
                })
            }, a.prototype.once = function(a, b, c) {
                return this.on(a, b, c, !0)
            }, a.prototype.off = function(a, b) {
                var c, d, e;
                if (null != (null != (d = this.bindings) ? d[a] : void 0)) {
                    if (null == b) return delete this.bindings[a];
                    for (c = 0, e = []; c < this.bindings[a].length;) this.bindings[a][c].handler === b ? e.push(this.bindings[a].splice(c, 1)) : e.push(c++);
                    return e
                }
            }, a.prototype.trigger = function() {
                var a, b, c, d, e, f, g, h, i;
                if (c = arguments[0], a = 2 <= arguments.length ? X.call(arguments, 1) : [], null != (g = this.bindings) ? g[c] : void 0) {
                    for (e = 0, i = []; e < this.bindings[c].length;) h = this.bindings[c][e], d = h.handler, b = h.ctx, f = h.once, d.apply(null != b ? b : this, a), f ? i.push(this.bindings[c].splice(e, 1)) : i.push(e++);
                    return i
                }
            }, a
        }(), j = window.Pace || {}, window.Pace = j, v(j, g.prototype), D = j.options = v({}, u, window.paceOptions, x()), U = ["ajax", "document", "eventLag", "elements"], Q = 0, S = U.length; S > Q; Q++) K = U[Q], D[K] === !0 && (D[K] = u[K]);
    i = function(a) {
        function b() {
            return V = b.__super__.constructor.apply(this, arguments)
        }
        return Z(b, a), b
    }(Error), b = function() {
        function a() {
            this.progress = 0
        }
        return a.prototype.getElement = function() {
            var a;
            if (null == this.el) {
                if (a = document.querySelector(D.target), !a) throw new i;
                this.el = document.createElement("div"), this.el.className = "pace pace-active", document.body.className = document.body.className.replace(/pace-done/g, ""), document.body.className += " pace-running", this.el.innerHTML = '<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>', null != a.firstChild ? a.insertBefore(this.el, a.firstChild) : a.appendChild(this.el)
            }
            return this.el
        }, a.prototype.finish = function() {
            var a;
            return a = this.getElement(), a.className = a.className.replace("pace-active", ""), a.className += " pace-inactive", document.body.className = document.body.className.replace("pace-running", ""), document.body.className += " pace-done"
        }, a.prototype.update = function(a) {
            return this.progress = a, this.render()
        }, a.prototype.destroy = function() {
            try {
                this.getElement().parentNode.removeChild(this.getElement())
            } catch (a) {
                i = a
            }
            return this.el = void 0
        }, a.prototype.render = function() {
            var a, b, c, d, e, f, g;
            if (null == document.querySelector(D.target)) return !1;
            for (a = this.getElement(), d = "translate3d(" + this.progress + "%, 0, 0)", g = ["webkitTransform", "msTransform", "transform"], e = 0, f = g.length; f > e; e++) b = g[e], a.children[0].style[b] = d;
            return (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) && (a.children[0].setAttribute("data-progress-text", "" + (0 | this.progress) + "%"), this.progress >= 100 ? c = "99" : (c = this.progress < 10 ? "0" : "", c += 0 | this.progress), a.children[0].setAttribute("data-progress", "" + c)), this.lastRenderedProgress = this.progress
        }, a.prototype.done = function() {
            return this.progress >= 100
        }, a
    }(), h = function() {
        function a() {
            this.bindings = {}
        }
        return a.prototype.trigger = function(a, b) {
            var c, d, e, f, g;
            if (null != this.bindings[a]) {
                for (f = this.bindings[a], g = [], d = 0, e = f.length; e > d; d++) c = f[d], g.push(c.call(this, b));
                return g
            }
        }, a.prototype.on = function(a, b) {
            var c;
            return null == (c = this.bindings)[a] && (c[a] = []), this.bindings[a].push(b)
        }, a
    }(), P = window.XMLHttpRequest, O = window.XDomainRequest, N = window.WebSocket, w = function(a, b) {
        var c, d, e;
        e = [];
        for (d in b.prototype) try {
            null == a[d] && "function" != typeof b[d] ? "function" == typeof Object.defineProperty ? e.push(Object.defineProperty(a, d, {
                get: function() {
                    return b.prototype[d]
                },
                configurable: !0,
                enumerable: !0
            })) : e.push(a[d] = b.prototype[d]) : e.push(void 0)
        } catch (f) {
            c = f
        }
        return e
    }, A = [], j.ignore = function() {
        var a, b, c;
        return b = arguments[0], a = 2 <= arguments.length ? X.call(arguments, 1) : [], A.unshift("ignore"), c = b.apply(null, a), A.shift(), c
    }, j.track = function() {
        var a, b, c;
        return b = arguments[0], a = 2 <= arguments.length ? X.call(arguments, 1) : [], A.unshift("track"), c = b.apply(null, a), A.shift(), c
    }, J = function(a) {
        var b;
        if (null == a && (a = "GET"), "track" === A[0]) return "force";
        if (!A.length && D.ajax) {
            if ("socket" === a && D.ajax.trackWebSockets) return !0;
            if (b = a.toUpperCase(), $.call(D.ajax.trackMethods, b) >= 0) return !0
        }
        return !1
    }, k = function(a) {
        function b() {
            var a, c = this;
            b.__super__.constructor.apply(this, arguments), a = function(a) {
                var b;
                return b = a.open, a.open = function(d, e, f) {
                    return J(d) && c.trigger("request", {
                        type: d,
                        url: e,
                        request: a
                    }), b.apply(a, arguments)
                }
            }, window.XMLHttpRequest = function(b) {
                var c;
                return c = new P(b), a(c), c
            };
            try {
                w(window.XMLHttpRequest, P)
            } catch (d) {}
            if (null != O) {
                window.XDomainRequest = function() {
                    var b;
                    return b = new O, a(b), b
                };
                try {
                    w(window.XDomainRequest, O)
                } catch (d) {}
            }
            if (null != N && D.ajax.trackWebSockets) {
                window.WebSocket = function(a, b) {
                    var d;
                    return d = null != b ? new N(a, b) : new N(a), J("socket") && c.trigger("request", {
                        type: "socket",
                        url: a,
                        protocols: b,
                        request: d
                    }), d
                };
                try {
                    w(window.WebSocket, N)
                } catch (d) {}
            }
        }
        return Z(b, a), b
    }(h), R = null, y = function() {
        return null == R && (R = new k), R
    }, I = function(a) {
        var b, c, d, e;
        for (e = D.ajax.ignoreURLs, c = 0, d = e.length; d > c; c++)
            if (b = e[c], "string" == typeof b) {
                if (-1 !== a.indexOf(b)) return !0
            } else if (b.test(a)) return !0;
        return !1
    }, y().on("request", function(b) {
        var c, d, e, f, g;
        return f = b.type, e = b.request, g = b.url, I(g) ? void 0 : j.running || D.restartOnRequestAfter === !1 && "force" !== J(f) ? void 0 : (d = arguments, c = D.restartOnRequestAfter || 0, "boolean" == typeof c && (c = 0), setTimeout(function() {
            var b, c, g, h, i, k;
            if (b = "socket" === f ? e.readyState < 2 : 0 < (h = e.readyState) && 4 > h) {
                for (j.restart(), i = j.sources, k = [], c = 0, g = i.length; g > c; c++) {
                    if (K = i[c], K instanceof a) {
                        K.watch.apply(K, d);
                        break
                    }
                    k.push(void 0)
                }
                return k
            }
        }, c))
    }), a = function() {
        function a() {
            var a = this;
            this.elements = [], y().on("request", function() {
                return a.watch.apply(a, arguments)
            })
        }
        return a.prototype.watch = function(a) {
            var b, c, d, e;
            return d = a.type, b = a.request, e = a.url, I(e) ? void 0 : (c = "socket" === d ? new n(b) : new o(b), this.elements.push(c))
        }, a
    }(), o = function() {
        function a(a) {
            var b, c, d, e, f, g, h = this;
            if (this.progress = 0, null != window.ProgressEvent)
                for (c = null, a.addEventListener("progress", function(a) {
                        return a.lengthComputable ? h.progress = 100 * a.loaded / a.total : h.progress = h.progress + (100 - h.progress) / 2
                    }, !1), g = ["load", "abort", "timeout", "error"], d = 0, e = g.length; e > d; d++) b = g[d], a.addEventListener(b, function() {
                    return h.progress = 100
                }, !1);
            else f = a.onreadystatechange, a.onreadystatechange = function() {
                var b;
                return 0 === (b = a.readyState) || 4 === b ? h.progress = 100 : 3 === a.readyState && (h.progress = 50), "function" == typeof f ? f.apply(null, arguments) : void 0
            }
        }
        return a
    }(), n = function() {
        function a(a) {
            var b, c, d, e, f = this;
            for (this.progress = 0, e = ["error", "open"], c = 0, d = e.length; d > c; c++) b = e[c], a.addEventListener(b, function() {
                return f.progress = 100
            }, !1)
        }
        return a
    }(), d = function() {
        function a(a) {
            var b, c, d, f;
            for (null == a && (a = {}), this.elements = [], null == a.selectors && (a.selectors = []), f = a.selectors, c = 0, d = f.length; d > c; c++) b = f[c], this.elements.push(new e(b))
        }
        return a
    }(), e = function() {
        function a(a) {
            this.selector = a, this.progress = 0, this.check()
        }
        return a.prototype.check = function() {
            var a = this;
            return document.querySelector(this.selector) ? this.done() : setTimeout(function() {
                return a.check()
            }, D.elements.checkInterval)
        }, a.prototype.done = function() {
            return this.progress = 100
        }, a
    }(), c = function() {
        function a() {
            var a, b, c = this;
            this.progress = null != (b = this.states[document.readyState]) ? b : 100, a = document.onreadystatechange, document.onreadystatechange = function() {
                return null != c.states[document.readyState] && (c.progress = c.states[document.readyState]), "function" == typeof a ? a.apply(null, arguments) : void 0
            }
        }
        return a.prototype.states = {
            loading: 0,
            interactive: 50,
            complete: 100
        }, a
    }(), f = function() {
        function a() {
            var a, b, c, d, e, f = this;
            this.progress = 0, a = 0, e = [], d = 0, c = C(), b = setInterval(function() {
                var g;
                return g = C() - c - 50, c = C(), e.push(g), e.length > D.eventLag.sampleCount && e.shift(), a = q(e), ++d >= D.eventLag.minSamples && a < D.eventLag.lagThreshold ? (f.progress = 100, clearInterval(b)) : f.progress = 100 * (3 / (a + 3))
            }, 50)
        }
        return a
    }(), m = function() {
        function a(a) {
            this.source = a, this.last = this.sinceLastUpdate = 0, this.rate = D.initialRate, this.catchup = 0, this.progress = this.lastProgress = 0, null != this.source && (this.progress = F(this.source, "progress"))
        }
        return a.prototype.tick = function(a, b) {
            var c;
            return null == b && (b = F(this.source, "progress")), b >= 100 && (this.done = !0), b === this.last ? this.sinceLastUpdate += a : (this.sinceLastUpdate && (this.rate = (b - this.last) / this.sinceLastUpdate), this.catchup = (b - this.progress) / D.catchupTime, this.sinceLastUpdate = 0, this.last = b), b > this.progress && (this.progress += this.catchup * a), c = 1 - Math.pow(this.progress / 100, D.easeFactor), this.progress += c * this.rate * a, this.progress = Math.min(this.lastProgress + D.maxProgressPerFrame, this.progress), this.progress = Math.max(0, this.progress), this.progress = Math.min(100, this.progress), this.lastProgress = this.progress, this.progress
        }, a
    }(), L = null, H = null, r = null, M = null, p = null, s = null, j.running = !1, z = function() {
        return D.restartOnPushState ? j.restart() : void 0
    }, null != window.history.pushState && (T = window.history.pushState, window.history.pushState = function() {
        return z(), T.apply(window.history, arguments)
    }), null != window.history.replaceState && (W = window.history.replaceState, window.history.replaceState = function() {
        return z(), W.apply(window.history, arguments)
    }), l = {
        ajax: a,
        elements: d,
        document: c,
        eventLag: f
    }, (B = function() {
        var a, c, d, e, f, g, h, i;
        for (j.sources = L = [], g = ["ajax", "elements", "document", "eventLag"], c = 0, e = g.length; e > c; c++) a = g[c], D[a] !== !1 && L.push(new l[a](D[a]));
        for (i = null != (h = D.extraSources) ? h : [], d = 0, f = i.length; f > d; d++) K = i[d], L.push(new K(D));
        return j.bar = r = new b, H = [], M = new m
    })(), j.stop = function() {
        return j.trigger("stop"), j.running = !1, r.destroy(), s = !0, null != p && ("function" == typeof t && t(p), p = null), B()
    }, j.restart = function() {
        return j.trigger("restart"), j.stop(), j.start()
    }, j.go = function() {
        var a;
        return j.running = !0, r.render(), a = C(), s = !1, p = G(function(b, c) {
            var d, e, f, g, h, i, k, l, n, o, p, q, t, u, v, w;
            for (l = 100 - r.progress, e = p = 0, f = !0, i = q = 0, u = L.length; u > q; i = ++q)
                for (K = L[i], o = null != H[i] ? H[i] : H[i] = [], h = null != (w = K.elements) ? w : [K], k = t = 0, v = h.length; v > t; k = ++t) g = h[k], n = null != o[k] ? o[k] : o[k] = new m(g), f &= n.done, n.done || (e++, p += n.tick(b));
            return d = p / e, r.update(M.tick(b, d)), r.done() || f || s ? (r.update(100), j.trigger("done"), setTimeout(function() {
                return r.finish(), j.running = !1, j.trigger("hide")
            }, Math.max(D.ghostTime, Math.max(D.minTime - (C() - a), 0)))) : c()
        })
    }, j.start = function(a) {
        v(D, a), j.running = !0;
        try {
            r.render()
        } catch (b) {
            i = b
        }
        return document.querySelector(".pace") ? (j.trigger("start"), j.go()) : setTimeout(j.start, 50)
    }, "function" == typeof define && define.amd ? define(["pace"], function() {
        return j
    }) : "object" == typeof exports ? module.exports = j : D.startOnPageLoad && j.start()
}).call(this);; // 4.5.7 (2017-04-25)
! function(e, t) {
    "use strict";

    function n(e, t) {
        for (var n, r = [], i = 0; i < e.length; ++i) {
            if (n = s[e[i]] || o(e[i]), !n) throw "module definition dependecy not found: " + e[i];
            r.push(n)
        }
        t.apply(null, r)
    }

    function r(e, r, i) {
        if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";
        if (r === t) throw "invalid module definition, dependencies must be specified";
        if (i === t) throw "invalid module definition, definition function must be specified";
        n(r, function() {
            s[e] = i.apply(null, arguments)
        })
    }

    function i(e) {
        return !!s[e]
    }

    function o(t) {
        for (var n = e, r = t.split(/[.\/]/), i = 0; i < r.length; ++i) {
            if (!n[r[i]]) return;
            n = n[r[i]]
        }
        return n
    }

    function a(n) {
        var r, i, o, a, l;
        for (r = 0; r < n.length; r++) {
            i = e, o = n[r], a = o.split(/[.\/]/);
            for (var u = 0; u < a.length - 1; ++u) i[a[u]] === t && (i[a[u]] = {}), i = i[a[u]];
            i[a[a.length - 1]] = s[o]
        }
        if (e.AMDLC_TESTS) {
            l = e.privateModules || {};
            for (o in s) l[o] = s[o];
            for (r = 0; r < n.length; r++) delete l[n[r]];
            e.privateModules = l
        }
    }
    var s = {},
        l = "tinymce/geom/Rect",
        u = "tinymce/util/Promise",
        c = "tinymce/util/Delay",
        d = "tinymce/Env",
        f = "tinymce/dom/EventUtils",
        p = "tinymce/dom/Sizzle",
        h = "tinymce/util/Arr",
        m = "tinymce/util/Tools",
        g = "tinymce/dom/DomQuery",
        v = "tinymce/html/Styles",
        y = "tinymce/dom/TreeWalker",
        b = "tinymce/dom/Range",
        C = "tinymce/html/Entities",
        x = "tinymce/dom/StyleSheetLoader",
        w = "tinymce/dom/DOMUtils",
        E = "tinymce/dom/ScriptLoader",
        N = "tinymce/AddOnManager",
        _ = "tinymce/dom/NodeType",
        S = "tinymce/text/Zwsp",
        k = "tinymce/caret/CaretContainer",
        T = "tinymce/dom/RangeUtils",
        R = "tinymce/NodeChange",
        A = "tinymce/html/Node",
        B = "tinymce/html/Schema",
        D = "tinymce/html/SaxParser",
        L = "tinymce/html/DomParser",
        M = "tinymce/html/Writer",
        P = "tinymce/html/Serializer",
        O = "tinymce/dom/Serializer",
        H = "tinymce/dom/TridentSelection",
        I = "tinymce/util/VK",
        F = "tinymce/dom/ControlSelection",
        z = "tinymce/util/Fun",
        U = "tinymce/caret/CaretCandidate",
        W = "tinymce/geom/ClientRect",
        V = "tinymce/text/ExtendingChar",
        $ = "tinymce/caret/CaretPosition",
        q = "tinymce/caret/CaretBookmark",
        j = "tinymce/dom/BookmarkManager",
        Y = "tinymce/dom/Selection",
        X = "tinymce/dom/ElementUtils",
        K = "tinymce/fmt/Preview",
        G = "tinymce/fmt/Hooks",
        J = "tinymce/Formatter",
        Q = "tinymce/undo/Diff",
        Z = "tinymce/undo/Fragments",
        ee = "tinymce/undo/Levels",
        te = "tinymce/UndoManager",
        ne = "tinymce/EnterKey",
        re = "tinymce/ForceBlocks",
        ie = "tinymce/caret/CaretUtils",
        oe = "tinymce/caret/CaretWalker",
        ae = "tinymce/InsertList",
        se = "tinymce/InsertContent",
        le = "tinymce/EditorCommands",
        ue = "tinymce/util/URI",
        ce = "tinymce/util/Class",
        de = "tinymce/util/EventDispatcher",
        fe = "tinymce/data/Binding",
        pe = "tinymce/util/Observable",
        he = "tinymce/data/ObservableObject",
        me = "tinymce/ui/Selector",
        ge = "tinymce/ui/Collection",
        ve = "tinymce/ui/DomUtils",
        ye = "tinymce/ui/BoxUtils",
        be = "tinymce/ui/ClassList",
        Ce = "tinymce/ui/ReflowQueue",
        xe = "tinymce/ui/Control",
        we = "tinymce/ui/Factory",
        Ee = "tinymce/ui/KeyboardNavigation",
        Ne = "tinymce/ui/Container",
        _e = "tinymce/ui/DragHelper",
        Se = "tinymce/ui/Scrollable",
        ke = "tinymce/ui/Panel",
        Te = "tinymce/ui/Movable",
        Re = "tinymce/ui/Resizable",
        Ae = "tinymce/ui/FloatPanel",
        Be = "tinymce/ui/Window",
        De = "tinymce/ui/MessageBox",
        Le = "tinymce/WindowManager",
        Me = "tinymce/ui/Tooltip",
        Pe = "tinymce/ui/Widget",
        Oe = "tinymce/ui/Progress",
        He = "tinymce/ui/Notification",
        Ie = "tinymce/NotificationManager",
        Fe = "tinymce/dom/NodePath",
        ze = "tinymce/util/Quirks",
        Ue = "tinymce/EditorObservable",
        We = "tinymce/Mode",
        Ve = "tinymce/Shortcuts",
        $e = "tinymce/file/Uploader",
        qe = "tinymce/file/Conversions",
        je = "tinymce/file/ImageScanner",
        Ye = "tinymce/file/BlobCache",
        Xe = "tinymce/file/UploadStatus",
        Ke = "tinymce/ErrorReporter",
        Ge = "tinymce/EditorUpload",
        Je = "tinymce/caret/FakeCaret",
        Qe = "tinymce/dom/Dimensions",
        Ze = "tinymce/caret/LineWalker",
        et = "tinymce/caret/LineUtils",
        tt = "tinymce/dom/MousePosition",
        nt = "tinymce/DragDropOverrides",
        rt = "tinymce/SelectionOverrides",
        it = "tinymce/util/Uuid",
        ot = "tinymce/ui/Sidebar",
        at = "tinymce/Editor",
        st = "tinymce/util/I18n",
        lt = "tinymce/FocusManager",
        ut = "tinymce/EditorManager",
        ct = "tinymce/LegacyInput",
        dt = "tinymce/util/XHR",
        ft = "tinymce/util/JSON",
        pt = "tinymce/util/JSONRequest",
        ht = "tinymce/util/JSONP",
        mt = "tinymce/util/LocalStorage",
        gt = "tinymce/Compat",
        vt = "tinymce/ui/Layout",
        yt = "tinymce/ui/AbsoluteLayout",
        bt = "tinymce/ui/Button",
        Ct = "tinymce/ui/ButtonGroup",
        xt = "tinymce/ui/Checkbox",
        wt = "tinymce/ui/ComboBox",
        Et = "tinymce/ui/ColorBox",
        Nt = "tinymce/ui/PanelButton",
        _t = "tinymce/ui/ColorButton",
        St = "tinymce/util/Color",
        kt = "tinymce/ui/ColorPicker",
        Tt = "tinymce/ui/Path",
        Rt = "tinymce/ui/ElementPath",
        At = "tinymce/ui/FormItem",
        Bt = "tinymce/ui/Form",
        Dt = "tinymce/ui/FieldSet",
        Lt = "tinymce/content/LinkTargets",
        Mt = "tinymce/ui/FilePicker",
        Pt = "tinymce/ui/FitLayout",
        Ot = "tinymce/ui/FlexLayout",
        Ht = "tinymce/ui/FlowLayout",
        It = "tinymce/fmt/FontInfo",
        Ft = "tinymce/ui/FormatControls",
        zt = "tinymce/ui/GridLayout",
        Ut = "tinymce/ui/Iframe",
        Wt = "tinymce/ui/InfoBox",
        Vt = "tinymce/ui/Label",
        $t = "tinymce/ui/Toolbar",
        qt = "tinymce/ui/MenuBar",
        jt = "tinymce/ui/MenuButton",
        Yt = "tinymce/ui/MenuItem",
        Xt = "tinymce/ui/Throbber",
        Kt = "tinymce/ui/Menu",
        Gt = "tinymce/ui/ListBox",
        Jt = "tinymce/ui/Radio",
        Qt = "tinymce/ui/ResizeHandle",
        Zt = "tinymce/ui/SelectBox",
        en = "tinymce/ui/Slider",
        tn = "tinymce/ui/Spacer",
        nn = "tinymce/ui/SplitButton",
        rn = "tinymce/ui/StackLayout",
        on = "tinymce/ui/TabPanel",
        an = "tinymce/ui/TextBox",
        sn = "tinymce/Register";
    r(l, [], function() {
        function e(e, t, n) {
            var r, i, a, s, l, c;
            return r = t.x, i = t.y, a = e.w, s = e.h, l = t.w, c = t.h, n = (n || "").split(""), "b" === n[0] && (i += c), "r" === n[1] && (r += l), "c" === n[0] && (i += u(c / 2)), "c" === n[1] && (r += u(l / 2)), "b" === n[3] && (i -= s), "r" === n[4] && (r -= a), "c" === n[3] && (i -= u(s / 2)), "c" === n[4] && (r -= u(a / 2)), o(r, i, a, s)
        }

        function t(t, n, r, i) {
            var o, a;
            for (a = 0; a < i.length; a++)
                if (o = e(t, n, i[a]), o.x >= r.x && o.x + o.w <= r.w + r.x && o.y >= r.y && o.y + o.h <= r.h + r.y) return i[a];
            return null
        }

        function n(e, t, n) {
            return o(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n)
        }

        function r(e, t) {
            var n, r, i, a;
            return n = l(e.x, t.x), r = l(e.y, t.y), i = s(e.x + e.w, t.x + t.w), a = s(e.y + e.h, t.y + t.h), i - n < 0 || a - r < 0 ? null : o(n, r, i - n, a - r)
        }

        function i(e, t, n) {
            var r, i, a, s, u, c, d, f, p, h;
            return u = e.x, c = e.y, d = e.x + e.w, f = e.y + e.h, p = t.x + t.w, h = t.y + t.h, r = l(0, t.x - u), i = l(0, t.y - c), a = l(0, d - p), s = l(0, f - h), u += r, c += i, n && (d += r, f += i, u -= a, c -= s), d -= a, f -= s, o(u, c, d - u, f - c)
        }

        function o(e, t, n, r) {
            return {
                x: e,
                y: t,
                w: n,
                h: r
            }
        }

        function a(e) {
            return o(e.left, e.top, e.width, e.height)
        }
        var s = Math.min,
            l = Math.max,
            u = Math.round;
        return {
            inflate: n,
            relativePosition: e,
            findBestRelativePosition: t,
            intersect: r,
            clamp: i,
            create: o,
            fromClientRect: a
        }
    }), r(u, [], function() {
        function e(e, t) {
            return function() {
                e.apply(t, arguments)
            }
        }

        function t(t) {
            if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof t) throw new TypeError("not a function");
            this._state = null, this._value = null, this._deferreds = [], s(t, e(r, this), e(i, this))
        }

        function n(e) {
            var t = this;
            return null === this._state ? void this._deferreds.push(e) : void l(function() {
                var n = t._state ? e.onFulfilled : e.onRejected;
                if (null === n) return void(t._state ? e.resolve : e.reject)(t._value);
                var r;
                try {
                    r = n(t._value)
                } catch (i) {
                    return void e.reject(i)
                }
                e.resolve(r)
            })
        }

        function r(t) {
            try {
                if (t === this) throw new TypeError("A promise cannot be resolved with itself.");
                if (t && ("object" == typeof t || "function" == typeof t)) {
                    var n = t.then;
                    if ("function" == typeof n) return void s(e(n, t), e(r, this), e(i, this))
                }
                this._state = !0, this._value = t, o.call(this)
            } catch (a) {
                i.call(this, a)
            }
        }

        function i(e) {
            this._state = !1, this._value = e, o.call(this)
        }

        function o() {
            for (var e = 0, t = this._deferreds.length; e < t; e++) n.call(this, this._deferreds[e]);
            this._deferreds = null
        }

        function a(e, t, n, r) {
            this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r
        }

        function s(e, t, n) {
            var r = !1;
            try {
                e(function(e) {
                    r || (r = !0, t(e))
                }, function(e) {
                    r || (r = !0, n(e))
                })
            } catch (i) {
                if (r) return;
                r = !0, n(i)
            }
        }
        if (window.Promise) return window.Promise;
        var l = t.immediateFn || "function" == typeof setImmediate && setImmediate || function(e) {
                setTimeout(e, 1)
            },
            u = Array.isArray || function(e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            };
        return t.prototype["catch"] = function(e) {
            return this.then(null, e)
        }, t.prototype.then = function(e, r) {
            var i = this;
            return new t(function(t, o) {
                n.call(i, new a(e, r, t, o))
            })
        }, t.all = function() {
            var e = Array.prototype.slice.call(1 === arguments.length && u(arguments[0]) ? arguments[0] : arguments);
            return new t(function(t, n) {
                function r(o, a) {
                    try {
                        if (a && ("object" == typeof a || "function" == typeof a)) {
                            var s = a.then;
                            if ("function" == typeof s) return void s.call(a, function(e) {
                                r(o, e)
                            }, n)
                        }
                        e[o] = a, 0 === --i && t(e)
                    } catch (l) {
                        n(l)
                    }
                }
                if (0 === e.length) return t([]);
                for (var i = e.length, o = 0; o < e.length; o++) r(o, e[o])
            })
        }, t.resolve = function(e) {
            return e && "object" == typeof e && e.constructor === t ? e : new t(function(t) {
                t(e)
            })
        }, t.reject = function(e) {
            return new t(function(t, n) {
                n(e)
            })
        }, t.race = function(e) {
            return new t(function(t, n) {
                for (var r = 0, i = e.length; r < i; r++) e[r].then(t, n)
            })
        }, t
    }), r(c, [u], function(e) {
        function t(e, t) {
            function n(e) {
                window.setTimeout(e, 0)
            }
            var r, i = window.requestAnimationFrame,
                o = ["ms", "moz", "webkit"];
            for (r = 0; r < o.length && !i; r++) i = window[o[r] + "RequestAnimationFrame"];
            i || (i = n), i(e, t)
        }

        function n(e, t) {
            return "number" != typeof t && (t = 0), setTimeout(e, t)
        }

        function r(e, t) {
            return "number" != typeof t && (t = 1), setInterval(e, t)
        }

        function i(e) {
            return clearTimeout(e)
        }

        function o(e) {
            return clearInterval(e)
        }

        function a(e, t) {
            var r, i;
            return i = function() {
                var i = arguments;
                clearTimeout(r), r = n(function() {
                    e.apply(this, i)
                }, t)
            }, i.stop = function() {
                clearTimeout(r)
            }, i
        }
        var s;
        return {
            requestAnimationFrame: function(n, r) {
                return s ? void s.then(n) : void(s = new e(function(e) {
                    r || (r = document.body), t(e, r)
                }).then(n))
            },
            setTimeout: n,
            setInterval: r,
            setEditorTimeout: function(e, t, r) {
                return n(function() {
                    e.removed || t()
                }, r)
            },
            setEditorInterval: function(e, t, n) {
                var i;
                return i = r(function() {
                    e.removed ? clearInterval(i) : t()
                }, n)
            },
            debounce: a,
            throttle: a,
            clearInterval: o,
            clearTimeout: i
        }
    }), r(d, [], function() {
        function e(e) {
            return "matchMedia" in window && matchMedia(e).matches
        }
        var t = navigator,
            n = t.userAgent,
            r, i, o, a, s, l, u, c, d, f, p, h, m;
        r = window.opera && window.opera.buildNumber, d = /Android/.test(n), i = /WebKit/.test(n), o = !i && !r && /MSIE/gi.test(n) && /Explorer/gi.test(t.appName), o = o && /MSIE (\w+)\./.exec(n)[1], a = n.indexOf("Trident/") != -1 && (n.indexOf("rv:") != -1 || t.appName.indexOf("Netscape") != -1) && 11, s = n.indexOf("Edge/") != -1 && !o && !a && 12, o = o || a || s, l = !i && !a && /Gecko/.test(n), u = n.indexOf("Mac") != -1, c = /(iPad|iPhone)/.test(n), f = "FormData" in window && "FileReader" in window && "URL" in window && !!URL.createObjectURL, p = e("only screen and (max-device-width: 480px)") && (d || c), h = e("only screen and (min-width: 800px)") && (d || c), m = n.indexOf("Windows Phone") != -1, s && (i = !1);
        var g = !c || f || n.match(/AppleWebKit\/(\d*)/)[1] >= 534;
        return {
            opera: r,
            webkit: i,
            ie: o,
            gecko: l,
            mac: u,
            iOS: c,
            android: d,
            contentEditable: g,
            transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
            caretAfter: 8 != o,
            range: window.getSelection && "Range" in window,
            documentMode: o && !s ? document.documentMode || 7 : 10,
            fileApi: f,
            ceFalse: o === !1 || o > 8,
            canHaveCSP: o === !1 || o > 11,
            desktop: !p && !h,
            windowsPhone: m
        }
    }), r(f, [c, d], function(e, t) {
        function n(e, t, n, r) {
            e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n)
        }

        function r(e, t, n, r) {
            e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n)
        }

        function i(e, t) {
            var n, r = t;
            return n = e.path, n && n.length > 0 && (r = n[0]), e.deepPath && (n = e.deepPath(), n && n.length > 0 && (r = n[0])), r
        }

        function o(e, n) {
            function r() {
                return !1
            }

            function o() {
                return !0
            }
            var a, s = n || {},
                l;
            for (a in e) c[a] || (s[a] = e[a]);
            if (s.target || (s.target = s.srcElement || document), t.experimentalShadowDom && (s.target = i(e, s.target)), e && u.test(e.type) && e.pageX === l && e.clientX !== l) {
                var d = s.target.ownerDocument || document,
                    f = d.documentElement,
                    p = d.body;
                s.pageX = e.clientX + (f && f.scrollLeft || p && p.scrollLeft || 0) - (f && f.clientLeft || p && p.clientLeft || 0), s.pageY = e.clientY + (f && f.scrollTop || p && p.scrollTop || 0) - (f && f.clientTop || p && p.clientTop || 0)
            }
            return s.preventDefault = function() {
                s.isDefaultPrevented = o, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
            }, s.stopPropagation = function() {
                s.isPropagationStopped = o, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
            }, s.stopImmediatePropagation = function() {
                s.isImmediatePropagationStopped = o, s.stopPropagation()
            }, s.isDefaultPrevented || (s.isDefaultPrevented = r, s.isPropagationStopped = r, s.isImmediatePropagationStopped = r), "undefined" == typeof s.metaKey && (s.metaKey = !1), s
        }

        function a(t, i, o) {
            function a() {
                o.domLoaded || (o.domLoaded = !0, i(c))
            }

            function s() {
                ("complete" === u.readyState || "interactive" === u.readyState && u.body) && (r(u, "readystatechange", s), a())
            }

            function l() {
                try {
                    u.documentElement.doScroll("left")
                } catch (t) {
                    return void e.setTimeout(l)
                }
                a()
            }
            var u = t.document,
                c = {
                    type: "ready"
                };
            return o.domLoaded ? void i(c) : (u.addEventListener ? "complete" === u.readyState ? a() : n(t, "DOMContentLoaded", a) : (n(u, "readystatechange", s), u.documentElement.doScroll && t.self === t.top && l()), void n(t, "load", a))
        }

        function s() {
            function e(e, t) {
                var n, r, o, a, s = i[t];
                if (n = s && s[e.type])
                    for (r = 0, o = n.length; r < o; r++)
                        if (a = n[r], a && a.func.call(a.scope, e) === !1 && e.preventDefault(), e.isImmediatePropagationStopped()) return
            }
            var t = this,
                i = {},
                s, u, c, d, f;
            u = l + (+new Date).toString(32), d = "onmouseenter" in document.documentElement, c = "onfocusin" in document.documentElement, f = {
                mouseenter: "mouseover",
                mouseleave: "mouseout"
            }, s = 1, t.domLoaded = !1, t.events = i, t.bind = function(r, l, p, h) {
                function m(t) {
                    e(o(t || E.event), g)
                }
                var g, v, y, b, C, x, w, E = window;
                if (r && 3 !== r.nodeType && 8 !== r.nodeType) {
                    for (r[u] ? g = r[u] : (g = s++, r[u] = g, i[g] = {}), h = h || r, l = l.split(" "), y = l.length; y--;) b = l[y], x = m, C = w = !1, "DOMContentLoaded" === b && (b = "ready"), t.domLoaded && "ready" === b && "complete" == r.readyState ? p.call(h, o({
                        type: b
                    })) : (d || (C = f[b], C && (x = function(t) {
                        var n, r;
                        if (n = t.currentTarget, r = t.relatedTarget, r && n.contains) r = n.contains(r);
                        else
                            for (; r && r !== n;) r = r.parentNode;
                        r || (t = o(t || E.event), t.type = "mouseout" === t.type ? "mouseleave" : "mouseenter", t.target = n, e(t, g))
                    })), c || "focusin" !== b && "focusout" !== b || (w = !0, C = "focusin" === b ? "focus" : "blur", x = function(t) {
                        t = o(t || E.event), t.type = "focus" === t.type ? "focusin" : "focusout", e(t, g)
                    }), v = i[g][b], v ? "ready" === b && t.domLoaded ? p({
                        type: b
                    }) : v.push({
                        func: p,
                        scope: h
                    }) : (i[g][b] = v = [{
                        func: p,
                        scope: h
                    }], v.fakeName = C, v.capture = w, v.nativeHandler = x, "ready" === b ? a(r, x, t) : n(r, C || b, x, w)));
                    return r = v = 0, p
                }
            }, t.unbind = function(e, n, o) {
                var a, s, l, c, d, f;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return t;
                if (a = e[u]) {
                    if (f = i[a], n) {
                        for (n = n.split(" "), l = n.length; l--;)
                            if (d = n[l], s = f[d]) {
                                if (o)
                                    for (c = s.length; c--;)
                                        if (s[c].func === o) {
                                            var p = s.nativeHandler,
                                                h = s.fakeName,
                                                m = s.capture;
                                            s = s.slice(0, c).concat(s.slice(c + 1)), s.nativeHandler = p, s.fakeName = h, s.capture = m, f[d] = s
                                        } o && 0 !== s.length || (delete f[d], r(e, s.fakeName || d, s.nativeHandler, s.capture))
                            }
                    } else {
                        for (d in f) s = f[d], r(e, s.fakeName || d, s.nativeHandler, s.capture);
                        f = {}
                    }
                    for (d in f) return t;
                    delete i[a];
                    try {
                        delete e[u]
                    } catch (g) {
                        e[u] = null
                    }
                }
                return t
            }, t.fire = function(n, r, i) {
                var a;
                if (!n || 3 === n.nodeType || 8 === n.nodeType) return t;
                i = o(null, i), i.type = r, i.target = n;
                do a = n[u], a && e(i, a), n = n.parentNode || n.ownerDocument || n.defaultView || n.parentWindow; while (n && !i.isPropagationStopped());
                return t
            }, t.clean = function(e) {
                var n, r, i = t.unbind;
                if (!e || 3 === e.nodeType || 8 === e.nodeType) return t;
                if (e[u] && i(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName)
                    for (i(e), r = e.getElementsByTagName("*"), n = r.length; n--;) e = r[n], e[u] && i(e);
                return t
            }, t.destroy = function() {
                i = {}
            }, t.cancel = function(e) {
                return e && (e.preventDefault(), e.stopImmediatePropagation()), !1
            }
        }
        var l = "mce-data-",
            u = /^(?:mouse|contextmenu)|click/,
            c = {
                keyLocation: 1,
                layerX: 1,
                layerY: 1,
                returnValue: 1,
                webkitMovementX: 1,
                webkitMovementY: 1,
                keyIdentifier: 1
            };
        return s.Event = new s, s.Event.bind(window, "ready", function() {}), s
    }), r(p, [], function() {
        function e(e, t, n, r) {
            var i, o, a, s, l, u, d, p, h, m;
            if ((t ? t.ownerDocument || t : z) !== D && B(t), t = t || D, n = n || [], !e || "string" != typeof e) return n;
            if (1 !== (s = t.nodeType) && 9 !== s) return [];
            if (M && !r) {
                if (i = ve.exec(e))
                    if (a = i[1]) {
                        if (9 === s) {
                            if (o = t.getElementById(a), !o || !o.parentNode) return n;
                            if (o.id === a) return n.push(o), n
                        } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(a)) && I(t, o) && o.id === a) return n.push(o), n
                    } else {
                        if (i[2]) return Z.apply(n, t.getElementsByTagName(e)), n;
                        if ((a = i[3]) && x.getElementsByClassName) return Z.apply(n, t.getElementsByClassName(a)), n
                    } if (x.qsa && (!P || !P.test(e))) {
                    if (p = d = F, h = t, m = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
                        for (u = _(e), (d = t.getAttribute("id")) ? p = d.replace(be, "\\$&") : t.setAttribute("id", p), p = "[id='" + p + "'] ", l = u.length; l--;) u[l] = p + f(u[l]);
                        h = ye.test(e) && c(t.parentNode) || t, m = u.join(",")
                    }
                    if (m) try {
                        return Z.apply(n, h.querySelectorAll(m)), n
                    } catch (g) {} finally {
                        d || t.removeAttribute("id")
                    }
                }
            }
            return k(e.replace(se, "$1"), t, n, r)
        }

        function n() {
            function e(n, r) {
                return t.push(n + " ") > w.cacheLength && delete e[t.shift()], e[n + " "] = r
            }
            var t = [];
            return e
        }

        function r(e) {
            return e[F] = !0, e
        }

        function i(e) {
            var t = D.createElement("div");
            try {
                return !!e(t)
            } catch (n) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t), t = null
            }
        }

        function o(e, t) {
            for (var n = e.split("|"), r = e.length; r--;) w.attrHandle[n[r]] = t
        }

        function a(e, t) {
            var n = t && e,
                r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || X) - (~e.sourceIndex || X);
            if (r) return r;
            if (n)
                for (; n = n.nextSibling;)
                    if (n === t) return -1;
            return e ? 1 : -1
        }

        function s(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return "input" === n && t.type === e
            }
        }

        function l(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && t.type === e
            }
        }

        function u(e) {
            return r(function(t) {
                return t = +t, r(function(n, r) {
                    for (var i, o = e([], n.length, t), a = o.length; a--;) n[i = o[a]] && (n[i] = !(r[i] = n[i]))
                })
            })
        }

        function c(e) {
            return e && typeof e.getElementsByTagName !== Y && e
        }

        function d() {}

        function f(e) {
            for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
            return r
        }

        function p(e, t, n) {
            var r = t.dir,
                i = n && "parentNode" === r,
                o = W++;
            return t.first ? function(t, n, o) {
                for (; t = t[r];)
                    if (1 === t.nodeType || i) return e(t, n, o)
            } : function(t, n, a) {
                var s, l, u = [U, o];
                if (a) {
                    for (; t = t[r];)
                        if ((1 === t.nodeType || i) && e(t, n, a)) return !0
                } else
                    for (; t = t[r];)
                        if (1 === t.nodeType || i) {
                            if (l = t[F] || (t[F] = {}), (s = l[r]) && s[0] === U && s[1] === o) return u[2] = s[2];
                            if (l[r] = u, u[2] = e(t, n, a)) return !0
                        }
            }
        }

        function h(e) {
            return e.length > 1 ? function(t, n, r) {
                for (var i = e.length; i--;)
                    if (!e[i](t, n, r)) return !1;
                return !0
            } : e[0]
        }

        function m(t, n, r) {
            for (var i = 0, o = n.length; i < o; i++) e(t, n[i], r);
            return r
        }

        function g(e, t, n, r, i) {
            for (var o, a = [], s = 0, l = e.length, u = null != t; s < l; s++)(o = e[s]) && (n && !n(o, r, i) || (a.push(o), u && t.push(s)));
            return a
        }

        function v(e, t, n, i, o, a) {
            return i && !i[F] && (i = v(i)), o && !o[F] && (o = v(o, a)), r(function(r, a, s, l) {
                var u, c, d, f = [],
                    p = [],
                    h = a.length,
                    v = r || m(t || "*", s.nodeType ? [s] : s, []),
                    y = !e || !r && t ? v : g(v, f, e, s, l),
                    b = n ? o || (r ? e : h || i) ? [] : a : y;
                if (n && n(y, b, s, l), i)
                    for (u = g(b, p), i(u, [], s, l), c = u.length; c--;)(d = u[c]) && (b[p[c]] = !(y[p[c]] = d));
                if (r) {
                    if (o || e) {
                        if (o) {
                            for (u = [], c = b.length; c--;)(d = b[c]) && u.push(y[c] = d);
                            o(null, b = [], u, l)
                        }
                        for (c = b.length; c--;)(d = b[c]) && (u = o ? te.call(r, d) : f[c]) > -1 && (r[u] = !(a[u] = d))
                    }
                } else b = g(b === a ? b.splice(h, b.length) : b), o ? o(null, a, b, l) : Z.apply(a, b)
            })
        }

        function y(e) {
            for (var t, n, r, i = e.length, o = w.relative[e[0].type], a = o || w.relative[" "], s = o ? 1 : 0, l = p(function(e) {
                    return e === t
                }, a, !0), u = p(function(e) {
                    return te.call(t, e) > -1
                }, a, !0), c = [function(e, n, r) {
                    return !o && (r || n !== T) || ((t = n).nodeType ? l(e, n, r) : u(e, n, r))
                }]; s < i; s++)
                if (n = w.relative[e[s].type]) c = [p(h(c), n)];
                else {
                    if (n = w.filter[e[s].type].apply(null, e[s].matches), n[F]) {
                        for (r = ++s; r < i && !w.relative[e[r].type]; r++);
                        return v(s > 1 && h(c), s > 1 && f(e.slice(0, s - 1).concat({
                            value: " " === e[s - 2].type ? "*" : ""
                        })).replace(se, "$1"), n, s < r && y(e.slice(s, r)), r < i && y(e = e.slice(r)), r < i && f(e))
                    }
                    c.push(n)
                } return h(c)
        }

        function b(t, n) {
            var i = n.length > 0,
                o = t.length > 0,
                a = function(r, a, s, l, u) {
                    var c, d, f, p = 0,
                        h = "0",
                        m = r && [],
                        v = [],
                        y = T,
                        b = r || o && w.find.TAG("*", u),
                        C = U += null == y ? 1 : Math.random() || .1,
                        x = b.length;
                    for (u && (T = a !== D && a); h !== x && null != (c = b[h]); h++) {
                        if (o && c) {
                            for (d = 0; f = t[d++];)
                                if (f(c, a, s)) {
                                    l.push(c);
                                    break
                                } u && (U = C)
                        }
                        i && ((c = !f && c) && p--, r && m.push(c))
                    }
                    if (p += h, i && h !== p) {
                        for (d = 0; f = n[d++];) f(m, v, a, s);
                        if (r) {
                            if (p > 0)
                                for (; h--;) m[h] || v[h] || (v[h] = J.call(l));
                            v = g(v)
                        }
                        Z.apply(l, v), u && !r && v.length > 0 && p + n.length > 1 && e.uniqueSort(l)
                    }
                    return u && (U = C, T = y), m
                };
            return i ? r(a) : a
        }
        var C, x, w, E, N, _, S, k, T, R, A, B, D, L, M, P, O, H, I, F = "sizzle" + -new Date,
            z = window.document,
            U = 0,
            W = 0,
            V = n(),
            $ = n(),
            q = n(),
            j = function(e, t) {
                return e === t && (A = !0), 0
            },
            Y = typeof t,
            X = 1 << 31,
            K = {}.hasOwnProperty,
            G = [],
            J = G.pop,
            Q = G.push,
            Z = G.push,
            ee = G.slice,
            te = G.indexOf || function(e) {
                for (var t = 0, n = this.length; t < n; t++)
                    if (this[t] === e) return t;
                return -1
            },
            ne = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            re = "[\\x20\\t\\r\\n\\f]",
            ie = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            oe = "\\[" + re + "*(" + ie + ")(?:" + re + "*([*^$|!~]?=)" + re + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ie + "))|)" + re + "*\\]",
            ae = ":(" + ie + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + oe + ")*)|.*)\\)|)",
            se = new RegExp("^" + re + "+|((?:^|[^\\\\])(?:\\\\.)*)" + re + "+$", "g"),
            le = new RegExp("^" + re + "*," + re + "*"),
            ue = new RegExp("^" + re + "*([>+~]|" + re + ")" + re + "*"),
            ce = new RegExp("=" + re + "*([^\\]'\"]*?)" + re + "*\\]", "g"),
            de = new RegExp(ae),
            fe = new RegExp("^" + ie + "$"),
            pe = {
                ID: new RegExp("^#(" + ie + ")"),
                CLASS: new RegExp("^\\.(" + ie + ")"),
                TAG: new RegExp("^(" + ie + "|[*])"),
                ATTR: new RegExp("^" + oe),
                PSEUDO: new RegExp("^" + ae),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + re + "*(even|odd|(([+-]|)(\\d*)n|)" + re + "*(?:([+-]|)" + re + "*(\\d+)|))" + re + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + ne + ")$", "i"),
                needsContext: new RegExp("^" + re + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + re + "*((?:-\\d)?\\d*)" + re + "*\\)|)(?=[^-]|$)", "i")
            },
            he = /^(?:input|select|textarea|button)$/i,
            me = /^h\d$/i,
            ge = /^[^{]+\{\s*\[native \w/,
            ve = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            ye = /[+~]/,
            be = /'|\\/g,
            Ce = new RegExp("\\\\([\\da-f]{1,6}" + re + "?|(" + re + ")|.)", "ig"),
            xe = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
            };
        try {
            Z.apply(G = ee.call(z.childNodes), z.childNodes), G[z.childNodes.length].nodeType
        } catch (we) {
            Z = {
                apply: G.length ? function(e, t) {
                    Q.apply(e, ee.call(t))
                } : function(e, t) {
                    for (var n = e.length, r = 0; e[n++] = t[r++];);
                    e.length = n - 1
                }
            }
        }
        x = e.support = {}, N = e.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName
        }, B = e.setDocument = function(e) {
            function t(e) {
                try {
                    return e.top
                } catch (t) {}
                return null
            }
            var n, r = e ? e.ownerDocument || e : z,
                o = r.defaultView;
            return r !== D && 9 === r.nodeType && r.documentElement ? (D = r, L = r.documentElement, M = !N(r), o && o !== t(o) && (o.addEventListener ? o.addEventListener("unload", function() {
                B()
            }, !1) : o.attachEvent && o.attachEvent("onunload", function() {
                B()
            })), x.attributes = i(function(e) {
                return e.className = "i", !e.getAttribute("className")
            }), x.getElementsByTagName = i(function(e) {
                return e.appendChild(r.createComment("")), !e.getElementsByTagName("*").length
            }), x.getElementsByClassName = ge.test(r.getElementsByClassName), x.getById = i(function(e) {
                return L.appendChild(e).id = F, !r.getElementsByName || !r.getElementsByName(F).length
            }), x.getById ? (w.find.ID = function(e, t) {
                if (typeof t.getElementById !== Y && M) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, w.filter.ID = function(e) {
                var t = e.replace(Ce, xe);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }) : (delete w.find.ID, w.filter.ID = function(e) {
                var t = e.replace(Ce, xe);
                return function(e) {
                    var n = typeof e.getAttributeNode !== Y && e.getAttributeNode("id");
                    return n && n.value === t
                }
            }), w.find.TAG = x.getElementsByTagName ? function(e, t) {
                if (typeof t.getElementsByTagName !== Y) return t.getElementsByTagName(e)
            } : function(e, t) {
                var n, r = [],
                    i = 0,
                    o = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; n = o[i++];) 1 === n.nodeType && r.push(n);
                    return r
                }
                return o
            }, w.find.CLASS = x.getElementsByClassName && function(e, t) {
                if (M) return t.getElementsByClassName(e)
            }, O = [], P = [], (x.qsa = ge.test(r.querySelectorAll)) && (i(function(e) {
                e.innerHTML = "<select msallowcapture=''><option selected=''></option></select>", e.querySelectorAll("[msallowcapture^='']").length && P.push("[*^$]=" + re + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || P.push("\\[" + re + "*(?:value|" + ne + ")"), e.querySelectorAll(":checked").length || P.push(":checked")
            }), i(function(e) {
                var t = r.createElement("input");
                t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && P.push("name" + re + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || P.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), P.push(",.*:")
            })), (x.matchesSelector = ge.test(H = L.matches || L.webkitMatchesSelector || L.mozMatchesSelector || L.oMatchesSelector || L.msMatchesSelector)) && i(function(e) {
                x.disconnectedMatch = H.call(e, "div"), H.call(e, "[s!='']:x"), O.push("!=", ae)
            }), P = P.length && new RegExp(P.join("|")), O = O.length && new RegExp(O.join("|")), n = ge.test(L.compareDocumentPosition), I = n || ge.test(L.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e,
                    r = t && t.parentNode;
                return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, j = n ? function(e, t) {
                if (e === t) return A = !0, 0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return n ? n : (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & n || !x.sortDetached && t.compareDocumentPosition(e) === n ? e === r || e.ownerDocument === z && I(z, e) ? -1 : t === r || t.ownerDocument === z && I(z, t) ? 1 : R ? te.call(R, e) - te.call(R, t) : 0 : 4 & n ? -1 : 1)
            } : function(e, t) {
                if (e === t) return A = !0, 0;
                var n, i = 0,
                    o = e.parentNode,
                    s = t.parentNode,
                    l = [e],
                    u = [t];
                if (!o || !s) return e === r ? -1 : t === r ? 1 : o ? -1 : s ? 1 : R ? te.call(R, e) - te.call(R, t) : 0;
                if (o === s) return a(e, t);
                for (n = e; n = n.parentNode;) l.unshift(n);
                for (n = t; n = n.parentNode;) u.unshift(n);
                for (; l[i] === u[i];) i++;
                return i ? a(l[i], u[i]) : l[i] === z ? -1 : u[i] === z ? 1 : 0
            }, r) : D
        }, e.matches = function(t, n) {
            return e(t, null, null, n)
        }, e.matchesSelector = function(t, n) {
            if ((t.ownerDocument || t) !== D && B(t), n = n.replace(ce, "='$1']"), x.matchesSelector && M && (!O || !O.test(n)) && (!P || !P.test(n))) try {
                var r = H.call(t, n);
                if (r || x.disconnectedMatch || t.document && 11 !== t.document.nodeType) return r
            } catch (i) {}
            return e(n, D, null, [t]).length > 0
        }, e.contains = function(e, t) {
            return (e.ownerDocument || e) !== D && B(e), I(e, t)
        }, e.attr = function(e, n) {
            (e.ownerDocument || e) !== D && B(e);
            var r = w.attrHandle[n.toLowerCase()],
                i = r && K.call(w.attrHandle, n.toLowerCase()) ? r(e, n, !M) : t;
            return i !== t ? i : x.attributes || !M ? e.getAttribute(n) : (i = e.getAttributeNode(n)) && i.specified ? i.value : null
        }, e.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, e.uniqueSort = function(e) {
            var t, n = [],
                r = 0,
                i = 0;
            if (A = !x.detectDuplicates, R = !x.sortStable && e.slice(0), e.sort(j), A) {
                for (; t = e[i++];) t === e[i] && (r = n.push(i));
                for (; r--;) e.splice(n[r], 1)
            }
            return R = null, e
        }, E = e.getText = function(e) {
            var t, n = "",
                r = 0,
                i = e.nodeType;
            if (i) {
                if (1 === i || 9 === i || 11 === i) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += E(e)
                } else if (3 === i || 4 === i) return e.nodeValue
            } else
                for (; t = e[r++];) n += E(t);
            return n
        }, w = e.selectors = {
            cacheLength: 50,
            createPseudo: r,
            match: pe,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(Ce, xe), e[3] = (e[3] || e[4] || e[5] || "").replace(Ce, xe), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(t) {
                    return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || e.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && e.error(t[0]), t
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return pe.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && de.test(n) && (t = _(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(Ce, xe).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = V[e + " "];
                    return t || (t = new RegExp("(^|" + re + ")" + e + "(" + re + "|$)")) && V(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Y && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(t, n, r) {
                    return function(i) {
                        var o = e.attr(i, t);
                        return null == o ? "!=" === n : !n || (o += "", "=" === n ? o === r : "!=" === n ? o !== r : "^=" === n ? r && 0 === o.indexOf(r) : "*=" === n ? r && o.indexOf(r) > -1 : "$=" === n ? r && o.slice(-r.length) === r : "~=" === n ? (" " + o + " ").indexOf(r) > -1 : "|=" === n && (o === r || o.slice(0, r.length + 1) === r + "-"))
                    }
                },
                CHILD: function(e, t, n, r, i) {
                    var o = "nth" !== e.slice(0, 3),
                        a = "last" !== e.slice(-4),
                        s = "of-type" === t;
                    return 1 === r && 0 === i ? function(e) {
                        return !!e.parentNode
                    } : function(t, n, l) {
                        var u, c, d, f, p, h, m = o !== a ? "nextSibling" : "previousSibling",
                            g = t.parentNode,
                            v = s && t.nodeName.toLowerCase(),
                            y = !l && !s;
                        if (g) {
                            if (o) {
                                for (; m;) {
                                    for (d = t; d = d[m];)
                                        if (s ? d.nodeName.toLowerCase() === v : 1 === d.nodeType) return !1;
                                    h = m = "only" === e && !h && "nextSibling"
                                }
                                return !0
                            }
                            if (h = [a ? g.firstChild : g.lastChild], a && y) {
                                for (c = g[F] || (g[F] = {}), u = c[e] || [], p = u[0] === U && u[1], f = u[0] === U && u[2], d = p && g.childNodes[p]; d = ++p && d && d[m] || (f = p = 0) || h.pop();)
                                    if (1 === d.nodeType && ++f && d === t) {
                                        c[e] = [U, p, f];
                                        break
                                    }
                            } else if (y && (u = (t[F] || (t[F] = {}))[e]) && u[0] === U) f = u[1];
                            else
                                for (;
                                    (d = ++p && d && d[m] || (f = p = 0) || h.pop()) && ((s ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++f || (y && ((d[F] || (d[F] = {}))[e] = [U, f]), d !== t)););
                            return f -= i, f === r || f % r === 0 && f / r >= 0
                        }
                    }
                },
                PSEUDO: function(t, n) {
                    var i, o = w.pseudos[t] || w.setFilters[t.toLowerCase()] || e.error("unsupported pseudo: " + t);
                    return o[F] ? o(n) : o.length > 1 ? (i = [t, t, "", n], w.setFilters.hasOwnProperty(t.toLowerCase()) ? r(function(e, t) {
                        for (var r, i = o(e, n), a = i.length; a--;) r = te.call(e, i[a]), e[r] = !(t[r] = i[a])
                    }) : function(e) {
                        return o(e, 0, i)
                    }) : o
                }
            },
            pseudos: {
                not: r(function(e) {
                    var t = [],
                        n = [],
                        i = S(e.replace(se, "$1"));
                    return i[F] ? r(function(e, t, n, r) {
                        for (var o, a = i(e, null, r, []), s = e.length; s--;)(o = a[s]) && (e[s] = !(t[s] = o))
                    }) : function(e, r, o) {
                        return t[0] = e, i(t, null, o, n), !n.pop()
                    }
                }),
                has: r(function(t) {
                    return function(n) {
                        return e(t, n).length > 0
                    }
                }),
                contains: r(function(e) {
                    return e = e.replace(Ce, xe),
                        function(t) {
                            return (t.textContent || t.innerText || E(t)).indexOf(e) > -1
                        }
                }),
                lang: r(function(t) {
                    return fe.test(t || "") || e.error("unsupported lang: " + t), t = t.replace(Ce, xe).toLowerCase(),
                        function(e) {
                            var n;
                            do
                                if (n = M ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return n = n.toLowerCase(), n === t || 0 === n.indexOf(t + "-"); while ((e = e.parentNode) && 1 === e.nodeType);
                            return !1
                        }
                }),
                target: function(e) {
                    var t = window.location && window.location.hash;
                    return t && t.slice(1) === e.id
                },
                root: function(e) {
                    return e === L
                },
                focus: function(e) {
                    return e === D.activeElement && (!D.hasFocus || D.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6) return !1;
                    return !0
                },
                parent: function(e) {
                    return !w.pseudos.empty(e)
                },
                header: function(e) {
                    return me.test(e.nodeName)
                },
                input: function(e) {
                    return he.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: u(function() {
                    return [0]
                }),
                last: u(function(e, t) {
                    return [t - 1]
                }),
                eq: u(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: u(function(e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: u(function(e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: u(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; --r >= 0;) e.push(r);
                    return e
                }),
                gt: u(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                    return e
                })
            }
        }, w.pseudos.nth = w.pseudos.eq;
        for (C in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) w.pseudos[C] = s(C);
        for (C in {
                submit: !0,
                reset: !0
            }) w.pseudos[C] = l(C);
        return d.prototype = w.filters = w.pseudos, w.setFilters = new d, _ = e.tokenize = function(t, n) {
            var r, i, o, a, s, l, u, c = $[t + " "];
            if (c) return n ? 0 : c.slice(0);
            for (s = t, l = [], u = w.preFilter; s;) {
                r && !(i = le.exec(s)) || (i && (s = s.slice(i[0].length) || s), l.push(o = [])), r = !1, (i = ue.exec(s)) && (r = i.shift(), o.push({
                    value: r,
                    type: i[0].replace(se, " ")
                }), s = s.slice(r.length));
                for (a in w.filter) !(i = pe[a].exec(s)) || u[a] && !(i = u[a](i)) || (r = i.shift(), o.push({
                    value: r,
                    type: a,
                    matches: i
                }), s = s.slice(r.length));
                if (!r) break
            }
            return n ? s.length : s ? e.error(t) : $(t, l).slice(0)
        }, S = e.compile = function(e, t) {
            var n, r = [],
                i = [],
                o = q[e + " "];
            if (!o) {
                for (t || (t = _(e)), n = t.length; n--;) o = y(t[n]), o[F] ? r.push(o) : i.push(o);
                o = q(e, b(i, r)), o.selector = e
            }
            return o
        }, k = e.select = function(e, t, n, r) {
            var i, o, a, s, l, u = "function" == typeof e && e,
                d = !r && _(e = u.selector || e);
            if (n = n || [], 1 === d.length) {
                if (o = d[0] = d[0].slice(0), o.length > 2 && "ID" === (a = o[0]).type && x.getById && 9 === t.nodeType && M && w.relative[o[1].type]) {
                    if (t = (w.find.ID(a.matches[0].replace(Ce, xe), t) || [])[0], !t) return n;
                    u && (t = t.parentNode), e = e.slice(o.shift().value.length)
                }
                for (i = pe.needsContext.test(e) ? 0 : o.length; i-- && (a = o[i], !w.relative[s = a.type]);)
                    if ((l = w.find[s]) && (r = l(a.matches[0].replace(Ce, xe), ye.test(o[0].type) && c(t.parentNode) || t))) {
                        if (o.splice(i, 1), e = r.length && f(o), !e) return Z.apply(n, r), n;
                        break
                    }
            }
            return (u || S(e, d))(r, t, !M, n, ye.test(e) && c(t.parentNode) || t), n
        }, x.sortStable = F.split("").sort(j).join("") === F, x.detectDuplicates = !!A, B(), x.sortDetached = i(function(e) {
            return 1 & e.compareDocumentPosition(D.createElement("div"))
        }), i(function(e) {
            return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
        }) || o("type|href|height|width", function(e, t, n) {
            if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }), x.attributes && i(function(e) {
            return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
        }) || o("value", function(e, t, n) {
            if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue
        }), i(function(e) {
            return null == e.getAttribute("disabled")
        }) || o(ne, function(e, t, n) {
            var r;
            if (!n) return e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }), e
    }), r(h, [], function() {
        function e(e) {
            var t = e,
                n, r;
            if (!c(e))
                for (t = [], n = 0, r = e.length; n < r; n++) t[n] = e[n];
            return t
        }

        function n(e, n, r) {
            var i, o;
            if (!e) return 0;
            if (r = r || e, e.length !== t) {
                for (i = 0, o = e.length; i < o; i++)
                    if (n.call(r, e[i], i, e) === !1) return 0
            } else
                for (i in e)
                    if (e.hasOwnProperty(i) && n.call(r, e[i], i, e) === !1) return 0;
            return 1
        }

        function r(e, t) {
            var r = [];
            return n(e, function(n, i) {
                r.push(t(n, i, e))
            }), r
        }

        function i(e, t) {
            var r = [];
            return n(e, function(n, i) {
                t && !t(n, i, e) || r.push(n)
            }), r
        }

        function o(e, t) {
            var n, r;
            if (e)
                for (n = 0, r = e.length; n < r; n++)
                    if (e[n] === t) return n;
            return -1
        }

        function a(e, t, n, r) {
            var i = 0;
            for (arguments.length < 3 && (n = e[0]); i < e.length; i++) n = t.call(r, n, e[i], i);
            return n
        }

        function s(e, t, n) {
            var r, i;
            for (r = 0, i = e.length; r < i; r++)
                if (t.call(n, e[r], r, e)) return r;
            return -1
        }

        function l(e, n, r) {
            var i = s(e, n, r);
            return i !== -1 ? e[i] : t
        }

        function u(e) {
            return e[e.length - 1]
        }
        var c = Array.isArray || function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        };
        return {
            isArray: c,
            toArray: e,
            each: n,
            map: r,
            filter: i,
            indexOf: o,
            reduce: a,
            findIndex: s,
            find: l,
            last: u
        }
    }), r(m, [d, h], function(e, n) {
        function r(e) {
            return null === e || e === t ? "" : ("" + e).replace(h, "")
        }

        function i(e, r) {
            return r ? !("array" != r || !n.isArray(e)) || typeof e == r : e !== t
        }

        function o(e, t, n) {
            var r;
            for (e = e || [], t = t || ",", "string" == typeof e && (e = e.split(t)), n = n || {}, r = e.length; r--;) n[e[r]] = {};
            return n
        }

        function a(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }

        function s(e, t, n) {
            var r = this,
                i, o, a, s, l, u = 0;
            if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), a = e[3].match(/(^|\.)(\w+)$/i)[2], o = r.createNS(e[3].replace(/\.\w+$/, ""), n), !o[a]) {
                if ("static" == e[2]) return o[a] = t, void(this.onCreate && this.onCreate(e[2], e[3], o[a]));
                t[a] || (t[a] = function() {}, u = 1), o[a] = t[a], r.extend(o[a].prototype, t), e[5] && (i = r.resolve(e[5]).prototype, s = e[5].match(/\.(\w+)$/i)[1], l = o[a], u ? o[a] = function() {
                    return i[s].apply(this, arguments)
                } : o[a] = function() {
                    return this.parent = i[s], l.apply(this, arguments)
                }, o[a].prototype[a] = o[a], r.each(i, function(e, t) {
                    o[a].prototype[t] = i[t]
                }), r.each(t, function(e, t) {
                    i[t] ? o[a].prototype[t] = function() {
                        return this.parent = i[t], e.apply(this, arguments)
                    } : t != a && (o[a].prototype[t] = e)
                })), r.each(t["static"], function(e, t) {
                    o[a][t] = e
                })
            }
        }

        function l(e, n) {
            var r, i, o, a = arguments,
                s;
            for (r = 1, i = a.length; r < i; r++) {
                n = a[r];
                for (o in n) n.hasOwnProperty(o) && (s = n[o], s !== t && (e[o] = s))
            }
            return e
        }

        function u(e, t, r, i) {
            i = i || this, e && (r && (e = e[r]), n.each(e, function(e, n) {
                return t.call(i, e, n, r) !== !1 && void u(e, t, r, i)
            }))
        }

        function c(e, t) {
            var n, r;
            for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) r = e[n], t[r] || (t[r] = {}), t = t[r];
            return t
        }

        function d(e, t) {
            var n, r;
            for (t = t || window, e = e.split("."), n = 0, r = e.length; n < r && (t = t[e[n]], t); n++);
            return t
        }

        function f(e, t) {
            return !e || i(e, "array") ? e : n.map(e.split(t || ","), r)
        }

        function p(t) {
            var n = e.cacheSuffix;
            return n && (t += (t.indexOf("?") === -1 ? "?" : "&") + n), t
        }
        var h = /^\s*|\s*$/g;
        return {
            trim: r,
            isArray: n.isArray,
            is: i,
            toArray: n.toArray,
            makeMap: o,
            each: n.each,
            map: n.map,
            grep: n.filter,
            inArray: n.indexOf,
            hasOwn: a,
            extend: l,
            create: s,
            walk: u,
            createNS: c,
            resolve: d,
            explode: f,
            _addCacheSuffix: p
        }
    }), r(g, [f, p, m, d], function(e, n, r, i) {
        function o(e) {
            return "undefined" != typeof e
        }

        function a(e) {
            return "string" == typeof e
        }

        function s(e) {
            return e && e == e.window
        }

        function l(e, t) {
            var n, r, i;
            for (t = t || w, i = t.createElement("div"), n = t.createDocumentFragment(), i.innerHTML = e; r = i.firstChild;) n.appendChild(r);
            return n
        }

        function u(e, t, n, r) {
            var i;
            if (a(t)) t = l(t, v(e[0]));
            else if (t.length && !t.nodeType) {
                if (t = f.makeArray(t), r)
                    for (i = t.length - 1; i >= 0; i--) u(e, t[i], n, r);
                else
                    for (i = 0; i < t.length; i++) u(e, t[i], n, r);
                return e
            }
            if (t.nodeType)
                for (i = e.length; i--;) n.call(e[i], t);
            return e
        }

        function c(e, t) {
            return e && t && (" " + e.className + " ").indexOf(" " + t + " ") !== -1
        }

        function d(e, t, n) {
            var r, i;
            return t = f(t)[0], e.each(function() {
                var e = this;
                n && r == e.parentNode ? i.appendChild(e) : (r = e.parentNode, i = t.cloneNode(!1), e.parentNode.insertBefore(i, e), i.appendChild(e))
            }), e
        }

        function f(e, t) {
            return new f.fn.init(e, t)
        }

        function p(e, t) {
            var n;
            if (t.indexOf) return t.indexOf(e);
            for (n = t.length; n--;)
                if (t[n] === e) return n;
            return -1
        }

        function h(e) {
            return null === e || e === k ? "" : ("" + e).replace(P, "")
        }

        function m(e, t) {
            var n, r, i, o, a;
            if (e)
                if (n = e.length, n === o) {
                    for (r in e)
                        if (e.hasOwnProperty(r) && (a = e[r], t.call(a, r, a) === !1)) break
                } else
                    for (i = 0; i < n && (a = e[i], t.call(a, i, a) !== !1); i++);
            return e
        }

        function g(e, t) {
            var n = [];
            return m(e, function(e, r) {
                t(r, e) && n.push(r)
            }), n
        }

        function v(e) {
            return e ? 9 == e.nodeType ? e : e.ownerDocument : w
        }

        function y(e, n, r) {
            var i = [],
                o = e[n];
            for ("string" != typeof r && r instanceof f && (r = r[0]); o && 9 !== o.nodeType;) {
                if (r !== t) {
                    if (o === r) break;
                    if ("string" == typeof r && f(o).is(r)) break
                }
                1 === o.nodeType && i.push(o), o = o[n]
            }
            return i
        }

        function b(e, n, r, i) {
            var o = [];
            for (i instanceof f && (i = i[0]); e; e = e[n])
                if (!r || e.nodeType === r) {
                    if (i !== t) {
                        if (e === i) break;
                        if ("string" == typeof i && f(e).is(i)) break
                    }
                    o.push(e)
                } return o
        }

        function C(e, t, n) {
            for (e = e[t]; e; e = e[t])
                if (e.nodeType == n) return e;
            return null
        }

        function x(e, t, n) {
            m(n, function(n, r) {
                e[n] = e[n] || {}, e[n][t] = r
            })
        }
        var w = document,
            E = Array.prototype.push,
            N = Array.prototype.slice,
            _ = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
            S = e.Event,
            k, T = r.makeMap("children,contents,next,prev"),
            R = r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
            A = r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
            B = {
                "for": "htmlFor",
                "class": "className",
                readonly: "readOnly"
            },
            D = {
                "float": "cssFloat"
            },
            L = {},
            M = {},
            P = /^\s*|\s*$/g;
        return f.fn = f.prototype = {
            constructor: f,
            selector: "",
            context: null,
            length: 0,
            init: function(e, t) {
                var n = this,
                    r, i;
                if (!e) return n;
                if (e.nodeType) return n.context = n[0] = e, n.length = 1, n;
                if (t && t.nodeType) n.context = t;
                else {
                    if (t) return f(e).attr(t);
                    n.context = t = document
                }
                if (a(e)) {
                    if (n.selector = e, r = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : _.exec(e), !r) return f(t).find(e);
                    if (r[1])
                        for (i = l(e, v(t)).firstChild; i;) E.call(n, i), i = i.nextSibling;
                    else {
                        if (i = v(t).getElementById(r[2]), !i) return n;
                        if (i.id !== r[2]) return n.find(e);
                        n.length = 1, n[0] = i
                    }
                } else this.add(e, !1);
                return n
            },
            toArray: function() {
                return r.toArray(this)
            },
            add: function(e, t) {
                var n = this,
                    r, i;
                if (a(e)) return n.add(f(e));
                if (t !== !1)
                    for (r = f.unique(n.toArray().concat(f.makeArray(e))), n.length = r.length, i = 0; i < r.length; i++) n[i] = r[i];
                else E.apply(n, f.makeArray(e));
                return n
            },
            attr: function(e, t) {
                var n = this,
                    r;
                if ("object" == typeof e) m(e, function(e, t) {
                    n.attr(e, t)
                });
                else {
                    if (!o(t)) {
                        if (n[0] && 1 === n[0].nodeType) {
                            if (r = L[e], r && r.get) return r.get(n[0], e);
                            if (A[e]) return n.prop(e) ? e : k;
                            t = n[0].getAttribute(e, 2), null === t && (t = k)
                        }
                        return t
                    }
                    this.each(function() {
                        var n;
                        if (1 === this.nodeType) {
                            if (n = L[e], n && n.set) return void n.set(this, t);
                            null === t ? this.removeAttribute(e, 2) : this.setAttribute(e, t, 2)
                        }
                    })
                }
                return n
            },
            removeAttr: function(e) {
                return this.attr(e, null)
            },
            prop: function(e, t) {
                var n = this;
                if (e = B[e] || e, "object" == typeof e) m(e, function(e, t) {
                    n.prop(e, t)
                });
                else {
                    if (!o(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                    this.each(function() {
                        1 == this.nodeType && (this[e] = t)
                    })
                }
                return n
            },
            css: function(e, t) {
                function n(e) {
                    return e.replace(/-(\D)/g, function(e, t) {
                        return t.toUpperCase()
                    })
                }

                function r(e) {
                    return e.replace(/[A-Z]/g, function(e) {
                        return "-" + e
                    })
                }
                var i = this,
                    a, s;
                if ("object" == typeof e) m(e, function(e, t) {
                    i.css(e, t)
                });
                else if (o(t)) e = n(e), "number" != typeof t || R[e] || (t += "px"), i.each(function() {
                    var n = this.style;
                    if (s = M[e], s && s.set) return void s.set(this, t);
                    try {
                        this.style[D[e] || e] = t
                    } catch (i) {}
                    null !== t && "" !== t || (n.removeProperty ? n.removeProperty(r(e)) : n.removeAttribute(e))
                });
                else {
                    if (a = i[0], s = M[e], s && s.get) return s.get(a);
                    if (a.ownerDocument.defaultView) try {
                        return a.ownerDocument.defaultView.getComputedStyle(a, null).getPropertyValue(r(e))
                    } catch (l) {
                        return k
                    } else if (a.currentStyle) return a.currentStyle[n(e)]
                }
                return i
            },
            remove: function() {
                for (var e = this, t, n = this.length; n--;) t = e[n], S.clean(t), t.parentNode && t.parentNode.removeChild(t);
                return this
            },
            empty: function() {
                for (var e = this, t, n = this.length; n--;)
                    for (t = e[n]; t.firstChild;) t.removeChild(t.firstChild);
                return this
            },
            html: function(e) {
                var t = this,
                    n;
                if (o(e)) {
                    n = t.length;
                    try {
                        for (; n--;) t[n].innerHTML = e
                    } catch (r) {
                        f(t[n]).empty().append(e)
                    }
                    return t
                }
                return t[0] ? t[0].innerHTML : ""
            },
            text: function(e) {
                var t = this,
                    n;
                if (o(e)) {
                    for (n = t.length; n--;) "innerText" in t[n] ? t[n].innerText = e : t[0].textContent = e;
                    return t
                }
                return t[0] ? t[0].innerText || t[0].textContent : ""
            },
            append: function() {
                return u(this, arguments, function(e) {
                    (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e)
                })
            },
            prepend: function() {
                return u(this, arguments, function(e) {
                    (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild)
                }, !0)
            },
            before: function() {
                var e = this;
                return e[0] && e[0].parentNode ? u(e, arguments, function(e) {
                    this.parentNode.insertBefore(e, this)
                }) : e
            },
            after: function() {
                var e = this;
                return e[0] && e[0].parentNode ? u(e, arguments, function(e) {
                    this.parentNode.insertBefore(e, this.nextSibling)
                }, !0) : e
            },
            appendTo: function(e) {
                return f(e).append(this), this
            },
            prependTo: function(e) {
                return f(e).prepend(this), this
            },
            replaceWith: function(e) {
                return this.before(e).remove()
            },
            wrap: function(e) {
                return d(this, e)
            },
            wrapAll: function(e) {
                return d(this, e, !0)
            },
            wrapInner: function(e) {
                return this.each(function() {
                    f(this).contents().wrapAll(e)
                }), this
            },
            unwrap: function() {
                return this.parent().each(function() {
                    f(this).replaceWith(this.childNodes)
                })
            },
            clone: function() {
                var e = [];
                return this.each(function() {
                    e.push(this.cloneNode(!0))
                }), f(e)
            },
            addClass: function(e) {
                return this.toggleClass(e, !0)
            },
            removeClass: function(e) {
                return this.toggleClass(e, !1)
            },
            toggleClass: function(e, t) {
                var n = this;
                return "string" != typeof e ? n : (e.indexOf(" ") !== -1 ? m(e.split(" "), function() {
                    n.toggleClass(this, t)
                }) : n.each(function(n, r) {
                    var i, o;
                    o = c(r, e), o !== t && (i = r.className, o ? r.className = h((" " + i + " ").replace(" " + e + " ", " ")) : r.className += i ? " " + e : e)
                }), n)
            },
            hasClass: function(e) {
                return c(this[0], e)
            },
            each: function(e) {
                return m(this, e)
            },
            on: function(e, t) {
                return this.each(function() {
                    S.bind(this, e, t)
                })
            },
            off: function(e, t) {
                return this.each(function() {
                    S.unbind(this, e, t)
                })
            },
            trigger: function(e) {
                return this.each(function() {
                    "object" == typeof e ? S.fire(this, e.type, e) : S.fire(this, e)
                })
            },
            show: function() {
                return this.css("display", "")
            },
            hide: function() {
                return this.css("display", "none")
            },
            slice: function() {
                return new f(N.apply(this, arguments))
            },
            eq: function(e) {
                return e === -1 ? this.slice(e) : this.slice(e, +e + 1)
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            find: function(e) {
                var t, n, r = [];
                for (t = 0, n = this.length; t < n; t++) f.find(e, this[t], r);
                return f(r)
            },
            filter: function(e) {
                return f("function" == typeof e ? g(this.toArray(), function(t, n) {
                    return e(n, t)
                }) : f.filter(e, this.toArray()))
            },
            closest: function(e) {
                var t = [];
                return e instanceof f && (e = e[0]), this.each(function(n, r) {
                    for (; r;) {
                        if ("string" == typeof e && f(r).is(e)) {
                            t.push(r);
                            break
                        }
                        if (r == e) {
                            t.push(r);
                            break
                        }
                        r = r.parentNode
                    }
                }), f(t)
            },
            offset: function(e) {
                var t, n, r, i = 0,
                    o = 0,
                    a;
                return e ? this.css(e) : (t = this[0], t && (n = t.ownerDocument, r = n.documentElement, t.getBoundingClientRect && (a = t.getBoundingClientRect(), i = a.left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, o = a.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
                    left: i,
                    top: o
                })
            },
            push: E,
            sort: [].sort,
            splice: [].splice
        }, r.extend(f, {
            extend: r.extend,
            makeArray: function(e) {
                return s(e) || e.nodeType ? [e] : r.toArray(e)
            },
            inArray: p,
            isArray: r.isArray,
            each: m,
            trim: h,
            grep: g,
            find: n,
            expr: n.selectors,
            unique: n.uniqueSort,
            text: n.getText,
            contains: n.contains,
            filter: function(e, t, n) {
                var r = t.length;
                for (n && (e = ":not(" + e + ")"); r--;) 1 != t[r].nodeType && t.splice(r, 1);
                return t = 1 === t.length ? f.find.matchesSelector(t[0], e) ? [t[0]] : [] : f.find.matches(e, t)
            }
        }), m({
            parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(e) {
                return y(e, "parentNode")
            },
            next: function(e) {
                return C(e, "nextSibling", 1)
            },
            prev: function(e) {
                return C(e, "previousSibling", 1)
            },
            children: function(e) {
                return b(e.firstChild, "nextSibling", 1)
            },
            contents: function(e) {
                return r.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes)
            }
        }, function(e, t) {
            f.fn[e] = function(n) {
                var r = this,
                    i = [];
                return r.each(function() {
                    var e = t.call(i, this, n, i);
                    e && (f.isArray(e) ? i.push.apply(i, e) : i.push(e))
                }), this.length > 1 && (T[e] || (i = f.unique(i)), 0 === e.indexOf("parents") && (i = i.reverse())), i = f(i), n ? i.filter(n) : i
            }
        }), m({
            parentsUntil: function(e, t) {
                return y(e, "parentNode", t)
            },
            nextUntil: function(e, t) {
                return b(e, "nextSibling", 1, t).slice(1)
            },
            prevUntil: function(e, t) {
                return b(e, "previousSibling", 1, t).slice(1)
            }
        }, function(e, t) {
            f.fn[e] = function(n, r) {
                var i = this,
                    o = [];
                return i.each(function() {
                    var e = t.call(o, this, n, o);
                    e && (f.isArray(e) ? o.push.apply(o, e) : o.push(e))
                }), this.length > 1 && (o = f.unique(o), 0 !== e.indexOf("parents") && "prevUntil" !== e || (o = o.reverse())), o = f(o), r ? o.filter(r) : o
            }
        }), f.fn.is = function(e) {
            return !!e && this.filter(e).length > 0
        }, f.fn.init.prototype = f.fn, f.overrideDefaults = function(e) {
            function t(r, i) {
                return n = n || e(), 0 === arguments.length && (r = n.element), i || (i = n.context), new t.fn.init(r, i)
            }
            var n;
            return f.extend(t, this), t
        }, i.ie && i.ie < 8 && (x(L, "get", {
            maxlength: function(e) {
                var t = e.maxLength;
                return 2147483647 === t ? k : t
            },
            size: function(e) {
                var t = e.size;
                return 20 === t ? k : t
            },
            "class": function(e) {
                return e.className
            },
            style: function(e) {
                var t = e.style.cssText;
                return 0 === t.length ? k : t
            }
        }), x(L, "set", {
            "class": function(e, t) {
                e.className = t
            },
            style: function(e, t) {
                e.style.cssText = t
            }
        })), i.ie && i.ie < 9 && (D["float"] = "styleFloat", x(M, "set", {
            opacity: function(e, t) {
                var n = e.style;
                null === t || "" === t ? n.removeAttribute("filter") : (n.zoom = 1, n.filter = "alpha(opacity=" + 100 * t + ")")
            }
        })), f.attrHooks = L, f.cssHooks = M, f
    }), r(v, [], function() {
        return function(e, t) {
            function n(e, t, n, r) {
                function i(e) {
                    return e = parseInt(e, 10).toString(16), e.length > 1 ? e : "0" + e
                }
                return "#" + i(t) + i(n) + i(r)
            }
            var r = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
                i = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
                o = /\s*([^:]+):\s*([^;]+);?/g,
                a = /\s+$/,
                s, l = {},
                u, c, d, f = "\ufeff";
            for (e = e || {}, t && (c = t.getValidStyles(), d = t.getInvalidStyles()), u = ("\\\" \\' \\; \\: ; : " + f).split(" "), s = 0; s < u.length; s++) l[u[s]] = f + s, l[f + s] = u[s];
            return {
                toHex: function(e) {
                    return e.replace(r, n)
                },
                parse: function(t) {
                    function u(e, t, n) {
                        var r, i, o, a;
                        if (r = y[e + "-top" + t], r && (i = y[e + "-right" + t], i && (o = y[e + "-bottom" + t], o && (a = y[e + "-left" + t])))) {
                            var l = [r, i, o, a];
                            for (s = l.length - 1; s-- && l[s] === l[s + 1];);
                            s > -1 && n || (y[e + t] = s == -1 ? l[0] : l.join(" "), delete y[e + "-top" + t], delete y[e + "-right" + t], delete y[e + "-bottom" + t], delete y[e + "-left" + t])
                        }
                    }

                    function c(e) {
                        var t = y[e],
                            n;
                        if (t) {
                            for (t = t.split(" "), n = t.length; n--;)
                                if (t[n] !== t[0]) return !1;
                            return y[e] = t[0], !0
                        }
                    }

                    function d(e, t, n, r) {
                        c(t) && c(n) && c(r) && (y[e] = y[t] + " " + y[n] + " " + y[r], delete y[t], delete y[n], delete y[r])
                    }

                    function p(e) {
                        return w = !0, l[e]
                    }

                    function h(e, t) {
                        return w && (e = e.replace(/\uFEFF[0-9]/g, function(e) {
                            return l[e]
                        })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e
                    }

                    function m(e) {
                        return String.fromCharCode(parseInt(e.slice(1), 16))
                    }

                    function g(e) {
                        return e.replace(/\\[0-9a-f]+/gi, m)
                    }

                    function v(t, n, r, i, o, a) {
                        if (o = o || a) return o = h(o), "'" + o.replace(/\'/g, "\\'") + "'";
                        if (n = h(n || r || i), !e.allow_script_urls) {
                            var s = n.replace(/[\s\r\n]+/g, "");
                            if (/(java|vb)script:/i.test(s)) return "";
                            if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(s)) return ""
                        }
                        return E && (n = E.call(N, n, "style")), "url('" + n.replace(/\'/g, "\\'") + "')"
                    }
                    var y = {},
                        b, C, x, w, E = e.url_converter,
                        N = e.url_converter_scope || this;
                    if (t) {
                        for (t = t.replace(/[\u0000-\u001F]/g, ""), t = t.replace(/\\[\"\';:\uFEFF]/g, p).replace(/\"[^\"]+\"|\'[^\']+\'/g, function(e) {
                                return e.replace(/[;:]/g, p)
                            }); b = o.exec(t);)
                            if (o.lastIndex = b.index + b[0].length, C = b[1].replace(a, "").toLowerCase(), x = b[2].replace(a, ""), C && x) {
                                if (C = g(C), x = g(x), C.indexOf(f) !== -1 || C.indexOf('"') !== -1) continue;
                                if (!e.allow_script_urls && ("behavior" == C || /expression\s*\(|\/\*|\*\//.test(x))) continue;
                                "font-weight" === C && "700" === x ? x = "bold" : "color" !== C && "background-color" !== C || (x = x.toLowerCase()), x = x.replace(r, n), x = x.replace(i, v), y[C] = w ? h(x, !0) : x
                            } u("border", "", !0), u("border", "-width"), u("border", "-color"), u("border", "-style"), u("padding", ""), u("margin", ""), d("border", "border-width", "border-style", "border-color"), "medium none" === y.border && delete y.border, "none" === y["border-image"] && delete y["border-image"]
                    }
                    return y
                },
                serialize: function(e, t) {
                    function n(t) {
                        var n, r, o, a;
                        if (n = c[t])
                            for (r = 0, o = n.length; r < o; r++) t = n[r], a = e[t], a && (i += (i.length > 0 ? " " : "") + t + ": " + a + ";")
                    }

                    function r(e, t) {
                        var n;
                        return n = d["*"], (!n || !n[e]) && (n = d[t], !n || !n[e])
                    }
                    var i = "",
                        o, a;
                    if (t && c) n("*"), n(t);
                    else
                        for (o in e) a = e[o], !a || d && !r(o, t) || (i += (i.length > 0 ? " " : "") + o + ": " + a + ";");
                    return i
                }
            }
        }
    }), r(y, [], function() {
        return function(e, t) {
            function n(e, n, r, i) {
                var o, a;
                if (e) {
                    if (!i && e[n]) return e[n];
                    if (e != t) {
                        if (o = e[r]) return o;
                        for (a = e.parentNode; a && a != t; a = a.parentNode)
                            if (o = a[r]) return o
                    }
                }
            }

            function r(e, n, r, i) {
                var o, a, s;
                if (e) {
                    if (o = e[r], t && o === t) return;
                    if (o) {
                        if (!i)
                            for (s = o[n]; s; s = s[n])
                                if (!s[n]) return s;
                        return o
                    }
                    if (a = e.parentNode, a && a !== t) return a
                }
            }
            var i = e;
            this.current = function() {
                return i
            }, this.next = function(e) {
                return i = n(i, "firstChild", "nextSibling", e)
            }, this.prev = function(e) {
                return i = n(i, "lastChild", "previousSibling", e)
            }, this.prev2 = function(e) {
                return i = r(i, "lastChild", "previousSibling", e)
            }
        }
    }), r(b, [m], function(e) {
        function t(n) {
            function r() {
                return P.createDocumentFragment()
            }

            function i(e, t) {
                E(F, e, t)
            }

            function o(e, t) {
                E(z, e, t)
            }

            function a(e) {
                i(e.parentNode, j(e))
            }

            function s(e) {
                i(e.parentNode, j(e) + 1)
            }

            function l(e) {
                o(e.parentNode, j(e))
            }

            function u(e) {
                o(e.parentNode, j(e) + 1)
            }

            function c(e) {
                e ? (M[V] = M[W], M[$] = M[U]) : (M[W] = M[V], M[U] = M[$]), M.collapsed = F
            }

            function d(e) {
                a(e), u(e)
            }

            function f(e) {
                i(e, 0), o(e, 1 === e.nodeType ? e.childNodes.length : e.nodeValue.length)
            }

            function p(e, t) {
                var n = M[W],
                    r = M[U],
                    i = M[V],
                    o = M[$],
                    a = t.startContainer,
                    s = t.startOffset,
                    l = t.endContainer,
                    u = t.endOffset;
                return 0 === e ? w(n, r, a, s) : 1 === e ? w(i, o, a, s) : 2 === e ? w(i, o, l, u) : 3 === e ? w(n, r, l, u) : void 0
            }

            function h() {
                N(I)
            }

            function m() {
                return N(O)
            }

            function g() {
                return N(H)
            }

            function v(e) {
                var t = this[W],
                    r = this[U],
                    i, o;
                3 !== t.nodeType && 4 !== t.nodeType || !t.nodeValue ? (t.childNodes.length > 0 && (o = t.childNodes[r]), o ? t.insertBefore(e, o) : 3 == t.nodeType ? n.insertAfter(e, t) : t.appendChild(e)) : r ? r >= t.nodeValue.length ? n.insertAfter(e, t) : (i = t.splitText(r), t.parentNode.insertBefore(e, i)) : t.parentNode.insertBefore(e, t)
            }

            function y(e) {
                var t = M.extractContents();
                M.insertNode(e), e.appendChild(t), M.selectNode(e)
            }

            function b() {
                return q(new t(n), {
                    startContainer: M[W],
                    startOffset: M[U],
                    endContainer: M[V],
                    endOffset: M[$],
                    collapsed: M.collapsed,
                    commonAncestorContainer: M.commonAncestorContainer
                })
            }

            function C(e, t) {
                var n;
                if (3 == e.nodeType) return e;
                if (t < 0) return e;
                for (n = e.firstChild; n && t > 0;) --t, n = n.nextSibling;
                return n ? n : e
            }

            function x() {
                return M[W] == M[V] && M[U] == M[$]
            }

            function w(e, t, r, i) {
                var o, a, s, l, u, c;
                if (e == r) return t == i ? 0 : t < i ? -1 : 1;
                for (o = r; o && o.parentNode != e;) o = o.parentNode;
                if (o) {
                    for (a = 0, s = e.firstChild; s != o && a < t;) a++, s = s.nextSibling;
                    return t <= a ? -1 : 1
                }
                for (o = e; o && o.parentNode != r;) o = o.parentNode;
                if (o) {
                    for (a = 0, s = r.firstChild; s != o && a < i;) a++, s = s.nextSibling;
                    return a < i ? -1 : 1
                }
                for (l = n.findCommonAncestor(e, r), u = e; u && u.parentNode != l;) u = u.parentNode;
                for (u || (u = l), c = r; c && c.parentNode != l;) c = c.parentNode;
                if (c || (c = l), u == c) return 0;
                for (s = l.firstChild; s;) {
                    if (s == u) return -1;
                    if (s == c) return 1;
                    s = s.nextSibling
                }
            }

            function E(e, t, r) {
                var i, o;
                for (e ? (M[W] = t, M[U] = r) : (M[V] = t, M[$] = r), i = M[V]; i.parentNode;) i = i.parentNode;
                for (o = M[W]; o.parentNode;) o = o.parentNode;
                o == i ? w(M[W], M[U], M[V], M[$]) > 0 && M.collapse(e) : M.collapse(e), M.collapsed = x(), M.commonAncestorContainer = n.findCommonAncestor(M[W], M[V])
            }

            function N(e) {
                var t, n = 0,
                    r = 0,
                    i, o, a, s, l, u;
                if (M[W] == M[V]) return _(e);
                for (t = M[V], i = t.parentNode; i; t = i, i = i.parentNode) {
                    if (i == M[W]) return S(t, e);
                    ++n
                }
                for (t = M[W], i = t.parentNode; i; t = i, i = i.parentNode) {
                    if (i == M[V]) return k(t, e);
                    ++r
                }
                for (o = r - n, a = M[W]; o > 0;) a = a.parentNode, o--;
                for (s = M[V]; o < 0;) s = s.parentNode, o++;
                for (l = a.parentNode, u = s.parentNode; l != u; l = l.parentNode, u = u.parentNode) a = l, s = u;
                return T(a, s, e)
            }

            function _(e) {
                var t, n, i, o, a, s, l, u, c;
                if (e != I && (t = r()), M[U] == M[$]) return t;
                if (3 == M[W].nodeType) {
                    if (n = M[W].nodeValue, i = n.substring(M[U], M[$]), e != H && (o = M[W], u = M[U], c = M[$] - M[U], 0 === u && c >= o.nodeValue.length - 1 ? o.parentNode.removeChild(o) : o.deleteData(u, c), M.collapse(F)), e == I) return;
                    return i.length > 0 && t.appendChild(P.createTextNode(i)), t
                }
                for (o = C(M[W], M[U]), a = M[$] - M[U]; o && a > 0;) s = o.nextSibling, l = D(o, e), t && t.appendChild(l), --a, o = s;
                return e != H && M.collapse(F), t
            }

            function S(e, t) {
                var n, i, o, a, s, l;
                if (t != I && (n = r()), i = R(e, t), n && n.appendChild(i), o = j(e), a = o - M[U], a <= 0) return t != H && (M.setEndBefore(e), M.collapse(z)), n;
                for (i = e.previousSibling; a > 0;) s = i.previousSibling, l = D(i, t), n && n.insertBefore(l, n.firstChild), --a, i = s;
                return t != H && (M.setEndBefore(e), M.collapse(z)), n
            }

            function k(e, t) {
                var n, i, o, a, s, l;
                for (t != I && (n = r()), o = A(e, t), n && n.appendChild(o), i = j(e), ++i, a = M[$] - i, o = e.nextSibling; o && a > 0;) s = o.nextSibling, l = D(o, t), n && n.appendChild(l), --a, o = s;
                return t != H && (M.setStartAfter(e), M.collapse(F)), n
            }

            function T(e, t, n) {
                var i, o, a, s, l, u, c;
                for (n != I && (o = r()), i = A(e, n), o && o.appendChild(i), a = j(e), s = j(t), ++a, l = s - a, u = e.nextSibling; l > 0;) c = u.nextSibling, i = D(u, n), o && o.appendChild(i), u = c, --l;
                return i = R(t, n), o && o.appendChild(i), n != H && (M.setStartAfter(e), M.collapse(F)), o
            }

            function R(e, t) {
                var n = C(M[V], M[$] - 1),
                    r, i, o, a, s, l = n != M[V];
                if (n == e) return B(n, l, z, t);
                for (r = n.parentNode, i = B(r, z, z, t); r;) {
                    for (; n;) o = n.previousSibling, a = B(n, l, z, t), t != I && i.insertBefore(a, i.firstChild), l = F, n = o;
                    if (r == e) return i;
                    n = r.previousSibling, r = r.parentNode, s = B(r, z, z, t), t != I && s.appendChild(i), i = s
                }
            }

            function A(e, t) {
                var n = C(M[W], M[U]),
                    r = n != M[W],
                    i, o, a, s, l;
                if (n == e) return B(n, r, F, t);
                for (i = n.parentNode, o = B(i, z, F, t); i;) {
                    for (; n;) a = n.nextSibling, s = B(n, r, F, t), t != I && o.appendChild(s), r = F, n = a;
                    if (i == e) return o;
                    n = i.nextSibling, i = i.parentNode, l = B(i, z, F, t), t != I && l.appendChild(o), o = l
                }
            }

            function B(e, t, r, i) {
                var o, a, s, l, u;
                if (t) return D(e, i);
                if (3 == e.nodeType) {
                    if (o = e.nodeValue, r ? (l = M[U], a = o.substring(l), s = o.substring(0, l)) : (l = M[$], a = o.substring(0, l), s = o.substring(l)), i != H && (e.nodeValue = s), i == I) return;
                    return u = n.clone(e, z), u.nodeValue = a, u
                }
                if (i != I) return n.clone(e, z)
            }

            function D(e, t) {
                return t != I ? t == H ? n.clone(e, F) : e : void e.parentNode.removeChild(e)
            }

            function L() {
                return n.create("body", null, g()).outerText
            }
            var M = this,
                P = n.doc,
                O = 0,
                H = 1,
                I = 2,
                F = !0,
                z = !1,
                U = "startOffset",
                W = "startContainer",
                V = "endContainer",
                $ = "endOffset",
                q = e.extend,
                j = n.nodeIndex;
            return q(M, {
                startContainer: P,
                startOffset: 0,
                endContainer: P,
                endOffset: 0,
                collapsed: F,
                commonAncestorContainer: P,
                START_TO_START: 0,
                START_TO_END: 1,
                END_TO_END: 2,
                END_TO_START: 3,
                setStart: i,
                setEnd: o,
                setStartBefore: a,
                setStartAfter: s,
                setEndBefore: l,
                setEndAfter: u,
                collapse: c,
                selectNode: d,
                selectNodeContents: f,
                compareBoundaryPoints: p,
                deleteContents: h,
                extractContents: m,
                cloneContents: g,
                insertNode: v,
                surroundContents: y,
                cloneRange: b,
                toStringIE: L
            }), M
        }
        return t.prototype.toString = function() {
            return this.toStringIE()
        }, t
    }), r(C, [m], function(e) {
        function t(e) {
            var t;
            return t = document.createElement("div"), t.innerHTML = e, t.textContent || t.innerText || e
        }

        function n(e, t) {
            var n, r, i, a = {};
            if (e) {
                for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) r = String.fromCharCode(parseInt(e[n], t)), o[r] || (i = "&" + e[n + 1] + ";", a[r] = i, a[i] = r);
                return a
            }
        }
        var r = e.makeMap,
            i, o, a, s = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            l = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            u = /[<>&\"\']/g,
            c = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
            d = {
                128: "\u20ac",
                130: "\u201a",
                131: "\u0192",
                132: "\u201e",
                133: "\u2026",
                134: "\u2020",
                135: "\u2021",
                136: "\u02c6",
                137: "\u2030",
                138: "\u0160",
                139: "\u2039",
                140: "\u0152",
                142: "\u017d",
                145: "\u2018",
                146: "\u2019",
                147: "\u201c",
                148: "\u201d",
                149: "\u2022",
                150: "\u2013",
                151: "\u2014",
                152: "\u02dc",
                153: "\u2122",
                154: "\u0161",
                155: "\u203a",
                156: "\u0153",
                158: "\u017e",
                159: "\u0178"
            };
        o = {
            '"': "&quot;",
            "'": "&#39;",
            "<": "&lt;",
            ">": "&gt;",
            "&": "&amp;",
            "`": "&#96;"
        }, a = {
            "&lt;": "<",
            "&gt;": ">",
            "&amp;": "&",
            "&quot;": '"',
            "&apos;": "'"
        }, i = n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);
        var f = {
            encodeRaw: function(e, t) {
                return e.replace(t ? s : l, function(e) {
                    return o[e] || e
                })
            },
            encodeAllRaw: function(e) {
                return ("" + e).replace(u, function(e) {
                    return o[e] || e
                })
            },
            encodeNumeric: function(e, t) {
                return e.replace(t ? s : l, function(e) {
                    return e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : o[e] || "&#" + e.charCodeAt(0) + ";"
                })
            },
            encodeNamed: function(e, t, n) {
                return n = n || i, e.replace(t ? s : l, function(e) {
                    return o[e] || n[e] || e
                })
            },
            getEncodeFunc: function(e, t) {
                function a(e, n) {
                    return e.replace(n ? s : l, function(e) {
                        return o[e] || t[e] || "&#" + e.charCodeAt(0) + ";" || e
                    })
                }

                function u(e, n) {
                    return f.encodeNamed(e, n, t)
                }
                return t = n(t) || i, e = r(e.replace(/\+/g, ",")), e.named && e.numeric ? a : e.named ? t ? u : f.encodeNamed : e.numeric ? f.encodeNumeric : f.encodeRaw
            },
            decode: function(e) {
                return e.replace(c, function(e, n) {
                    return n ? (n = "x" === n.charAt(0).toLowerCase() ? parseInt(n.substr(1), 16) : parseInt(n, 10), n > 65535 ? (n -= 65536, String.fromCharCode(55296 + (n >> 10), 56320 + (1023 & n))) : d[n] || String.fromCharCode(n)) : a[e] || i[e] || t(e)
                })
            }
        };
        return f
    }), r(x, [m, c], function(e, t) {
        return function(n, r) {
            function i(e) {
                n.getElementsByTagName("head")[0].appendChild(e)
            }

            function o(r, o, u) {
                function c() {
                    for (var e = b.passed, t = e.length; t--;) e[t]();
                    b.status = 2, b.passed = [], b.failed = []
                }

                function d() {
                    for (var e = b.failed, t = e.length; t--;) e[t]();
                    b.status = 3, b.passed = [], b.failed = []
                }

                function f() {
                    var e = navigator.userAgent.match(/WebKit\/(\d*)/);
                    return !!(e && e[1] < 536)
                }

                function p(e, n) {
                    e() || ((new Date).getTime() - y < l ? t.setTimeout(n) : d())
                }

                function h() {
                    p(function() {
                        for (var e = n.styleSheets, t, r = e.length, i; r--;)
                            if (t = e[r], i = t.ownerNode ? t.ownerNode : t.owningElement, i && i.id === g.id) return c(), !0
                    }, h)
                }

                function m() {
                    p(function() {
                        try {
                            var e = v.sheet.cssRules;
                            return c(), !!e
                        } catch (t) {}
                    }, m)
                }
                var g, v, y, b;
                if (r = e._addCacheSuffix(r), s[r] ? b = s[r] : (b = {
                        passed: [],
                        failed: []
                    }, s[r] = b), o && b.passed.push(o), u && b.failed.push(u), 1 != b.status) {
                    if (2 == b.status) return void c();
                    if (3 == b.status) return void d();
                    if (b.status = 1, g = n.createElement("link"), g.rel = "stylesheet", g.type = "text/css", g.id = "u" + a++, g.async = !1, g.defer = !1, y = (new Date).getTime(), "onload" in g && !f()) g.onload = h, g.onerror = d;
                    else {
                        if (navigator.userAgent.indexOf("Firefox") > 0) return v = n.createElement("style"), v.textContent = '@import "' + r + '"', m(), void i(v);
                        h()
                    }
                    i(g), g.href = r
                }
            }
            var a = 0,
                s = {},
                l;
            r = r || {}, l = r.maxLoadTime || 5e3, this.load = o
        }
    }), r(w, [p, g, v, f, y, b, C, d, m, x], function(e, n, r, i, o, a, s, l, u, c) {
        function d(e, t) {
            var n = {},
                r = t.keep_values,
                i;
            return i = {
                set: function(n, r, i) {
                    t.url_converter && (r = t.url_converter.call(t.url_converter_scope || e, r, i, n[0])), n.attr("data-mce-" + i, r).attr(i, r)
                },
                get: function(e, t) {
                    return e.attr("data-mce-" + t) || e.attr(t)
                }
            }, n = {
                style: {
                    set: function(e, t) {
                        return null !== t && "object" == typeof t ? void e.css(t) : (r && e.attr("data-mce-style", t), void e.attr("style", t))
                    },
                    get: function(t) {
                        var n = t.attr("data-mce-style") || t.attr("style");
                        return n = e.serializeStyle(e.parseStyle(n), t[0].nodeName)
                    }
                }
            }, r && (n.href = n.src = i), n
        }

        function f(e, t) {
            var n = t.attr("style");
            n = e.serializeStyle(e.parseStyle(n), t[0].nodeName), n || (n = null), t.attr("data-mce-style", n)
        }

        function p(e, t) {
            var n = 0,
                r, i;
            if (e)
                for (r = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) i = e.nodeType, (!t || 3 != i || i != r && e.nodeValue.length) && (n++, r = i);
            return n
        }

        function h(e, t) {
            var o = this,
                a;
            o.doc = e, o.win = window, o.files = {}, o.counter = 0, o.stdMode = !b || e.documentMode >= 8, o.boxModel = !b || "CSS1Compat" == e.compatMode || o.stdMode, o.styleSheetLoader = new c(e), o.boundEvents = [], o.settings = t = t || {}, o.schema = t.schema, o.styles = new r({
                url_converter: t.url_converter,
                url_converter_scope: t.url_converter_scope
            }, t.schema), o.fixDoc(e), o.events = t.ownEvents ? new i(t.proxy) : i.Event, o.attrHooks = d(o, t), a = t.schema ? t.schema.getBlockElements() : {}, o.$ = n.overrideDefaults(function() {
                return {
                    context: e,
                    element: o.getRoot()
                }
            }), o.isBlock = function(e) {
                if (!e) return !1;
                var t = e.nodeType;
                return t ? !(1 !== t || !a[e.nodeName]) : !!a[e]
            }
        }
        var m = u.each,
            g = u.is,
            v = u.grep,
            y = u.trim,
            b = l.ie,
            C = /^([a-z0-9],?)+$/i,
            x = /^[ \t\r\n]*$/;
        return h.prototype = {
            $$: function(e) {
                return "string" == typeof e && (e = this.get(e)), this.$(e)
            },
            root: null,
            fixDoc: function(e) {
                var t = this.settings,
                    n;
                if (b && t.schema) {
                    "abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g, function(t) {
                        e.createElement(t)
                    });
                    for (n in t.schema.getCustomElements()) e.createElement(n)
                }
            },
            clone: function(e, t) {
                var n = this,
                    r, i;
                return !b || 1 !== e.nodeType || t ? e.cloneNode(t) : (i = n.doc, t ? r.firstChild : (r = i.createElement(e.nodeName), m(n.getAttribs(e), function(t) {
                    n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName))
                }), r))
            },
            getRoot: function() {
                var e = this;
                return e.settings.root_element || e.doc.body
            },
            getViewPort: function(e) {
                var t, n;
                return e = e ? e : this.win, t = e.document, n = this.boxModel ? t.documentElement : t.body, {
                    x: e.pageXOffset || n.scrollLeft,
                    y: e.pageYOffset || n.scrollTop,
                    w: e.innerWidth || n.clientWidth,
                    h: e.innerHeight || n.clientHeight
                }
            },
            getRect: function(e) {
                var t = this,
                    n, r;
                return e = t.get(e), n = t.getPos(e), r = t.getSize(e), {
                    x: n.x,
                    y: n.y,
                    w: r.w,
                    h: r.h
                }
            },
            getSize: function(e) {
                var t = this,
                    n, r;
                return e = t.get(e), n = t.getStyle(e, "width"), r = t.getStyle(e, "height"), n.indexOf("px") === -1 && (n = 0), r.indexOf("px") === -1 && (r = 0), {
                    w: parseInt(n, 10) || e.offsetWidth || e.clientWidth,
                    h: parseInt(r, 10) || e.offsetHeight || e.clientHeight
                }
            },
            getParent: function(e, t, n) {
                return this.getParents(e, t, n, !1)
            },
            getParents: function(e, n, r, i) {
                var o = this,
                    a, s = [];
                for (e = o.get(e), i = i === t, r = r || ("BODY" != o.getRoot().nodeName ? o.getRoot().parentNode : null), g(n, "string") && (a = n, n = "*" === n ? function(e) {
                        return 1 == e.nodeType
                    } : function(e) {
                        return o.is(e, a)
                    }); e && e != r && e.nodeType && 9 !== e.nodeType;) {
                    if (!n || n(e)) {
                        if (!i) return e;
                        s.push(e)
                    }
                    e = e.parentNode
                }
                return i ? s : null
            },
            get: function(e) {
                var t;
                return e && this.doc && "string" == typeof e && (t = e, e = this.doc.getElementById(e), e && e.id !== t) ? this.doc.getElementsByName(t)[1] : e
            },
            getNext: function(e, t) {
                return this._findSib(e, t, "nextSibling")
            },
            getPrev: function(e, t) {
                return this._findSib(e, t, "previousSibling")
            },
            select: function(t, n) {
                var r = this;
                return e(t, r.get(n) || r.settings.root_element || r.doc, [])
            },
            is: function(n, r) {
                var i;
                if (n.length === t) {
                    if ("*" === r) return 1 == n.nodeType;
                    if (C.test(r)) {
                        for (r = r.toLowerCase().split(/,/), n = n.nodeName.toLowerCase(), i = r.length - 1; i >= 0; i--)
                            if (r[i] == n) return !0;
                        return !1
                    }
                }
                if (n.nodeType && 1 != n.nodeType) return !1;
                var o = n.nodeType ? [n] : n;
                return e(r, o[0].ownerDocument || o[0], null, o).length > 0
            },
            add: function(e, t, n, r, i) {
                var o = this;
                return this.run(e, function(e) {
                    var a;
                    return a = g(t, "string") ? o.doc.createElement(t) : t, o.setAttribs(a, n), r && (r.nodeType ? a.appendChild(r) : o.setHTML(a, r)), i ? a : e.appendChild(a)
                })
            },
            create: function(e, t, n) {
                return this.add(this.doc.createElement(e), e, t, n, 1)
            },
            createHTML: function(e, t, n) {
                var r = "",
                    i;
                r += "<" + e;
                for (i in t) t.hasOwnProperty(i) && null !== t[i] && "undefined" != typeof t[i] && (r += " " + i + '="' + this.encode(t[i]) + '"');
                return "undefined" != typeof n ? r + ">" + n + "</" + e + ">" : r + " />"
            },
            createFragment: function(e) {
                var t, n, r = this.doc,
                    i;
                for (i = r.createElement("div"), t = r.createDocumentFragment(), e && (i.innerHTML = e); n = i.firstChild;) t.appendChild(n);
                return t
            },
            remove: function(e, t) {
                return e = this.$$(e), t ? e.each(function() {
                    for (var e; e = this.firstChild;) 3 == e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this)
                }).remove() : e.remove(), e.length > 1 ? e.toArray() : e[0]
            },
            setStyle: function(e, t, n) {
                e = this.$$(e).css(t, n), this.settings.update_styles && f(this, e)
            },
            getStyle: function(e, n, r) {
                return e = this.$$(e), r ? e.css(n) : (n = n.replace(/-(\D)/g, function(e, t) {
                    return t.toUpperCase()
                }), "float" == n && (n = l.ie && l.ie < 12 ? "styleFloat" : "cssFloat"), e[0] && e[0].style ? e[0].style[n] : t)
            },
            setStyles: function(e, t) {
                e = this.$$(e).css(t), this.settings.update_styles && f(this, e)
            },
            removeAllAttribs: function(e) {
                return this.run(e, function(e) {
                    var t, n = e.attributes;
                    for (t = n.length - 1; t >= 0; t--) e.removeAttributeNode(n.item(t))
                })
            },
            setAttrib: function(e, t, n) {
                var r = this,
                    i, o, a = r.settings;
                "" === n && (n = null), e = r.$$(e), i = e.attr(t), e.length && (o = r.attrHooks[t], o && o.set ? o.set(e, n, t) : e.attr(t, n), i != n && a.onSetAttrib && a.onSetAttrib({
                    attrElm: e,
                    attrName: t,
                    attrValue: n
                }))
            },
            setAttribs: function(e, t) {
                var n = this;
                n.$$(e).each(function(e, r) {
                    m(t, function(e, t) {
                        n.setAttrib(r, t, e)
                    })
                })
            },
            getAttrib: function(e, t, n) {
                var r = this,
                    i, o;
                return e = r.$$(e), e.length && (i = r.attrHooks[t], o = i && i.get ? i.get(e, t) : e.attr(t)), "undefined" == typeof o && (o = n || ""), o
            },
            getPos: function(e, t) {
                var r = this,
                    i = 0,
                    o = 0,
                    a, s = r.doc,
                    l = s.body,
                    u;
                if (e = r.get(e), t = t || l, e) {
                    if (t === l && e.getBoundingClientRect && "static" === n(l).css("position")) return u = e.getBoundingClientRect(), t = r.boxModel ? s.documentElement : l, i = u.left + (s.documentElement.scrollLeft || l.scrollLeft) - t.clientLeft, o = u.top + (s.documentElement.scrollTop || l.scrollTop) - t.clientTop, {
                        x: i,
                        y: o
                    };
                    for (a = e; a && a != t && a.nodeType;) i += a.offsetLeft || 0, o += a.offsetTop || 0, a = a.offsetParent;
                    for (a = e.parentNode; a && a != t && a.nodeType;) i -= a.scrollLeft || 0, o -= a.scrollTop || 0, a = a.parentNode
                }
                return {
                    x: i,
                    y: o
                }
            },
            parseStyle: function(e) {
                return this.styles.parse(e)
            },
            serializeStyle: function(e, t) {
                return this.styles.serialize(e, t)
            },
            addStyle: function(e) {
                var t = this,
                    n = t.doc,
                    r, i;
                if (t !== h.DOM && n === document) {
                    var o = h.DOM.addedStyles;
                    if (o = o || [], o[e]) return;
                    o[e] = !0, h.DOM.addedStyles = o
                }
                i = n.getElementById("mceDefaultStyles"), i || (i = n.createElement("style"), i.id = "mceDefaultStyles", i.type = "text/css", r = n.getElementsByTagName("head")[0], r.firstChild ? r.insertBefore(i, r.firstChild) : r.appendChild(i)), i.styleSheet ? i.styleSheet.cssText += e : i.appendChild(n.createTextNode(e))
            },
            loadCSS: function(e) {
                var t = this,
                    n = t.doc,
                    r;
                return t !== h.DOM && n === document ? void h.DOM.loadCSS(e) : (e || (e = ""), r = n.getElementsByTagName("head")[0], void m(e.split(","), function(e) {
                    var i;
                    e = u._addCacheSuffix(e), t.files[e] || (t.files[e] = !0, i = t.create("link", {
                        rel: "stylesheet",
                        href: e
                    }), b && n.documentMode && n.recalc && (i.onload = function() {
                        n.recalc && n.recalc(), i.onload = null
                    }), r.appendChild(i))
                }))
            },
            addClass: function(e, t) {
                this.$$(e).addClass(t)
            },
            removeClass: function(e, t) {
                this.toggleClass(e, t, !1)
            },
            hasClass: function(e, t) {
                return this.$$(e).hasClass(t)
            },
            toggleClass: function(e, t, r) {
                this.$$(e).toggleClass(t, r).each(function() {
                    "" === this.className && n(this).attr("class", null)
                })
            },
            show: function(e) {
                this.$$(e).show()
            },
            hide: function(e) {
                this.$$(e).hide()
            },
            isHidden: function(e) {
                return "none" == this.$$(e).css("display")
            },
            uniqueId: function(e) {
                return (e ? e : "mce_") + this.counter++
            },
            setHTML: function(e, t) {
                e = this.$$(e), b ? e.each(function(e, r) {
                    if (r.canHaveHTML !== !1) {
                        for (; r.firstChild;) r.removeChild(r.firstChild);
                        try {
                            r.innerHTML = "<br>" + t, r.removeChild(r.firstChild)
                        } catch (i) {
                            n("<div></div>").html("<br>" + t).contents().slice(1).appendTo(r)
                        }
                        return t
                    }
                }) : e.html(t)
            },
            getOuterHTML: function(e) {
                return e = this.get(e), 1 == e.nodeType && "outerHTML" in e ? e.outerHTML : n("<div></div>").append(n(e).clone()).html()
            },
            setOuterHTML: function(e, t) {
                var r = this;
                r.$$(e).each(function() {
                    try {
                        if ("outerHTML" in this) return void(this.outerHTML = t)
                    } catch (e) {}
                    r.remove(n(this).html(t), !0)
                })
            },
            decode: s.decode,
            encode: s.encodeAllRaw,
            insertAfter: function(e, t) {
                return t = this.get(t), this.run(e, function(e) {
                    var n, r;
                    return n = t.parentNode, r = t.nextSibling, r ? n.insertBefore(e, r) : n.appendChild(e), e
                })
            },
            replace: function(e, t, n) {
                var r = this;
                return r.run(t, function(t) {
                    return g(t, "array") && (e = e.cloneNode(!0)), n && m(v(t.childNodes), function(t) {
                        e.appendChild(t)
                    }), t.parentNode.replaceChild(e, t)
                })
            },
            rename: function(e, t) {
                var n = this,
                    r;
                return e.nodeName != t.toUpperCase() && (r = n.create(t), m(n.getAttribs(e), function(t) {
                    n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName))
                }), n.replace(r, e, 1)), r || e
            },
            findCommonAncestor: function(e, t) {
                for (var n = e, r; n;) {
                    for (r = t; r && n != r;) r = r.parentNode;
                    if (n == r) break;
                    n = n.parentNode
                }
                return !n && e.ownerDocument ? e.ownerDocument.documentElement : n
            },
            toHex: function(e) {
                return this.styles.toHex(u.trim(e))
            },
            run: function(e, t, n) {
                var r = this,
                    i;
                return "string" == typeof e && (e = r.get(e)), !!e && (n = n || this, e.nodeType || !e.length && 0 !== e.length ? t.call(n, e) : (i = [], m(e, function(e, o) {
                    e && ("string" == typeof e && (e = r.get(e)), i.push(t.call(n, e, o)))
                }), i))
            },
            getAttribs: function(e) {
                var t;
                if (e = this.get(e), !e) return [];
                if (b) {
                    if (t = [], "OBJECT" == e.nodeName) return e.attributes;
                    "OPTION" === e.nodeName && this.getAttrib(e, "selected") && t.push({
                        specified: 1,
                        nodeName: "selected"
                    });
                    var n = /<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;
                    return e.cloneNode(!1).outerHTML.replace(n, "").replace(/[\w:\-]+/gi, function(e) {
                        t.push({
                            specified: 1,
                            nodeName: e
                        })
                    }), t
                }
                return e.attributes
            },
            isEmpty: function(e, t) {
                var n = this,
                    r, i, a, s, l, u, c = 0;
                if (e = e.firstChild) {
                    l = new o(e, e.parentNode), t = t || (n.schema ? n.schema.getNonEmptyElements() : null), s = n.schema ? n.schema.getWhiteSpaceElements() : {};
                    do {
                        if (a = e.nodeType, 1 === a) {
                            var d = e.getAttribute("data-mce-bogus");
                            if (d) {
                                e = l.next("all" === d);
                                continue
                            }
                            if (u = e.nodeName.toLowerCase(), t && t[u]) {
                                if ("br" === u) {
                                    c++, e = l.next();
                                    continue
                                }
                                return !1
                            }
                            for (i = n.getAttribs(e), r = i.length; r--;)
                                if (u = i[r].nodeName, "name" === u || "data-mce-bookmark" === u) return !1
                        }
                        if (8 == a) return !1;
                        if (3 === a && !x.test(e.nodeValue)) return !1;
                        if (3 === a && e.parentNode && s[e.parentNode.nodeName] && x.test(e.nodeValue)) return !1;
                        e = l.next()
                    } while (e)
                }
                return c <= 1
            },
            createRng: function() {
                var e = this.doc;
                return e.createRange ? e.createRange() : new a(this)
            },
            nodeIndex: p,
            split: function(e, t, n) {
                function r(e) {
                    function t(e) {
                        var t = e.previousSibling && "SPAN" == e.previousSibling.nodeName,
                            n = e.nextSibling && "SPAN" == e.nextSibling.nodeName;
                        return t && n
                    }
                    var n, o = e.childNodes,
                        a = e.nodeType;
                    if (1 != a || "bookmark" != e.getAttribute("data-mce-type")) {
                        for (n = o.length - 1; n >= 0; n--) r(o[n]);
                        if (9 != a) {
                            if (3 == a && e.nodeValue.length > 0) {
                                var s = y(e.nodeValue).length;
                                if (!i.isBlock(e.parentNode) || s > 0 || 0 === s && t(e)) return
                            } else if (1 == a && (o = e.childNodes, 1 == o.length && o[0] && 1 == o[0].nodeType && "bookmark" == o[0].getAttribute("data-mce-type") && e.parentNode.insertBefore(o[0], e), o.length || /^(br|hr|input|img)$/i.test(e.nodeName))) return;
                            i.remove(e)
                        }
                        return e
                    }
                }
                var i = this,
                    o = i.createRng(),
                    a, s, l;
                if (e && t) return o.setStart(e.parentNode, i.nodeIndex(e)), o.setEnd(t.parentNode, i.nodeIndex(t)), a = o.extractContents(), o = i.createRng(), o.setStart(t.parentNode, i.nodeIndex(t) + 1), o.setEnd(e.parentNode, i.nodeIndex(e) + 1), s = o.extractContents(), l = e.parentNode, l.insertBefore(r(a), e), n ? l.insertBefore(n, e) : l.insertBefore(t, e), l.insertBefore(r(s), e), i.remove(e), n || t
            },
            bind: function(e, t, n, r) {
                var i = this;
                if (u.isArray(e)) {
                    for (var o = e.length; o--;) e[o] = i.bind(e[o], t, n, r);
                    return e
                }
                return !i.settings.collect || e !== i.doc && e !== i.win || i.boundEvents.push([e, t, n, r]), i.events.bind(e, t, n, r || i)
            },
            unbind: function(e, t, n) {
                var r = this,
                    i;
                if (u.isArray(e)) {
                    for (i = e.length; i--;) e[i] = r.unbind(e[i], t, n);
                    return e
                }
                if (r.boundEvents && (e === r.doc || e === r.win))
                    for (i = r.boundEvents.length; i--;) {
                        var o = r.boundEvents[i];
                        e != o[0] || t && t != o[1] || n && n != o[2] || this.events.unbind(o[0], o[1], o[2])
                    }
                return this.events.unbind(e, t, n)
            },
            fire: function(e, t, n) {
                return this.events.fire(e, t, n)
            },
            getContentEditable: function(e) {
                var t;
                return e && 1 == e.nodeType ? (t = e.getAttribute("data-mce-contenteditable"), t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null) : null
            },
            getContentEditableParent: function(e) {
                for (var t = this.getRoot(), n = null; e && e !== t && (n = this.getContentEditable(e), null === n); e = e.parentNode);
                return n
            },
            destroy: function() {
                var t = this;
                if (t.boundEvents) {
                    for (var n = t.boundEvents.length; n--;) {
                        var r = t.boundEvents[n];
                        this.events.unbind(r[0], r[1], r[2])
                    }
                    t.boundEvents = null
                }
                e.setDocument && e.setDocument(), t.win = t.doc = t.root = t.events = t.frag = null
            },
            isChildOf: function(e, t) {
                for (; e;) {
                    if (t === e) return !0;
                    e = e.parentNode
                }
                return !1
            },
            dumpRng: function(e) {
                return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset
            },
            _findSib: function(e, t, n) {
                var r = this,
                    i = t;
                if (e)
                    for ("string" == typeof i && (i = function(e) {
                            return r.is(e, t)
                        }), e = e[n]; e; e = e[n])
                        if (i(e)) return e;
                return null
            }
        }, h.DOM = new h(document), h.nodeIndex = p, h
    }), r(E, [w, m], function(e, t) {
        function n() {
            function e(e, n, i) {
                function o() {
                    l.remove(c), u && (u.onreadystatechange = u.onload = u = null), n()
                }

                function s() {
                    a(i) ? i() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + e)
                }
                var l = r,
                    u, c;
                c = l.uniqueId(), u = document.createElement("script"), u.id = c, u.type = "text/javascript", u.src = t._addCacheSuffix(e), "onreadystatechange" in u ? u.onreadystatechange = function() {
                    /loaded|complete/.test(u.readyState) && o()
                } : u.onload = o, u.onerror = s, (document.getElementsByTagName("head")[0] || document.body).appendChild(u)
            }
            var n = 0,
                s = 1,
                l = 2,
                u = 3,
                c = {},
                d = [],
                f = {},
                p = [],
                h = 0,
                m;
            this.isDone = function(e) {
                return c[e] == l
            }, this.markDone = function(e) {
                c[e] = l
            }, this.add = this.load = function(e, t, r, i) {
                var o = c[e];
                o == m && (d.push(e), c[e] = n), t && (f[e] || (f[e] = []), f[e].push({
                    success: t,
                    failure: i,
                    scope: r || this
                }))
            }, this.remove = function(e) {
                delete c[e], delete f[e]
            }, this.loadQueue = function(e, t, n) {
                this.loadScripts(d, e, t, n)
            }, this.loadScripts = function(t, n, r, d) {
                function g(e, t) {
                    i(f[t], function(t) {
                        a(t[e]) && t[e].call(t.scope)
                    }), f[t] = m
                }
                var v, y = [];
                p.push({
                    success: n,
                    failure: d,
                    scope: r || this
                }), (v = function() {
                    var n = o(t);
                    t.length = 0, i(n, function(t) {
                        return c[t] === l ? void g("success", t) : c[t] === u ? void g("failure", t) : void(c[t] !== s && (c[t] = s, h++, e(t, function() {
                            c[t] = l, h--, g("success", t), v()
                        }, function() {
                            c[t] = u, h--, y.push(t), g("failure", t), v()
                        })))
                    }), h || (i(p, function(e) {
                        0 === y.length ? a(e.success) && e.success.call(e.scope) : a(e.failure) && e.failure.call(e.scope, y)
                    }), p.length = 0)
                })()
            }
        }
        var r = e.DOM,
            i = t.each,
            o = t.grep,
            a = function(e) {
                return "function" == typeof e
            };
        return n.ScriptLoader = new n, n
    }), r(N, [E, m], function(e, n) {
        function r() {
            var e = this;
            e.items = [], e.urls = {}, e.lookup = {}
        }
        var i = n.each;
        return r.prototype = {
            get: function(e) {
                return this.lookup[e] ? this.lookup[e].instance : t
            },
            dependencies: function(e) {
                var t;
                return this.lookup[e] && (t = this.lookup[e].dependencies), t || []
            },
            requireLangPack: function(t, n) {
                var i = r.language;
                if (i && r.languageLoad !== !1) {
                    if (n)
                        if (n = "," + n + ",", n.indexOf("," + i.substr(0, 2) + ",") != -1) i = i.substr(0, 2);
                        else if (n.indexOf("," + i + ",") == -1) return;
                    e.ScriptLoader.add(this.urls[t] + "/langs/" + i + ".js")
                }
            },
            add: function(e, t, n) {
                return this.items.push(t), this.lookup[e] = {
                    instance: t,
                    dependencies: n
                }, t
            },
            remove: function(e) {
                delete this.urls[e], delete this.lookup[e]
            },
            createUrl: function(e, t) {
                return "object" == typeof t ? t : {
                    prefix: e.prefix,
                    resource: t,
                    suffix: e.suffix
                }
            },
            addComponents: function(t, n) {
                var r = this.urls[t];
                i(n, function(t) {
                    e.ScriptLoader.add(r + "/" + t)
                })
            },
            load: function(n, o, a, s, l) {
                function u() {
                    var r = c.dependencies(n);
                    i(r, function(e) {
                        var n = c.createUrl(o, e);
                        c.load(n.resource, n, t, t)
                    }), a && (s ? a.call(s) : a.call(e))
                }
                var c = this,
                    d = o;
                c.urls[n] || ("object" == typeof o && (d = o.prefix + o.resource + o.suffix), 0 !== d.indexOf("/") && d.indexOf("://") == -1 && (d = r.baseURL + "/" + d), c.urls[n] = d.substring(0, d.lastIndexOf("/")), c.lookup[n] ? u() : e.ScriptLoader.add(d, u, s, l))
            }
        }, r.PluginManager = new r, r.ThemeManager = new r, r
    }), r(_, [], function() {
        function e(e) {
            return function(t) {
                return !!t && t.nodeType == e
            }
        }

        function t(e) {
            return e = e.toLowerCase().split(" "),
                function(t) {
                    var n, r;
                    if (t && t.nodeType)
                        for (r = t.nodeName.toLowerCase(), n = 0; n < e.length; n++)
                            if (r === e[n]) return !0;
                    return !1
                }
        }

        function n(e, t) {
            return t = t.toLowerCase().split(" "),
                function(n) {
                    var r, i;
                    if (s(n))
                        for (r = 0; r < t.length; r++)
                            if (i = getComputedStyle(n, null).getPropertyValue(e), i === t[r]) return !0;
                    return !1
                }
        }

        function r(e, t) {
            return function(n) {
                return s(n) && n[e] === t
            }
        }

        function i(e, t) {
            return function(n) {
                return s(n) && n.getAttribute(e) === t
            }
        }

        function o(e) {
            return s(e) && e.hasAttribute("data-mce-bogus")
        }

        function a(e) {
            return function(t) {
                if (s(t)) {
                    if (t.contentEditable === e) return !0;
                    if (t.getAttribute("data-mce-contenteditable") === e) return !0
                }
                return !1
            }
        }
        var s = e(1);
        return {
            isText: e(3),
            isElement: s,
            isComment: e(8),
            isBr: t("br"),
            isContentEditableTrue: a("true"),
            isContentEditableFalse: a("false"),
            matchNodeNames: t,
            hasPropValue: r,
            hasAttributeValue: i,
            matchStyleValues: n,
            isBogus: o
        }
    }), r(S, [], function() {
        function e(e) {
            return e == n
        }

        function t(e) {
            return e.replace(new RegExp(n, "g"), "")
        }
        var n = "\ufeff";
        return {
            isZwsp: e,
            ZWSP: n,
            trim: t
        }
    }), r(k, [_, S], function(e, t) {
        function n(e) {
            return y(e) && (e = e.parentNode), v(e) && e.hasAttribute("data-mce-caret")
        }

        function r(e) {
            return y(e) && t.isZwsp(e.data)
        }

        function i(e) {
            return n(e) || r(e)
        }

        function o(e) {
            var t = e.parentNode;
            t && t.removeChild(e)
        }

        function a(e) {
            try {
                return e.nodeValue
            } catch (t) {
                return ""
            }
        }

        function s(e, t) {
            0 === t.length ? o(e) : e.nodeValue = t
        }

        function l(e, n) {
            var r, o, a, s;
            if (r = e.ownerDocument, a = r.createTextNode(t.ZWSP), s = e.parentNode, n) {
                if (o = e.previousSibling, y(o)) {
                    if (i(o)) return o;
                    if (h(o)) return o.splitText(o.data.length - 1)
                }
                s.insertBefore(a, e)
            } else {
                if (o = e.nextSibling, y(o)) {
                    if (i(o)) return o;
                    if (p(o)) return o.splitText(1), o
                }
                e.nextSibling ? s.insertBefore(a, e.nextSibling) : s.appendChild(a)
            }
            return a
        }

        function u() {
            var e = document.createElement("br");
            return e.setAttribute("data-mce-bogus", "1"), e
        }

        function c(e, t, n) {
            var r, i, o;
            return r = t.ownerDocument, i = r.createElement(e), i.setAttribute("data-mce-caret", n ? "before" : "after"), i.setAttribute("data-mce-bogus", "all"), i.appendChild(u()), o = t.parentNode, n ? o.insertBefore(i, t) : t.nextSibling ? o.insertBefore(i, t.nextSibling) : o.appendChild(i), i
        }

        function d(t) {
            return t.firstChild !== t.lastChild || !e.isBr(t.firstChild)
        }

        function f(e) {
            if (v(e) && i(e) && (d(e) ? e.removeAttribute("data-mce-caret") : o(e)), y(e)) {
                var n = t.trim(a(e));
                s(e, n)
            }
        }

        function p(e) {
            return y(e) && e.data[0] == t.ZWSP
        }

        function h(e) {
            return y(e) && e.data[e.data.length - 1] == t.ZWSP
        }

        function m(t) {
            var n = t.getElementsByTagName("br"),
                r = n[n.length - 1];
            e.isBogus(r) && r.parentNode.removeChild(r)
        }

        function g(e) {
            return e && e.hasAttribute("data-mce-caret") ? (m(e), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null
        }
        var v = e.isElement,
            y = e.isText;
        return {
            isCaretContainer: i,
            isCaretContainerBlock: n,
            isCaretContainerInline: r,
            showCaretContainerBlock: g,
            insertInline: l,
            insertBlock: c,
            hasContent: d,
            remove: f,
            startsWithCaretContainer: p,
            endsWithCaretContainer: h
        }
    }), r(T, [m, y, _, b, k], function(e, t, n, r, i) {
        function o(e) {
            return m(e) || g(e)
        }

        function a(e, t) {
            var n = e.childNodes;
            return t--, t > n.length - 1 ? t = n.length - 1 : t < 0 && (t = 0), n[t] || e
        }

        function s(e, t, n) {
            for (; e && e !== t;) {
                if (n(e)) return e;
                e = e.parentNode
            }
            return null
        }

        function l(e, t, n) {
            return null !== s(e, t, n)
        }

        function u(e) {
            return "_mce_caret" === e.id
        }

        function c(e, t) {
            return v(e) && l(e, t, u) === !1
        }

        function d(e) {
            this.walk = function(t, n) {
                function r(e) {
                    var t;
                    return t = e[0], 3 === t.nodeType && t === l && u >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === d && e.length > 0 && t === c && 3 === t.nodeType && e.splice(e.length - 1, 1), e
                }

                function i(e, t, n) {
                    for (var r = []; e && e != n; e = e[t]) r.push(e);
                    return r
                }

                function o(e, t) {
                    do {
                        if (e.parentNode == t) return e;
                        e = e.parentNode
                    } while (e)
                }

                function s(e, t, o) {
                    var a = o ? "nextSibling" : "previousSibling";
                    for (g = e, v = g.parentNode; g && g != t; g = v) v = g.parentNode, y = i(g == e ? g : g[a], a), y.length && (o || y.reverse(), n(r(y)))
                }
                var l = t.startContainer,
                    u = t.startOffset,
                    c = t.endContainer,
                    d = t.endOffset,
                    f, p, m, g, v, y, b;
                if (b = e.select("td[data-mce-selected],th[data-mce-selected]"), b.length > 0) return void h(b, function(e) {
                    n([e])
                });
                if (1 == l.nodeType && l.hasChildNodes() && (l = l.childNodes[u]), 1 == c.nodeType && c.hasChildNodes() && (c = a(c, d)), l == c) return n(r([l]));
                for (f = e.findCommonAncestor(l, c), g = l; g; g = g.parentNode) {
                    if (g === c) return s(l, f, !0);
                    if (g === f) break
                }
                for (g = c; g; g = g.parentNode) {
                    if (g === l) return s(c, f);
                    if (g === f) break
                }
                p = o(l, f) || l, m = o(c, f) || c, s(l, p, !0), y = i(p == l ? p : p.nextSibling, "nextSibling", m == c ? m.nextSibling : m), y.length && n(r(y)), s(c, m)
            }, this.split = function(e) {
                function t(e, t) {
                    return e.splitText(t)
                }
                var n = e.startContainer,
                    r = e.startOffset,
                    i = e.endContainer,
                    o = e.endOffset;
                return n == i && 3 == n.nodeType ? r > 0 && r < n.nodeValue.length && (i = t(n, r), n = i.previousSibling, o > r ? (o -= r, n = i = t(i, o).previousSibling, o = i.nodeValue.length, r = 0) : o = 0) : (3 == n.nodeType && r > 0 && r < n.nodeValue.length && (n = t(n, r), r = 0), 3 == i.nodeType && o > 0 && o < i.nodeValue.length && (i = t(i, o).previousSibling, o = i.nodeValue.length)), {
                    startContainer: n,
                    startOffset: r,
                    endContainer: i,
                    endOffset: o
                }
            }, this.normalize = function(n) {
                function r(r) {
                    function a(e) {
                        return e && /^(TD|TH|CAPTION)$/.test(e.nodeName)
                    }

                    function s(n, r) {
                        for (var i = new t(n, e.getParent(n.parentNode, e.isBlock) || m); n = i[r ? "prev" : "next"]();)
                            if ("BR" === n.nodeName) return !0
                    }

                    function l(e) {
                        for (; e && e != m;) {
                            if (g(e)) return !0;
                            e = e.parentNode
                        }
                        return !1
                    }

                    function u(e, t) {
                        return e.previousSibling && e.previousSibling.nodeName == t
                    }

                    function d(n, r) {
                        var a, s, l;
                        if (r = r || f, l = e.getParent(r.parentNode, e.isBlock) || m, n && "BR" == r.nodeName && x && e.isEmpty(l)) return f = r.parentNode, p = e.nodeIndex(r), void(i = !0);
                        for (a = new t(r, l); y = a[n ? "prev" : "next"]();) {
                            if ("false" === e.getContentEditableParent(y) || c(y, e.getRoot())) return;
                            if (3 === y.nodeType && y.nodeValue.length > 0) return f = y, p = n ? y.nodeValue.length : 0, void(i = !0);
                            if (e.isBlock(y) || b[y.nodeName.toLowerCase()]) return;
                            s = y
                        }
                        o && s && (f = s, i = !0, p = 0)
                    }
                    var f, p, h, m = e.getRoot(),
                        y, b, C, x;
                    if (f = n[(r ? "start" : "end") + "Container"], p = n[(r ? "start" : "end") + "Offset"], x = 1 == f.nodeType && p === f.childNodes.length, b = e.schema.getNonEmptyElements(), C = r, !v(f)) {
                        if (1 == f.nodeType && p > f.childNodes.length - 1 && (C = !1), 9 === f.nodeType && (f = e.getRoot(), p = 0), f === m) {
                            if (C && (y = f.childNodes[p > 0 ? p - 1 : 0])) {
                                if (v(y)) return;
                                if (b[y.nodeName] || "TABLE" == y.nodeName) return
                            }
                            if (f.hasChildNodes()) {
                                if (p = Math.min(!C && p > 0 ? p - 1 : p, f.childNodes.length - 1), f = f.childNodes[p], p = 0, !o && f === m.lastChild && "TABLE" === f.nodeName) return;
                                if (l(f) || v(f)) return;
                                if (f.hasChildNodes() && !/TABLE/.test(f.nodeName)) {
                                    y = f, h = new t(f, m);
                                    do {
                                        if (g(y) || v(y)) {
                                            i = !1;
                                            break
                                        }
                                        if (3 === y.nodeType && y.nodeValue.length > 0) {
                                            p = C ? 0 : y.nodeValue.length, f = y, i = !0;
                                            break
                                        }
                                        if (b[y.nodeName.toLowerCase()] && !a(y)) {
                                            p = e.nodeIndex(y), f = y.parentNode, "IMG" != y.nodeName || C || p++, i = !0;
                                            break
                                        }
                                    } while (y = C ? h.next() : h.prev())
                                }
                            }
                        }
                        o && (3 === f.nodeType && 0 === p && d(!0), 1 === f.nodeType && (y = f.childNodes[p], y || (y = f.childNodes[p - 1]), !y || "BR" !== y.nodeName || u(y, "A") || s(y) || s(y, !0) || d(!0, y))), C && !o && 3 === f.nodeType && p === f.nodeValue.length && d(!1), i && n["set" + (r ? "Start" : "End")](f, p)
                    }
                }
                var i, o;
                return o = n.collapsed, r(!0), o || r(), i && o && n.collapse(!0), i
            }
        }

        function f(t, n, r) {
            var i, o, a;
            if (i = r.elementFromPoint(t, n), o = r.body.createTextRange(), i && "HTML" != i.tagName || (i = r.body), o.moveToElementText(i), a = e.toArray(o.getClientRects()), a = a.sort(function(e, t) {
                    return e = Math.abs(Math.max(e.top - n, e.bottom - n)), t = Math.abs(Math.max(t.top - n, t.bottom - n)), e - t
                }), a.length > 0) {
                n = (a[0].bottom + a[0].top) / 2;
                try {
                    return o.moveToPoint(t, n), o.collapse(!0), o
                } catch (s) {}
            }
            return null
        }

        function p(e, t) {
            var n = e && e.parentElement ? e.parentElement() : null;
            return g(s(n, t, o)) ? null : e
        }
        var h = e.each,
            m = n.isContentEditableTrue,
            g = n.isContentEditableFalse,
            v = i.isCaretContainer;
        return d.compareRanges = function(e, t) {
            if (e && t) {
                if (!e.item && !e.duplicate) return e.startContainer == t.startContainer && e.startOffset == t.startOffset;
                if (e.item && t.item && e.item(0) === t.item(0)) return !0;
                if (e.isEqual && t.isEqual && t.isEqual(e)) return !0
            }
            return !1
        }, d.getCaretRangeFromPoint = function(e, t, n) {
            var r, i;
            if (n.caretPositionFromPoint) i = n.caretPositionFromPoint(e, t), r = n.createRange(), r.setStart(i.offsetNode, i.offset), r.collapse(!0);
            else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);
            else if (n.body.createTextRange) {
                r = n.body.createTextRange();
                try {
                    r.moveToPoint(e, t), r.collapse(!0)
                } catch (o) {
                    r = f(e, t, n)
                }
                return p(r, n.body)
            }
            return r
        }, d.getSelectedNode = function(e) {
            var t = e.startContainer,
                n = e.startOffset;
            return t.hasChildNodes() && e.endOffset == n + 1 ? t.childNodes[n] : null
        }, d.getNode = function(e, t) {
            return 1 == e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e
        }, d
    }), r(R, [T, d, c], function(e, t, n) {
        return function(r) {
            function i(e) {
                var t, n;
                if (n = r.$(e).parentsUntil(r.getBody()).add(e), n.length === a.length) {
                    for (t = n.length; t >= 0 && n[t] === a[t]; t--);
                    if (t === -1) return a = n, !0
                }
                return a = n, !1
            }
            var o, a = [];
            "onselectionchange" in r.getDoc() || r.on("NodeChange Click MouseUp KeyUp Focus", function(t) {
                var n, i;
                n = r.selection.getRng(), i = {
                    startContainer: n.startContainer,
                    startOffset: n.startOffset,
                    endContainer: n.endContainer,
                    endOffset: n.endOffset
                }, "nodechange" != t.type && e.compareRanges(i, o) || r.fire("SelectionChange"), o = i
            }), r.on("contextmenu", function() {
                r.fire("SelectionChange")
            }), r.on("SelectionChange", function() {
                var e = r.selection.getStart(!0);
                !t.range && r.selection.isCollapsed() || !i(e) && r.dom.isChildOf(e, r.getBody()) && r.nodeChanged({
                    selectionChange: !0
                })
            }), r.on("MouseUp", function(e) {
                e.isDefaultPrevented() || ("IMG" == r.selection.getNode().nodeName ? n.setEditorTimeout(r, function() {
                    r.nodeChanged()
                }) : r.nodeChanged())
            }), this.nodeChanged = function(e) {
                var t = r.selection,
                    n, i, o;
                r.initialized && t && !r.settings.disable_nodechange && !r.readonly && (o = r.getBody(), n = t.getStart() || o, n.ownerDocument == r.getDoc() && r.dom.isChildOf(n, o) || (n = o), "IMG" == n.nodeName && t.isCollapsed() && (n = n.parentNode), i = [], r.dom.getParent(n, function(e) {
                    return e === o || void i.push(e)
                }), e = e || {}, e.element = n, e.parents = i, r.fire("NodeChange", e))
            }
        }
    }), r(A, [], function() {
        function e(e, t, n) {
            var r, i, o = n ? "lastChild" : "firstChild",
                a = n ? "prev" : "next";
            if (e[o]) return e[o];
            if (e !== t) {
                if (r = e[a]) return r;
                for (i = e.parent; i && i !== t; i = i.parent)
                    if (r = i[a]) return r
            }
        }

        function t(e, t) {
            this.name = e, this.type = t, 1 === t && (this.attributes = [], this.attributes.map = {})
        }
        var n = /^[ \t\r\n]*$/,
            r = {
                "#text": 3,
                "#comment": 8,
                "#cdata": 4,
                "#pi": 7,
                "#doctype": 10,
                "#document-fragment": 11
            };
        return t.prototype = {
            replace: function(e) {
                var t = this;
                return e.parent && e.remove(), t.insert(e, t), t.remove(), t
            },
            attr: function(e, t) {
                var n = this,
                    r, i, o;
                if ("string" != typeof e) {
                    for (i in e) n.attr(i, e[i]);
                    return n
                }
                if (r = n.attributes) {
                    if (t !== o) {
                        if (null === t) {
                            if (e in r.map)
                                for (delete r.map[e], i = r.length; i--;)
                                    if (r[i].name === e) return r = r.splice(i, 1), n;
                            return n
                        }
                        if (e in r.map) {
                            for (i = r.length; i--;)
                                if (r[i].name === e) {
                                    r[i].value = t;
                                    break
                                }
                        } else r.push({
                            name: e,
                            value: t
                        });
                        return r.map[e] = t, n
                    }
                    return r.map[e]
                }
            },
            clone: function() {
                var e = this,
                    n = new t(e.name, e.type),
                    r, i, o, a, s;
                if (o = e.attributes) {
                    for (s = [], s.map = {}, r = 0, i = o.length; r < i; r++) a = o[r], "id" !== a.name && (s[s.length] = {
                        name: a.name,
                        value: a.value
                    }, s.map[a.name] = a.value);
                    n.attributes = s
                }
                return n.value = e.value, n.shortEnded = e.shortEnded, n
            },
            wrap: function(e) {
                var t = this;
                return t.parent.insert(e, t), e.append(t), t
            },
            unwrap: function() {
                var e = this,
                    t, n;
                for (t = e.firstChild; t;) n = t.next, e.insert(t, e, !0), t = n;
                e.remove()
            },
            remove: function() {
                var e = this,
                    t = e.parent,
                    n = e.next,
                    r = e.prev;
                return t && (t.firstChild === e ? (t.firstChild = n, n && (n.prev = null)) : r.next = n, t.lastChild === e ? (t.lastChild = r, r && (r.next = null)) : n.prev = r, e.parent = e.next = e.prev = null), e
            },
            append: function(e) {
                var t = this,
                    n;
                return e.parent && e.remove(), n = t.lastChild, n ? (n.next = e, e.prev = n, t.lastChild = e) : t.lastChild = t.firstChild = e, e.parent = t, e
            },
            insert: function(e, t, n) {
                var r;
                return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, e.next = t, t.prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, e.prev = t, t.next = e), e.parent = r, e
            },
            getAll: function(t) {
                var n = this,
                    r, i = [];
                for (r = n.firstChild; r; r = e(r, n)) r.name === t && i.push(r);
                return i
            },
            empty: function() {
                var t = this,
                    n, r, i;
                if (t.firstChild) {
                    for (n = [], i = t.firstChild; i; i = e(i, t)) n.push(i);
                    for (r = n.length; r--;) i = n[r], i.parent = i.firstChild = i.lastChild = i.next = i.prev = null
                }
                return t.firstChild = t.lastChild = null, t
            },
            isEmpty: function(t, r) {
                var i = this,
                    o = i.firstChild,
                    a, s;
                if (r = r || {}, o)
                    do {
                        if (1 === o.type) {
                            if (o.attributes.map["data-mce-bogus"]) continue;
                            if (t[o.name]) return !1;
                            for (a = o.attributes.length; a--;)
                                if (s = o.attributes[a].name, "name" === s || 0 === s.indexOf("data-mce-bookmark")) return !1
                        }
                        if (8 === o.type) return !1;
                        if (3 === o.type && !n.test(o.value)) return !1;
                        if (3 === o.type && o.parent && r[o.parent.name] && n.test(o.value)) return !1
                    } while (o = e(o, i));
                return !0
            },
            walk: function(t) {
                return e(this, null, t)
            }
        }, t.create = function(e, n) {
            var i, o;
            if (i = new t(e, r[e] || 1), n)
                for (o in n) i.attr(o, n[o]);
            return i
        }, t
    }), r(B, [m], function(e) {
        function t(t, n) {
            return t = e.trim(t), t ? t.split(n || " ") : []
        }

        function n(e) {
            function n(e, n, r) {
                function i(e, t) {
                    var n = {},
                        r, i;
                    for (r = 0, i = e.length; r < i; r++) n[e[r]] = t || {};
                    return n
                }
                var s, u, c;
                for (r = r || [], n = n || "", "string" == typeof r && (r = t(r)), e = t(e), s = e.length; s--;) u = t([l, n].join(" ")), c = {
                    attributes: i(u),
                    attributesOrder: u,
                    children: i(r, o)
                }, a[e[s]] = c
            }

            function r(e, n) {
                var r, i, o, s;
                for (e = t(e), r = e.length, n = t(n); r--;)
                    for (i = a[e[r]], o = 0, s = n.length; o < s; o++) i.attributes[n[o]] = {}, i.attributesOrder.push(n[o])
            }
            var a = {},
                l, u, c, d, f, p;
            return i[e] ? i[e] : (l = "id accesskey class dir lang style tabindex title", u = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", c = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" != e && (l += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", u += " article aside details dialog figure header footer hgroup section nav", c += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" != e && (l += " xml:lang", p = "acronym applet basefont big font strike tt", c = [c, p].join(" "), s(t(p), function(e) {
                n(e, "", c)
            }), f = "center dir isindex noframes", u = [u, f].join(" "), d = [u, c].join(" "), s(t(f), function(e) {
                n(e, "", d)
            })), d = d || [u, c].join(" "), n("html", "manifest", "head body"), n("head", "", "base command link meta noscript script style title"), n("title hr noscript br"), n("base", "href target"), n("link", "href rel media hreflang type sizes hreflang"), n("meta", "name http-equiv content charset"), n("style", "media type scoped"), n("script", "src async defer type charset"), n("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", d), n("address dt dd div caption", "", d), n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", c), n("blockquote", "cite", d), n("ol", "reversed start type", "li"), n("ul", "", "li"), n("li", "value", d), n("dl", "", "dt dd"), n("a", "href target rel media hreflang type", c), n("q", "cite", c), n("ins del", "cite datetime", d), n("img", "src sizes srcset alt usemap ismap width height"), n("iframe", "src name width height", d), n("embed", "src type width height"), n("object", "data type typemustmatch name usemap form width height", [d, "param"].join(" ")), n("param", "name value"), n("map", "name", [d, "area"].join(" ")), n("area", "alt coords shape href target rel media hreflang type"), n("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" == e ? " col" : "")), n("colgroup", "span", "col"), n("col", "span"), n("tbody thead tfoot", "", "tr"), n("tr", "", "td th"), n("td", "colspan rowspan headers", d), n("th", "colspan rowspan headers scope abbr", d), n("form", "accept-charset action autocomplete enctype method name novalidate target", d), n("fieldset", "disabled form name", [d, "legend"].join(" ")), n("label", "form for", c), n("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), n("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" == e ? d : c), n("select", "disabled form multiple name required size", "option optgroup"), n("optgroup", "disabled label", "option"), n("option", "disabled label selected value"), n("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), n("menu", "type label", [d, "li"].join(" ")), n("noscript", "", d), "html4" != e && (n("wbr"), n("ruby", "", [c, "rt rp"].join(" ")), n("figcaption", "", d), n("mark rt rp summary bdi", "", c), n("canvas", "width height", d), n("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [d, "track source"].join(" ")), n("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [d, "track source"].join(" ")), n("picture", "", "img source"), n("source", "src srcset type media sizes"), n("track", "kind src srclang label default"), n("datalist", "", [c, "option"].join(" ")), n("article section nav aside header footer", "", d), n("hgroup", "", "h1 h2 h3 h4 h5 h6"), n("figure", "", [d, "figcaption"].join(" ")), n("time", "datetime", c), n("dialog", "open", d), n("command", "type label icon disabled checked radiogroup command"), n("output", "for form name", c), n("progress", "value max", c), n("meter", "value min max low high optimum", c), n("details", "open", [d, "summary"].join(" ")), n("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" != e && (r("script", "language xml:space"), r("style", "xml:space"), r("object", "declare classid code codebase codetype archive standby align border hspace vspace"), r("embed", "align name hspace vspace"), r("param", "valuetype type"), r("a", "charset name rev shape coords"), r("br", "clear"), r("applet", "codebase archive code object alt name width height align hspace vspace"), r("img", "name longdesc align border hspace vspace"), r("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), r("font basefont", "size color face"), r("input", "usemap align"), r("select", "onchange"), r("textarea"), r("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), r("ul", "type compact"), r("li", "type"), r("ol dl menu dir", "compact"), r("pre", "width xml:space"), r("hr", "align noshade size width"), r("isindex", "prompt"), r("table", "summary width frame rules cellspacing cellpadding align bgcolor"), r("col", "width align char charoff valign"), r("colgroup", "width align char charoff valign"), r("thead", "align char charoff valign"), r("tr", "align char charoff valign bgcolor"), r("th", "axis align char charoff valign nowrap bgcolor width height"), r("form", "accept"), r("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), r("tfoot", "align char charoff valign"), r("tbody", "align char charoff valign"), r("area", "nohref"), r("body", "background bgcolor text link vlink alink")), "html4" != e && (r("input button select textarea", "autofocus"), r("input textarea", "placeholder"), r("a", "download"),
                r("link script img", "crossorigin"), r("iframe", "sandbox seamless allowfullscreen")), s(t("a form meter progress dfn"), function(e) {
                a[e] && delete a[e].children[e]
            }), delete a.caption.children.table, delete a.script, i[e] = a, a)
        }

        function r(e, t) {
            var n;
            return e && (n = {}, "string" == typeof e && (e = {
                "*": e
            }), s(e, function(e, r) {
                n[r] = n[r.toUpperCase()] = "map" == t ? a(e, /[, ]/) : u(e, /[, ]/)
            })), n
        }
        var i = {},
            o = {},
            a = e.makeMap,
            s = e.each,
            l = e.extend,
            u = e.explode,
            c = e.inArray;
        return function(e) {
            function o(t, n, r) {
                var o = e[t];
                return o ? o = a(o, /[, ]/, a(o.toUpperCase(), /[, ]/)) : (o = i[t], o || (o = a(n, " ", a(n.toUpperCase(), " ")), o = l(o, r), i[t] = o)), o
            }

            function d(e) {
                return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$")
            }

            function f(e) {
                var n, r, i, o, s, l, u, f, p, h, m, g, v, b, x, w, E, N, _, S = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                    k = /^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                    T = /[*?+]/;
                if (e)
                    for (e = t(e, ","), y["@"] && (w = y["@"].attributes, E = y["@"].attributesOrder), n = 0, r = e.length; n < r; n++)
                        if (s = S.exec(e[n])) {
                            if (b = s[1], p = s[2], x = s[3], f = s[5], g = {}, v = [], l = {
                                    attributes: g,
                                    attributesOrder: v
                                }, "#" === b && (l.paddEmpty = !0), "-" === b && (l.removeEmpty = !0), "!" === s[4] && (l.removeEmptyAttrs = !0), w) {
                                for (N in w) g[N] = w[N];
                                v.push.apply(v, E)
                            }
                            if (f)
                                for (f = t(f, "|"), i = 0, o = f.length; i < o; i++)
                                    if (s = k.exec(f[i])) {
                                        if (u = {}, m = s[1], h = s[2].replace(/::/g, ":"), b = s[3], _ = s[4], "!" === m && (l.attributesRequired = l.attributesRequired || [], l.attributesRequired.push(h), u.required = !0), "-" === m) {
                                            delete g[h], v.splice(c(v, h), 1);
                                            continue
                                        }
                                        b && ("=" === b && (l.attributesDefault = l.attributesDefault || [], l.attributesDefault.push({
                                            name: h,
                                            value: _
                                        }), u.defaultValue = _), ":" === b && (l.attributesForced = l.attributesForced || [], l.attributesForced.push({
                                            name: h,
                                            value: _
                                        }), u.forcedValue = _), "<" === b && (u.validValues = a(_, "?"))), T.test(h) ? (l.attributePatterns = l.attributePatterns || [], u.pattern = d(h), l.attributePatterns.push(u)) : (g[h] || v.push(h), g[h] = u)
                                    } w || "@" != p || (w = g, E = v), x && (l.outputName = p, y[x] = l), T.test(p) ? (l.pattern = d(p), C.push(l)) : y[p] = l
                        }
            }

            function p(e) {
                y = {}, C = [], f(e), s(E, function(e, t) {
                    b[t] = e.children
                })
            }

            function h(e) {
                var n = /^(~)?(.+)$/;
                e && (i.text_block_elements = i.block_elements = null, s(t(e, ","), function(e) {
                    var t = n.exec(e),
                        r = "~" === t[1],
                        i = r ? "span" : "div",
                        o = t[2];
                    if (b[o] = b[i], M[o] = i, r || (R[o.toUpperCase()] = {}, R[o] = {}), !y[o]) {
                        var a = y[i];
                        a = l({}, a), delete a.removeEmptyAttrs, delete a.removeEmpty, y[o] = a
                    }
                    s(b, function(e, t) {
                        e[i] && (b[t] = e = l({}, b[t]), e[o] = e[i])
                    })
                }))
            }

            function m(n) {
                var r = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                i[e.schema] = null, n && s(t(n, ","), function(e) {
                    var n = r.exec(e),
                        i, o;
                    n && (o = n[1], i = o ? b[n[2]] : b[n[2]] = {
                        "#comment": {}
                    }, i = b[n[2]], s(t(n[3], "|"), function(e) {
                        "-" === o ? delete i[e] : i[e] = {}
                    }))
                })
            }

            function g(e) {
                var t = y[e],
                    n;
                if (t) return t;
                for (n = C.length; n--;)
                    if (t = C[n], t.pattern.test(e)) return t
            }
            var v = this,
                y = {},
                b = {},
                C = [],
                x, w, E, N, _, S, k, T, R, A, B, D, L, M = {},
                P = {};
            e = e || {}, E = n(e.schema), e.verify_html === !1 && (e.valid_elements = "*[*]"), x = r(e.valid_styles), w = r(e.invalid_styles, "map"), T = r(e.valid_classes, "map"), N = o("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), _ = o("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), S = o("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), k = o("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), A = o("non_empty_elements", "td th iframe video audio object script pre code", S), B = o("move_caret_before_on_enter_elements", "table", A), D = o("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"), R = o("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption", D), L = o("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), s((e.special || "script noscript style textarea").split(" "), function(e) {
                P[e] = new RegExp("</" + e + "[^>]*>", "gi")
            }), e.valid_elements ? p(e.valid_elements) : (s(E, function(e, t) {
                y[t] = {
                    attributes: e.attributes,
                    attributesOrder: e.attributesOrder
                }, b[t] = e.children
            }), "html5" != e.schema && s(t("strong/b em/i"), function(e) {
                e = t(e, "/"), y[e[1]].outputName = e[0]
            }), s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function(e) {
                y[e] && (y[e].removeEmpty = !0)
            }), s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"), function(e) {
                y[e].paddEmpty = !0
            }), s(t("span"), function(e) {
                y[e].removeEmptyAttrs = !0
            })), h(e.custom_elements), m(e.valid_children), f(e.extended_valid_elements), m("+ol[ul|ol],+ul[ul|ol]"), s({
                dd: "dl",
                dt: "dl",
                li: "ul ol",
                td: "tr",
                th: "tr",
                tr: "tbody thead tfoot",
                tbody: "table",
                thead: "table",
                tfoot: "table",
                legend: "fieldset",
                area: "map",
                param: "video audio object"
            }, function(e, n) {
                y[n] && (y[n].parentsRequired = t(e))
            }), e.invalid_elements && s(u(e.invalid_elements), function(e) {
                y[e] && delete y[e]
            }), g("span") || f("span[!data-mce-type|*]"), v.children = b, v.getValidStyles = function() {
                return x
            }, v.getInvalidStyles = function() {
                return w
            }, v.getValidClasses = function() {
                return T
            }, v.getBoolAttrs = function() {
                return k
            }, v.getBlockElements = function() {
                return R
            }, v.getTextBlockElements = function() {
                return D
            }, v.getTextInlineElements = function() {
                return L
            }, v.getShortEndedElements = function() {
                return S
            }, v.getSelfClosingElements = function() {
                return _
            }, v.getNonEmptyElements = function() {
                return A
            }, v.getMoveCaretBeforeOnEnterElements = function() {
                return B
            }, v.getWhiteSpaceElements = function() {
                return N
            }, v.getSpecialElements = function() {
                return P
            }, v.isValidChild = function(e, t) {
                var n = b[e];
                return !(!n || !n[t])
            }, v.isValid = function(e, t) {
                var n, r, i = g(e);
                if (i) {
                    if (!t) return !0;
                    if (i.attributes[t]) return !0;
                    if (n = i.attributePatterns)
                        for (r = n.length; r--;)
                            if (n[r].pattern.test(e)) return !0
                }
                return !1
            }, v.getElementRule = g, v.getCustomElements = function() {
                return M
            }, v.addValidElements = f, v.setValidElements = p, v.addCustomElements = h, v.addValidChildren = m, v.elements = y
        }
    }), r(D, [B, C, m], function(e, t, n) {
        function r(e, t, n) {
            var r = 1,
                i, o, a, s;
            for (s = e.getShortEndedElements(), a = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g, a.lastIndex = i = n; o = a.exec(t);) {
                if (i = a.lastIndex, "/" === o[1]) r--;
                else if (!o[1]) {
                    if (o[2] in s) continue;
                    r++
                }
                if (0 === r) break
            }
            return i
        }

        function i(i, a) {
            function s() {}
            var l = this;
            i = i || {}, l.schema = a = a || new e, i.fix_self_closing !== !1 && (i.fix_self_closing = !0), o("comment cdata text start end pi doctype".split(" "), function(e) {
                e && (l[e] = i[e] || s)
            }), l.parse = function(e) {
                function o(e) {
                    var t, n;
                    for (t = p.length; t-- && p[t].name !== e;);
                    if (t >= 0) {
                        for (n = p.length - 1; n >= t; n--) e = p[n], e.valid && l.end(e.name);
                        p.length = t
                    }
                }

                function s(e, t, n, r, o) {
                    var a, s, l = /[\s\u0000-\u001F]+/g;
                    if (t = t.toLowerCase(), n = t in x ? t : z(n || r || o || ""), E && !y && 0 !== t.indexOf("data-")) {
                        if (a = T[t], !a && R) {
                            for (s = R.length; s-- && (a = R[s], !a.pattern.test(t)););
                            s === -1 && (a = null)
                        }
                        if (!a) return;
                        if (a.validValues && !(n in a.validValues)) return
                    }
                    if (W[t] && !i.allow_script_urls) {
                        var u = n.replace(l, "");
                        try {
                            u = decodeURIComponent(u)
                        } catch (c) {
                            u = unescape(u)
                        }
                        if (V.test(u)) return;
                        if (!i.allow_html_data_urls && $.test(u) && !/^data:image\//i.test(u)) return
                    }
                    h.map[t] = n, h.push({
                        name: t,
                        value: n
                    })
                }
                var l = this,
                    u, c = 0,
                    d, f, p = [],
                    h, m, g, v, y, b, C, x, w, E, N, _, S, k, T, R, A, B, D, L, M, P, O, H, I, F = 0,
                    z = t.decode,
                    U, W = n.makeMap("src,href,data,background,formaction,poster"),
                    V = /((java|vb)script|mhtml):/i,
                    $ = /^data:/i;
                for (P = new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), O = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, C = a.getShortEndedElements(), M = i.self_closing_elements || a.getSelfClosingElements(), x = a.getBoolAttrs(), E = i.validate, b = i.remove_internals, U = i.fix_self_closing, H = a.getSpecialElements(); u = P.exec(e);) {
                    if (c < u.index && l.text(z(e.substr(c, u.index - c))), d = u[6]) d = d.toLowerCase(), ":" === d.charAt(0) && (d = d.substr(1)), o(d);
                    else if (d = u[7]) {
                        if (d = d.toLowerCase(), ":" === d.charAt(0) && (d = d.substr(1)), w = d in C, U && M[d] && p.length > 0 && p[p.length - 1].name === d && o(d), !E || (N = a.getElementRule(d))) {
                            if (_ = !0, E && (T = N.attributes, R = N.attributePatterns), (k = u[8]) ? (y = k.indexOf("data-mce-type") !== -1, y && b && (_ = !1), h = [], h.map = {}, k.replace(O, s)) : (h = [], h.map = {}), E && !y) {
                                if (A = N.attributesRequired, B = N.attributesDefault, D = N.attributesForced, L = N.removeEmptyAttrs, L && !h.length && (_ = !1), D)
                                    for (m = D.length; m--;) S = D[m], v = S.name, I = S.value, "{$uid}" === I && (I = "mce_" + F++), h.map[v] = I, h.push({
                                        name: v,
                                        value: I
                                    });
                                if (B)
                                    for (m = B.length; m--;) S = B[m], v = S.name, v in h.map || (I = S.value, "{$uid}" === I && (I = "mce_" + F++), h.map[v] = I, h.push({
                                        name: v,
                                        value: I
                                    }));
                                if (A) {
                                    for (m = A.length; m-- && !(A[m] in h.map););
                                    m === -1 && (_ = !1)
                                }
                                if (S = h.map["data-mce-bogus"]) {
                                    if ("all" === S) {
                                        c = r(a, e, P.lastIndex), P.lastIndex = c;
                                        continue
                                    }
                                    _ = !1
                                }
                            }
                            _ && l.start(d, h, w)
                        } else _ = !1;
                        if (f = H[d]) {
                            f.lastIndex = c = u.index + u[0].length, (u = f.exec(e)) ? (_ && (g = e.substr(c, u.index - c)), c = u.index + u[0].length) : (g = e.substr(c), c = e.length), _ && (g.length > 0 && l.text(g, !0), l.end(d)), P.lastIndex = c;
                            continue
                        }
                        w || (k && k.indexOf("/") == k.length - 1 ? _ && l.end(d) : p.push({
                            name: d,
                            valid: _
                        }))
                    } else(d = u[1]) ? (">" === d.charAt(0) && (d = " " + d), i.allow_conditional_comments || "[if" !== d.substr(0, 3).toLowerCase() || (d = " " + d), l.comment(d)) : (d = u[2]) ? l.cdata(d) : (d = u[3]) ? l.doctype(d) : (d = u[4]) && l.pi(d, u[5]);
                    c = u.index + u[0].length
                }
                for (c < e.length && l.text(z(e.substr(c))), m = p.length - 1; m >= 0; m--) d = p[m], d.valid && l.end(d.name)
            }
        }
        var o = n.each;
        return i.findEndTag = r, i
    }), r(L, [A, B, D, m], function(e, t, n, r) {
        var i = r.makeMap,
            o = r.each,
            a = r.explode,
            s = r.extend,
            l = function(t, n) {
                t.padd_empty_with_br ? n.empty().append(new e("br", "1")).shortEnded = !0 : n.empty().append(new e("#text", "3")).value = "\xa0"
            },
            u = function(e, t) {
                return e && e.firstChild === e.lastChild && e.firstChild.name === t
            };
        return function(c, d) {
            function f(t) {
                var n, r, o, a, s, l, c, f, h, m, g, v, y, b, C, x;
                for (v = i("tr,td,th,tbody,thead,tfoot,table"), m = d.getNonEmptyElements(), g = d.getWhiteSpaceElements(), y = d.getTextBlockElements(), b = d.getSpecialElements(), n = 0; n < t.length; n++)
                    if (r = t[n], r.parent && !r.fixed)
                        if (y[r.name] && "li" == r.parent.name) {
                            for (C = r.next; C && y[C.name];) C.name = "li", C.fixed = !0, r.parent.insert(C, r.parent), C = C.next;
                            r.unwrap(r)
                        } else {
                            for (a = [r], o = r.parent; o && !d.isValidChild(o.name, r.name) && !v[o.name]; o = o.parent) a.push(o);
                            if (o && a.length > 1) {
                                for (a.reverse(), s = l = p.filterNode(a[0].clone()), h = 0; h < a.length - 1; h++) {
                                    for (d.isValidChild(l.name, a[h].name) ? (c = p.filterNode(a[h].clone()), l.append(c)) : c = l, f = a[h].firstChild; f && f != a[h + 1];) x = f.next, c.append(f), f = x;
                                    l = c
                                }
                                s.isEmpty(m, g) ? o.insert(r, a[0], !0) : (o.insert(s, a[0], !0), o.insert(r, s)), o = a[0], (o.isEmpty(m, g) || u(o, "br")) && o.empty().remove()
                            } else if (r.parent) {
                                if ("li" === r.name) {
                                    if (C = r.prev, C && ("ul" === C.name || "ul" === C.name)) {
                                        C.append(r);
                                        continue
                                    }
                                    if (C = r.next, C && ("ul" === C.name || "ul" === C.name)) {
                                        C.insert(r, C.firstChild, !0);
                                        continue
                                    }
                                    r.wrap(p.filterNode(new e("ul", 1)));
                                    continue
                                }
                                d.isValidChild(r.parent.name, "div") && d.isValidChild("div", r.name) ? r.wrap(p.filterNode(new e("div", 1))) : b[r.name] ? r.empty().remove() : r.unwrap()
                            }
                        }
            }
            var p = this,
                h = {},
                m = [],
                g = {},
                v = {};
            c = c || {}, c.validate = !("validate" in c) || c.validate, c.root_name = c.root_name || "body", p.schema = d = d || new t, p.filterNode = function(e) {
                var t, n, r;
                n in h && (r = g[n], r ? r.push(e) : g[n] = [e]), t = m.length;
                for (; t--;) n = m[t].name, n in e.attributes.map && (r = v[n], r ? r.push(e) : v[n] = [e]);
                return e
            }, p.addNodeFilter = function(e, t) {
                o(a(e), function(e) {
                    var n = h[e];
                    n || (h[e] = n = []), n.push(t)
                })
            }, p.addAttributeFilter = function(e, t) {
                o(a(e), function(e) {
                    var n;
                    for (n = 0; n < m.length; n++)
                        if (m[n].name === e) return void m[n].callbacks.push(t);
                    m.push({
                        name: e,
                        callbacks: [t]
                    })
                })
            }, p.parse = function(t, r) {
                function o() {
                    function e(e) {
                        e && (t = e.firstChild, t && 3 == t.type && (t.value = t.value.replace(A, "")), t = e.lastChild, t && 3 == t.type && (t.value = t.value.replace(L, "")))
                    }
                    var t = b.firstChild,
                        n, r;
                    if (d.isValidChild(b.name, F.toLowerCase())) {
                        for (; t;) n = t.next, 3 == t.type || 1 == t.type && "p" !== t.name && !R[t.name] && !t.attr("data-mce-type") ? r ? r.append(t) : (r = a(F, 1), r.attr(c.forced_root_block_attrs), b.insert(r, t), r.append(t)) : (e(r), r = null), t = n;
                        e(r)
                    }
                }

                function a(t, n) {
                    var r = new e(t, n),
                        i;
                    return t in h && (i = g[t], i ? i.push(r) : g[t] = [r]), r
                }

                function u(e) {
                    var t, n, r, i, o = d.getBlockElements();
                    for (t = e.prev; t && 3 === t.type;) {
                        if (r = t.value.replace(L, ""), r.length > 0) return void(t.value = r);
                        if (n = t.next) {
                            if (3 == n.type && n.value.length) {
                                t = t.prev;
                                continue
                            }
                            if (!o[n.name] && "script" != n.name && "style" != n.name) {
                                t = t.prev;
                                continue
                            }
                        }
                        i = t.prev, t.remove(), t = i
                    }
                }

                function p(e) {
                    var t, n = {};
                    for (t in e) "li" !== t && "p" != t && (n[t] = e[t]);
                    return n
                }
                var y, b, C, x, w, E, N, _, S, k, T, R, A, B = [],
                    D, L, M, P, O, H, I, F;
                if (r = r || {}, g = {}, v = {}, R = s(i("script,style,head,html,body,title,meta,param"), d.getBlockElements()), I = d.getNonEmptyElements(), H = d.children, T = c.validate, F = "forced_root_block" in r ? r.forced_root_block : c.forced_root_block, O = d.getWhiteSpaceElements(), A = /^[ \t\r\n]+/, L = /[ \t\r\n]+$/, M = /[ \t\r\n]+/g, P = /^[ \t\r\n]+$/, y = new n({
                        validate: T,
                        allow_script_urls: c.allow_script_urls,
                        allow_conditional_comments: c.allow_conditional_comments,
                        self_closing_elements: p(d.getSelfClosingElements()),
                        cdata: function(e) {
                            C.append(a("#cdata", 4)).value = e
                        },
                        text: function(e, t) {
                            var n;
                            D || (e = e.replace(M, " "), C.lastChild && R[C.lastChild.name] && (e = e.replace(A, ""))), 0 !== e.length && (n = a("#text", 3), n.raw = !!t, C.append(n).value = e)
                        },
                        comment: function(e) {
                            C.append(a("#comment", 8)).value = e
                        },
                        pi: function(e, t) {
                            C.append(a(e, 7)).value = t, u(C)
                        },
                        doctype: function(e) {
                            var t;
                            t = C.append(a("#doctype", 10)), t.value = e, u(C)
                        },
                        start: function(e, t, n) {
                            var r, i, o, s, l;
                            if (o = T ? d.getElementRule(e) : {}) {
                                for (r = a(o.outputName || e, 1), r.attributes = t, r.shortEnded = n, C.append(r), l = H[C.name], l && H[r.name] && !l[r.name] && B.push(r), i = m.length; i--;) s = m[i].name, s in t.map && (S = v[s], S ? S.push(r) : v[s] = [r]);
                                R[e] && u(r), n || (C = r), !D && O[e] && (D = !0)
                            }
                        },
                        end: function(e) {
                            var t, n, r, i, o;
                            if (n = T ? d.getElementRule(e) : {}) {
                                if (R[e] && !D) {
                                    if (t = C.firstChild, t && 3 === t.type)
                                        if (r = t.value.replace(A, ""), r.length > 0) t.value = r, t = t.next;
                                        else
                                            for (i = t.next, t.remove(), t = i; t && 3 === t.type;) r = t.value, i = t.next, (0 === r.length || P.test(r)) && (t.remove(), t = i), t = i;
                                    if (t = C.lastChild, t && 3 === t.type)
                                        if (r = t.value.replace(L, ""), r.length > 0) t.value = r, t = t.prev;
                                        else
                                            for (i = t.prev, t.remove(), t = i; t && 3 === t.type;) r = t.value, i = t.prev, (0 === r.length || P.test(r)) && (t.remove(), t = i), t = i
                                }
                                if (D && O[e] && (D = !1), (n.removeEmpty || n.paddEmpty) && C.isEmpty(I, O))
                                    if (n.paddEmpty) l(c, C);
                                    else if (!C.attributes.map.name && !C.attributes.map.id) return o = C.parent, R[C.name] ? C.empty().remove() : C.unwrap(), void(C = o);
                                C = C.parent
                            }
                        }
                    }, d), b = C = new e(r.context || c.root_name, 11), y.parse(t), T && B.length && (r.context ? r.invalid = !0 : f(B)), F && ("body" == b.name || r.isRootContent) && o(), !r.invalid) {
                    for (k in g) {
                        for (S = h[k], x = g[k], N = x.length; N--;) x[N].parent || x.splice(N, 1);
                        for (w = 0, E = S.length; w < E; w++) S[w](x, k, r)
                    }
                    for (w = 0, E = m.length; w < E; w++)
                        if (S = m[w], S.name in v) {
                            for (x = v[S.name], N = x.length; N--;) x[N].parent || x.splice(N, 1);
                            for (N = 0, _ = S.callbacks.length; N < _; N++) S.callbacks[N](x, S.name, r)
                        }
                }
                return b
            }, c.remove_trailing_brs && p.addNodeFilter("br", function(t) {
                var n, r = t.length,
                    i, o = s({}, d.getBlockElements()),
                    a = d.getNonEmptyElements(),
                    u, f, p, h, m = d.getNonEmptyElements(),
                    g, v;
                for (o.body = 1, n = 0; n < r; n++)
                    if (i = t[n], u = i.parent, o[i.parent.name] && i === u.lastChild) {
                        for (p = i.prev; p;) {
                            if (h = p.name, "span" !== h || "bookmark" !== p.attr("data-mce-type")) {
                                if ("br" !== h) break;
                                if ("br" === h) {
                                    i = null;
                                    break
                                }
                            }
                            p = p.prev
                        }
                        i && (i.remove(), u.isEmpty(a, m) && (g = d.getElementRule(u.name), g && (g.removeEmpty ? u.remove() : g.paddEmpty && l(c, u))))
                    } else {
                        for (f = i; u && u.firstChild === f && u.lastChild === f && (f = u, !o[u.name]);) u = u.parent;
                        f === u && c.padd_empty_with_br !== !0 && (v = new e("#text", 3), v.value = "\xa0", i.replace(v))
                    }
            }), c.allow_unsafe_link_target || p.addAttributeFilter("href", function(e) {
                function t(e) {
                    return e = n(e), e ? [e, l].join(" ") : l
                }

                function n(e) {
                    var t = new RegExp("(" + l.replace(" ", "|") + ")", "g");
                    return e && (e = r.trim(e.replace(t, ""))), e ? e : null
                }

                function i(e, r) {
                    return r ? t(e) : n(e)
                }
                for (var o = e.length, a, s, l = "noopener noreferrer"; o--;) a = e[o], s = a.attr("rel"), "a" === a.name && a.attr("rel", i(s, "_blank" == a.attr("target")))
            }), c.allow_html_in_named_anchor || p.addAttributeFilter("id,name", function(e) {
                for (var t = e.length, n, r, i, o; t--;)
                    if (o = e[t], "a" === o.name && o.firstChild && !o.attr("href")) {
                        i = o.parent, n = o.lastChild;
                        do r = n.prev, i.insert(n, o), n = r; while (n)
                    }
            }), c.fix_list_elements && p.addNodeFilter("ul,ol", function(t) {
                for (var n = t.length, r, i; n--;)
                    if (r = t[n], i = r.parent, "ul" === i.name || "ol" === i.name)
                        if (r.prev && "li" === r.prev.name) r.prev.append(r);
                        else {
                            var o = new e("li", 1);
                            o.attr("style", "list-style-type: none"), r.wrap(o)
                        }
            }), c.validate && d.getValidClasses() && p.addAttributeFilter("class", function(e) {
                for (var t = e.length, n, r, i, o, a, s = d.getValidClasses(), l, u; t--;) {
                    for (n = e[t], r = n.attr("class").split(" "), a = "", i = 0; i < r.length; i++) o = r[i], u = !1, l = s["*"], l && l[o] && (u = !0), l = s[n.name], !u && l && l[o] && (u = !0), u && (a && (a += " "), a += o);
                    a.length || (a = null), n.attr("class", a)
                }
            })
        }
    }), r(M, [C, m], function(e, t) {
        var n = t.makeMap;
        return function(t) {
            var r = [],
                i, o, a, s, l;
            return t = t || {}, i = t.indent, o = n(t.indent_before || ""), a = n(t.indent_after || ""), s = e.getEncodeFunc(t.entity_encoding || "raw", t.entities), l = "html" == t.element_format, {
                start: function(e, t, n) {
                    var u, c, d, f;
                    if (i && o[e] && r.length > 0 && (f = r[r.length - 1], f.length > 0 && "\n" !== f && r.push("\n")), r.push("<", e), t)
                        for (u = 0, c = t.length; u < c; u++) d = t[u], r.push(" ", d.name, '="', s(d.value, !0), '"');
                    !n || l ? r[r.length] = ">" : r[r.length] = " />", n && i && a[e] && r.length > 0 && (f = r[r.length - 1], f.length > 0 && "\n" !== f && r.push("\n"))
                },
                end: function(e) {
                    var t;
                    r.push("</", e, ">"), i && a[e] && r.length > 0 && (t = r[r.length - 1], t.length > 0 && "\n" !== t && r.push("\n"))
                },
                text: function(e, t) {
                    e.length > 0 && (r[r.length] = t ? e : s(e))
                },
                cdata: function(e) {
                    r.push("<![CDATA[", e, "]]>")
                },
                comment: function(e) {
                    r.push("<!--", e, "-->")
                },
                pi: function(e, t) {
                    t ? r.push("<?", e, " ", s(t), "?>") : r.push("<?", e, "?>"), i && r.push("\n")
                },
                doctype: function(e) {
                    r.push("<!DOCTYPE", e, ">", i ? "\n" : "")
                },
                reset: function() {
                    r.length = 0
                },
                getContent: function() {
                    return r.join("").replace(/\n$/, "")
                }
            }
        }
    }), r(P, [M, B], function(e, t) {
        return function(n, r) {
            var i = this,
                o = new e(n);
            n = n || {}, n.validate = !("validate" in n) || n.validate, i.schema = r = r || new t, i.writer = o, i.serialize = function(e) {
                function t(e) {
                    var n = i[e.type],
                        s, l, u, c, d, f, p, h, m;
                    if (n) n(e);
                    else {
                        if (s = e.name, l = e.shortEnded, u = e.attributes, a && u && u.length > 1 && (f = [], f.map = {}, m = r.getElementRule(e.name))) {
                            for (p = 0, h = m.attributesOrder.length; p < h; p++) c = m.attributesOrder[p], c in u.map && (d = u.map[c], f.map[c] = d, f.push({
                                name: c,
                                value: d
                            }));
                            for (p = 0, h = u.length; p < h; p++) c = u[p].name, c in f.map || (d = u.map[c], f.map[c] = d, f.push({
                                name: c,
                                value: d
                            }));
                            u = f
                        }
                        if (o.start(e.name, u, l), !l) {
                            if (e = e.firstChild)
                                do t(e); while (e = e.next);
                            o.end(s)
                        }
                    }
                }
                var i, a;
                return a = n.validate, i = {
                    3: function(e) {
                        o.text(e.value, e.raw)
                    },
                    8: function(e) {
                        o.comment(e.value)
                    },
                    7: function(e) {
                        o.pi(e.name, e.value)
                    },
                    10: function(e) {
                        o.doctype(e.value)
                    },
                    4: function(e) {
                        o.cdata(e.value)
                    },
                    11: function(e) {
                        if (e = e.firstChild)
                            do t(e); while (e = e.next)
                    }
                }, o.reset(), 1 != e.type || n.inner ? i[11](e) : t(e), o.getContent()
            }
        }
    }), r(O, [w, L, D, C, P, A, B, d, m, S], function(e, t, n, r, i, o, a, s, l, u) {
        function c(e) {
            function t(e) {
                return e && "br" === e.name
            }
            var n, r;
            n = e.lastChild, t(n) && (r = n.prev, t(r) && (n.remove(), r.remove()))
        }
        var d = l.each,
            f = l.trim,
            p = e.DOM;
        return function(e, o) {
            function h(e) {
                var t = new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>", "\\s?(" + x.join("|") + ')="[^"]+"'].join("|"), "gi");
                return e = u.trim(e.replace(t, ""))
            }

            function m(e) {
                var t = e,
                    r = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                    i, a, s, l, u, c = o.schema;
                for (t = h(t), u = c.getShortEndedElements(); l = r.exec(t);) a = r.lastIndex, s = l[0].length, i = u[l[1]] ? a : n.findEndTag(c, t, a), t = t.substring(0, a - s) + t.substring(i), r.lastIndex = a - s;
                return t
            }

            function g() {
                return m(o.getBody().innerHTML)
            }

            function v(e) {
                l.inArray(x, e) === -1 && (C.addAttributeFilter(e, function(e, t) {
                    for (var n = e.length; n--;) e[n].attr(t, null)
                }), x.push(e))
            }
            var y, b, C, x = ["data-mce-selected"];
            return o && (y = o.dom, b = o.schema), y = y || p, b = b || new a(e), e.entity_encoding = e.entity_encoding || "named", e.remove_trailing_brs = !("remove_trailing_brs" in e) || e.remove_trailing_brs, C = new t(e, b), C.addAttributeFilter("data-mce-tabindex", function(e, t) {
                for (var n = e.length, r; n--;) r = e[n], r.attr("tabindex", r.attributes.map["data-mce-tabindex"]), r.attr(t, null)
            }), C.addAttributeFilter("src,href,style", function(t, n) {
                for (var r = t.length, i, o, a = "data-mce-" + n, s = e.url_converter, l = e.url_converter_scope, u; r--;) i = t[r], o = i.attributes.map[a], o !== u ? (i.attr(n, o.length > 0 ? o : null), i.attr(a, null)) : (o = i.attributes.map[n], "style" === n ? o = y.serializeStyle(y.parseStyle(o), i.name) : s && (o = s.call(l, o, n, i.name)), i.attr(n, o.length > 0 ? o : null))
            }), C.addAttributeFilter("class", function(e) {
                for (var t = e.length, n, r; t--;) n = e[t], r = n.attr("class"), r && (r = n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), n.attr("class", r.length > 0 ? r : null))
            }), C.addAttributeFilter("data-mce-type", function(e, t, n) {
                for (var r = e.length, i; r--;) i = e[r], "bookmark" !== i.attributes.map["data-mce-type"] || n.cleanup || i.remove()
            }), C.addNodeFilter("noscript", function(e) {
                for (var t = e.length, n; t--;) n = e[t].firstChild, n && (n.value = r.decode(n.value))
            }), C.addNodeFilter("script,style", function(e, t) {
                function n(e) {
                    return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "")
                }
                for (var r = e.length, i, o, a; r--;) i = e[r], o = i.firstChild ? i.firstChild.value : "", "script" === t ? (a = i.attr("type"), a && i.attr("type", "mce-no/type" == a ? null : a.replace(/^mce\-/, "")), o.length > 0 && (i.firstChild.value = "// <![CDATA[\n" + n(o) + "\n// ]]>")) : o.length > 0 && (i.firstChild.value = "<!--\n" + n(o) + "\n-->")
            }), C.addNodeFilter("#comment", function(e) {
                for (var t = e.length, n; t--;) n = e[t], 0 === n.value.indexOf("[CDATA[") ? (n.name = "#cdata", n.type = 4, n.value = n.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === n.value.indexOf("mce:protected ") && (n.name = "#text", n.type = 3, n.raw = !0, n.value = unescape(n.value).substr(14))
            }), C.addNodeFilter("xml:namespace,input", function(e, t) {
                for (var n = e.length, r; n--;) r = e[n], 7 === r.type ? r.remove() : 1 === r.type && ("input" !== t || "type" in r.attributes.map || r.attr("type", "text"))
            }), C.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function(e, t) {
                for (var n = e.length; n--;) e[n].attr(t, null)
            }), {
                schema: b,
                addNodeFilter: C.addNodeFilter,
                addAttributeFilter: C.addAttributeFilter,
                serialize: function(t, n) {
                    var r = this,
                        o, a, l, p, h, m;
                    return s.ie && y.select("script,style,select,map").length > 0 ? (h = t.innerHTML, t = t.cloneNode(!1), y.setHTML(t, h)) : t = t.cloneNode(!0), o = document.implementation, o.createHTMLDocument && (a = o.createHTMLDocument(""), d("BODY" == t.nodeName ? t.childNodes : [t], function(e) {
                        a.body.appendChild(a.importNode(e, !0))
                    }), t = "BODY" != t.nodeName ? a.body.firstChild : a.body, l = y.doc, y.doc = a), n = n || {}, n.format = n.format || "html", n.selection && (n.forced_root_block = ""), n.no_events || (n.node = t, r.onPreProcess(n)), m = C.parse(f(n.getInner ? t.innerHTML : y.getOuterHTML(t)), n), c(m), p = new i(e, b), n.content = p.serialize(m), n.cleanup || (n.content = u.trim(n.content), n.content = n.content.replace(/\uFEFF/g, "")), n.no_events || r.onPostProcess(n), l && (y.doc = l), n.node = null, n.content
                },
                addRules: function(e) {
                    b.addValidElements(e)
                },
                setRules: function(e) {
                    b.setValidElements(e)
                },
                onPreProcess: function(e) {
                    o && o.fire("PreProcess", e)
                },
                onPostProcess: function(e) {
                    o && o.fire("PostProcess", e)
                },
                addTempAttr: v,
                trimHtml: h,
                getTrimmedContent: g,
                trimContent: m
            }
        }
    }), r(H, [], function() {
        function e(e) {
            function t(t, n) {
                var r, i = 0,
                    o, a, s, l, u, c, d = -1,
                    f;
                if (r = t.duplicate(), r.collapse(n), f = r.parentElement(), f.ownerDocument === e.dom.doc) {
                    for (;
                        "false" === f.contentEditable;) f = f.parentNode;
                    if (!f.hasChildNodes()) return {
                        node: f,
                        inside: 1
                    };
                    for (s = f.children, o = s.length - 1; i <= o;)
                        if (c = Math.floor((i + o) / 2), l = s[c], r.moveToElementText(l), d = r.compareEndPoints(n ? "StartToStart" : "EndToEnd", t), d > 0) o = c - 1;
                        else {
                            if (!(d < 0)) return {
                                node: l
                            };
                            i = c + 1
                        } if (d < 0)
                        for (l ? r.collapse(!1) : (r.moveToElementText(f), r.collapse(!0), l = f, a = !0), u = 0; 0 !== r.compareEndPoints(n ? "StartToStart" : "StartToEnd", t) && 0 !== r.move("character", 1) && f == r.parentElement();) u++;
                    else
                        for (r.collapse(!0), u = 0; 0 !== r.compareEndPoints(n ? "StartToStart" : "StartToEnd", t) && 0 !== r.move("character", -1) && f == r.parentElement();) u++;
                    return {
                        node: l,
                        position: d,
                        offset: u,
                        inside: a
                    }
                }
            }

            function n() {
                function n(e) {
                    var n = t(o, e),
                        r, i, s = 0,
                        l, u, c;
                    if (r = n.node, i = n.offset, n.inside && !r.hasChildNodes()) return void a[e ? "setStart" : "setEnd"](r, 0);
                    if (i === u) return void a[e ? "setStartBefore" : "setEndAfter"](r);
                    if (n.position < 0) {
                        if (l = n.inside ? r.firstChild : r.nextSibling, !l) return void a[e ? "setStartAfter" : "setEndAfter"](r);
                        if (!i) return void(3 == l.nodeType ? a[e ? "setStart" : "setEnd"](l, 0) : a[e ? "setStartBefore" : "setEndBefore"](l));
                        for (; l;) {
                            if (3 == l.nodeType && (c = l.nodeValue, s += c.length, s >= i)) {
                                r = l, s -= i, s = c.length - s;
                                break
                            }
                            l = l.nextSibling
                        }
                    } else {
                        if (l = r.previousSibling, !l) return a[e ? "setStartBefore" : "setEndBefore"](r);
                        if (!i) return void(3 == r.nodeType ? a[e ? "setStart" : "setEnd"](l, r.nodeValue.length) : a[e ? "setStartAfter" : "setEndAfter"](l));
                        for (; l;) {
                            if (3 == l.nodeType && (s += l.nodeValue.length, s >= i)) {
                                r = l, s -= i;
                                break
                            }
                            l = l.previousSibling
                        }
                    }
                    a[e ? "setStart" : "setEnd"](r, s)
                }
                var o = e.getRng(),
                    a = i.createRng(),
                    s, l, u, c, d;
                if (s = o.item ? o.item(0) : o.parentElement(), s.ownerDocument != i.doc) return a;
                if (l = e.isCollapsed(), o.item) return a.setStart(s.parentNode, i.nodeIndex(s)), a.setEnd(a.startContainer, a.startOffset + 1), a;
                try {
                    n(!0), l || n()
                } catch (f) {
                    if (f.number != -2147024809) throw f;
                    d = r.getBookmark(2), u = o.duplicate(), u.collapse(!0), s = u.parentElement(), l || (u = o.duplicate(), u.collapse(!1), c = u.parentElement(), c.innerHTML = c.innerHTML), s.innerHTML = s.innerHTML, r.moveToBookmark(d), o = e.getRng(), n(!0), l || n()
                }
                return a
            }
            var r = this,
                i = e.dom,
                o = !1;
            this.getBookmark = function(n) {
                function r(e) {
                    var t, n, r, o, a = [];
                    for (t = e.parentNode, n = i.getRoot().parentNode; t != n && 9 !== t.nodeType;) {
                        for (r = t.children, o = r.length; o--;)
                            if (e === r[o]) {
                                a.push(o);
                                break
                            } e = t, t = t.parentNode
                    }
                    return a
                }

                function o(e) {
                    var n;
                    if (n = t(a, e)) return {
                        position: n.position,
                        offset: n.offset,
                        indexes: r(n.node),
                        inside: n.inside
                    }
                }
                var a = e.getRng(),
                    s = {};
                return 2 === n && (a.item ? s.start = {
                    ctrl: !0,
                    indexes: r(a.item(0))
                } : (s.start = o(!0), e.isCollapsed() || (s.end = o()))), s
            }, this.moveToBookmark = function(e) {
                function t(e) {
                    var t, n, r, o;
                    for (t = i.getRoot(), n = e.length - 1; n >= 0; n--) o = t.children, r = e[n], r <= o.length - 1 && (t = o[r]);
                    return t
                }

                function n(n) {
                    var i = e[n ? "start" : "end"],
                        a, s, l, u;
                    i && (a = i.position > 0, s = o.createTextRange(), s.moveToElementText(t(i.indexes)), u = i.offset, u !== l ? (s.collapse(i.inside || a), s.moveStart("character", a ? -u : u)) : s.collapse(n), r.setEndPoint(n ? "StartToStart" : "EndToStart", s), n && r.collapse(!0))
                }
                var r, o = i.doc.body;
                e.start && (e.start.ctrl ? (r = o.createControlRange(), r.addElement(t(e.start.indexes)), r.select()) : (r = o.createTextRange(), n(!0), n(), r.select()))
            }, this.addRange = function(t) {
                function n(e) {
                    var t, n, a, d, h;
                    a = i.create("a"), t = e ? s : u, n = e ? l : c, d = r.duplicate(), t != f && t != f.documentElement || (t = p, n = 0), 3 == t.nodeType ? (t.parentNode.insertBefore(a, t), d.moveToElementText(a), d.moveStart("character", n), i.remove(a), r.setEndPoint(e ? "StartToStart" : "EndToEnd", d)) : (h = t.childNodes, h.length ? (n >= h.length ? i.insertAfter(a, h[h.length - 1]) : t.insertBefore(a, h[n]), d.moveToElementText(a)) : t.canHaveHTML && (t.innerHTML = "<span>&#xFEFF;</span>", a = t.firstChild, d.moveToElementText(a), d.collapse(o)), r.setEndPoint(e ? "StartToStart" : "EndToEnd", d), i.remove(a))
                }
                var r, a, s, l, u, c, d, f = e.dom.doc,
                    p = f.body,
                    h, m;
                if (s = t.startContainer, l = t.startOffset, u = t.endContainer, c = t.endOffset, r = p.createTextRange(), s == u && 1 == s.nodeType) {
                    if (l == c && !s.hasChildNodes()) {
                        if (s.canHaveHTML) return d = s.previousSibling, d && !d.hasChildNodes() && i.isBlock(d) ? d.innerHTML = "&#xFEFF;" : d = null, s.innerHTML = "<span>&#xFEFF;</span><span>&#xFEFF;</span>", r.moveToElementText(s.lastChild), r.select(), i.doc.selection.clear(), s.innerHTML = "", void(d && (d.innerHTML = ""));
                        l = i.nodeIndex(s), s = s.parentNode
                    }
                    if (l == c - 1) try {
                        if (m = s.childNodes[l], a = p.createControlRange(), a.addElement(m), a.select(), h = e.getRng(), h.item && m === h.item(0)) return
                    } catch (g) {}
                }
                n(!0), n(), r.select()
            }, this.getRangeAt = n
        }
        return e
    }), r(I, [d], function(e) {
        return {
            BACKSPACE: 8,
            DELETE: 46,
            DOWN: 40,
            ENTER: 13,
            LEFT: 37,
            RIGHT: 39,
            SPACEBAR: 32,
            TAB: 9,
            UP: 38,
            modifierPressed: function(e) {
                return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e)
            },
            metaKeyPressed: function(t) {
                return e.mac ? t.metaKey : t.ctrlKey && !t.altKey
            }
        }
    }), r(F, [I, m, c, d, _], function(e, t, n, r, i) {
        function o(e, t) {
            for (; t && t != e;) {
                if (s(t) || a(t)) return t;
                t = t.parentNode
            }
            return null
        }
        var a = i.isContentEditableFalse,
            s = i.isContentEditableTrue;
        return function(i, s) {
            function l(e) {
                var t = s.settings.object_resizing;
                return t !== !1 && !r.iOS && ("string" != typeof t && (t = "table,img,div"), "false" !== e.getAttribute("data-mce-resize") && (e != s.getBody() && s.dom.is(e, t)))
            }

            function u(t) {
                var n, r, i, o, a;
                n = t.screenX - L, r = t.screenY - M, U = n * B[2] + H, W = r * B[3] + I, U = U < 5 ? 5 : U, W = W < 5 ? 5 : W, i = "IMG" == k.nodeName && s.settings.resize_img_proportional !== !1 ? !e.modifierPressed(t) : e.modifierPressed(t) || "IMG" == k.nodeName && B[2] * B[3] !== 0, i && (j(n) > j(r) ? (W = Y(U * F), U = Y(W / F)) : (U = Y(W / F), W = Y(U * F))), _.setStyles(T, {
                    width: U,
                    height: W
                }), o = B.startPos.x + n, a = B.startPos.y + r, o = o > 0 ? o : 0, a = a > 0 ? a : 0, _.setStyles(R, {
                    left: o,
                    top: a,
                    display: "block"
                }), R.innerHTML = U + " &times; " + W, B[2] < 0 && T.clientWidth <= U && _.setStyle(T, "left", P + (H - U)), B[3] < 0 && T.clientHeight <= W && _.setStyle(T, "top", O + (I - W)), n = X.scrollWidth - K, r = X.scrollHeight - G, n + r !== 0 && _.setStyles(R, {
                    left: o - n,
                    top: a - r
                }), z || (s.fire("ObjectResizeStart", {
                    target: k,
                    width: H,
                    height: I
                }), z = !0)
            }

            function c() {
                function e(e, t) {
                    t && (k.style[e] || !s.schema.isValid(k.nodeName.toLowerCase(), e) ? _.setStyle(k, e, t) : _.setAttrib(k, e, t))
                }
                z = !1, e("width", U), e("height", W), _.unbind(V, "mousemove", u), _.unbind(V, "mouseup", c), $ != V && (_.unbind($, "mousemove", u), _.unbind($, "mouseup", c)), _.remove(T), _.remove(R), q && "TABLE" != k.nodeName || d(k), s.fire("ObjectResized", {
                    target: k,
                    width: U,
                    height: W
                }), _.setAttrib(k, "style", _.getAttrib(k, "style")), s.nodeChanged()
            }

            function d(e, t, n) {
                var i, o, a, d, p;
                f(), x(), i = _.getPos(e, X), P = i.x, O = i.y, p = e.getBoundingClientRect(), o = p.width || p.right - p.left, a = p.height || p.bottom - p.top, k != e && (C(), k = e, U = W = 0), d = s.fire("ObjectSelected", {
                    target: e
                }), l(e) && !d.isDefaultPrevented() ? S(A, function(e, i) {
                    function s(t) {
                        L = t.screenX, M = t.screenY, H = k.clientWidth, I = k.clientHeight, F = I / H, B = e, e.startPos = {
                            x: o * e[0] + P,
                            y: a * e[1] + O
                        }, K = X.scrollWidth, G = X.scrollHeight, T = k.cloneNode(!0), _.addClass(T, "mce-clonedresizable"), _.setAttrib(T, "data-mce-bogus", "all"), T.contentEditable = !1, T.unSelectabe = !0, _.setStyles(T, {
                            left: P,
                            top: O,
                            margin: 0
                        }), T.removeAttribute("data-mce-selected"), X.appendChild(T), _.bind(V, "mousemove", u), _.bind(V, "mouseup", c), $ != V && (_.bind($, "mousemove", u), _.bind($, "mouseup", c)), R = _.add(X, "div", {
                            "class": "mce-resize-helper",
                            "data-mce-bogus": "all"
                        }, H + " &times; " + I)
                    }
                    var l;
                    return t ? void(i == t && s(n)) : (l = _.get("mceResizeHandle" + i), l && _.remove(l), l = _.add(X, "div", {
                        id: "mceResizeHandle" + i,
                        "data-mce-bogus": "all",
                        "class": "mce-resizehandle",
                        unselectable: !0,
                        style: "cursor:" + i + "-resize; margin:0; padding:0"
                    }), r.ie && (l.contentEditable = !1), _.bind(l, "mousedown", function(e) {
                        e.stopImmediatePropagation(), e.preventDefault(), s(e)
                    }), e.elm = l, void _.setStyles(l, {
                        left: o * e[0] + P - l.offsetWidth / 2,
                        top: a * e[1] + O - l.offsetHeight / 2
                    }))
                }) : f(), k.setAttribute("data-mce-selected", "1")
            }

            function f() {
                var e, t;
                x(), k && k.removeAttribute("data-mce-selected");
                for (e in A) t = _.get("mceResizeHandle" + e), t && (_.unbind(t), _.remove(t))
            }

            function p(e) {
                function t(e, t) {
                    if (e)
                        do
                            if (e === t) return !0; while (e = e.parentNode)
                }
                var n, r;
                if (!z && !s.removed) return S(_.select("img[data-mce-selected],hr[data-mce-selected]"), function(e) {
                    e.removeAttribute("data-mce-selected")
                }), r = "mousedown" == e.type ? e.target : i.getNode(), r = _.$(r).closest(q ? "table" : "table,img,hr")[0], t(r, X) && (w(), n = i.getStart(!0), t(n, r) && t(i.getEnd(!0), r) && (!q || r != n && "IMG" !== n.nodeName)) ? void d(r) : void f()
            }

            function h(e, t, n) {
                e && e.attachEvent && e.attachEvent("on" + t, n)
            }

            function m(e, t, n) {
                e && e.detachEvent && e.detachEvent("on" + t, n)
            }

            function g(e) {
                var t = e.srcElement,
                    n, r, i, o, a, l, u;
                n = t.getBoundingClientRect(), l = D.clientX - n.left, u = D.clientY - n.top;
                for (r in A)
                    if (i = A[r], o = t.offsetWidth * i[0], a = t.offsetHeight * i[1], j(o - l) < 8 && j(a - u) < 8) {
                        B = i;
                        break
                    } z = !0, s.fire("ObjectResizeStart", {
                    target: k,
                    width: k.clientWidth,
                    height: k.clientHeight
                }), s.getDoc().selection.empty(), d(t, r, D)
            }

            function v(e) {
                e.preventDefault ? e.preventDefault() : e.returnValue = !1
            }

            function y(e) {
                return a(o(s.getBody(), e))
            }

            function b(e) {
                var t = e.srcElement;
                if (y(t)) return void v(e);
                if (t != k) {
                    if (s.fire("ObjectSelected", {
                            target: t
                        }), C(), 0 === t.id.indexOf("mceResizeHandle")) return void(e.returnValue = !1);
                    "IMG" != t.nodeName && "TABLE" != t.nodeName || (f(), k = t, h(t, "resizestart", g))
                }
            }

            function C() {
                m(k, "resizestart", g)
            }

            function x() {
                for (var e in A) {
                    var t = A[e];
                    t.elm && (_.unbind(t.elm), delete t.elm)
                }
            }

            function w() {
                try {
                    s.getDoc().execCommand("enableObjectResizing", !1, !1)
                } catch (e) {}
            }

            function E(e) {
                var t;
                if (q) {
                    t = V.body.createControlRange();
                    try {
                        return t.addElement(e), t.select(), !0
                    } catch (n) {}
                }
            }

            function N() {
                k = T = null, q && (C(), m(X, "controlselect", b))
            }
            var _ = s.dom,
                S = t.each,
                k, T, R, A, B, D, L, M, P, O, H, I, F, z, U, W, V = s.getDoc(),
                $ = document,
                q = r.ie && r.ie < 11,
                j = Math.abs,
                Y = Math.round,
                X = s.getBody(),
                K, G;
            A = {
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
            };
            var J = ".mce-content-body";
            return s.contentStyles.push(J + " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}" + J + " .mce-resizehandle:hover {background: #000}" + J + " img[data-mce-selected]," + J + " hr[data-mce-selected] {outline: 1px solid black;resize: none}" + J + " .mce-clonedresizable {position: absolute;" + (r.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" + J + " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"), s.on("init", function() {
                q ? (s.on("ObjectResized", function(e) {
                    "TABLE" != e.target.nodeName && (f(), E(e.target))
                }), h(X, "controlselect", b), s.on("mousedown", function(e) {
                    D = e
                })) : (w(), r.ie >= 11 && (s.on("mousedown click", function(e) {
                    var t = e.target,
                        n = t.nodeName;
                    z || !/^(TABLE|IMG|HR)$/.test(n) || y(t) || (s.selection.select(t, "TABLE" == n), "mousedown" == e.type && s.nodeChanged())
                }), s.dom.bind(X, "mscontrolselect", function(e) {
                    function t(e) {
                        n.setEditorTimeout(s, function() {
                            s.selection.select(e)
                        })
                    }
                    return y(e.target) ? (e.preventDefault(), void t(e.target)) : void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" == e.target.tagName && t(e.target)))
                })));
                var e = n.throttle(function(e) {
                    s.composing || p(e)
                });
                s.on("nodechange ResizeEditor ResizeWindow drop", e), s.on("keyup compositionend", function(t) {
                    k && "TABLE" == k.nodeName && e(t)
                }), s.on("hide blur", f)
            }), s.on("remove", x), {
                isResizable: l,
                showResizeRect: d,
                hideResizeRect: f,
                updateResizeRect: p,
                controlSelect: E,
                destroy: N
            }
        }
    }), r(z, [], function() {
        function e(e) {
            return function() {
                return e
            }
        }

        function t(e) {
            return function(t) {
                return !e(t)
            }
        }

        function n(e, t) {
            return function(n) {
                return e(t(n))
            }
        }

        function r() {
            var e = s.call(arguments);
            return function(t) {
                for (var n = 0; n < e.length; n++)
                    if (e[n](t)) return !0;
                return !1
            }
        }

        function i() {
            var e = s.call(arguments);
            return function(t) {
                for (var n = 0; n < e.length; n++)
                    if (!e[n](t)) return !1;
                return !0
            }
        }

        function o(e) {
            var t = s.call(arguments);
            return t.length - 1 >= e.length ? e.apply(this, t.slice(1)) : function() {
                var e = t.concat([].slice.call(arguments));
                return o.apply(this, e)
            }
        }

        function a() {}
        var s = [].slice;
        return {
            constant: e,
            negate: t,
            and: i,
            or: r,
            curry: o,
            compose: n,
            noop: a
        }
    }), r(U, [_, h, k], function(e, t, n) {
        function r(e) {
            return !m(e) && (d(e) ? !f(e.parentNode) : p(e) || c(e) || h(e) || u(e))
        }

        function i(e, t) {
            for (e = e.parentNode; e && e != t; e = e.parentNode) {
                if (u(e)) return !1;
                if (l(e)) return !0
            }
            return !0
        }

        function o(e) {
            return !!u(e) && t.reduce(e.getElementsByTagName("*"), function(e, t) {
                return e || l(t)
            }, !1) !== !0
        }

        function a(e) {
            return p(e) || o(e)
        }

        function s(e, t) {
            return r(e) && i(e, t)
        }
        var l = e.isContentEditableTrue,
            u = e.isContentEditableFalse,
            c = e.isBr,
            d = e.isText,
            f = e.matchNodeNames("script style textarea"),
            p = e.matchNodeNames("img input textarea hr iframe video audio object"),
            h = e.matchNodeNames("table"),
            m = n.isCaretContainer;
        return {
            isCaretCandidate: r,
            isInEditable: i,
            isAtomic: a,
            isEditableCaretCandidate: s
        }
    }), r(W, [], function() {
        function e(e) {
            return e ? {
                left: c(e.left),
                top: c(e.top),
                bottom: c(e.bottom),
                right: c(e.right),
                width: c(e.width),
                height: c(e.height)
            } : {
                left: 0,
                top: 0,
                bottom: 0,
                right: 0,
                width: 0,
                height: 0
            }
        }

        function t(t, n) {
            return t = e(t), n ? t.right = t.left : (t.left = t.left + t.width, t.right = t.left), t.width = 0, t
        }

        function n(e, t) {
            return e.left === t.left && e.top === t.top && e.bottom === t.bottom && e.right === t.right
        }

        function r(e, t, n) {
            return e >= 0 && e <= Math.min(t.height, n.height) / 2
        }

        function i(e, t) {
            return e.bottom < t.top || !(e.top > t.bottom) && r(t.top - e.bottom, e, t)
        }

        function o(e, t) {
            return e.top > t.bottom || !(e.bottom < t.top) && r(t.bottom - e.top, e, t)
        }

        function a(e, t) {
            return e.left < t.left
        }

        function s(e, t) {
            return e.right > t.right
        }

        function l(e, t) {
            return i(e, t) ? -1 : o(e, t) ? 1 : a(e, t) ? -1 : s(e, t) ? 1 : 0
        }

        function u(e, t, n) {
            return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom
        }
        var c = Math.round;
        return {
            clone: e,
            collapse: t,
            isEqual: n,
            isAbove: i,
            isBelow: o,
            isLeft: a,
            isRight: s,
            compare: l,
            containsXY: u
        }
    }), r(V, [], function() {
        function e(e) {
            return "string" == typeof e && e.charCodeAt(0) >= 768 && t.test(e)
        }
        var t = new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
        return {
            isExtendingChar: e
        }
    }), r($, [z, _, w, T, U, W, V], function(e, t, n, r, i, o, a) {
        function s(e) {
            return "createRange" in e ? e.createRange() : n.DOM.createRng()
        }

        function l(e) {
            return e && /[\r\n\t ]/.test(e)
        }

        function u(e) {
            var t = e.startContainer,
                n = e.startOffset,
                r;
            return !!(l(e.toString()) && v(t.parentNode) && (r = t.data, l(r[n - 1]) || l(r[n + 1])))
        }

        function c(e) {
            function t(e) {
                var t = e.ownerDocument,
                    n = s(t),
                    r = t.createTextNode("\xa0"),
                    i = e.parentNode,
                    a;
                return i.insertBefore(r, e), n.setStart(r, 0), n.setEnd(r, 1), a = o.clone(n.getBoundingClientRect()), i.removeChild(r), a
            }

            function n(e) {
                var n, r;
                return r = e.getClientRects(), n = r.length > 0 ? o.clone(r[0]) : o.clone(e.getBoundingClientRect()), b(e) && 0 === n.left ? t(e) : n
            }

            function r(e, t) {
                return e = o.collapse(e, t), e.width = 1, e.right = e.left + 1, e
            }

            function i(e) {
                0 !== e.height && (c.length > 0 && o.isEqual(e, c[c.length - 1]) || c.push(e))
            }

            function l(e, t) {
                var o = s(e.ownerDocument);
                if (t < e.data.length) {
                    if (a.isExtendingChar(e.data[t])) return c;
                    if (a.isExtendingChar(e.data[t - 1]) && (o.setStart(e, t), o.setEnd(e, t + 1), !u(o))) return i(r(n(o), !1)), c
                }
                t > 0 && (o.setStart(e, t - 1), o.setEnd(e, t), u(o) || i(r(n(o), !1))), t < e.data.length && (o.setStart(e, t), o.setEnd(e, t + 1), u(o) || i(r(n(o), !0)))
            }
            var c = [],
                d, p;
            if (y(e.container())) return l(e.container(), e.offset()), c;
            if (f(e.container()))
                if (e.isAtEnd()) p = x(e.container(), e.offset()), y(p) && l(p, p.data.length), g(p) && !b(p) && i(r(n(p), !1));
                else {
                    if (p = x(e.container(), e.offset()), y(p) && l(p, 0), g(p) && e.isAtEnd()) return i(r(n(p), !1)), c;
                    d = x(e.container(), e.offset() - 1), g(d) && !b(d) && (h(d) || h(p) || !g(p)) && i(r(n(d), !1)), g(p) && i(r(n(p), !0))
                } return c
        }

        function d(t, n, r) {
            function i() {
                return y(t) ? 0 === n : 0 === n
            }

            function o() {
                return y(t) ? n >= t.data.length : n >= t.childNodes.length
            }

            function a() {
                var e;
                return e = s(t.ownerDocument), e.setStart(t, n), e.setEnd(t, n), e
            }

            function l() {
                return r || (r = c(new d(t, n))), r
            }

            function u() {
                return l().length > 0
            }

            function f(e) {
                return e && t === e.container() && n === e.offset()
            }

            function p(e) {
                return x(t, e ? n - 1 : n)
            }
            return {
                container: e.constant(t),
                offset: e.constant(n),
                toRange: a,
                getClientRects: l,
                isVisible: u,
                isAtStart: i,
                isAtEnd: o,
                isEqual: f,
                getNode: p
            }
        }
        var f = t.isElement,
            p = i.isCaretCandidate,
            h = t.matchStyleValues("display", "block table"),
            m = t.matchStyleValues("float", "left right"),
            g = e.and(f, p, e.negate(m)),
            v = e.negate(t.matchStyleValues("white-space", "pre pre-line pre-wrap")),
            y = t.isText,
            b = t.isBr,
            C = n.nodeIndex,
            x = r.getNode;
        return d.fromRangeStart = function(e) {
            return new d(e.startContainer, e.startOffset)
        }, d.fromRangeEnd = function(e) {
            return new d(e.endContainer, e.endOffset)
        }, d.after = function(e) {
            return new d(e.parentNode, C(e) + 1)
        }, d.before = function(e) {
            return new d(e.parentNode, C(e))
        }, d
    }), r(q, [_, w, z, h, $], function(e, t, n, r, i) {
        function o(e) {
            var t = e.parentNode;
            return v(t) ? o(t) : t
        }

        function a(e) {
            return e ? r.reduce(e.childNodes, function(e, t) {
                return v(t) && "BR" != t.nodeName ? e = e.concat(a(t)) : e.push(t), e
            }, []) : []
        }

        function s(e, t) {
            for (;
                (e = e.previousSibling) && g(e);) t += e.data.length;
            return t
        }

        function l(e) {
            return function(t) {
                return e === t
            }
        }

        function u(t) {
            var n, i, s;
            return n = a(o(t)), i = r.findIndex(n, l(t), t), n = n.slice(0, i + 1), s = r.reduce(n, function(e, t, r) {
                return g(t) && g(n[r - 1]) && e++, e
            }, 0), n = r.filter(n, e.matchNodeNames(t.nodeName)), i = r.findIndex(n, l(t), t), i - s
        }

        function c(e) {
            var t;
            return t = g(e) ? "text()" : e.nodeName.toLowerCase(), t + "[" + u(e) + "]"
        }

        function d(e, t, n) {
            var r = [];
            for (t = t.parentNode; t != e && (!n || !n(t)); t = t.parentNode) r.push(t);
            return r
        }

        function f(t, i) {
            var o, a, l = [],
                u, f, p;
            return o = i.container(), a = i.offset(), g(o) ? u = s(o, a) : (f = o.childNodes, a >= f.length ? (u = "after", a = f.length - 1) : u = "before", o = f[a]), l.push(c(o)), p = d(t, o), p = r.filter(p, n.negate(e.isBogus)), l = l.concat(r.map(p, function(e) {
                return c(e)
            })), l.reverse().join("/") + "," + u
        }

        function p(t, n, i) {
            var o = a(t);
            return o = r.filter(o, function(e, t) {
                return !g(e) || !g(o[t - 1])
            }), o = r.filter(o, e.matchNodeNames(n)), o[i]
        }

        function h(e, t) {
            for (var n = e, r = 0, o; g(n);) {
                if (o = n.data.length, t >= r && t <= r + o) {
                    e = n, t -= r;
                    break
                }
                if (!g(n.nextSibling)) {
                    e = n, t = o;
                    break
                }
                r += o, n = n.nextSibling
            }
            return t > e.data.length && (t = e.data.length), new i(e, t)
        }

        function m(e, t) {
            var n, o, a;
            return t ? (n = t.split(","), t = n[0].split("/"), a = n.length > 1 ? n[1] : "before", o = r.reduce(t, function(e, t) {
                return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), p(e, t[1], parseInt(t[2], 10))) : null
            }, e), o ? g(o) ? h(o, parseInt(a, 10)) : (a = "after" === a ? y(o) + 1 : y(o), new i(o.parentNode, a)) : null) : null
        }
        var g = e.isText,
            v = e.isBogus,
            y = t.nodeIndex;
        return {
            create: f,
            resolve: m
        }
    }), r(j, [d, m, k, q, $, _, T], function(e, t, n, r, i, o, a) {
        function s(s) {
            var u = s.dom;
            this.getBookmark = function(e, c) {
                function d(e, n) {
                    var r = 0;
                    return t.each(u.select(e), function(e) {
                        if ("all" !== e.getAttribute("data-mce-bogus")) return e != n && void r++
                    }), r
                }

                function f(e) {
                    function t(t) {
                        var n, r, i, o = t ? "start" : "end";
                        n = e[o + "Container"], r = e[o + "Offset"], 1 == n.nodeType && "TR" == n.nodeName && (i = n.childNodes, n = i[Math.min(t ? r : r - 1, i.length - 1)], n && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r)))
                    }
                    return t(!0), t(), e
                }

                function p(e) {
                    function t(e, t) {
                        var r = e[t ? "startContainer" : "endContainer"],
                            i = e[t ? "startOffset" : "endOffset"],
                            o = [],
                            a, s, l = 0;
                        if (3 == r.nodeType) {
                            if (c)
                                for (a = r.previousSibling; a && 3 == a.nodeType; a = a.previousSibling) i += a.nodeValue.length;
                            o.push(i)
                        } else s = r.childNodes, i >= s.length && s.length && (l = 1, i = Math.max(0, s.length - 1)), o.push(u.nodeIndex(s[i], c) + l);
                        for (; r && r != n; r = r.parentNode) o.push(u.nodeIndex(r, c));
                        return o
                    }
                    var n = u.getRoot(),
                        r = {};
                    return r.start = t(e, !0), s.isCollapsed() || (r.end = t(e)), r
                }

                function h(e) {
                    function t(e, t) {
                        var r;
                        if (o.isElement(e) && (e = a.getNode(e, t), l(e))) return e;
                        if (n.isCaretContainer(e)) {
                            if (o.isText(e) && n.isCaretContainerBlock(e) && (e = e.parentNode), r = e.previousSibling, l(r)) return r;
                            if (r = e.nextSibling, l(r)) return r
                        }
                    }
                    return t(e.startContainer, e.startOffset) || t(e.endContainer, e.endOffset)
                }
                var m, g, v, y, b, C, x = "&#xFEFF;",
                    w;
                if (2 == e) return C = s.getNode(), b = C ? C.nodeName : null, m = s.getRng(), l(C) || "IMG" == b ? {
                    name: b,
                    index: d(b, C)
                } : s.tridentSel ? s.tridentSel.getBookmark(e) : (C = h(m), C ? (b = C.tagName, {
                    name: b,
                    index: d(b, C)
                }) : p(m));
                if (3 == e) return m = s.getRng(), {
                    start: r.create(u.getRoot(), i.fromRangeStart(m)),
                    end: r.create(u.getRoot(), i.fromRangeEnd(m))
                };
                if (e) return {
                    rng: s.getRng()
                };
                if (m = s.getRng(), v = u.uniqueId(), y = s.isCollapsed(), w = "overflow:hidden;line-height:0px", m.duplicate || m.item) {
                    if (m.item) return C = m.item(0), b = C.nodeName, {
                        name: b,
                        index: d(b, C)
                    };
                    g = m.duplicate();
                    try {
                        m.collapse(), m.pasteHTML('<span data-mce-type="bookmark" id="' + v + '_start" style="' + w + '">' + x + "</span>"), y || (g.collapse(!1), m.moveToElementText(g.parentElement()), 0 === m.compareEndPoints("StartToEnd", g) && g.move("character", -1), g.pasteHTML('<span data-mce-type="bookmark" id="' + v + '_end" style="' + w + '">' + x + "</span>"))
                    } catch (E) {
                        return null
                    }
                } else {
                    if (C = s.getNode(), b = C.nodeName, "IMG" == b) return {
                        name: b,
                        index: d(b, C)
                    };
                    g = f(m.cloneRange()), y || (g.collapse(!1), g.insertNode(u.create("span", {
                        "data-mce-type": "bookmark",
                        id: v + "_end",
                        style: w
                    }, x))), m = f(m), m.collapse(!0), m.insertNode(u.create("span", {
                        "data-mce-type": "bookmark",
                        id: v + "_start",
                        style: w
                    }, x))
                }
                return s.moveToBookmark({
                    id: v,
                    keep: 1
                }), {
                    id: v
                }
            }, this.moveToBookmark = function(n) {
                function i(e) {
                    var t = n[e ? "start" : "end"],
                        r, i, o, a;
                    if (t) {
                        for (o = t[0], i = d, r = t.length - 1; r >= 1; r--) {
                            if (a = i.childNodes, t[r] > a.length - 1) return;
                            i = a[t[r]]
                        }
                        3 === i.nodeType && (o = Math.min(t[0], i.nodeValue.length)), 1 === i.nodeType && (o = Math.min(t[0], i.childNodes.length)), e ? c.setStart(i, o) : c.setEnd(i, o)
                    }
                    return !0
                }

                function o(r) {
                    var i = u.get(n.id + "_" + r),
                        o, a, s, l, c = n.keep;
                    if (i && (o = i.parentNode, "start" == r ? (c ? (o = i.firstChild, a = 1) : a = u.nodeIndex(i), f = p = o, h = m = a) : (c ? (o = i.firstChild, a = 1) : a = u.nodeIndex(i), p = o, m = a), !c)) {
                        for (l = i.previousSibling, s = i.nextSibling, t.each(t.grep(i.childNodes), function(e) {
                                3 == e.nodeType && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""))
                            }); i = u.get(n.id + "_" + r);) u.remove(i, 1);
                        l && s && l.nodeType == s.nodeType && 3 == l.nodeType && !e.opera && (a = l.nodeValue.length, l.appendData(s.nodeValue), u.remove(s), "start" == r ? (f = p = l, h = m = a) : (p = l, m = a))
                    }
                }

                function a(t) {
                    return !u.isBlock(t) || t.innerHTML || e.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t
                }

                function l() {
                    var e, t;
                    return e = u.createRng(), t = r.resolve(u.getRoot(), n.start), e.setStart(t.container(), t.offset()), t = r.resolve(u.getRoot(), n.end), e.setEnd(t.container(), t.offset()), e
                }
                var c, d, f, p, h, m;
                if (n)
                    if (t.isArray(n.start)) {
                        if (c = u.createRng(), d = u.getRoot(), s.tridentSel) return s.tridentSel.moveToBookmark(n);
                        i(!0) && i() && s.setRng(c)
                    } else "string" == typeof n.start ? s.setRng(l(n)) : n.id ? (o("start"), o("end"), f && (c = u.createRng(), c.setStart(a(f), h), c.setEnd(a(p), m), s.setRng(c))) : n.name ? s.select(u.select(n.name)[n.index]) : n.rng && s.setRng(n.rng)
            }
        }
        var l = o.isContentEditableFalse;
        return s.isBookmarkNode = function(e) {
            return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type")
        }, s
    }), r(Y, [y, H, F, T, j, _, d, m, $], function(e, n, r, i, o, a, s, l, u) {
        function c(e, t, i, a) {
            var s = this;
            s.dom = e, s.win = t, s.serializer = i, s.editor = a, s.bookmarkManager = new o(s), s.controlSelection = new r(s, a), s.win.getSelection || (s.tridentSel = new n(s))
        }
        var d = l.each,
            f = l.trim,
            p = s.ie;
        return c.prototype = {
            setCursorLocation: function(e, t) {
                var n = this,
                    r = n.dom.createRng();
                e ? (r.setStart(e, t), r.setEnd(e, t), n.setRng(r), n.collapse(!1)) : (n._moveEndPoint(r, n.editor.getBody(), !0), n.setRng(r))
            },
            getContent: function(e) {
                var n = this,
                    r = n.getRng(),
                    i = n.dom.create("body"),
                    o = n.getSel(),
                    a, s, l;
                return e = e || {}, a = s = "", e.get = !0, e.format = e.format || "html", e.selection = !0, n.editor.fire("BeforeGetContent", e), "text" == e.format ? n.isCollapsed() ? "" : r.text || (o.toString ? o.toString() : "") : (r.cloneContents ? (l = r.cloneContents(), l && i.appendChild(l)) : r.item !== t || r.htmlText !== t ? (i.innerHTML = "<br>" + (r.item ? r.item(0).outerHTML : r.htmlText), i.removeChild(i.firstChild)) : i.innerHTML = r.toString(), /^\s/.test(i.innerHTML) && (a = " "), /\s+$/.test(i.innerHTML) && (s = " "), e.getInner = !0, e.content = n.isCollapsed() ? "" : a + n.serializer.serialize(i, e) + s, n.editor.fire("GetContent", e), e.content)
            },
            setContent: function(e, t) {
                var n = this,
                    r = n.getRng(),
                    i, o = n.win.document,
                    a, s;
                if (t = t || {
                        format: "html"
                    }, t.set = !0, t.selection = !0, t.content = e, t.no_events || n.editor.fire("BeforeSetContent", t), e = t.content, r.insertNode) {
                    e += '<span id="__caret">_</span>', r.startContainer == o && r.endContainer == o ? o.body.innerHTML = e : (r.deleteContents(), 0 === o.body.childNodes.length ? o.body.innerHTML = e : r.createContextualFragment ? r.insertNode(r.createContextualFragment(e)) : (a = o.createDocumentFragment(), s = o.createElement("div"), a.appendChild(s), s.outerHTML = e, r.insertNode(a))), i = n.dom.get("__caret"), r = o.createRange(), r.setStartBefore(i), r.setEndBefore(i), n.setRng(r), n.dom.remove("__caret");
                    try {
                        n.setRng(r)
                    } catch (l) {}
                } else r.item && (o.execCommand("Delete", !1, null), r = n.getRng()), /^\s+/.test(e) ? (r.pasteHTML('<span id="__mce_tmp">_</span>' + e), n.dom.remove("__mce_tmp")) : r.pasteHTML(e);
                t.no_events || n.editor.fire("SetContent", t)
            },
            getStart: function(e) {
                var t = this,
                    n = t.getRng(),
                    r, i, o, a;
                if (n.duplicate || n.item) {
                    if (n.item) return n.item(0);
                    for (o = n.duplicate(), o.collapse(1), r = o.parentElement(), r.ownerDocument !== t.dom.doc && (r = t.dom.getRoot()), i = a = n.parentElement(); a = a.parentNode;)
                        if (a == r) {
                            r = i;
                            break
                        } return r
                }
                return r = n.startContainer, 1 == r.nodeType && r.hasChildNodes() && (e && n.collapsed || (r = r.childNodes[Math.min(r.childNodes.length - 1, n.startOffset)])), r && 3 == r.nodeType ? r.parentNode : r
            },
            getEnd: function(e) {
                var t = this,
                    n = t.getRng(),
                    r, i;
                return n.duplicate || n.item ? n.item ? n.item(0) : (n = n.duplicate(), n.collapse(0), r = n.parentElement(), r.ownerDocument !== t.dom.doc && (r = t.dom.getRoot()), r && "BODY" == r.nodeName ? r.lastChild || r : r) : (r = n.endContainer, i = n.endOffset, 1 == r.nodeType && r.hasChildNodes() && (e && n.collapsed || (r = r.childNodes[i > 0 ? i - 1 : i])), r && 3 == r.nodeType ? r.parentNode : r)
            },
            getBookmark: function(e, t) {
                return this.bookmarkManager.getBookmark(e, t)
            },
            moveToBookmark: function(e) {
                return this.bookmarkManager.moveToBookmark(e)
            },
            select: function(e, t) {
                var n = this,
                    r = n.dom,
                    i = r.createRng(),
                    o;
                if (n.lastFocusBookmark = null, e) {
                    if (!t && n.controlSelection.controlSelect(e)) return;
                    o = r.nodeIndex(e), i.setStart(e.parentNode, o), i.setEnd(e.parentNode, o + 1), t && (n._moveEndPoint(i, e, !0), n._moveEndPoint(i, e)), n.setRng(i)
                }
                return e
            },
            isCollapsed: function() {
                var e = this,
                    t = e.getRng(),
                    n = e.getSel();
                return !(!t || t.item) && (t.compareEndPoints ? 0 === t.compareEndPoints("StartToEnd", t) : !n || t.collapsed)
            },
            collapse: function(e) {
                var t = this,
                    n = t.getRng(),
                    r;
                n.item && (r = n.item(0), n = t.win.document.body.createTextRange(), n.moveToElementText(r)), n.collapse(!!e), t.setRng(n)
            },
            getSel: function() {
                var e = this.win;
                return e.getSelection ? e.getSelection() : e.document.selection
            },
            getRng: function(e) {
                function t(e, t, n) {
                    try {
                        return t.compareBoundaryPoints(e, n)
                    } catch (r) {
                        return -1
                    }
                }
                var n = this,
                    r, i, o, a, s, l;
                if (!n.win) return null;
                if (a = n.win.document, "undefined" == typeof a || null === a) return null;
                if (!e && n.lastFocusBookmark) {
                    var u = n.lastFocusBookmark;
                    return u.startContainer ? (i = a.createRange(), i.setStart(u.startContainer, u.startOffset), i.setEnd(u.endContainer, u.endOffset)) : i = u, i
                }
                if (e && n.tridentSel) return n.tridentSel.getRangeAt(0);
                try {
                    (r = n.getSel()) && (i = r.rangeCount > 0 ? r.getRangeAt(0) : r.createRange ? r.createRange() : a.createRange())
                } catch (c) {}
                if (l = n.editor.fire("GetSelectionRange", {
                        range: i
                    }), l.range !== i) return l.range;
                if (p && i && i.setStart && a.selection) {
                    try {
                        s = a.selection.createRange()
                    } catch (c) {}
                    s && s.item && (o = s.item(0), i = a.createRange(), i.setStartBefore(o), i.setEndAfter(o))
                }
                return i || (i = a.createRange ? a.createRange() : a.body.createTextRange()), i.setStart && 9 === i.startContainer.nodeType && i.collapsed && (o = n.dom.getRoot(), i.setStart(o, 0), i.setEnd(o, 0)), n.selectedRange && n.explicitRange && (0 === t(i.START_TO_START, i, n.selectedRange) && 0 === t(i.END_TO_END, i, n.selectedRange) ? i = n.explicitRange : (n.selectedRange = null, n.explicitRange = null)), i
            },
            setRng: function(e, t) {
                var n = this,
                    r, i, o;
                if (e)
                    if (e.select) {
                        n.explicitRange = null;
                        try {
                            e.select()
                        } catch (a) {}
                    } else if (n.tridentSel) {
                    if (e.cloneRange) try {
                        n.tridentSel.addRange(e)
                    } catch (a) {}
                } else {
                    if (r = n.getSel(), o = n.editor.fire("SetSelectionRange", {
                            range: e
                        }), e = o.range, r) {
                        n.explicitRange = e;
                        try {
                            r.removeAllRanges(), r.addRange(e)
                        } catch (a) {}
                        t === !1 && r.extend && (r.collapse(e.endContainer, e.endOffset), r.extend(e.startContainer, e.startOffset)), n.selectedRange = r.rangeCount > 0 ? r.getRangeAt(0) : null
                    }
                    e.collapsed || e.startContainer != e.endContainer || !r.setBaseAndExtent || s.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (i = e.startContainer.childNodes[e.startOffset], i && "IMG" == i.tagName && (r.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), r.anchorNode === e.startContainer && r.focusNode === e.endContainer || r.setBaseAndExtent(i, 0, i, 1))), n.editor.fire("AfterSetSelectionRange", {
                        range: e
                    })
                }
            },
            setNode: function(e) {
                var t = this;
                return t.setContent(t.dom.getOuterHTML(e)), e
            },
            getNode: function() {
                function e(e, t) {
                    for (var n = e; e && 3 === e.nodeType && 0 === e.length;) e = t ? e.nextSibling : e.previousSibling;
                    return e || n
                }
                var t = this,
                    n = t.getRng(),
                    r, i, o, a, s, l = t.dom.getRoot();
                return n ? (i = n.startContainer, o = n.endContainer, a = n.startOffset, s = n.endOffset, n.setStart ? (r = n.commonAncestorContainer, !n.collapsed && (i == o && s - a < 2 && i.hasChildNodes() && (r = i.childNodes[a]), 3 === i.nodeType && 3 === o.nodeType && (i = i.length === a ? e(i.nextSibling, !0) : i.parentNode, o = 0 === s ? e(o.previousSibling, !1) : o.parentNode, i && i === o)) ? i : r && 3 == r.nodeType ? r.parentNode : r) : (r = n.item ? n.item(0) : n.parentElement(), r.ownerDocument !== t.win.document && (r = l), r)) : l
            },
            getSelectedBlocks: function(t, n) {
                var r = this,
                    i = r.dom,
                    o, a, s = [];
                if (a = i.getRoot(), t = i.getParent(t || r.getStart(), i.isBlock), n = i.getParent(n || r.getEnd(), i.isBlock), t && t != a && s.push(t), t && n && t != n) {
                    o = t;
                    for (var l = new e(t, a);
                        (o = l.next()) && o != n;) i.isBlock(o) && s.push(o)
                }
                return n && t != n && n != a && s.push(n), s
            },
            isForward: function() {
                var e = this.dom,
                    t = this.getSel(),
                    n, r;
                return !(t && t.anchorNode && t.focusNode) || (n = e.createRng(), n.setStart(t.anchorNode, t.anchorOffset), n.collapse(!0), r = e.createRng(), r.setStart(t.focusNode, t.focusOffset), r.collapse(!0), n.compareBoundaryPoints(n.START_TO_START, r) <= 0)
            },
            normalize: function() {
                var e = this,
                    t = e.getRng();
                return s.range && new i(e.dom).normalize(t) && e.setRng(t, e.isForward()), t
            },
            selectorChanged: function(e, t) {
                var n = this,
                    r;
                return n.selectorChangedData || (n.selectorChangedData = {}, r = {}, n.editor.on("NodeChange", function(e) {
                    var t = e.element,
                        i = n.dom,
                        o = i.getParents(t, null, i.getRoot()),
                        a = {};
                    d(n.selectorChangedData, function(e, t) {
                        d(o, function(n) {
                            if (i.is(n, t)) return r[t] || (d(e, function(e) {
                                e(!0, {
                                    node: n,
                                    selector: t,
                                    parents: o
                                })
                            }), r[t] = e), a[t] = e, !1
                        })
                    }), d(r, function(e, n) {
                        a[n] || (delete r[n], d(e, function(e) {
                            e(!1, {
                                node: t,
                                selector: n,
                                parents: o
                            })
                        }))
                    })
                })), n.selectorChangedData[e] || (n.selectorChangedData[e] = []), n.selectorChangedData[e].push(t), n
            },
            getScrollContainer: function() {
                for (var e, t = this.dom.getRoot(); t && "BODY" != t.nodeName;) {
                    if (t.scrollHeight > t.clientHeight) {
                        e = t;
                        break
                    }
                    t = t.parentNode
                }
                return e
            },
            scrollIntoView: function(e, t) {
                function n(e) {
                    for (var t = 0, n = 0, r = e; r && r.nodeType;) t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent;
                    return {
                        x: t,
                        y: n
                    }
                }
                var r, i, o = this,
                    s = o.dom,
                    l = s.getRoot(),
                    u, c, d = 0;
                if (a.isElement(e)) {
                    if (t === !1 && (d = e.offsetHeight), "BODY" != l.nodeName) {
                        var f = o.getScrollContainer();
                        if (f) return r = n(e).y - n(f).y + d, c = f.clientHeight, u = f.scrollTop, void((r < u || r + 25 > u + c) && (f.scrollTop = r < u ? r : r - c + 25))
                    }
                    i = s.getViewPort(o.editor.getWin()), r = s.getPos(e).y + d, u = i.y, c = i.h, (r < i.y || r + 25 > u + c) && o.editor.getWin().scrollTo(0, r < u ? r : r - c + 25)
                }
            },
            placeCaretAt: function(e, t) {
                this.setRng(i.getCaretRangeFromPoint(e, t, this.editor.getDoc()))
            },
            _moveEndPoint: function(t, n, r) {
                var i = n,
                    o = new e(n, i),
                    a = this.dom.schema.getNonEmptyElements();
                do {
                    if (3 == n.nodeType && 0 !== f(n.nodeValue).length) return void(r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
                    if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void(r ? t.setStartBefore(n) : "BR" == n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
                    if (s.ie && s.ie < 11 && this.dom.isBlock(n) && this.dom.isEmpty(n)) return void(r ? t.setStart(n, 0) : t.setEnd(n, 0))
                } while (n = r ? o.next() : o.prev());
                "BODY" == i.nodeName && (r ? t.setStart(i, 0) : t.setEnd(i, i.childNodes.length))
            },
            getBoundingClientRect: function() {
                var e = this.getRng();
                return e.collapsed ? u.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect()
            },
            destroy: function() {
                this.win = null, this.controlSelection.destroy()
            }
        }, c
    }), r(X, [j, m], function(e, t) {
        function n(t) {
            this.compare = function(n, i) {
                function o(e) {
                    var n = {};
                    return r(t.getAttribs(e), function(r) {
                        var i = r.nodeName.toLowerCase();
                        0 !== i.indexOf("_") && "style" !== i && 0 !== i.indexOf("data-") && (n[i] = t.getAttrib(e, i))
                    }), n
                }

                function a(e, t) {
                    var n, r;
                    for (r in e)
                        if (e.hasOwnProperty(r)) {
                            if (n = t[r], "undefined" == typeof n) return !1;
                            if (e[r] != n) return !1;
                            delete t[r]
                        } for (r in t)
                        if (t.hasOwnProperty(r)) return !1;
                    return !0
                }
                return n.nodeName == i.nodeName && (!!a(o(n), o(i)) && (!!a(t.parseStyle(t.getAttrib(n, "style")), t.parseStyle(t.getAttrib(i, "style"))) && (!e.isBookmarkNode(n) && !e.isBookmarkNode(i))))
            }
        }
        var r = t.each;
        return n
    }), r(K, [w, m, B], function(e, t, n) {
        function r(e, r) {
            function i(e, t) {
                t.classes.length && u.addClass(e, t.classes.join(" ")), u.setAttribs(e, t.attrs)
            }

            function o(e) {
                var t;
                return c = "string" == typeof e ? {
                    name: e,
                    classes: [],
                    attrs: {}
                } : e, t = u.create(c.name), i(t, c), t
            }

            function a(e, n) {
                var r = "string" != typeof e ? e.nodeName.toLowerCase() : e,
                    i = f.getElementRule(r),
                    o = i.parentsRequired;
                return !(!o || !o.length) && (n && t.inArray(o, n) !== -1 ? n : o[0])
            }

            function s(e, n, r) {
                var i, l, c, d = n.length && n[0],
                    f = d && d.name;
                if (c = a(e, f)) f == c ? (l = n[0], n = n.slice(1)) : l = c;
                else if (d) l = n[0], n = n.slice(1);
                else if (!r) return e;
                return l && (i = o(l), i.appendChild(e)), r && (i || (i = u.create("div"), i.appendChild(e)), t.each(r, function(t) {
                    var n = o(t);
                    i.insertBefore(n, e)
                })), s(i, n, l && l.siblings)
            }
            var l, c, d, f = r && r.schema || new n({});
            return e && e.length ? (c = e[0], l = o(c), d = u.create("div"), d.appendChild(s(l, e.slice(1), c.siblings)), d) : ""
        }

        function i(e, t) {
            return r(a(e), t)
        }

        function o(e) {
            var n, r = {
                classes: [],
                attrs: {}
            };
            return e = r.selector = t.trim(e), "*" !== e && (n = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function(e, n, i, o, a) {
                switch (n) {
                    case "#":
                        r.attrs.id = i;
                        break;
                    case ".":
                        r.classes.push(i);
                        break;
                    case ":":
                        t.inArray("checked disabled enabled read-only required".split(" "), i) !== -1 && (r.attrs[i] = i)
                }
                if ("[" == o) {
                    var s = a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                    s && (r.attrs[s[1]] = s[2])
                }
                return ""
            })), r.name = n || "div", r
        }

        function a(e) {
            return e && "string" == typeof e ? (e = e.split(/\s*,\s*/)[0], e = e.replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function(e) {
                var n = t.map(e.split(/(?:~\+|~|\+)/), o),
                    r = n.pop();
                return n.length && (r.siblings = n), r
            }).reverse()) : []
        }

        function s(e, t) {
            function n(e) {
                return e.replace(/%(\w+)/g, "")
            }
            var i, o, s, c, d = "",
                f, p;
            if (p = e.settings.preview_styles, p === !1) return "";
            if ("string" != typeof p && (p = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"), "string" == typeof t) {
                if (t = e.formatter.get(t), !t) return;
                t = t[0]
            }
            return "preview" in t && (p = t.preview, p === !1) ? "" : (i = t.block || t.inline || "span", c = a(t.selector), c.length ? (c[0].name || (c[0].name = i), i = t.selector, o = r(c, e)) : o = r([i], e), s = u.select(i, o)[0] || o.firstChild, l(t.styles, function(e, t) {
                e = n(e), e && u.setStyle(s, t, e)
            }), l(t.attributes, function(e, t) {
                e = n(e), e && u.setAttrib(s, t, e)
            }), l(t.classes, function(e) {
                e = n(e), u.hasClass(s, e) || u.addClass(s, e)
            }), e.fire("PreviewFormats"), u.setStyles(o, {
                position: "absolute",
                left: -65535
            }), e.getBody().appendChild(o), f = u.getStyle(e.getBody(), "fontSize", !0), f = /px$/.test(f) ? parseInt(f, 10) : 0, l(p.split(" "), function(t) {
                var n = u.getStyle(s, t, !0);
                if (!("background-color" == t && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) && (n = u.getStyle(e.getBody(), t, !0), "#ffffff" == u.toHex(n).toLowerCase()) || "color" == t && "#000000" == u.toHex(n).toLowerCase())) {
                    if ("font-size" == t && /em|%$/.test(n)) {
                        if (0 === f) return;
                        n = parseFloat(n, 10) / (/%$/.test(n) ? 100 : 1), n = n * f + "px"
                    }
                    "border" == t && n && (d += "padding:0 2px;"), d += t + ":" + n + ";"
                }
            }), e.fire("AfterPreviewFormats"), u.remove(o), d)
        }
        var l = t.each,
            u = e.DOM;
        return {
            getCssText: s,
            parseSelector: a,
            selectorToHtml: i
        }
    }), r(G, [h, _, g], function(e, t, n) {
        function r(e, t) {
            var n = o[e];
            n || (o[e] = n = []), o[e].push(t)
        }

        function i(e, t) {
            s(o[e], function(e) {
                e(t)
            })
        }
        var o = {},
            a = e.filter,
            s = e.each;
        return r("pre", function(r) {
            function i(t) {
                return u(t.previousSibling) && e.indexOf(c, t.previousSibling) != -1
            }

            function o(e, t) {
                n(t).remove(), n(e).append("<br><br>").append(t.childNodes)
            }
            var l = r.selection.getRng(),
                u, c;
            u = t.matchNodeNames("pre"), l.collapsed || (c = r.selection.getSelectedBlocks(), s(a(a(c, u), i), function(e) {
                o(e.previousSibling, e)
            }))
        }), {
            postProcess: i
        }
    }), r(J, [y, T, j, X, z, m, K, G], function(e, t, n, r, i, o, a, s) {
        return function(l) {
            function u(e) {
                return e.nodeType && (e = e.nodeName), !!l.schema.getTextBlockElements()[e.toLowerCase()]
            }

            function c(e) {
                return /^(TH|TD)$/.test(e.nodeName)
            }

            function d(e) {
                return e && /^(IMG)$/.test(e.nodeName)
            }

            function f(e, t) {
                return Q.getParents(e, t, Q.getRoot())
            }

            function p(e) {
                return 1 === e.nodeType && "_mce_caret" === e.id
            }

            function h() {
                v({
                    valigntop: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "top"
                        }
                    }],
                    valignmiddle: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "middle"
                        }
                    }],
                    valignbottom: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "bottom"
                        }
                    }],
                    alignleft: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-left",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "left"
                        },
                        inherit: !1,
                        preview: !1,
                        defaultBlock: "div"
                    }, {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            "float": "left"
                        },
                        preview: "font-family font-size"
                    }],
                    aligncenter: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "center"
                        },
                        inherit: !1,
                        preview: !1,
                        defaultBlock: "div"
                    }, {
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-center",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "img",
                        collapsed: !1,
                        styles: {
                            display: "block",
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: !1
                    }, {
                        selector: "table",
                        collapsed: !1,
                        styles: {
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: "font-family font-size"
                    }],
                    alignright: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-right",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "right"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    }, {
                        selector: "img,table",
                        collapsed: !1,
                        styles: {
                            "float": "right"
                        },
                        preview: "font-family font-size"
                    }],
                    alignjustify: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "justify"
                        },
                        inherit: !1,
                        defaultBlock: "div",
                        preview: "font-family font-size"
                    }],
                    bold: [{
                        inline: "strong",
                        remove: "all"
                    }, {
                        inline: "span",
                        styles: {
                            fontWeight: "bold"
                        }
                    }, {
                        inline: "b",
                        remove: "all"
                    }],
                    italic: [{
                        inline: "em",
                        remove: "all"
                    }, {
                        inline: "span",
                        styles: {
                            fontStyle: "italic"
                        }
                    }, {
                        inline: "i",
                        remove: "all"
                    }],
                    underline: [{
                        inline: "span",
                        styles: {
                            textDecoration: "underline"
                        },
                        exact: !0
                    }, {
                        inline: "u",
                        remove: "all"
                    }],
                    strikethrough: [{
                        inline: "span",
                        styles: {
                            textDecoration: "line-through"
                        },
                        exact: !0
                    }, {
                        inline: "strike",
                        remove: "all"
                    }],
                    forecolor: {
                        inline: "span",
                        styles: {
                            color: "%value"
                        },
                        links: !0,
                        remove_similar: !0
                    },
                    hilitecolor: {
                        inline: "span",
                        styles: {
                            backgroundColor: "%value"
                        },
                        links: !0,
                        remove_similar: !0
                    },
                    fontname: {
                        inline: "span",
                        styles: {
                            fontFamily: "%value"
                        }
                    },
                    fontsize: {
                        inline: "span",
                        styles: {
                            fontSize: "%value"
                        }
                    },
                    fontsize_class: {
                        inline: "span",
                        attributes: {
                            "class": "%value"
                        }
                    },
                    blockquote: {
                        block: "blockquote",
                        wrapper: 1,
                        remove: "all"
                    },
                    subscript: {
                        inline: "sub"
                    },
                    superscript: {
                        inline: "sup"
                    },
                    code: {
                        inline: "code"
                    },
                    link: {
                        inline: "a",
                        selector: "a",
                        remove: "all",
                        split: !0,
                        deep: !0,
                        onmatch: function() {
                            return !0
                        },
                        onformat: function(e, t, n) {
                            me(n, function(t, n) {
                                Q.setAttrib(e, n, t)
                            })
                        }
                    },
                    removeformat: [{
                        selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
                        remove: "all",
                        split: !0,
                        expand: !1,
                        block_expand: !0,
                        deep: !0
                    }, {
                        selector: "span",
                        attributes: ["style", "class"],
                        remove: "empty",
                        split: !0,
                        expand: !1,
                        deep: !0
                    }, {
                        selector: "*",
                        attributes: ["style", "class"],
                        split: !1,
                        expand: !1,
                        deep: !0
                    }]
                }), me("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function(e) {
                    v(e, {
                        block: e,
                        remove: "all"
                    })
                }), v(l.settings.formats)
            }

            function m() {
                l.addShortcut("meta+b", "bold_desc", "Bold"), l.addShortcut("meta+i", "italic_desc", "Italic"), l.addShortcut("meta+u", "underline_desc", "Underline");
                for (var e = 1; e <= 6; e++) l.addShortcut("access+" + e, "", ["FormatBlock", !1, "h" + e]);
                l.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), l.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), l.addShortcut("access+9", "", ["FormatBlock", !1, "address"])
            }

            function g(e) {
                return e ? J[e] : J
            }

            function v(e, t) {
                e && ("string" != typeof e ? me(e, function(e, t) {
                    v(t, e)
                }) : (t = t.length ? t : [t], me(t, function(e) {
                    e.deep === ce && (e.deep = !e.selector), e.split === ce && (e.split = !e.selector || e.inline), e.remove === ce && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/))
                }), J[e] = t))
            }

            function y(e) {
                return e && J[e] && delete J[e], J
            }

            function b(e, t) {
                var n = g(t);
                if (n)
                    for (var r = 0; r < n.length; r++)
                        if (n[r].inherit === !1 && Q.is(e, n[r].selector)) return !0;
                return !1
            }

            function C(e) {
                var t;
                return l.dom.getParent(e, function(e) {
                    return t = l.dom.getStyle(e, "text-decoration"), t && "none" !== t
                }), t
            }

            function x(e) {
                var t;
                1 === e.nodeType && e.parentNode && 1 === e.parentNode.nodeType && (t = C(e.parentNode), l.dom.getStyle(e, "color") && t ? l.dom.setStyle(e, "text-decoration", t) : l.dom.getStyle(e, "text-decoration") === t && l.dom.setStyle(e, "text-decoration", null))
            }

            function w(t, n, r) {
                function i(e, t) {
                    if (t = t || f, e) {
                        if (t.onformat && t.onformat(e, t, n, r), me(t.styles, function(t, r) {
                                Q.setStyle(e, r, F(t, n))
                            }), t.styles) {
                            var i = Q.getAttrib(e, "style");
                            i && e.setAttribute("data-mce-style", i)
                        }
                        me(t.attributes, function(t, r) {
                            Q.setAttrib(e, r, F(t, n))
                        }), me(t.classes, function(t) {
                            t = F(t, n), Q.hasClass(e, t) || Q.addClass(e, t)
                        })
                    }
                }

                function o(e, t) {
                    var n = !1;
                    return !!f.selector && (me(e, function(e) {
                        if (!("collapsed" in e && e.collapsed !== v)) return Q.is(t, e.selector) && !p(t) ? (i(t, e), n = !0, !1) : void 0
                    }), n)
                }

                function a() {
                    function t(t, n) {
                        var i = new e(n);
                        for (r = i.prev2(); r; r = i.prev2()) {
                            if (3 == r.nodeType && r.data.length > 0) return r;
                            if (r.childNodes.length > 1 || r == t || "BR" == r.tagName) return r
                        }
                    }
                    var n = l.selection.getRng(),
                        i = n.startContainer,
                        o = n.endContainer;
                    if (i != o && 0 === n.endOffset) {
                        var a = t(i, o),
                            s = 3 == a.nodeType ? a.data.length : a.childNodes.length;
                        n.setEnd(a, s)
                    }
                    return n
                }

                function c(e, r, a) {
                    var s = [],
                        l, c, h = !0;
                    l = f.inline || f.block, c = Q.create(l), i(c), ee.walk(e, function(e) {
                        function r(e) {
                            var g, v, y, b;
                            if (b = h, g = e.nodeName.toLowerCase(), v = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && de(e) && (b = h, h = "true" === de(e), y = !0), D(g, "br")) return m = 0, void(f.block && Q.remove(e));
                            if (f.wrapper && _(e, t, n)) return void(m = 0);
                            if (h && !y && f.block && !f.wrapper && u(g) && te(v, l)) return e = Q.rename(e, l), i(e), s.push(e), void(m = 0);
                            if (f.selector) {
                                var C = o(d, e);
                                if (!f.inline || C) return void(m = 0)
                            }!h || y || !te(l, g) || !te(v, l) || !a && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || p(e) || f.inline && ne(e) ? (m = 0, me(ge(e.childNodes), r), y && (h = b), m = 0) : (m || (m = Q.clone(c, se), e.parentNode.insertBefore(m, e), s.push(m)), m.appendChild(e))
                        }
                        var m;
                        me(e, r)
                    }), f.links === !0 && me(s, function(e) {
                        function t(e) {
                            "A" === e.nodeName && i(e, f), me(ge(e.childNodes), t)
                        }
                        t(e)
                    }), me(s, function(e) {
                        function r(e) {
                            var t = 0;
                            return me(e.childNodes, function(e) {
                                z(e) || he(e) || t++
                            }), t
                        }

                        function o(e) {
                            var t = !1;
                            return me(e.childNodes, function(e) {
                                if (M(e)) return t = e, !1
                            }), t
                        }

                        function a(e, t) {
                            do {
                                if (1 !== r(e)) break;
                                if (e = o(e), !e) break;
                                if (t(e)) return e
                            } while (e);
                            return null
                        }

                        function l(e) {
                            var t, n;
                            return t = o(e), t && !he(t) && B(t, f) && (n = Q.clone(t, se), i(n), Q.replace(n, e, le), Q.remove(t, 1)), n || e
                        }
                        var u;
                        if (u = r(e), (s.length > 1 || !ne(e)) && 0 === u) return void Q.remove(e, 1);
                        if (f.inline || f.wrapper) {
                            if (f.exact || 1 !== u || (e = l(e)), me(d, function(t) {
                                    me(Q.select(t.inline, e), function(e) {
                                        he(e) || $(t, n, e, t.exact ? e : null)
                                    })
                                }), _(e.parentNode, t, n) && $(f, n, e) && (e = 0), f.merge_with_parents && Q.getParent(e.parentNode, function(r) {
                                    if (_(r, t, n)) return $(f, n, e) && (e = 0), le
                                }), !ne(e) && !H(e, "fontSize")) {
                                var c = a(e, P("fontSize"));
                                c && w("fontsize", {
                                    value: H(c, "fontSize")
                                }, e)
                            }
                            e && f.merge_siblings !== !1 && (e = Y(j(e), e), e = Y(e, j(e, le)))
                        }
                    })
                }
                var d = g(t),
                    f = d[0],
                    h, m, v = !r && Z.isCollapsed();
                if ("false" !== de(Z.getNode())) {
                    if (f) {
                        if (r) r.nodeType ? o(d, r) || (m = Q.createRng(), m.setStartBefore(r), m.setEndAfter(r), c(W(m, d), null, !0)) : c(r, null, !0);
                        else if (v && f.inline && !Q.select("td[data-mce-selected],th[data-mce-selected]").length) K("apply", t, n);
                        else {
                            var y = l.selection.getNode();
                            re || !d[0].defaultBlock || Q.getParent(y, Q.isBlock) || w(d[0].defaultBlock), l.selection.setRng(a()), h = Z.getBookmark(), c(W(Z.getRng(le), d), h), f.styles && ((f.styles.color || f.styles.textDecoration) && (ve(y, x, "childNodes"), x(y)), f.styles.backgroundColor && L(y, P("fontSize"), O("backgroundColor", F(f.styles.backgroundColor, n)))), Z.moveToBookmark(h), G(Z.getRng(le)), l.nodeChanged()
                        }
                        s.postProcess(t, l)
                    }
                } else {
                    r = Z.getNode();
                    for (var b = 0, C = d.length; b < C; b++)
                        if (d[b].ceFalseOverride && Q.is(r, d[b].selector)) return void i(r, d[b])
                }
            }

            function E(e, t, n, r) {
                function i(e) {
                    var n, r, o, a, s;
                    if (1 === e.nodeType && de(e) && (a = y, y = "true" === de(e), s = !0), n = ge(e.childNodes), y && !s)
                        for (r = 0, o = p.length; r < o && !$(p[r], t, e, e); r++);
                    if (h.deep && n.length) {
                        for (r = 0, o = n.length; r < o; r++) i(n[r]);
                        s && (y = a)
                    }
                }

                function o(n) {
                    var i;
                    return me(f(n.parentNode).reverse(), function(n) {
                        var o;
                        i || "_start" == n.id || "_end" == n.id || (o = _(n, e, t, r), o && o.split !== !1 && (i = n))
                    }), i
                }

                function a(e, n, r, i) {
                    var o, a, s, l, u, c;
                    if (e) {
                        for (c = e.parentNode, o = n.parentNode; o && o != c; o = o.parentNode) {
                            for (a = Q.clone(o, se), u = 0; u < p.length; u++)
                                if ($(p[u], t, a, a)) {
                                    a = 0;
                                    break
                                } a && (s && a.appendChild(s), l || (l = a), s = a)
                        }!i || h.mixed && ne(e) || (n = Q.split(e, n)), s && (r.parentNode.insertBefore(s, r), l.appendChild(r))
                    }
                    return n
                }

                function s(e) {
                    return a(o(e), e, e, !0)
                }

                function u(e) {
                    var t = Q.get(e ? "_start" : "_end"),
                        n = t[e ? "firstChild" : "lastChild"];
                    return he(n) && (n = n[e ? "firstChild" : "lastChild"]), 3 == n.nodeType && 0 === n.data.length && (n = e ? t.previousSibling || t.nextSibling : t.nextSibling || t.previousSibling), Q.remove(t, !0), n
                }

                function d(e) {
                    var t, n, r = e.commonAncestorContainer;
                    if (e = W(e, p, le), h.split) {
                        if (t = X(e, le), n = X(e), t != n) {
                            if (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" == t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && c(n) && n.firstChild && (n = n.firstChild || n), Q.isChildOf(t, n) && !ne(n) && !c(t) && !c(n)) return t = U(t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), s(t), void(t = u(le));
                            t = U(t, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            }), n = U(n, "span", {
                                id: "_end",
                                "data-mce-type": "bookmark"
                            }), s(t), s(n), t = u(le), n = u()
                        } else t = n = s(t);
                        e.startContainer = t.parentNode ? t.parentNode : t, e.startOffset = ie(t), e.endContainer = n.parentNode ? n.parentNode : n, e.endOffset = ie(n) + 1
                    }
                    ee.walk(e, function(e) {
                        me(e, function(e) {
                            i(e), 1 === e.nodeType && "underline" === l.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === C(e.parentNode) && $({
                                deep: !1,
                                exact: !0,
                                inline: "span",
                                styles: {
                                    textDecoration: "underline"
                                }
                            }, null, e)
                        })
                    })
                }
                var p = g(e),
                    h = p[0],
                    m, v, y = !0;
                if (n) return void(n.nodeType ? (v = Q.createRng(), v.setStartBefore(n), v.setEndAfter(n), d(v)) : d(n));
                if ("false" !== de(Z.getNode())) Z.isCollapsed() && h.inline && !Q.select("td[data-mce-selected],th[data-mce-selected]").length ? K("remove", e, t, r) : (m = Z.getBookmark(), d(Z.getRng(le)), Z.moveToBookmark(m), h.inline && S(e, t, Z.getStart()) && G(Z.getRng(!0)), l.nodeChanged());
                else {
                    n = Z.getNode();
                    for (var b = 0, x = p.length; b < x && (!p[b].ceFalseOverride || !$(p[b], t, n, n)); b++);
                }
            }

            function N(e, t, n) {
                var r = g(e);
                !S(e, t, n) || "toggle" in r[0] && !r[0].toggle ? w(e, t, n) : E(e, t, n)
            }

            function _(e, t, n, r) {
                function i(e, t, i) {
                    var o, a, s = t[i],
                        l;
                    if (t.onmatch) return t.onmatch(e, t, i);
                    if (s)
                        if (s.length === ce) {
                            for (o in s)
                                if (s.hasOwnProperty(o)) {
                                    if (a = "attributes" === i ? Q.getAttrib(e, o) : H(e, o), r && !a && !t.exact) return;
                                    if ((!r || t.exact) && !D(a, I(F(s[o], n), o))) return
                                }
                        } else
                            for (l = 0; l < s.length; l++)
                                if ("attributes" === i ? Q.getAttrib(e, s[l]) : H(e, s[l])) return t;
                    return t
                }
                var o = g(t),
                    a, s, l;
                if (o && e)
                    for (s = 0; s < o.length; s++)
                        if (a = o[s], B(e, a) && i(e, a, "attributes") && i(e, a, "styles")) {
                            if (l = a.classes)
                                for (s = 0; s < l.length; s++)
                                    if (!Q.hasClass(e, l[s])) return;
                            return a
                        }
            }

            function S(e, t, n) {
                function r(n) {
                    var r = Q.getRoot();
                    return n !== r && (n = Q.getParent(n, function(n) {
                        return !!b(n, e) || (n.parentNode === r || !!_(n, e, t, !0))
                    }), _(n, e, t))
                }
                var i;
                return n ? r(n) : (n = Z.getNode(), r(n) ? le : (i = Z.getStart(), i != n && r(i) ? le : se))
            }

            function k(e, t) {
                var n, r = [],
                    i = {};
                return n = Z.getStart(), Q.getParent(n, function(n) {
                    var o, a;
                    for (o = 0; o < e.length; o++) a = e[o], !i[a] && _(n, a, t) && (i[a] = !0, r.push(a))
                }, Q.getRoot()), r
            }

            function T(e) {
                var t = g(e),
                    n, r, i, o, a;
                if (t)
                    for (n = Z.getStart(), r = f(n), o = t.length - 1; o >= 0; o--) {
                        if (a = t[o].selector, !a || t[o].defaultBlock) return le;
                        for (i = r.length - 1; i >= 0; i--)
                            if (Q.is(r[i], a)) return le
                    }
                return se
            }

            function R(e, t, n) {
                var r;
                return ue || (ue = {}, r = {}, l.on("NodeChange", function(e) {
                    var t = f(e.element),
                        n = {};
                    t = o.grep(t, function(e) {
                        return 1 == e.nodeType && !e.getAttribute("data-mce-bogus")
                    }), me(ue, function(e, i) {
                        me(t, function(o) {
                            return _(o, i, {}, e.similar) ? (r[i] || (me(e, function(e) {
                                e(!0, {
                                    node: o,
                                    format: i,
                                    parents: t
                                })
                            }), r[i] = e), n[i] = e, !1) : !b(o, i) && void 0
                        })
                    }), me(r, function(i, o) {
                        n[o] || (delete r[o], me(i, function(n) {
                            n(!1, {
                                node: e.element,
                                format: o,
                                parents: t
                            })
                        }))
                    })
                })), me(e.split(","), function(e) {
                    ue[e] || (ue[e] = [], ue[e].similar = n), ue[e].push(t)
                }), this
            }

            function A(e) {
                return a.getCssText(l, e)
            }

            function B(e, t) {
                return D(e, t.inline) ? le : D(e, t.block) ? le : t.selector ? 1 == e.nodeType && Q.is(e, t.selector) : void 0
            }

            function D(e, t) {
                return e = e || "", t = t || "", e = "" + (e.nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() == t.toLowerCase()
            }

            function L(e, t, n) {
                me(e.childNodes, function(e) {
                    M(e) && (t(e) && n(e), e.hasChildNodes() && L(e, t, n))
                })
            }

            function M(e) {
                return 1 == e.nodeType && !he(e) && !z(e) && !p(e)
            }

            function P(e) {
                return i.curry(function(e, t) {
                    return !(!t || !H(t, e))
                }, e)
            }

            function O(e, t) {
                return i.curry(function(e, t, n) {
                    Q.setStyle(n, e, t)
                }, e, t)
            }

            function H(e, t) {
                return I(Q.getStyle(e, t), t)
            }

            function I(e, t) {
                return "color" != t && "backgroundColor" != t || (e = Q.toHex(e)), "fontWeight" == t && 700 == e && (e = "bold"), "fontFamily" == t && (e = e.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + e
            }

            function F(e, t) {
                return "string" != typeof e ? e = e(t) : t && (e = e.replace(/%(\w+)/g, function(e, n) {
                    return t[n] || e
                })), e
            }

            function z(e) {
                return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue)
            }

            function U(e, t, n) {
                var r = Q.create(t, n);
                return e.parentNode.insertBefore(r, e), r.appendChild(e), r
            }

            function W(t, n, r) {
                function i(e) {
                    function t(e) {
                        return "BR" == e.nodeName && e.getAttribute("data-mce-bogus") && !e.nextSibling
                    }
                    var r, i, o, a, s;
                    if (r = i = e ? g : y, a = e ? "previousSibling" : "nextSibling", s = Q.getRoot(), 3 == r.nodeType && !z(r) && (e ? v > 0 : b < r.nodeValue.length)) return r;
                    for (;;) {
                        if (!n[0].block_expand && ne(i)) return i;
                        for (o = i[a]; o; o = o[a])
                            if (!he(o) && !z(o) && !t(o)) return i;
                        if (i == s || i.parentNode == s) {
                            r = i;
                            break
                        }
                        i = i.parentNode
                    }
                    return r
                }

                function o(e, t) {
                    for (t === ce && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();) e = e.childNodes[t], e && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
                    return {
                        node: e,
                        offset: t
                    }
                }

                function a(e) {
                    for (var t = e; t;) {
                        if (1 === t.nodeType && de(t)) return "false" === de(t) ? t : e;
                        t = t.parentNode
                    }
                    return e
                }

                function s(t, n, i) {
                    function o(e, t) {
                        var n, o, a = e.nodeValue;
                        return "undefined" == typeof t && (t = i ? a.length : 0), i ? (n = a.lastIndexOf(" ", t), o = a.lastIndexOf("\xa0", t), n = n > o ? n : o, n === -1 || r || n++) : (n = a.indexOf(" ", t), o = a.indexOf("\xa0", t), n = n !== -1 && (o === -1 || n < o) ? n : o), n
                    }
                    var a, s, u, c;
                    if (3 === t.nodeType) {
                        if (u = o(t, n), u !== -1) return {
                            container: t,
                            offset: u
                        };
                        c = t
                    }
                    for (a = new e(t, Q.getParent(t, ne) || l.getBody()); s = a[i ? "prev" : "next"]();)
                        if (3 === s.nodeType) {
                            if (c = s, u = o(s), u !== -1) return {
                                container: s,
                                offset: u
                            }
                        } else if (ne(s)) break;
                    if (c) return n = i ? 0 : c.length, {
                        container: c,
                        offset: n
                    }
                }

                function c(e, r) {
                    var i, o, a, s;
                    for (3 == e.nodeType && 0 === e.nodeValue.length && e[r] && (e = e[r]), i = f(e), o = 0; o < i.length; o++)
                        for (a = 0; a < n.length; a++)
                            if (s = n[a], !("collapsed" in s && s.collapsed !== t.collapsed) && Q.is(i[o], s.selector)) return i[o];
                    return e
                }

                function d(e, t) {
                    var r, i = Q.getRoot();
                    if (n[0].wrapper || (r = Q.getParent(e, n[0].block, i)), r || (r = Q.getParent(3 == e.nodeType ? e.parentNode : e, function(e) {
                            return e != i && u(e)
                        })), r && n[0].wrapper && (r = f(r, "ul,ol").reverse()[0] || r), !r)
                        for (r = e; r[t] && !ne(r[t]) && (r = r[t], !D(r, "br")););
                    return r || e
                }
                var p, h, m, g = t.startContainer,
                    v = t.startOffset,
                    y = t.endContainer,
                    b = t.endOffset;
                if (1 == g.nodeType && g.hasChildNodes() && (p = g.childNodes.length - 1, g = g.childNodes[v > p ? p : v], 3 == g.nodeType && (v = 0)), 1 == y.nodeType && y.hasChildNodes() && (p = y.childNodes.length - 1, y = y.childNodes[b > p ? p : b - 1], 3 == y.nodeType && (b = y.nodeValue.length)), g = a(g), y = a(y), (he(g.parentNode) || he(g)) && (g = he(g) ? g : g.parentNode, g = g.nextSibling || g, 3 == g.nodeType && (v = 0)), (he(y.parentNode) || he(y)) && (y = he(y) ? y : y.parentNode, y = y.previousSibling || y, 3 == y.nodeType && (b = y.length)), n[0].inline && (t.collapsed && (m = s(g, v, !0), m && (g = m.container, v = m.offset), m = s(y, b), m && (y = m.container, b = m.offset)), h = o(y, b), h.node)) {
                    for (; h.node && 0 === h.offset && h.node.previousSibling;) h = o(h.node.previousSibling);
                    h.node && h.offset > 0 && 3 === h.node.nodeType && " " === h.node.nodeValue.charAt(h.offset - 1) && h.offset > 1 && (y = h.node, y.splitText(h.offset - 1))
                }
                return (n[0].inline || n[0].block_expand) && (n[0].inline && 3 == g.nodeType && 0 !== v || (g = i(!0)), n[0].inline && 3 == y.nodeType && b !== y.nodeValue.length || (y = i())), n[0].selector && n[0].expand !== se && !n[0].inline && (g = c(g, "previousSibling"), y = c(y, "nextSibling")), (n[0].block || n[0].selector) && (g = d(g, "previousSibling"), y = d(y, "nextSibling"), n[0].block && (ne(g) || (g = i(!0)), ne(y) || (y = i()))), 1 == g.nodeType && (v = ie(g), g = g.parentNode), 1 == y.nodeType && (b = ie(y) + 1, y = y.parentNode), {
                    startContainer: g,
                    startOffset: v,
                    endContainer: y,
                    endOffset: b
                }
            }

            function V(e, t) {
                return t.links && "A" == e.tagName
            }

            function $(e, t, n, r) {
                var i, o, a;
                if (!B(n, e) && !V(n, e)) return se;
                if ("all" != e.remove)
                    for (me(e.styles, function(i, o) {
                            i = I(F(i, t), o), "number" == typeof o && (o = i, r = 0), (e.remove_similar || !r || D(H(r, o), i)) && Q.setStyle(n, o, ""), a = 1
                        }), a && "" === Q.getAttrib(n, "style") && (n.removeAttribute("style"), n.removeAttribute("data-mce-style")), me(e.attributes, function(e, i) {
                            var o;
                            if (e = F(e, t), "number" == typeof i && (i = e, r = 0), !r || D(Q.getAttrib(r, i), e)) {
                                if ("class" == i && (e = Q.getAttrib(n, i), e && (o = "", me(e.split(/\s+/), function(e) {
                                        /mce\-\w+/.test(e) && (o += (o ? " " : "") + e)
                                    }), o))) return void Q.setAttrib(n, i, o);
                                "class" == i && n.removeAttribute("className"), ae.test(i) && n.removeAttribute("data-mce-" + i), n.removeAttribute(i)
                            }
                        }), me(e.classes, function(e) {
                            e = F(e, t), r && !Q.hasClass(r, e) || Q.removeClass(n, e)
                        }), o = Q.getAttribs(n), i = 0; i < o.length; i++) {
                        var s = o[i].nodeName;
                        if (0 !== s.indexOf("_") && 0 !== s.indexOf("data-")) return se
                    }
                return "none" != e.remove ? (q(n, e), le) : void 0
            }

            function q(e, t) {
                function n(e, t, n) {
                    return e = j(e, t, n), !e || "BR" == e.nodeName || ne(e)
                }
                var r = e.parentNode,
                    i;
                t.block && (re ? r == Q.getRoot() && (t.list_block && D(e, t.list_block) || me(ge(e.childNodes), function(e) {
                    te(re, e.nodeName.toLowerCase()) ? i ? i.appendChild(e) : (i = U(e, re), Q.setAttribs(i, l.settings.forced_root_block_attrs)) : i = 0
                })) : ne(e) && !ne(r) && (n(e, se) || n(e.firstChild, le, 1) || e.insertBefore(Q.create("br"), e.firstChild), n(e, le) || n(e.lastChild, se, 1) || e.appendChild(Q.create("br")))), t.selector && t.inline && !D(t.inline, e) || Q.remove(e, 1)
            }

            function j(e, t, n) {
                if (e)
                    for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t])
                        if (1 == e.nodeType || !z(e)) return e
            }

            function Y(e, t) {
                function n(e, t) {
                    for (i = e; i; i = i[t]) {
                        if (3 == i.nodeType && 0 !== i.nodeValue.length) return e;
                        if (1 == i.nodeType && !he(i)) return i
                    }
                    return e
                }
                var i, o, a = new r(Q);
                if (e && t && (e = n(e, "previousSibling"), t = n(t, "nextSibling"), a.compare(e, t))) {
                    for (i = e.nextSibling; i && i != t;) o = i, i = i.nextSibling, e.appendChild(o);
                    return Q.remove(t), me(ge(t.childNodes), function(t) {
                        e.appendChild(t)
                    }), e
                }
                return t
            }

            function X(t, n) {
                var r, i, o;
                return r = t[n ? "startContainer" : "endContainer"], i = t[n ? "startOffset" : "endOffset"], 1 == r.nodeType && (o = r.childNodes.length - 1, !n && i && i--, r = r.childNodes[i > o ? o : i]), 3 === r.nodeType && n && i >= r.nodeValue.length && (r = new e(r, l.getBody()).next() || r), 3 !== r.nodeType || n || 0 !== i || (r = new e(r, l.getBody()).prev() || r), r
            }

            function K(t, n, r, i) {
                function o(e) {
                    var t = Q.create("span", {
                        id: m,
                        "data-mce-bogus": !0,
                        style: v ? "color:red" : ""
                    });
                    return e && t.appendChild(l.getDoc().createTextNode(oe)), t
                }

                function a(e, t) {
                    for (; e;) {
                        if (3 === e.nodeType && e.nodeValue !== oe || e.childNodes.length > 1) return !1;
                        t && 1 === e.nodeType && t.push(e), e = e.firstChild
                    }
                    return !0
                }

                function s(e) {
                    for (; e;) {
                        if (e.id === m) return e;
                        e = e.parentNode
                    }
                }

                function c(t) {
                    var n;
                    if (t)
                        for (n = new e(t, t), t = n.current(); t; t = n.next())
                            if (3 === t.nodeType) return t
                }

                function d(e, t) {
                    var n, r;
                    if (e) r = Z.getRng(!0), a(e) ? (t !== !1 && (r.setStartBefore(e), r.setEndBefore(e)), Q.remove(e)) : (n = c(e), n.nodeValue.charAt(0) === oe && (n.deleteData(0, 1), r.startContainer == n && r.startOffset > 0 && r.setStart(n, r.startOffset - 1), r.endContainer == n && r.endOffset > 0 && r.setEnd(n, r.endOffset - 1)), Q.remove(e, 1)), Z.setRng(r);
                    else if (e = s(Z.getStart()), !e)
                        for (; e = Q.get(m);) d(e, !1)
                }

                function f() {
                    var e, t, i, a, l, u, d;
                    e = Z.getRng(!0), a = e.startOffset, u = e.startContainer, d = u.nodeValue, t = s(Z.getStart()), t && (i = c(t));
                    var f = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                    d && a > 0 && a < d.length && f.test(d.charAt(a)) && f.test(d.charAt(a - 1)) ? (l = Z.getBookmark(), e.collapse(!0), e = W(e, g(n)), e = ee.split(e), w(n, r, e), Z.moveToBookmark(l)) : (t && i.nodeValue === oe ? w(n, r, t) : (t = o(!0), i = t.firstChild, e.insertNode(t), a = 1, w(n, r, t)), Z.setCursorLocation(i, a))
                }

                function p() {
                    var e = Z.getRng(!0),
                        t, a, s, l, c, d, f = [],
                        p, h;
                    for (t = e.startContainer, a = e.startOffset, c = t, 3 == t.nodeType && (a != t.nodeValue.length && (l = !0), c = c.parentNode); c;) {
                        if (_(c, n, r, i)) {
                            d = c;
                            break
                        }
                        c.nextSibling && (l = !0), f.push(c), c = c.parentNode
                    }
                    if (d)
                        if (l) s = Z.getBookmark(), e.collapse(!0), e = W(e, g(n), !0), e = ee.split(e), E(n, r, e), Z.moveToBookmark(s);
                        else {
                            for (h = o(), c = h, p = f.length - 1; p >= 0; p--) c.appendChild(Q.clone(f[p], !1)), c = c.firstChild;
                            c.appendChild(Q.doc.createTextNode(oe)), c = c.firstChild;
                            var m = Q.getParent(d, u);
                            m && Q.isEmpty(m) ? d.parentNode.replaceChild(h, d) : Q.insertAfter(h, d), Z.setCursorLocation(c, 1), Q.isEmpty(d) && Q.remove(d)
                        }
                }

                function h() {
                    var e;
                    e = s(Z.getStart()), e && !Q.isEmpty(e) && ve(e, function(e) {
                        1 != e.nodeType || e.id === m || Q.isEmpty(e) || Q.setAttrib(e, "data-mce-bogus", null)
                    }, "childNodes")
                }
                var m = "_mce_caret",
                    v = l.settings.caret_debug;
                l._hasCaretEvents || (pe = function() {
                    var e = [],
                        t;
                    if (a(s(Z.getStart()), e))
                        for (t = e.length; t--;) Q.setAttrib(e[t], "data-mce-bogus", "1")
                }, fe = function(e) {
                    var t = e.keyCode;
                    d(), 8 == t && Z.isCollapsed() && Z.getStart().innerHTML == oe && d(s(Z.getStart())), 37 != t && 39 != t || d(s(Z.getStart())), h()
                }, l.on("SetContent", function(e) {
                    e.selection && h()
                }), l._hasCaretEvents = !0), "apply" == t ? f() : p()
            }

            function G(t) {
                var n = t.startContainer,
                    r = t.startOffset,
                    i, o, a, s, l;
                if ((t.startContainer != t.endContainer || !d(t.startContainer.childNodes[t.startOffset])) && (3 == n.nodeType && r >= n.nodeValue.length && (r = ie(n), n = n.parentNode, i = !0), 1 == n.nodeType))
                    for (s = n.childNodes, n = s[Math.min(r, s.length - 1)], o = new e(n, Q.getParent(n, Q.isBlock)), (r > s.length - 1 || i) && o.next(), a = o.current(); a; a = o.next())
                        if (3 == a.nodeType && !z(a)) return l = Q.create("a", {
                            "data-mce-bogus": "all"
                        }, oe), a.parentNode.insertBefore(l, a), t.setStart(a, 0), Z.setRng(t), void Q.remove(l)
            }
            var J = {},
                Q = l.dom,
                Z = l.selection,
                ee = new t(Q),
                te = l.schema.isValidChild,
                ne = Q.isBlock,
                re = l.settings.forced_root_block,
                ie = Q.nodeIndex,
                oe = "\ufeff",
                ae = /^(src|href|style)$/,
                se = !1,
                le = !0,
                ue, ce, de = Q.getContentEditable,
                fe, pe, he = n.isBookmarkNode,
                me = o.each,
                ge = o.grep,
                ve = o.walk,
                ye = o.extend;
            ye(this, {
                get: g,
                register: v,
                unregister: y,
                apply: w,
                remove: E,
                toggle: N,
                match: S,
                matchAll: k,
                matchNode: _,
                canApply: T,
                formatChanged: R,
                getCssText: A
            }), h(), m(), l.on("BeforeGetContent", function(e) {
                pe && "raw" != e.format && pe()
            }), l.on("mouseup keydown", function(e) {
                fe && fe(e)
            })
        }
    }), r(Q, [], function() {
        var e = 0,
            t = 1,
            n = 2,
            r = function(r, i) {
                var o = r.length + i.length + 2,
                    a = new Array(o),
                    s = new Array(o),
                    l = function(e, t, n) {
                        return {
                            start: e,
                            end: t,
                            diag: n
                        }
                    },
                    u = function(o, a, s, l, c) {
                        var f = d(o, a, s, l);
                        if (null === f || f.start === a && f.diag === a - l || f.end === o && f.diag === o - s)
                            for (var p = o, h = s; p < a || h < l;) p < a && h < l && r[p] === i[h] ? (c.push([e, r[p]]), ++p, ++h) : a - o > l - s ? (c.push([n, r[p]]), ++p) : (c.push([t, i[h]]), ++h);
                        else {
                            u(o, f.start, s, f.start - f.diag, c);
                            for (var m = f.start; m < f.end; ++m) c.push([e, r[m]]);
                            u(f.end, a, f.end - f.diag, l, c)
                        }
                    },
                    c = function(e, t, n, o) {
                        for (var a = e; a - t < o && a < n && r[a] === i[a - t];) ++a;
                        return l(e, a, t)
                    },
                    d = function(e, t, n, o) {
                        var l = t - e,
                            u = o - n;
                        if (0 === l || 0 === u) return null;
                        var d = l - u,
                            f = u + l,
                            p = (f % 2 === 0 ? f : f + 1) / 2;
                        a[1 + p] = e, s[1 + p] = t + 1;
                        for (var h = 0; h <= p; ++h) {
                            for (var m = -h; m <= h; m += 2) {
                                var g = m + p;
                                m === -h || m != h && a[g - 1] < a[g + 1] ? a[g] = a[g + 1] : a[g] = a[g - 1] + 1;
                                for (var v = a[g], y = v - e + n - m; v < t && y < o && r[v] === i[y];) a[g] = ++v, ++y;
                                if (d % 2 != 0 && d - h <= m && m <= d + h && s[g - d] <= a[g]) return c(s[g - d], m + e - n, t, o)
                            }
                            for (m = d - h; m <= d + h; m += 2) {
                                for (g = m + p - d, m === d - h || m != d + h && s[g + 1] <= s[g - 1] ? s[g] = s[g + 1] - 1 : s[g] = s[g - 1], v = s[g] - 1, y = v - e + n - m; v >= e && y >= n && r[v] === i[y];) s[g] = v--, y--;
                                if (d % 2 === 0 && -h <= m && m <= h && s[g] <= a[g + d]) return c(s[g], m + e - n, t, o)
                            }
                        }
                    },
                    f = [];
                return u(0, r.length, 0, i.length, f), f
            };
        return {
            KEEP: e,
            DELETE: n,
            INSERT: t,
            diff: r
        }
    }), r(Z, [h, C, Q], function(e, t, n) {
        var r = function(e) {
                return 1 === e.nodeType ? e.outerHTML : 3 === e.nodeType ? t.encodeRaw(e.data, !1) : 8 === e.nodeType ? "<!--" + e.data + "-->" : ""
            },
            i = function(e) {
                var t, n, r;
                for (r = document.createElement("div"), t = document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) t.appendChild(n);
                return t
            },
            o = function(e, t, n) {
                var r = i(t);
                if (e.hasChildNodes() && n < e.childNodes.length) {
                    var o = e.childNodes[n];
                    o.parentNode.insertBefore(r, o)
                } else e.appendChild(r)
            },
            a = function(e, t) {
                if (e.hasChildNodes() && t < e.childNodes.length) {
                    var n = e.childNodes[t];
                    n.parentNode.removeChild(n)
                }
            },
            s = function(t, r) {
                var i = 0;
                e.each(t, function(e) {
                    e[0] === n.KEEP ? i++ : e[0] === n.INSERT ? (o(r, e[1], i), i++) : e[0] === n.DELETE && a(r, i)
                })
            },
            l = function(t) {
                return e.map(t.childNodes, r)
            },
            u = function(t, i) {
                var o = e.map(i.childNodes, r);
                return s(n.diff(o, t), i), i
            };
        return {
            read: l,
            write: u
        }
    }), r(ee, [h, Z], function(e, t) {
        var n = function(e) {
                return e.indexOf("</iframe>") !== -1
            },
            r = function(e) {
                return {
                    type: "fragmented",
                    fragments: e,
                    content: "",
                    bookmark: null,
                    beforeBookmark: null
                }
            },
            i = function(e) {
                return {
                    type: "complete",
                    fragments: null,
                    content: e,
                    bookmark: null,
                    beforeBookmark: null
                }
            },
            o = function(o) {
                var a, s, l;
                return a = t.read(o.getBody()), l = e.map(a, function(e) {
                    return o.serializer.trimContent(e)
                }), s = l.join(""), n(s) ? r(l) : i(s)
            },
            a = function(e, n, r) {
                "fragmented" === n.type ? t.write(n.fragments, e.getBody()) : e.setContent(n.content, {
                    format: "raw"
                }), e.selection.moveToBookmark(r ? n.beforeBookmark : n.bookmark)
            },
            s = function(e) {
                return "fragmented" === e.type ? e.fragments.join("") : e.content
            },
            l = function(e, t) {
                return s(e) === s(t)
            };
        return {
            createFragmentedLevel: r,
            createCompleteLevel: i,
            createFromEditor: o,
            applyToEditor: a,
            isEq: l
        }
    }), r(te, [I, m, ee], function(e, t, n) {
        return function(e) {
            function r(t) {
                e.setDirty(t)
            }

            function i(e) {
                a.typing = !1, a.add({}, e)
            }

            function o() {
                a.typing && (a.typing = !1, a.add())
            }
            var a = this,
                s = 0,
                l = [],
                u, c, d = 0;
            return e.on("init", function() {
                a.add()
            }), e.on("BeforeExecCommand", function(e) {
                var t = e.command;
                "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (o(), a.beforeChange())
            }), e.on("ExecCommand", function(e) {
                var t = e.command;
                "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && i(e)
            }), e.on("ObjectResizeStart Cut", function() {
                a.beforeChange()
            }), e.on("SaveContent ObjectResized blur", i), e.on("DragEnd", i), e.on("KeyUp", function(t) {
                var o = t.keyCode;
                t.isDefaultPrevented() || ((o >= 33 && o <= 36 || o >= 37 && o <= 40 || 45 === o || t.ctrlKey) && (i(), e.nodeChanged()), 46 !== o && 8 !== o || e.nodeChanged(), c && a.typing && (e.isDirty() || (r(l[0] && !n.isEq(n.createFromEditor(e), l[0])), e.isDirty() && e.fire("change", {
                    level: l[0],
                    lastLevel: null
                })), e.fire("TypingUndo"), c = !1, e.nodeChanged()))
            }), e.on("KeyDown", function(e) {
                var t = e.keyCode;
                if (!e.isDefaultPrevented()) {
                    if (t >= 33 && t <= 36 || t >= 37 && t <= 40 || 45 === t) return void(a.typing && i(e));
                    var n = e.ctrlKey && !e.altKey || e.metaKey;
                    !(t < 16 || t > 20) || 224 === t || 91 === t || a.typing || n || (a.beforeChange(), a.typing = !0, a.add({}, e), c = !0)
                }
            }), e.on("MouseDown", function(e) {
                a.typing && i(e)
            }), e.addShortcut("meta+z", "", "Undo"), e.addShortcut("meta+y,meta+shift+z", "", "Redo"), e.on("AddUndo Undo Redo ClearUndos", function(t) {
                t.isDefaultPrevented() || e.nodeChanged()
            }), a = {
                data: l,
                typing: !1,
                beforeChange: function() {
                    d || (u = e.selection.getBookmark(2, !0))
                },
                add: function(i, o) {
                    var a, c = e.settings,
                        f, p;
                    if (p = n.createFromEditor(e), i = i || {}, i = t.extend(i, p), d || e.removed) return null;
                    if (f = l[s], e.fire("BeforeAddUndo", {
                            level: i,
                            lastLevel: f,
                            originalEvent: o
                        }).isDefaultPrevented()) return null;
                    if (f && n.isEq(f, i)) return null;
                    if (l[s] && (l[s].beforeBookmark = u), c.custom_undo_redo_levels && l.length > c.custom_undo_redo_levels) {
                        for (a = 0; a < l.length - 1; a++) l[a] = l[a + 1];
                        l.length--, s = l.length
                    }
                    i.bookmark = e.selection.getBookmark(2, !0), s < l.length - 1 && (l.length = s + 1), l.push(i), s = l.length - 1;
                    var h = {
                        level: i,
                        lastLevel: f,
                        originalEvent: o
                    };
                    return e.fire("AddUndo", h), s > 0 && (r(!0), e.fire("change", h)), i
                },
                undo: function() {
                    var t;
                    return a.typing && (a.add(), a.typing = !1), s > 0 && (t = l[--s], n.applyToEditor(e, t, !0), r(!0), e.fire("undo", {
                        level: t
                    })), t
                },
                redo: function() {
                    var t;
                    return s < l.length - 1 && (t = l[++s], n.applyToEditor(e, t, !1), r(!0), e.fire("redo", {
                        level: t
                    })), t
                },
                clear: function() {
                    l = [], s = 0, a.typing = !1, a.data = l, e.fire("ClearUndos")
                },
                hasUndo: function() {
                    return s > 0 || a.typing && l[0] && !n.isEq(n.createFromEditor(e), l[0])
                },
                hasRedo: function() {
                    return s < l.length - 1 && !a.typing
                },
                transact: function(e) {
                    o(), a.beforeChange();
                    try {
                        d++, e()
                    } finally {
                        d--
                    }
                    return a.add()
                },
                extra: function(t, r) {
                    var i, o;
                    a.transact(t) && (o = l[s].bookmark, i = l[s - 1], n.applyToEditor(e, i, !0), a.transact(r) && (l[s - 1].beforeBookmark = o))
                }
            }
        }
    }), r(ne, [y, T, k, d], function(e, t, n, r) {
        var i = r.ie && r.ie < 11;
        return function(o) {
            function a(a) {
                function h(e) {
                    return e && s.isBlock(e) && !/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName) && !/^(fixed|absolute)/i.test(e.style.position) && "true" !== s.getContentEditable(e)
                }

                function m(e) {
                    return e && /^(TD|TH|CAPTION)$/.test(e.nodeName)
                }

                function g(e) {
                    var t;
                    s.isBlock(e) && (t = l.getRng(), e.appendChild(s.create("span", null, "\xa0")), l.select(e), e.lastChild.outerHTML = "", l.setRng(t))
                }

                function v(e) {
                    var t = e,
                        n = [],
                        r;
                    if (t) {
                        for (; t = t.firstChild;) {
                            if (s.isBlock(t)) return;
                            1 != t.nodeType || f[t.nodeName.toLowerCase()] || n.push(t)
                        }
                        for (r = n.length; r--;) t = n[r], !t.hasChildNodes() || t.firstChild == t.lastChild && "" === t.firstChild.nodeValue ? s.remove(t) : "A" == t.nodeName && " " === (t.innerText || t.textContent) && s.remove(t)
                    }
                }

                function y(t) {
                    function n(e) {
                        for (; e;) {
                            if (1 == e.nodeType || 3 == e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
                            e = e.nextSibling
                        }
                    }
                    var i, o, a, u = t,
                        c;
                    if (t) {
                        if (r.ie && r.ie < 9 && P && P.firstChild && P.firstChild == P.lastChild && "BR" == P.firstChild.tagName && s.remove(P.firstChild), /^(LI|DT|DD)$/.test(t.nodeName)) {
                            var d = n(t.firstChild);
                            d && /^(UL|OL|DL)$/.test(d.nodeName) && t.insertBefore(s.doc.createTextNode("\xa0"), t.firstChild)
                        }
                        if (a = s.createRng(), r.ie || t.normalize(), t.hasChildNodes()) {
                            for (i = new e(t, t); o = i.current();) {
                                if (3 == o.nodeType) {
                                    a.setStart(o, 0), a.setEnd(o, 0);
                                    break
                                }
                                if (p[o.nodeName.toLowerCase()]) {
                                    a.setStartBefore(o), a.setEndBefore(o);
                                    break
                                }
                                u = o, o = i.next()
                            }
                            o || (a.setStart(u, 0), a.setEnd(u, 0))
                        } else "BR" == t.nodeName ? t.nextSibling && s.isBlock(t.nextSibling) ? ((!O || O < 9) && (c = s.create("br"), t.parentNode.insertBefore(c, t)), a.setStartBefore(t), a.setEndBefore(t)) : (a.setStartAfter(t), a.setEndAfter(t)) : (a.setStart(t, 0), a.setEnd(t, 0));
                        l.setRng(a), s.remove(c), l.scrollIntoView(t)
                    }
                }

                function b(e) {
                    var t = u.forced_root_block;
                    t && t.toLowerCase() === e.tagName.toLowerCase() && s.setAttribs(e, u.forced_root_block_attrs)
                }

                function C(e) {
                    e.innerHTML = i ? "" : '<br data-mce-bogus="1">'
                }

                function x(e) {
                    var t = L,
                        n, r, o, a = d.getTextInlineElements();
                    if (e || "TABLE" == U ? (n = s.create(e || V), b(n)) : n = P.cloneNode(!1), o = n, u.keep_styles !== !1)
                        do
                            if (a[t.nodeName]) {
                                if ("_mce_caret" == t.id) continue;
                                r = t.cloneNode(!1), s.setAttrib(r, "id", ""), n.hasChildNodes() ? (r.appendChild(n.firstChild), n.appendChild(r)) : (o = r, n.appendChild(r))
                            } while ((t = t.parentNode) && t != D);
                    return i || (o.innerHTML = '<br data-mce-bogus="1">'), n
                }

                function w(t) {
                    var n, r, i;
                    if (3 == L.nodeType && (t ? M > 0 : M < L.nodeValue.length)) return !1;
                    if (L.parentNode == P && $ && !t) return !0;
                    if (t && 1 == L.nodeType && L == P.firstChild) return !0;
                    if ("TABLE" === L.nodeName || L.previousSibling && "TABLE" == L.previousSibling.nodeName) return $ && !t || !$ && t;
                    for (n = new e(L, P), 3 == L.nodeType && (t && 0 === M ? n.prev() : t || M != L.nodeValue.length || n.next()); r = n.current();) {
                        if (1 === r.nodeType) {
                            if (!r.getAttribute("data-mce-bogus") && (i = r.nodeName.toLowerCase(), f[i] && "br" !== i)) return !1
                        } else if (3 === r.nodeType && !/^[ \t\r\n]*$/.test(r.nodeValue)) return !1;
                        t ? n.prev() : n.next()
                    }
                    return !0
                }

                function E(e, t) {
                    var n, r, i, a, l, u, c = V || "P";
                    if (r = s.getParent(e, s.isBlock), !r || !h(r)) {
                        if (r = r || D, u = r == o.getBody() || m(r) ? r.nodeName.toLowerCase() : r.parentNode.nodeName.toLowerCase(), !r.hasChildNodes()) return n = s.create(c), b(n), r.appendChild(n), A.setStart(n, 0), A.setEnd(n, 0), n;
                        for (a = e; a.parentNode != r;) a = a.parentNode;
                        for (; a && !s.isBlock(a);) i = a, a = a.previousSibling;
                        if (i && d.isValidChild(u, c.toLowerCase())) {
                            for (n = s.create(c), b(n), i.parentNode.insertBefore(n, i), a = i; a && !s.isBlock(a);) l = a.nextSibling, n.appendChild(a), a = l;
                            A.setStart(e, t), A.setEnd(e, t)
                        }
                    }
                    return e
                }

                function N() {
                    function e(e) {
                        for (var t = z[e ? "firstChild" : "lastChild"]; t && 1 != t.nodeType;) t = t[e ? "nextSibling" : "previousSibling"];
                        return t === P
                    }

                    function t() {
                        var e = z.parentNode;
                        return /^(LI|DT|DD)$/.test(e.nodeName) ? e : z
                    }
                    if (z != o.getBody()) {
                        var n = z.parentNode.nodeName;
                        /^(OL|UL|LI)$/.test(n) && (V = "LI"), I = V ? x(V) : s.create("BR"), e(!0) && e() ? "LI" == n ? s.insertAfter(I, t()) : s.replace(I, z) : e(!0) ? "LI" == n ? (s.insertAfter(I, t()), I.appendChild(s.doc.createTextNode(" ")), I.appendChild(z)) : z.parentNode.insertBefore(I, z) : e() ? (s.insertAfter(I, t()), g(I)) : (z = t(), B = A.cloneRange(), B.setStartAfter(P), B.setEndAfter(z), F = B.extractContents(), "LI" == V && "LI" == F.firstChild.nodeName ? (I = F.firstChild, s.insertAfter(F, z)) : (s.insertAfter(F, z), s.insertAfter(I, z))), s.remove(P), y(I), c.add()
                    }
                }

                function _() {
                    o.execCommand("InsertLineBreak", !1, a)
                }

                function S(e) {
                    do 3 === e.nodeType && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild; while (e)
                }

                function k(e) {
                    var t = s.getRoot(),
                        n, r;
                    for (n = e; n !== t && "false" !== s.getContentEditable(n);) "true" === s.getContentEditable(n) && (r = n), n = n.parentNode;
                    return n !== t ? r : t
                }

                function T(e) {
                    var t;
                    i || (e.normalize(), t = e.lastChild, t && !/^(left|right)$/gi.test(s.getStyle(t, "float", !0)) || s.add(e, "br"))
                }

                function R() {
                    I = /^(H[1-6]|PRE|FIGURE)$/.test(U) && "HGROUP" != W ? x(V) : x(), u.end_container_on_empty_block && h(z) && s.isEmpty(P) ? I = s.split(z, P) : s.insertAfter(I, P), y(I)
                }
                var A, B, D, L, M, P, O, H, I, F, z, U, W, V, $;
                if (A = l.getRng(!0), !a.isDefaultPrevented()) {
                    if (!A.collapsed) return void o.execCommand("Delete");
                    if (new t(s).normalize(A), L = A.startContainer, M = A.startOffset, V = (u.force_p_newlines ? "p" : "") || u.forced_root_block, V = V ? V.toUpperCase() : "", O = s.doc.documentMode, H = a.shiftKey, 1 == L.nodeType && L.hasChildNodes() && ($ = M > L.childNodes.length - 1, L = L.childNodes[Math.min(M, L.childNodes.length - 1)] || L, M = $ && 3 == L.nodeType ? L.nodeValue.length : 0), D = k(L)) {
                        if (c.beforeChange(), !s.isBlock(D) && D != s.getRoot()) return void(V && !H || _());
                        if ((V && !H || !V && H) && (L = E(L, M)), P = s.getParent(L, s.isBlock), z = P ? s.getParent(P.parentNode, s.isBlock) : null, U = P ? P.nodeName.toUpperCase() : "", W = z ? z.nodeName.toUpperCase() : "", "LI" != W || a.ctrlKey || (P = z, U = W), o.undoManager.typing && (o.undoManager.typing = !1, o.undoManager.add()), /^(LI|DT|DD)$/.test(U)) {
                            if (!V && H) return void _();
                            if (s.isEmpty(P)) return void N()
                        }
                        if ("PRE" == U && u.br_in_pre !== !1) {
                            if (!H) return void _()
                        } else if (!V && !H && "LI" != U || V && H) return void _();
                        V && P === o.getBody() || (V = V || "P", n.isCaretContainerBlock(P) ? (I = n.showCaretContainerBlock(P), s.isEmpty(P) && C(P), y(I)) : w() ? R() : w(!0) ? (I = P.parentNode.insertBefore(x(), P), g(I), y(P)) : (B = A.cloneRange(), B.setEndAfter(P), F = B.extractContents(), S(F), I = F.firstChild, s.insertAfter(F, P), v(I), T(P), s.isEmpty(P) && C(P), I.normalize(), s.isEmpty(I) ? (s.remove(I), R()) : y(I)), s.setAttrib(I, "id", ""), o.fire("NewBlock", {
                            newBlock: I
                        }), c.typing = !1, c.add())
                    }
                }
            }
            var s = o.dom,
                l = o.selection,
                u = o.settings,
                c = o.undoManager,
                d = o.schema,
                f = d.getNonEmptyElements(),
                p = d.getMoveCaretBeforeOnEnterElements();
            o.on("keydown", function(e) {
                13 == e.keyCode && a(e) !== !1 && e.preventDefault()
            })
        }
    }), r(re, [], function() {
        return function(e) {
            function t() {
                var t = i.getStart(),
                    s = e.getBody(),
                    l, u, c, d, f, p, h, m = -16777215,
                    g, v, y, b, C;
                if (C = n.forced_root_block, t && 1 === t.nodeType && C) {
                    for (; t && t != s;) {
                        if (a[t.nodeName]) return;
                        t = t.parentNode
                    }
                    if (l = i.getRng(), l.setStart) {
                        u = l.startContainer, c = l.startOffset, d = l.endContainer, f = l.endOffset;
                        try {
                            v = e.getDoc().activeElement === s
                        } catch (x) {}
                    } else l.item && (t = l.item(0), l = e.getDoc().body.createTextRange(), l.moveToElementText(t)), v = l.parentElement().ownerDocument === e.getDoc(), y = l.duplicate(), y.collapse(!0), c = y.move("character", m) * -1, y.collapsed || (y = l.duplicate(), y.collapse(!1), f = y.move("character", m) * -1 - c);
                    for (t = s.firstChild, b = s.nodeName.toLowerCase(); t;)
                        if ((3 === t.nodeType || 1 == t.nodeType && !a[t.nodeName]) && o.isValidChild(b, C.toLowerCase())) {
                            if (3 === t.nodeType && 0 === t.nodeValue.length) {
                                h = t, t = t.nextSibling, r.remove(h);
                                continue
                            }
                            p || (p = r.create(C, e.settings.forced_root_block_attrs),
                                t.parentNode.insertBefore(p, t), g = !0), h = t, t = t.nextSibling, p.appendChild(h)
                        } else p = null, t = t.nextSibling;
                    if (g && v) {
                        if (l.setStart) l.setStart(u, c), l.setEnd(d, f), i.setRng(l);
                        else try {
                            l = e.getDoc().body.createTextRange(), l.moveToElementText(s), l.collapse(!0), l.moveStart("character", c), f > 0 && l.moveEnd("character", f), l.select()
                        } catch (x) {}
                        e.nodeChanged()
                    }
                }
            }
            var n = e.settings,
                r = e.dom,
                i = e.selection,
                o = e.schema,
                a = o.getBlockElements();
            n.forced_root_block && e.on("NodeChange", t)
        }
    }), r(ie, [z, y, _, $, k, U], function(e, t, n, r, i, o) {
        function a(e) {
            return e > 0
        }

        function s(e) {
            return e < 0
        }

        function l(e, t) {
            for (var n; n = e(t);)
                if (!N(n)) return n;
            return null
        }

        function u(e, n, r, i, o) {
            var u = new t(e, i);
            if (s(n)) {
                if ((x(e) || N(e)) && (e = l(u.prev, !0), r(e))) return e;
                for (; e = l(u.prev, o);)
                    if (r(e)) return e
            }
            if (a(n)) {
                if ((x(e) || N(e)) && (e = l(u.next, !0), r(e))) return e;
                for (; e = l(u.next, o);)
                    if (r(e)) return e
            }
            return null
        }

        function c(e, t) {
            for (e = e.parentNode; e && e != t; e = e.parentNode)
                if (C(e)) return e;
            return t
        }

        function d(e, t) {
            for (; e && e != t;) {
                if (w(e)) return e;
                e = e.parentNode
            }
            return null
        }

        function f(e, t, n) {
            return d(e.container(), n) == d(t.container(), n)
        }

        function p(e, t, n) {
            return c(e.container(), n) == c(t.container(), n)
        }

        function h(e, t) {
            var n, r;
            return t ? (n = t.container(), r = t.offset(), S(n) ? n.childNodes[r + e] : null) : null
        }

        function m(e, t) {
            var n = t.ownerDocument.createRange();
            return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n
        }

        function g(e, t, n) {
            return d(t, e) == d(n, e)
        }

        function v(e, t, n) {
            var r, i;
            for (i = e ? "previousSibling" : "nextSibling"; n && n != t;) {
                if (r = n[i], E(r) && (r = r[i]), x(r)) {
                    if (g(t, r, n)) return r;
                    break
                }
                if (k(r)) break;
                n = n.parentNode
            }
            return null
        }

        function y(e, t, r) {
            var o, a, s, l, u = _(v, !0, t),
                c = _(v, !1, t);
            if (a = r.startContainer, s = r.startOffset, i.isCaretContainerBlock(a)) {
                if (S(a) || (a = a.parentNode), l = a.getAttribute("data-mce-caret"), "before" == l && (o = a.nextSibling, x(o))) return T(o);
                if ("after" == l && (o = a.previousSibling, x(o))) return R(o)
            }
            if (!r.collapsed) return r;
            if (n.isText(a)) {
                if (E(a)) {
                    if (1 === e) {
                        if (o = c(a)) return T(o);
                        if (o = u(a)) return R(o)
                    }
                    if (e === -1) {
                        if (o = u(a)) return R(o);
                        if (o = c(a)) return T(o)
                    }
                    return r
                }
                if (i.endsWithCaretContainer(a) && s >= a.data.length - 1) return 1 === e && (o = c(a)) ? T(o) : r;
                if (i.startsWithCaretContainer(a) && s <= 1) return e === -1 && (o = u(a)) ? R(o) : r;
                if (s === a.data.length) return o = c(a), o ? T(o) : r;
                if (0 === s) return o = u(a), o ? R(o) : r
            }
            return r
        }

        function b(e, t) {
            return x(h(e, t))
        }
        var C = n.isContentEditableTrue,
            x = n.isContentEditableFalse,
            w = n.matchStyleValues("display", "block table table-cell table-caption"),
            E = i.isCaretContainer,
            N = i.isCaretContainerBlock,
            _ = e.curry,
            S = n.isElement,
            k = o.isCaretCandidate,
            T = _(m, !0),
            R = _(m, !1);
        return {
            isForwards: a,
            isBackwards: s,
            findNode: u,
            getEditingHost: c,
            getParentBlock: d,
            isInSameBlock: f,
            isInSameEditingHost: p,
            isBeforeContentEditableFalse: _(b, 0),
            isAfterContentEditableFalse: _(b, -1),
            normalizeRange: y
        }
    }), r(oe, [_, U, $, ie, h, z], function(e, t, n, r, i, o) {
        function a(e, t) {
            for (var n = []; e && e != t;) n.push(e), e = e.parentNode;
            return n
        }

        function s(e, t) {
            return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null
        }

        function l(e, t) {
            if (m(e)) {
                if (v(t.previousSibling) && !f(t.previousSibling)) return n.before(t);
                if (f(t)) return n(t, 0)
            }
            if (g(e)) {
                if (v(t.nextSibling) && !f(t.nextSibling)) return n.after(t);
                if (f(t)) return n(t, t.data.length)
            }
            return g(e) ? h(t) ? n.before(t) : n.after(t) : n.before(t)
        }

        function u(t, i) {
            var o;
            return !!e.isBr(t) && (o = c(1, n.after(t), i), !!o && !r.isInSameBlock(n.before(t), n.before(o), i))
        }

        function c(e, t, h) {
            var C, x, w, E, N, _, S;
            if (!p(h) || !t) return null;
            if (S = t, C = S.container(), x = S.offset(), f(C)) {
                if (g(e) && x > 0) return n(C, --x);
                if (m(e) && x < C.length) return n(C, ++x);
                w = C
            } else {
                if (g(e) && x > 0 && (E = s(C, x - 1), v(E))) return !y(E) && (N = r.findNode(E, e, b, E)) ? f(N) ? n(N, N.data.length) : n.after(N) : f(E) ? n(E, E.data.length) : n.before(E);
                if (m(e) && x < C.childNodes.length && (E = s(C, x), v(E))) return u(E, h) ? c(e, n.after(E), h) : !y(E) && (N = r.findNode(E, e, b, E)) ? f(N) ? n(N, 0) : n.before(N) : f(E) ? n(E, 0) : n.after(E);
                w = S.getNode()
            }
            return (m(e) && S.isAtEnd() || g(e) && S.isAtStart()) && (w = r.findNode(w, e, o.constant(!0), h, !0), b(w)) ? l(e, w) : (E = r.findNode(w, e, b, h), _ = i.last(i.filter(a(C, h), d)), !_ || E && _.contains(E) ? E ? l(e, E) : null : S = m(e) ? n.after(_) : n.before(_))
        }
        var d = e.isContentEditableFalse,
            f = e.isText,
            p = e.isElement,
            h = e.isBr,
            m = r.isForwards,
            g = r.isBackwards,
            v = t.isCaretCandidate,
            y = t.isAtomic,
            b = t.isEditableCaretCandidate;
        return function(e) {
            return {
                next: function(t) {
                    return c(1, t, e)
                },
                prev: function(t) {
                    return c(-1, t, e)
                }
            }
        }
    }), r(ae, [m, oe, $], function(e, t, n) {
        var r = function(e) {
                var t = e.firstChild,
                    n = e.lastChild;
                return t && "meta" === t.name && (t = t.next), n && "mce_marker" === n.attr("id") && (n = n.prev), !(!t || t !== n) && ("ul" === t.name || "ol" === t.name)
            },
            i = function(e) {
                var t = e.firstChild,
                    n = e.lastChild;
                return t && "META" === t.nodeName && t.parentNode.removeChild(t), n && "mce_marker" === n.id && n.parentNode.removeChild(n), e
            },
            o = function(e, t, n) {
                var r = t.serialize(n),
                    o = e.createFragment(r);
                return i(o)
            },
            a = function(t) {
                return e.grep(t.childNodes, function(e) {
                    return "LI" === e.nodeName
                })
            },
            s = function(e) {
                return !e.firstChild
            },
            l = function(e) {
                return e.length > 0 && s(e[e.length - 1]) ? e.slice(0, -1) : e
            },
            u = function(e, t) {
                var n = e.getParent(t, e.isBlock);
                return n && "LI" === n.nodeName ? n : null
            },
            c = function(e, t) {
                return !!u(e, t)
            },
            d = function(e, t) {
                var n = t.cloneRange(),
                    r = t.cloneRange();
                return n.setStartBefore(e), r.setEndAfter(e), [n.cloneContents(), r.cloneContents()]
            },
            f = function(e, r) {
                var i = n.before(e),
                    o = new t(r),
                    a = o.next(i);
                return a ? a.toRange() : null
            },
            p = function(e, r) {
                var i = n.after(e),
                    o = new t(r),
                    a = o.prev(i);
                return a ? a.toRange() : null
            },
            h = function(t, n, r, i) {
                var o = d(t, i),
                    a = t.parentNode;
                return a.insertBefore(o[0], t), e.each(n, function(e) {
                    a.insertBefore(e, t)
                }), a.insertBefore(o[1], t), a.removeChild(t), p(n[n.length - 1], r)
            },
            m = function(t, n, r) {
                var i = t.parentNode;
                return e.each(n, function(e) {
                    i.insertBefore(e, t)
                }), f(t, r)
            },
            g = function(e, t, n, r) {
                return r.insertAfter(t.reverse(), e), p(t[0], n)
            },
            v = function(e, r, i, s) {
                var c = o(r, e, s),
                    d = u(r, i.startContainer),
                    f = l(a(c.firstChild)),
                    p = 1,
                    v = 2,
                    y = r.getRoot(),
                    b = function(e) {
                        var o = n.fromRangeStart(i),
                            a = new t(r.getRoot()),
                            s = e === p ? a.prev(o) : a.next(o);
                        return !s || u(r, s.getNode()) !== d
                    };
                return b(p) ? m(d, f, y) : b(v) ? g(d, f, y, r) : h(d, f, y, i)
            };
        return {
            isListFragment: r,
            insertAtCaret: v,
            isParentBlockLi: c,
            trimListItems: l,
            listItems: a
        }
    }), r(se, [d, m, P, oe, $, X, _, ae], function(e, t, n, r, i, o, a, s) {
        var l = a.matchNodeNames("td th"),
            u = function(e, t, n) {
                if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);
                else {
                    var r = n.firstChild,
                        i = n.lastChild;
                    !r || r === i && "BR" === r.nodeName ? e.dom.setHTML(n, t) : e.selection.setContent(t)
                }
            },
            c = function(a, c, d) {
                function f(e) {
                    function t(e) {
                        return r[e] && 3 == r[e].nodeType
                    }
                    var n, r, i;
                    return n = L.getRng(!0), r = n.startContainer, i = n.startOffset, 3 == r.nodeType && (i > 0 ? e = e.replace(/^&nbsp;/, " ") : t("previousSibling") || (e = e.replace(/^ /, "&nbsp;")), i < r.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : t("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), e
                }

                function p() {
                    var e, t, n;
                    e = L.getRng(!0), t = e.startContainer, n = e.startOffset, 3 == t.nodeType && e.collapsed && ("\xa0" === t.data[n] ? (t.deleteData(n, 1), /[\u00a0| ]$/.test(c) || (c += " ")) : "\xa0" === t.data[n - 1] && (t.deleteData(n - 1, 1), /[\u00a0| ]$/.test(c) || (c = " " + c)))
                }

                function h() {
                    if (B) {
                        var e = a.getBody(),
                            n = new o(M);
                        t.each(M.select("*[data-mce-fragment]"), function(t) {
                            for (var r = t.parentNode; r && r != e; r = r.parentNode) D[t.nodeName.toLowerCase()] && n.compare(r, t) && M.remove(t, !0)
                        })
                    }
                }

                function m(e) {
                    for (var t = e; t = t.walk();) 1 === t.type && t.attr("data-mce-fragment", "1")
                }

                function g(e) {
                    t.each(e.getElementsByTagName("*"), function(e) {
                        e.removeAttribute("data-mce-fragment")
                    })
                }

                function v(e) {
                    return !!e.getAttribute("data-mce-fragment")
                }

                function y(e) {
                    return e && !a.schema.getShortEndedElements()[e.nodeName]
                }

                function b(t) {
                    function n(e) {
                        for (var t = a.getBody(); e && e !== t; e = e.parentNode)
                            if ("false" === a.dom.getContentEditable(e)) return e;
                        return null
                    }

                    function o(e) {
                        var t = i.fromRangeStart(e),
                            n = new r(a.getBody());
                        if (t = n.next(t)) return t.toRange()
                    }
                    var s, u, c;
                    if (t) {
                        if (L.scrollIntoView(t), s = n(t)) return M.remove(t), void L.select(s);
                        k = M.createRng(), T = t.previousSibling, T && 3 == T.nodeType ? (k.setStart(T, T.nodeValue.length), e.ie || (R = t.nextSibling, R && 3 == R.nodeType && (T.appendData(R.data), R.parentNode.removeChild(R)))) : (k.setStartBefore(t), k.setEndBefore(t)), u = M.getParent(t, M.isBlock), M.remove(t), u && M.isEmpty(u) && (a.$(u).empty(), k.setStart(u, 0), k.setEnd(u, 0), l(u) || v(u) || !(c = o(k)) ? M.add(u, M.create("br", {
                            "data-mce-bogus": "1"
                        })) : (k = c, M.remove(u))), L.setRng(k)
                    }
                }
                var C, x, w, E, N, _, S, k, T, R, A, B, D = a.schema.getTextInlineElements(),
                    L = a.selection,
                    M = a.dom;
                /^ | $/.test(c) && (c = f(c)), C = a.parser, B = d.merge, x = new n({
                    validate: a.settings.validate
                }, a.schema), A = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', _ = {
                    content: c,
                    format: "html",
                    selection: !0
                }, a.fire("BeforeSetContent", _), c = _.content, c.indexOf("{$caret}") == -1 && (c += "{$caret}"), c = c.replace(/\{\$caret\}/, A), k = L.getRng();
                var P = k.startContainer || (k.parentElement ? k.parentElement() : null),
                    O = a.getBody();
                P === O && L.isCollapsed() && M.isBlock(O.firstChild) && y(O.firstChild) && M.isEmpty(O.firstChild) && (k = M.createRng(), k.setStart(O.firstChild, 0), k.setEnd(O.firstChild, 0), L.setRng(k)), L.isCollapsed() || (a.selection.setRng(a.selection.getRng()), a.getDoc().execCommand("Delete", !1, null), p()), w = L.getNode();
                var H = {
                    context: w.nodeName.toLowerCase(),
                    data: d.data
                };
                if (N = C.parse(c, H), d.paste === !0 && s.isListFragment(N) && s.isParentBlockLi(M, w)) return k = s.insertAtCaret(x, M, a.selection.getRng(!0), N), a.selection.setRng(k), void a.fire("SetContent", _);
                if (m(N), T = N.lastChild, "mce_marker" == T.attr("id"))
                    for (S = T, T = T.prev; T; T = T.walk(!0))
                        if (3 == T.type || !M.isBlock(T.name)) {
                            a.schema.isValidChild(T.parent.name, "span") && T.parent.insert(S, T, "br" === T.name);
                            break
                        } if (a._selectionOverrides.showBlockCaretContainer(w), H.invalid) {
                    for (L.setContent(A), w = L.getNode(), E = a.getBody(), 9 == w.nodeType ? w = T = E : T = w; T !== E;) w = T, T = T.parentNode;
                    c = w == E ? E.innerHTML : M.getOuterHTML(w), c = x.serialize(C.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function() {
                        return x.serialize(N)
                    }))), w == E ? M.setHTML(E, c) : M.setOuterHTML(w, c)
                } else c = x.serialize(N), u(a, c, w);
                h(), b(M.get("mce_marker")), g(a.getBody()), a.fire("SetContent", _), a.addVisual()
            },
            d = function(e) {
                var n;
                return "string" != typeof e ? (n = t.extend({
                    paste: e.paste,
                    data: {
                        paste: e.paste
                    }
                }, e), {
                    content: e.content,
                    details: n
                }) : {
                    content: e,
                    details: {}
                }
            },
            f = function(e, t) {
                var n = d(t);
                c(e, n.content, n.details)
            };
        return {
            insertAtCaret: f
        }
    }), r(le, [d, m, T, y, se, _], function(e, n, r, i, o, a) {
        var s = n.each,
            l = n.extend,
            u = n.map,
            c = n.inArray,
            d = n.explode,
            f = e.ie && e.ie < 11,
            p = !0,
            h = !1;
        return function(n) {
            function m(e, t, r, i) {
                var o, a, l = 0;
                if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e) || i && i.skip_focus || n.focus(), i = n.fire("BeforeExecCommand", {
                        command: e,
                        ui: t,
                        value: r
                    }), i.isDefaultPrevented()) return !1;
                if (a = e.toLowerCase(), o = D.exec[a]) return o(a, t, r), n.fire("ExecCommand", {
                    command: e,
                    ui: t,
                    value: r
                }), !0;
                if (s(n.plugins, function(i) {
                        if (i.execCommand && i.execCommand(e, t, r)) return n.fire("ExecCommand", {
                            command: e,
                            ui: t,
                            value: r
                        }), l = !0, !1
                    }), l) return l;
                if (n.theme && n.theme.execCommand && n.theme.execCommand(e, t, r)) return n.fire("ExecCommand", {
                    command: e,
                    ui: t,
                    value: r
                }), !0;
                try {
                    l = n.getDoc().execCommand(e, t, r)
                } catch (u) {}
                return !!l && (n.fire("ExecCommand", {
                    command: e,
                    ui: t,
                    value: r
                }), !0)
            }

            function g(e) {
                var t;
                if (!n.quirks.isHidden()) {
                    if (e = e.toLowerCase(), t = D.state[e]) return t(e);
                    try {
                        return n.getDoc().queryCommandState(e)
                    } catch (r) {}
                    return !1
                }
            }

            function v(e) {
                var t;
                if (!n.quirks.isHidden()) {
                    if (e = e.toLowerCase(), t = D.value[e]) return t(e);
                    try {
                        return n.getDoc().queryCommandValue(e)
                    } catch (r) {}
                }
            }

            function y(e, t) {
                t = t || "exec", s(e, function(e, n) {
                    s(n.toLowerCase().split(","), function(n) {
                        D[t][n] = e
                    })
                })
            }

            function b(e, t, r) {
                e = e.toLowerCase(), D.exec[e] = function(e, i, o, a) {
                    return t.call(r || n, i, o, a)
                }
            }

            function C(e) {
                if (e = e.toLowerCase(), D.exec[e]) return !0;
                try {
                    return n.getDoc().queryCommandSupported(e)
                } catch (t) {}
                return !1
            }

            function x(e, t, r) {
                e = e.toLowerCase(), D.state[e] = function() {
                    return t.call(r || n)
                }
            }

            function w(e, t, r) {
                e = e.toLowerCase(), D.value[e] = function() {
                    return t.call(r || n)
                }
            }

            function E(e) {
                return e = e.toLowerCase(), !!D.exec[e]
            }

            function N(e, r, i) {
                return r === t && (r = h), i === t && (i = null), n.getDoc().execCommand(e, r, i)
            }

            function _(e) {
                return B.match(e)
            }

            function S(e, r) {
                B.toggle(e, r ? {
                    value: r
                } : t), n.nodeChanged()
            }

            function k(e) {
                M = A.getBookmark(e)
            }

            function T() {
                A.moveToBookmark(M)
            }
            var R, A, B, D = {
                    state: {},
                    exec: {},
                    value: {}
                },
                L = n.settings,
                M;
            n.on("PreInit", function() {
                R = n.dom, A = n.selection, L = n.settings, B = n.formatter
            }), l(this, {
                execCommand: m,
                queryCommandState: g,
                queryCommandValue: v,
                queryCommandSupported: C,
                addCommands: y,
                addCommand: b,
                addQueryStateHandler: x,
                addQueryValueHandler: w,
                hasCustomCommand: E
            }), y({
                "mceResetDesignMode,mceBeginUndoLevel": function() {},
                "mceEndUndoLevel,mceAddUndoLevel": function() {
                    n.undoManager.add()
                },
                "Cut,Copy,Paste": function(t) {
                    var r = n.getDoc(),
                        i;
                    try {
                        N(t)
                    } catch (o) {
                        i = p
                    }
                    if ("paste" !== t || r.queryCommandEnabled(t) || (i = !0), i || !r.queryCommandSupported(t)) {
                        var a = n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                        e.mac && (a = a.replace(/Ctrl\+/g, "\u2318+")), n.notificationManager.open({
                            text: a,
                            type: "error"
                        })
                    }
                },
                unlink: function() {
                    if (A.isCollapsed()) {
                        var e = n.dom.getParent(n.selection.getStart(), "a");
                        return void(e && n.dom.remove(e, !0))
                    }
                    B.remove("link")
                },
                "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(e) {
                    var t = e.substring(7);
                    "full" == t && (t = "justify"), s("left,center,right,justify".split(","), function(e) {
                        t != e && B.remove("align" + e)
                    }), "none" != t && S("align" + t)
                },
                "InsertUnorderedList,InsertOrderedList": function(e) {
                    var t, n;
                    N(e), t = R.getParent(A.getNode(), "ol,ul"), t && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (k(), R.split(n, t), T()))
                },
                "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                    S(e)
                },
                "ForeColor,HiliteColor,FontName": function(e, t, n) {
                    S(e, n)
                },
                FontSize: function(e, t, n) {
                    var r, i;
                    n >= 1 && n <= 7 && (i = d(L.font_size_style_values), r = d(L.font_size_classes), n = r ? r[n - 1] || n : i[n - 1] || n), S(e, n)
                },
                RemoveFormat: function(e) {
                    B.remove(e)
                },
                mceBlockQuote: function() {
                    S("blockquote")
                },
                FormatBlock: function(e, t, n) {
                    return S(n || "p")
                },
                mceCleanup: function() {
                    var e = A.getBookmark();
                    n.setContent(n.getContent({
                        cleanup: p
                    }), {
                        cleanup: p
                    }), A.moveToBookmark(e)
                },
                mceRemoveNode: function(e, t, r) {
                    var i = r || A.getNode();
                    i != n.getBody() && (k(), n.dom.remove(i, p), T())
                },
                mceSelectNodeDepth: function(e, t, r) {
                    var i = 0;
                    R.getParent(A.getNode(), function(e) {
                        if (1 == e.nodeType && i++ == r) return A.select(e), h
                    }, n.getBody())
                },
                mceSelectNode: function(e, t, n) {
                    A.select(n)
                },
                mceInsertContent: function(e, t, r) {
                    o.insertAtCaret(n, r)
                },
                mceInsertRawHTML: function(e, t, r) {
                    A.setContent("tiny_mce_marker"), n.setContent(n.getContent().replace(/tiny_mce_marker/g, function() {
                        return r
                    }))
                },
                mceToggleFormat: function(e, t, n) {
                    S(n)
                },
                mceSetContent: function(e, t, r) {
                    n.setContent(r)
                },
                "Indent,Outdent": function(e) {
                    var t, r, i;
                    t = L.indentation, r = /[a-z%]+$/i.exec(t), t = parseInt(t, 10), g("InsertUnorderedList") || g("InsertOrderedList") ? N(e) : (L.forced_root_block || R.getParent(A.getNode(), R.isBlock) || B.apply("div"), s(A.getSelectedBlocks(), function(o) {
                        if ("false" !== R.getContentEditable(o) && "LI" !== o.nodeName) {
                            var a = n.getParam("indent_use_margin", !1) ? "margin" : "padding";
                            a = "TABLE" === o.nodeName ? "margin" : a, a += "rtl" == R.getStyle(o, "direction", !0) ? "Right" : "Left", "outdent" == e ? (i = Math.max(0, parseInt(o.style[a] || 0, 10) - t), R.setStyle(o, a, i ? i + r : "")) : (i = parseInt(o.style[a] || 0, 10) + t + r, R.setStyle(o, a, i))
                        }
                    }))
                },
                mceRepaint: function() {},
                InsertHorizontalRule: function() {
                    n.execCommand("mceInsertContent", !1, "<hr />")
                },
                mceToggleVisualAid: function() {
                    n.hasVisual = !n.hasVisual, n.addVisual()
                },
                mceReplaceContent: function(e, t, r) {
                    n.execCommand("mceInsertContent", !1, r.replace(/\{\$selection\}/g, A.getContent({
                        format: "text"
                    })))
                },
                mceInsertLink: function(e, t, n) {
                    var r;
                    "string" == typeof n && (n = {
                        href: n
                    }), r = R.getParent(A.getNode(), "a"), n.href = n.href.replace(" ", "%20"), r && n.href || B.remove("link"), n.href && B.apply("link", n, r)
                },
                selectAll: function() {
                    var e = R.getRoot(),
                        t;
                    if (A.getRng().setStart) {
                        var n = R.getParent(A.getStart(), a.isContentEditableTrue);
                        n && (t = R.createRng(), t.selectNodeContents(n), A.setRng(t))
                    } else t = A.getRng(), t.item || (t.moveToElementText(e), t.select())
                },
                "delete": function() {
                    N("Delete");
                    var e = n.getBody();
                    R.isEmpty(e) && (n.setContent(""), e.firstChild && R.isBlock(e.firstChild) ? n.selection.setCursorLocation(e.firstChild, 0) : n.selection.setCursorLocation(e, 0))
                },
                mceNewDocument: function() {
                    n.setContent("")
                },
                InsertLineBreak: function(e, t, o) {
                    function a() {
                        for (var e = new i(m, v), t, r = n.schema.getNonEmptyElements(); t = e.next();)
                            if (r[t.nodeName.toLowerCase()] || t.length > 0) return !0
                    }
                    var s = o,
                        l, u, c, d = A.getRng(!0);
                    new r(R).normalize(d);
                    var h = d.startOffset,
                        m = d.startContainer;
                    if (1 == m.nodeType && m.hasChildNodes()) {
                        var g = h > m.childNodes.length - 1;
                        m = m.childNodes[Math.min(h, m.childNodes.length - 1)] || m, h = g && 3 == m.nodeType ? m.nodeValue.length : 0
                    }
                    var v = R.getParent(m, R.isBlock),
                        y = v ? v.nodeName.toUpperCase() : "",
                        b = v ? R.getParent(v.parentNode, R.isBlock) : null,
                        C = b ? b.nodeName.toUpperCase() : "",
                        x = s && s.ctrlKey;
                    "LI" != C || x || (v = b, y = C), m && 3 == m.nodeType && h >= m.nodeValue.length && (f || a() || (l = R.create("br"), d.insertNode(l), d.setStartAfter(l), d.setEndAfter(l), u = !0)), l = R.create("br"), d.insertNode(l);
                    var w = R.doc.documentMode;
                    return f && "PRE" == y && (!w || w < 8) && l.parentNode.insertBefore(R.doc.createTextNode("\r"), l), c = R.create("span", {}, "&nbsp;"), l.parentNode.insertBefore(c, l), A.scrollIntoView(c), R.remove(c), u ? (d.setStartBefore(l), d.setEndBefore(l)) : (d.setStartAfter(l), d.setEndAfter(l)), A.setRng(d), n.undoManager.add(), p
                }
            }), y({
                "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function(e) {
                    var t = "align" + e.substring(7),
                        n = A.isCollapsed() ? [R.getParent(A.getNode(), R.isBlock)] : A.getSelectedBlocks(),
                        r = u(n, function(e) {
                            return !!B.matchNode(e, t)
                        });
                    return c(r, p) !== -1
                },
                "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(e) {
                    return _(e)
                },
                mceBlockQuote: function() {
                    return _("blockquote")
                },
                Outdent: function() {
                    var e;
                    if (L.inline_styles) {
                        if ((e = R.getParent(A.getStart(), R.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return p;
                        if ((e = R.getParent(A.getEnd(), R.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return p
                    }
                    return g("InsertUnorderedList") || g("InsertOrderedList") || !L.inline_styles && !!R.getParent(A.getNode(), "BLOCKQUOTE")
                },
                "InsertUnorderedList,InsertOrderedList": function(e) {
                    var t = R.getParent(A.getNode(), "ul,ol");
                    return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName)
                }
            }, "state"), y({
                "FontSize,FontName": function(e) {
                    var t = 0,
                        n;
                    return (n = R.getParent(A.getNode(), "span")) && (t = "fontsize" == e ? n.style.fontSize : n.style.fontFamily.replace(/, /g, ",").replace(/[\'\"]/g, "").toLowerCase()), t
                }
            }, "value"), y({
                Undo: function() {
                    n.undoManager.undo()
                },
                Redo: function() {
                    n.undoManager.redo()
                }
            })
        }
    }), r(ue, [m], function(e) {
        function t(e, o) {
            var a = this,
                s, l;
            if (e = r(e), o = a.settings = o || {}, s = o.base_uri, /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) return void(a.source = e);
            var u = 0 === e.indexOf("//");
            0 !== e.indexOf("/") || u || (e = (s ? s.protocol || "http" : "http") + "://mce_host" + e), /^[\w\-]*:?\/\//.test(e) || (l = o.base_uri ? o.base_uri.path : new t(location.href).directory, "" === o.base_uri.protocol ? e = "//mce_host" + a.toAbsPath(l, e) : (e = /([^#?]*)([#?]?.*)/.exec(e), e = (s && s.protocol || "http") + "://mce_host" + a.toAbsPath(l, e[1]) + e[2])), e = e.replace(/@@/g, "(mce_at)"), e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e), n(i, function(t, n) {
                var r = e[n];
                r && (r = r.replace(/\(mce_at\)/g, "@@")), a[t] = r
            }), s && (a.protocol || (a.protocol = s.protocol), a.userInfo || (a.userInfo = s.userInfo), a.port || "mce_host" !== a.host || (a.port = s.port), a.host && "mce_host" !== a.host || (a.host = s.host), a.source = ""), u && (a.protocol = "")
        }
        var n = e.each,
            r = e.trim,
            i = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
            o = {
                ftp: 21,
                http: 80,
                https: 443,
                mailto: 25
            };
        return t.prototype = {
            setPath: function(e) {
                var t = this;
                e = /^(.*?)\/?(\w+)?$/.exec(e), t.path = e[0], t.directory = e[1], t.file = e[2], t.source = "", t.getURI()
            },
            toRelative: function(e) {
                var n = this,
                    r;
                if ("./" === e) return e;
                if (e = new t(e, {
                        base_uri: n
                    }), "mce_host" != e.host && n.host != e.host && e.host || n.port != e.port || n.protocol != e.protocol && "" !== e.protocol) return e.getURI();
                var i = n.getURI(),
                    o = e.getURI();
                return i == o || "/" == i.charAt(i.length - 1) && i.substr(0, i.length - 1) == o ? i : (r = n.toRelPath(n.path, e.path), e.query && (r += "?" + e.query), e.anchor && (r += "#" + e.anchor), r)
            },
            toAbsolute: function(e, n) {
                return e = new t(e, {
                    base_uri: this
                }), e.getURI(n && this.isSameOrigin(e))
            },
            isSameOrigin: function(e) {
                if (this.host == e.host && this.protocol == e.protocol) {
                    if (this.port == e.port) return !0;
                    var t = o[this.protocol];
                    if (t && (this.port || t) == (e.port || t)) return !0
                }
                return !1
            },
            toRelPath: function(e, t) {
                var n, r = 0,
                    i = "",
                    o, a;
                if (e = e.substring(0, e.lastIndexOf("/")), e = e.split("/"), n = t.split("/"), e.length >= n.length)
                    for (o = 0, a = e.length; o < a; o++)
                        if (o >= n.length || e[o] != n[o]) {
                            r = o + 1;
                            break
                        } if (e.length < n.length)
                    for (o = 0, a = n.length; o < a; o++)
                        if (o >= e.length || e[o] != n[o]) {
                            r = o + 1;
                            break
                        } if (1 === r) return t;
                for (o = 0, a = e.length - (r - 1); o < a; o++) i += "../";
                for (o = r - 1, a = n.length; o < a; o++) i += o != r - 1 ? "/" + n[o] : n[o];
                return i
            },
            toAbsPath: function(e, t) {
                var r, i = 0,
                    o = [],
                    a, s;
                for (a = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), n(e, function(e) {
                        e && o.push(e)
                    }), e = o, r = t.length - 1, o = []; r >= 0; r--) 0 !== t[r].length && "." !== t[r] && (".." !== t[r] ? i > 0 ? i-- : o.push(t[r]) : i++);
                return r = e.length - i, s = r <= 0 ? o.reverse().join("/") : e.slice(0, r).join("/") + "/" + o.reverse().join("/"), 0 !== s.indexOf("/") && (s = "/" + s), a && s.lastIndexOf("/") !== s.length - 1 && (s += a), s
            },
            getURI: function(e) {
                var t, n = this;
                return n.source && !e || (t = "", e || (t += n.protocol ? n.protocol + "://" : "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source
            }
        }, t.parseDataUri = function(e) {
            var t, n;
            return e = decodeURIComponent(e).split(","), n = /data:([^;]+)/.exec(e[0]), n && (t = n[1]), {
                type: t,
                data: e[1]
            }
        }, t.getDocumentBaseUrl = function(e) {
            var t;
            return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t
        }, t
    }), r(ce, [m], function(e) {
        function t() {}
        var n = e.each,
            r = e.extend,
            i, o;
        return t.extend = i = function(e) {
            function t() {
                var e, t, n, r = this;
                if (!o && (r.init && r.init.apply(r, arguments), t = r.Mixins))
                    for (e = t.length; e--;) n = t[e], n.init && n.init.apply(r, arguments)
            }

            function a() {
                return this
            }

            function s(e, t) {
                return function() {
                    var n = this,
                        r = n._super,
                        i;
                    return n._super = u[e], i = t.apply(n, arguments), n._super = r, i
                }
            }
            var l = this,
                u = l.prototype,
                c, d, f;
            o = !0, c = new l, o = !1, e.Mixins && (n(e.Mixins, function(t) {
                for (var n in t) "init" !== n && (e[n] = t[n])
            }), u.Mixins && (e.Mixins = u.Mixins.concat(e.Mixins))), e.Methods && n(e.Methods.split(","), function(t) {
                e[t] = a
            }), e.Properties && n(e.Properties.split(","), function(t) {
                var n = "_" + t;
                e[t] = function(e) {
                    var t = this,
                        r;
                    return e !== r ? (t[n] = e, t) : t[n]
                }
            }), e.Statics && n(e.Statics, function(e, n) {
                t[n] = e
            }), e.Defaults && u.Defaults && (e.Defaults = r({}, u.Defaults, e.Defaults));
            for (d in e) f = e[d], "function" == typeof f && u[d] ? c[d] = s(d, f) : c[d] = f;
            return t.prototype = c, t.constructor = t, t.extend = i, t
        }, t
    }), r(de, [m], function(e) {
        function t(t) {
            function n() {
                return !1
            }

            function r() {
                return !0
            }

            function i(e, i) {
                var o, s, l, u;
                if (e = e.toLowerCase(), i = i || {}, i.type = e, i.target || (i.target = c), i.preventDefault || (i.preventDefault = function() {
                        i.isDefaultPrevented = r
                    }, i.stopPropagation = function() {
                        i.isPropagationStopped = r
                    }, i.stopImmediatePropagation = function() {
                        i.isImmediatePropagationStopped = r
                    }, i.isDefaultPrevented = n, i.isPropagationStopped = n, i.isImmediatePropagationStopped = n), t.beforeFire && t.beforeFire(i), o = d[e])
                    for (s = 0, l = o.length; s < l; s++) {
                        if (u = o[s], u.once && a(e, u.func), i.isImmediatePropagationStopped()) return i.stopPropagation(), i;
                        if (u.func.call(c, i) === !1) return i.preventDefault(), i
                    }
                return i
            }

            function o(t, r, i, o) {
                var a, s, l;
                if (r === !1 && (r = n), r)
                    for (r = {
                            func: r
                        }, o && e.extend(r, o), s = t.toLowerCase().split(" "), l = s.length; l--;) t = s[l], a = d[t], a || (a = d[t] = [], f(t, !0)), i ? a.unshift(r) : a.push(r);
                return u
            }

            function a(e, t) {
                var n, r, i, o, a;
                if (e)
                    for (o = e.toLowerCase().split(" "), n = o.length; n--;) {
                        if (e = o[n], r = d[e], !e) {
                            for (i in d) f(i, !1), delete d[i];
                            return u
                        }
                        if (r) {
                            if (t)
                                for (a = r.length; a--;) r[a].func === t && (r = r.slice(0, a).concat(r.slice(a + 1)), d[e] = r);
                            else r.length = 0;
                            r.length || (f(e, !1), delete d[e])
                        }
                    } else {
                        for (e in d) f(e, !1);
                        d = {}
                    }
                return u
            }

            function s(e, t, n) {
                return o(e, t, n, {
                    once: !0
                })
            }

            function l(e) {
                return e = e.toLowerCase(), !(!d[e] || 0 === d[e].length)
            }
            var u = this,
                c, d = {},
                f;
            t = t || {}, c = t.scope || u, f = t.toggleEvent || n, u.fire = i, u.on = o, u.off = a, u.once = s, u.has = l
        }
        var n = e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend", " ");
        return t.isNative = function(e) {
            return !!n[e.toLowerCase()]
        }, t
    }), r(fe, [], function() {
        function e(e) {
            this.create = e.create
        }
        return e.create = function(t, n) {
            return new e({
                create: function(e, r) {
                    function i(t) {
                        e.set(r, t.value)
                    }

                    function o(e) {
                        t.set(n, e.value)
                    }
                    var a;
                    return e.on("change:" + r, o), t.on("change:" + n, i), a = e._bindings, a || (a = e._bindings = [], e.on("destroy", function() {
                        for (var e = a.length; e--;) a[e]()
                    })), a.push(function() {
                        t.off("change:" + n, i)
                    }), t.get(n)
                }
            })
        }, e
    }), r(pe, [de], function(e) {
        function t(t) {
            return t._eventDispatcher || (t._eventDispatcher = new e({
                scope: t,
                toggleEvent: function(n, r) {
                    e.isNative(n) && t.toggleNativeEvent && t.toggleNativeEvent(n, r)
                }
            })), t._eventDispatcher
        }
        return {
            fire: function(e, n, r) {
                var i = this;
                if (i.removed && "remove" !== e) return n;
                if (n = t(i).fire(e, n, r), r !== !1 && i.parent)
                    for (var o = i.parent(); o && !n.isPropagationStopped();) o.fire(e, n, !1), o = o.parent();
                return n
            },
            on: function(e, n, r) {
                return t(this).on(e, n, r)
            },
            off: function(e, n) {
                return t(this).off(e, n)
            },
            once: function(e, n) {
                return t(this).once(e, n)
            },
            hasEventListeners: function(e) {
                return t(this).has(e)
            }
        }
    }), r(he, [fe, pe, ce, m], function(e, t, n, r) {
        function i(e) {
            return e.nodeType > 0
        }

        function o(e, t) {
            var n, a;
            if (e === t) return !0;
            if (null === e || null === t) return e === t;
            if ("object" != typeof e || "object" != typeof t) return e === t;
            if (r.isArray(t)) {
                if (e.length !== t.length) return !1;
                for (n = e.length; n--;)
                    if (!o(e[n], t[n])) return !1
            }
            if (i(e) || i(t)) return e === t;
            a = {};
            for (n in t) {
                if (!o(e[n], t[n])) return !1;
                a[n] = !0
            }
            for (n in e)
                if (!a[n] && !o(e[n], t[n])) return !1;
            return !0
        }
        return n.extend({
            Mixins: [t],
            init: function(t) {
                var n, r;
                t = t || {};
                for (n in t) r = t[n], r instanceof e && (t[n] = r.create(this, n));
                this.data = t
            },
            set: function(t, n) {
                var r, i, a = this.data[t];
                if (n instanceof e && (n = n.create(this, t)), "object" == typeof t) {
                    for (r in t) this.set(r, t[r]);
                    return this
                }
                return o(a, n) || (this.data[t] = n, i = {
                    target: this,
                    name: t,
                    value: n,
                    oldValue: a
                }, this.fire("change:" + t, i), this.fire("change", i)), this
            },
            get: function(e) {
                return this.data[e]
            },
            has: function(e) {
                return e in this.data
            },
            bind: function(t) {
                return e.create(this, t)
            },
            destroy: function() {
                this.fire("destroy")
            }
        })
    }), r(me, [ce], function(e) {
        function t(e) {
            for (var t = [], n = e.length, r; n--;) r = e[n], r.__checked || (t.push(r), r.__checked = 1);
            for (n = t.length; n--;) delete t[n].__checked;
            return t
        }
        var n = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
            r = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
            i = /^\s*|\s*$/g,
            o, a = e.extend({
                init: function(e) {
                    function t(e) {
                        if (e) return e = e.toLowerCase(),
                            function(t) {
                                return "*" === e || t.type === e
                            }
                    }

                    function o(e) {
                        if (e) return function(t) {
                            return t._name === e
                        }
                    }

                    function a(e) {
                        if (e) return e = e.split("."),
                            function(t) {
                                for (var n = e.length; n--;)
                                    if (!t.classes.contains(e[n])) return !1;
                                return !0
                            }
                    }

                    function s(e, t, n) {
                        if (e) return function(r) {
                            var i = r[e] ? r[e]() : "";
                            return t ? "=" === t ? i === n : "*=" === t ? i.indexOf(n) >= 0 : "~=" === t ? (" " + i + " ").indexOf(" " + n + " ") >= 0 : "!=" === t ? i != n : "^=" === t ? 0 === i.indexOf(n) : "$=" === t && i.substr(i.length - n.length) === n : !!n
                        }
                    }

                    function l(e) {
                        var t;
                        if (e) return e = /(?:not\((.+)\))|(.+)/i.exec(e), e[1] ? (t = c(e[1], []), function(e) {
                            return !d(e, t)
                        }) : (e = e[2], function(t, n, r) {
                            return "first" === e ? 0 === n : "last" === e ? n === r - 1 : "even" === e ? n % 2 === 0 : "odd" === e ? n % 2 === 1 : !!t[e] && t[e]()
                        })
                    }

                    function u(e, r, u) {
                        function c(e) {
                            e && r.push(e)
                        }
                        var d;
                        return d = n.exec(e.replace(i, "")), c(t(d[1])), c(o(d[2])), c(a(d[3])), c(s(d[4], d[5], d[6])), c(l(d[7])), r.pseudo = !!d[7], r.direct = u, r
                    }

                    function c(e, t) {
                        var n = [],
                            i, o, a;
                        do
                            if (r.exec(""), o = r.exec(e), o && (e = o[3], n.push(o[1]), o[2])) {
                                i = o[3];
                                break
                            } while (o);
                        for (i && c(i, t), e = [], a = 0; a < n.length; a++) ">" != n[a] && e.push(u(n[a], [], ">" === n[a - 1]));
                        return t.push(e), t
                    }
                    var d = this.match;
                    this._selectors = c(e, [])
                },
                match: function(e, t) {
                    var n, r, i, o, a, s, l, u, c, d, f, p, h;
                    for (t = t || this._selectors, n = 0, r = t.length; n < r; n++) {
                        for (a = t[n], o = a.length, h = e, p = 0, i = o - 1; i >= 0; i--)
                            for (u = a[i]; h;) {
                                if (u.pseudo)
                                    for (f = h.parent().items(), c = d = f.length; c-- && f[c] !== h;);
                                for (s = 0, l = u.length; s < l; s++)
                                    if (!u[s](h, c, d)) {
                                        s = l + 1;
                                        break
                                    } if (s === l) {
                                    p++;
                                    break
                                }
                                if (i === o - 1) break;
                                h = h.parent()
                            }
                        if (p === o) return !0
                    }
                    return !1
                },
                find: function(e) {
                    function n(e, t, i) {
                        var o, a, s, l, u, c = t[i];
                        for (o = 0, a = e.length; o < a; o++) {
                            for (u = e[o], s = 0, l = c.length; s < l; s++)
                                if (!c[s](u, o, a)) {
                                    s = l + 1;
                                    break
                                } if (s === l) i == t.length - 1 ? r.push(u) : u.items && n(u.items(), t, i + 1);
                            else if (c.direct) return;
                            u.items && n(u.items(), t, i)
                        }
                    }
                    var r = [],
                        i, s, l = this._selectors;
                    if (e.items) {
                        for (i = 0, s = l.length; i < s; i++) n(e.items(), l[i], 0);
                        s > 1 && (r = t(r))
                    }
                    return o || (o = a.Collection), new o(r)
                }
            });
        return a
    }), r(ge, [m, me, ce], function(e, t, n) {
        var r, i, o = Array.prototype.push,
            a = Array.prototype.slice;
        return i = {
            length: 0,
            init: function(e) {
                e && this.add(e)
            },
            add: function(t) {
                var n = this;
                return e.isArray(t) ? o.apply(n, t) : t instanceof r ? n.add(t.toArray()) : o.call(n, t), n
            },
            set: function(e) {
                var t = this,
                    n = t.length,
                    r;
                for (t.length = 0, t.add(e), r = t.length; r < n; r++) delete t[r];
                return t
            },
            filter: function(e) {
                var n = this,
                    i, o, a = [],
                    s, l;
                for ("string" == typeof e ? (e = new t(e), l = function(t) {
                        return e.match(t)
                    }) : l = e, i = 0, o = n.length; i < o; i++) s = n[i], l(s) && a.push(s);
                return new r(a)
            },
            slice: function() {
                return new r(a.apply(this, arguments))
            },
            eq: function(e) {
                return e === -1 ? this.slice(e) : this.slice(e, +e + 1)
            },
            each: function(t) {
                return e.each(this, t), this
            },
            toArray: function() {
                return e.toArray(this)
            },
            indexOf: function(e) {
                for (var t = this, n = t.length; n-- && t[n] !== e;);
                return n
            },
            reverse: function() {
                return new r(e.toArray(this).reverse())
            },
            hasClass: function(e) {
                return !!this[0] && this[0].classes.contains(e)
            },
            prop: function(e, t) {
                var n = this,
                    r, i;
                return t !== r ? (n.each(function(n) {
                    n[e] && n[e](t)
                }), n) : (i = n[0], i && i[e] ? i[e]() : void 0)
            },
            exec: function(t) {
                var n = this,
                    r = e.toArray(arguments).slice(1);
                return n.each(function(e) {
                    e[t] && e[t].apply(e, r)
                }), n
            },
            remove: function() {
                for (var e = this.length; e--;) this[e].remove();
                return this
            },
            addClass: function(e) {
                return this.each(function(t) {
                    t.classes.add(e)
                })
            },
            removeClass: function(e) {
                return this.each(function(t) {
                    t.classes.remove(e)
                })
            }
        }, e.each("fire on off show hide append prepend before after reflow".split(" "), function(t) {
            i[t] = function() {
                var n = e.toArray(arguments);
                return this.each(function(e) {
                    t in e && e[t].apply(e, n)
                }), this
            }
        }), e.each("text name disabled active selected checked visible parent value data".split(" "), function(e) {
            i[e] = function(t) {
                return this.prop(e, t)
            }
        }), r = n.extend(i), t.Collection = r, r
    }), r(ve, [d, m, w], function(e, t, n) {
        var r = 0,
            i = {
                id: function() {
                    return "mceu_" + r++
                },
                create: function(e, r, i) {
                    var o = document.createElement(e);
                    return n.DOM.setAttribs(o, r), "string" == typeof i ? o.innerHTML = i : t.each(i, function(e) {
                        e.nodeType && o.appendChild(e)
                    }), o
                },
                createFragment: function(e) {
                    return n.DOM.createFragment(e)
                },
                getWindowSize: function() {
                    return n.DOM.getViewPort()
                },
                getSize: function(e) {
                    var t, n;
                    if (e.getBoundingClientRect) {
                        var r = e.getBoundingClientRect();
                        t = Math.max(r.width || r.right - r.left, e.offsetWidth), n = Math.max(r.height || r.bottom - r.bottom, e.offsetHeight)
                    } else t = e.offsetWidth, n = e.offsetHeight;
                    return {
                        width: t,
                        height: n
                    }
                },
                getPos: function(e, t) {
                    return n.DOM.getPos(e, t || i.getContainer())
                },
                getContainer: function() {
                    return e.container ? e.container : document.body
                },
                getViewPort: function(e) {
                    return n.DOM.getViewPort(e)
                },
                get: function(e) {
                    return document.getElementById(e)
                },
                addClass: function(e, t) {
                    return n.DOM.addClass(e, t)
                },
                removeClass: function(e, t) {
                    return n.DOM.removeClass(e, t)
                },
                hasClass: function(e, t) {
                    return n.DOM.hasClass(e, t)
                },
                toggleClass: function(e, t, r) {
                    return n.DOM.toggleClass(e, t, r)
                },
                css: function(e, t, r) {
                    return n.DOM.setStyle(e, t, r)
                },
                getRuntimeStyle: function(e, t) {
                    return n.DOM.getStyle(e, t, !0)
                },
                on: function(e, t, r, i) {
                    return n.DOM.bind(e, t, r, i)
                },
                off: function(e, t, r) {
                    return n.DOM.unbind(e, t, r)
                },
                fire: function(e, t, r) {
                    return n.DOM.fire(e, t, r)
                },
                innerHtml: function(e, t) {
                    n.DOM.setHTML(e, t)
                }
            };
        return i
    }), r(ye, [], function() {
        return {
            parseBox: function(e) {
                var t, n = 10;
                if (e) return "number" == typeof e ? (e = e || 0, {
                    top: e,
                    left: e,
                    bottom: e,
                    right: e
                }) : (e = e.split(" "), t = e.length, 1 === t ? e[1] = e[2] = e[3] = e[0] : 2 === t ? (e[2] = e[0], e[3] = e[1]) : 3 === t && (e[3] = e[1]), {
                    top: parseInt(e[0], n) || 0,
                    right: parseInt(e[1], n) || 0,
                    bottom: parseInt(e[2], n) || 0,
                    left: parseInt(e[3], n) || 0
                })
            },
            measureBox: function(e, t) {
                function n(t) {
                    var n = document.defaultView;
                    return n ? (t = t.replace(/[A-Z]/g, function(e) {
                        return "-" + e
                    }), n.getComputedStyle(e, null).getPropertyValue(t)) : e.currentStyle[t]
                }

                function r(e) {
                    var t = parseFloat(n(e), 10);
                    return isNaN(t) ? 0 : t
                }
                return {
                    top: r(t + "TopWidth"),
                    right: r(t + "RightWidth"),
                    bottom: r(t + "BottomWidth"),
                    left: r(t + "LeftWidth")
                }
            }
        }
    }), r(be, [m], function(e) {
        function t() {}

        function n(e) {
            this.cls = [], this.cls._map = {}, this.onchange = e || t, this.prefix = ""
        }
        return e.extend(n.prototype, {
            add: function(e) {
                return e && !this.contains(e) && (this.cls._map[e] = !0, this.cls.push(e), this._change()), this
            },
            remove: function(e) {
                if (this.contains(e)) {
                    for (var t = 0; t < this.cls.length && this.cls[t] !== e; t++);
                    this.cls.splice(t, 1), delete this.cls._map[e], this._change()
                }
                return this
            },
            toggle: function(e, t) {
                var n = this.contains(e);
                return n !== t && (n ? this.remove(e) : this.add(e), this._change()), this
            },
            contains: function(e) {
                return !!this.cls._map[e]
            },
            _change: function() {
                delete this.clsValue, this.onchange.call(this)
            }
        }), n.prototype.toString = function() {
            var e;
            if (this.clsValue) return this.clsValue;
            e = "";
            for (var t = 0; t < this.cls.length; t++) t > 0 && (e += " "), e += this.prefix + this.cls[t];
            return e
        }, n
    }), r(Ce, [c], function(e) {
        var t = {},
            n;
        return {
            add: function(r) {
                var i = r.parent();
                if (i) {
                    if (!i._layout || i._layout.isNative()) return;
                    t[i._id] || (t[i._id] = i), n || (n = !0, e.requestAnimationFrame(function() {
                        var e, r;
                        n = !1;
                        for (e in t) r = t[e], r.state.get("rendered") && r.reflow();
                        t = {}
                    }, document.body))
                }
            },
            remove: function(e) {
                t[e._id] && delete t[e._id]
            }
        }
    }), r(xe, [ce, m, de, he, ge, ve, g, ye, be, Ce], function(e, t, n, r, i, o, a, s, l, u) {
        function c(e) {
            return e._eventDispatcher || (e._eventDispatcher = new n({
                scope: e,
                toggleEvent: function(t, r) {
                    r && n.isNative(t) && (e._nativeEvents || (e._nativeEvents = {}), e._nativeEvents[t] = !0, e.state.get("rendered") && d(e))
                }
            })), e._eventDispatcher
        }

        function d(e) {
            function t(t) {
                var n = e.getParentCtrl(t.target);
                n && n.fire(t.type, t)
            }

            function n() {
                var e = u._lastHoverCtrl;
                e && (e.fire("mouseleave", {
                    target: e.getEl()
                }), e.parents().each(function(e) {
                    e.fire("mouseleave", {
                        target: e.getEl()
                    })
                }), u._lastHoverCtrl = null)
            }

            function r(t) {
                var n = e.getParentCtrl(t.target),
                    r = u._lastHoverCtrl,
                    i = 0,
                    o, a, s;
                if (n !== r) {
                    if (u._lastHoverCtrl = n, a = n.parents().toArray().reverse(), a.push(n), r) {
                        for (s = r.parents().toArray().reverse(), s.push(r), i = 0; i < s.length && a[i] === s[i]; i++);
                        for (o = s.length - 1; o >= i; o--) r = s[o], r.fire("mouseleave", {
                            target: r.getEl()
                        })
                    }
                    for (o = i; o < a.length; o++) n = a[o], n.fire("mouseenter", {
                        target: n.getEl()
                    })
                }
            }

            function i(t) {
                t.preventDefault(), "mousewheel" == t.type ? (t.deltaY = -.025 * t.wheelDelta, t.wheelDeltaX && (t.deltaX = -.025 * t.wheelDeltaX)) : (t.deltaX = 0, t.deltaY = t.detail), t = e.fire("wheel", t)
            }
            var o, s, l, u, c, d;
            if (c = e._nativeEvents) {
                for (l = e.parents().toArray(), l.unshift(e), o = 0, s = l.length; !u && o < s; o++) u = l[o]._eventsRoot;
                for (u || (u = l[l.length - 1] || e), e._eventsRoot = u, s = o, o = 0; o < s; o++) l[o]._eventsRoot = u;
                var h = u._delegates;
                h || (h = u._delegates = {});
                for (d in c) {
                    if (!c) return !1;
                    "wheel" !== d || p ? ("mouseenter" === d || "mouseleave" === d ? u._hasMouseEnter || (a(u.getEl()).on("mouseleave", n).on("mouseover", r), u._hasMouseEnter = 1) : h[d] || (a(u.getEl()).on(d, t), h[d] = !0), c[d] = !1) : f ? a(e.getEl()).on("mousewheel", i) : a(e.getEl()).on("DOMMouseScroll", i)
                }
            }
        }
        var f = "onmousewheel" in document,
            p = !1,
            h = "mce-",
            m, g = 0,
            v = {
                Statics: {
                    classPrefix: h
                },
                isRtl: function() {
                    return m.rtl
                },
                classPrefix: h,
                init: function(e) {
                    function n(e) {
                        var t;
                        for (e = e.split(" "), t = 0; t < e.length; t++) i.classes.add(e[t])
                    }
                    var i = this,
                        o, u;
                    i.settings = e = t.extend({}, i.Defaults, e), i._id = e.id || "mceu_" + g++, i._aria = {
                        role: e.role
                    }, i._elmCache = {}, i.$ = a, i.state = new r({
                        visible: !0,
                        active: !1,
                        disabled: !1,
                        value: ""
                    }), i.data = new r(e.data), i.classes = new l(function() {
                        i.state.get("rendered") && (i.getEl().className = this.toString())
                    }), i.classes.prefix = i.classPrefix, o = e.classes, o && (i.Defaults && (u = i.Defaults.classes, u && o != u && n(u)), n(o)), t.each("title text name visible disabled active value".split(" "), function(t) {
                        t in e && i[t](e[t])
                    }), i.on("click", function() {
                        if (i.disabled()) return !1
                    }), i.settings = e, i.borderBox = s.parseBox(e.border), i.paddingBox = s.parseBox(e.padding), i.marginBox = s.parseBox(e.margin), e.hidden && i.hide()
                },
                Properties: "parent,name",
                getContainerElm: function() {
                    return o.getContainer()
                },
                getParentCtrl: function(e) {
                    for (var t, n = this.getRoot().controlIdLookup; e && n && !(t = n[e.id]);) e = e.parentNode;
                    return t
                },
                initLayoutRect: function() {
                    var e = this,
                        t = e.settings,
                        n, r, i = e.getEl(),
                        a, l, u, c, d, f, p, h;
                    n = e.borderBox = e.borderBox || s.measureBox(i, "border"), e.paddingBox = e.paddingBox || s.measureBox(i, "padding"), e.marginBox = e.marginBox || s.measureBox(i, "margin"), h = o.getSize(i), f = t.minWidth, p = t.minHeight, u = f || h.width, c = p || h.height, a = t.width, l = t.height, d = t.autoResize, d = "undefined" != typeof d ? d : !a && !l, a = a || u, l = l || c;
                    var m = n.left + n.right,
                        g = n.top + n.bottom,
                        v = t.maxWidth || 65535,
                        y = t.maxHeight || 65535;
                    return e._layoutRect = r = {
                        x: t.x || 0,
                        y: t.y || 0,
                        w: a,
                        h: l,
                        deltaW: m,
                        deltaH: g,
                        contentW: a - m,
                        contentH: l - g,
                        innerW: a - m,
                        innerH: l - g,
                        startMinWidth: f || 0,
                        startMinHeight: p || 0,
                        minW: Math.min(u, v),
                        minH: Math.min(c, y),
                        maxW: v,
                        maxH: y,
                        autoResize: d,
                        scrollW: 0
                    }, e._lastLayoutRect = {}, r
                },
                layoutRect: function(e) {
                    var t = this,
                        n = t._layoutRect,
                        r, i, o, a, s, l;
                    return n || (n = t.initLayoutRect()), e ? (o = n.deltaW, a = n.deltaH, e.x !== s && (n.x = e.x), e.y !== s && (n.y = e.y), e.minW !== s && (n.minW = e.minW), e.minH !== s && (n.minH = e.minH), i = e.w, i !== s && (i = i < n.minW ? n.minW : i, i = i > n.maxW ? n.maxW : i, n.w = i, n.innerW = i - o), i = e.h, i !== s && (i = i < n.minH ? n.minH : i, i = i > n.maxH ? n.maxH : i, n.h = i, n.innerH = i - a), i = e.innerW, i !== s && (i = i < n.minW - o ? n.minW - o : i, i = i > n.maxW - o ? n.maxW - o : i, n.innerW = i, n.w = i + o), i = e.innerH, i !== s && (i = i < n.minH - a ? n.minH - a : i, i = i > n.maxH - a ? n.maxH - a : i, n.innerH = i, n.h = i + a), e.contentW !== s && (n.contentW = e.contentW), e.contentH !== s && (n.contentH = e.contentH), r = t._lastLayoutRect, r.x === n.x && r.y === n.y && r.w === n.w && r.h === n.h || (l = m.repaintControls, l && l.map && !l.map[t._id] && (l.push(t), l.map[t._id] = !0), r.x = n.x, r.y = n.y, r.w = n.w, r.h = n.h), t) : n
                },
                repaint: function() {
                    var e = this,
                        t, n, r, i, o, a, s, l, u, c;
                    u = document.createRange ? function(e) {
                        return e
                    } : Math.round, t = e.getEl().style, i = e._layoutRect, l = e._lastRepaintRect || {}, o = e.borderBox, a = o.left + o.right, s = o.top + o.bottom, i.x !== l.x && (t.left = u(i.x) + "px", l.x = i.x), i.y !== l.y && (t.top = u(i.y) + "px", l.y = i.y), i.w !== l.w && (c = u(i.w - a), t.width = (c >= 0 ? c : 0) + "px", l.w = i.w), i.h !== l.h && (c = u(i.h - s), t.height = (c >= 0 ? c : 0) + "px", l.h = i.h), e._hasBody && i.innerW !== l.innerW && (c = u(i.innerW), r = e.getEl("body"), r && (n = r.style, n.width = (c >= 0 ? c : 0) + "px"), l.innerW = i.innerW), e._hasBody && i.innerH !== l.innerH && (c = u(i.innerH), r = r || e.getEl("body"), r && (n = n || r.style, n.height = (c >= 0 ? c : 0) + "px"), l.innerH = i.innerH), e._lastRepaintRect = l, e.fire("repaint", {}, !1)
                },
                updateLayoutRect: function() {
                    var e = this;
                    e.parent()._lastRect = null, o.css(e.getEl(), {
                        width: "",
                        height: ""
                    }), e._layoutRect = e._lastRepaintRect = e._lastLayoutRect = null, e.initLayoutRect()
                },
                on: function(e, t) {
                    function n(e) {
                        var t, n;
                        return "string" != typeof e ? e : function(i) {
                            return t || r.parentsAndSelf().each(function(r) {
                                var i = r.settings.callbacks;
                                if (i && (t = i[e])) return n = r, !1
                            }), t ? t.call(n, i) : (i.action = e, void this.fire("execute", i))
                        }
                    }
                    var r = this;
                    return c(r).on(e, n(t)), r
                },
                off: function(e, t) {
                    return c(this).off(e, t), this
                },
                fire: function(e, t, n) {
                    var r = this;
                    if (t = t || {}, t.control || (t.control = r), t = c(r).fire(e, t), n !== !1 && r.parent)
                        for (var i = r.parent(); i && !t.isPropagationStopped();) i.fire(e, t, !1), i = i.parent();
                    return t
                },
                hasEventListeners: function(e) {
                    return c(this).has(e)
                },
                parents: function(e) {
                    var t = this,
                        n, r = new i;
                    for (n = t.parent(); n; n = n.parent()) r.add(n);
                    return e && (r = r.filter(e)), r
                },
                parentsAndSelf: function(e) {
                    return new i(this).add(this.parents(e))
                },
                next: function() {
                    var e = this.parent().items();
                    return e[e.indexOf(this) + 1]
                },
                prev: function() {
                    var e = this.parent().items();
                    return e[e.indexOf(this) - 1]
                },
                innerHtml: function(e) {
                    return this.$el.html(e), this
                },
                getEl: function(e) {
                    var t = e ? this._id + "-" + e : this._id;
                    return this._elmCache[t] || (this._elmCache[t] = a("#" + t)[0]), this._elmCache[t]
                },
                show: function() {
                    return this.visible(!0)
                },
                hide: function() {
                    return this.visible(!1)
                },
                focus: function() {
                    try {
                        this.getEl().focus()
                    } catch (e) {}
                    return this
                },
                blur: function() {
                    return this.getEl().blur(), this
                },
                aria: function(e, t) {
                    var n = this,
                        r = n.getEl(n.ariaTarget);
                    return "undefined" == typeof t ? n._aria[e] : (n._aria[e] = t, n.state.get("rendered") && r.setAttribute("role" == e ? e : "aria-" + e, t), n)
                },
                encode: function(e, t) {
                    return t !== !1 && (e = this.translate(e)), (e || "").replace(/[&<>"]/g, function(e) {
                        return "&#" + e.charCodeAt(0) + ";"
                    })
                },
                translate: function(e) {
                    return m.translate ? m.translate(e) : e
                },
                before: function(e) {
                    var t = this,
                        n = t.parent();
                    return n && n.insert(e, n.items().indexOf(t), !0), t
                },
                after: function(e) {
                    var t = this,
                        n = t.parent();
                    return n && n.insert(e, n.items().indexOf(t)), t
                },
                remove: function() {
                    var e = this,
                        t = e.getEl(),
                        n = e.parent(),
                        r, i;
                    if (e.items) {
                        var o = e.items().toArray();
                        for (i = o.length; i--;) o[i].remove()
                    }
                    n && n.items && (r = [], n.items().each(function(t) {
                        t !== e && r.push(t)
                    }), n.items().set(r), n._lastRect = null), e._eventsRoot && e._eventsRoot == e && a(t).off();
                    var s = e.getRoot().controlIdLookup;
                    return s && delete s[e._id], t && t.parentNode && t.parentNode.removeChild(t), e.state.set("rendered", !1), e.state.destroy(), e.fire("remove"), e
                },
                renderBefore: function(e) {
                    return a(e).before(this.renderHtml()), this.postRender(), this
                },
                renderTo: function(e) {
                    return a(e || this.getContainerElm()).append(this.renderHtml()), this.postRender(), this
                },
                preRender: function() {},
                render: function() {},
                renderHtml: function() {
                    return '<div id="' + this._id + '" class="' + this.classes + '"></div>'
                },
                postRender: function() {
                    var e = this,
                        t = e.settings,
                        n, r, i, o, s;
                    e.$el = a(e.getEl()), e.state.set("rendered", !0);
                    for (o in t) 0 === o.indexOf("on") && e.on(o.substr(2), t[o]);
                    if (e._eventsRoot) {
                        for (i = e.parent(); !s && i; i = i.parent()) s = i._eventsRoot;
                        if (s)
                            for (o in s._nativeEvents) e._nativeEvents[o] = !0
                    }
                    d(e), t.style && (n = e.getEl(), n && (n.setAttribute("style", t.style), n.style.cssText = t.style)), e.settings.border && (r = e.borderBox, e.$el.css({
                        "border-top-width": r.top,
                        "border-right-width": r.right,
                        "border-bottom-width": r.bottom,
                        "border-left-width": r.left
                    }));
                    var l = e.getRoot();
                    l.controlIdLookup || (l.controlIdLookup = {}), l.controlIdLookup[e._id] = e;
                    for (var c in e._aria) e.aria(c, e._aria[c]);
                    e.state.get("visible") === !1 && (e.getEl().style.display = "none"), e.bindStates(), e.state.on("change:visible", function(t) {
                        var n = t.value,
                            r;
                        e.state.get("rendered") && (e.getEl().style.display = n === !1 ? "none" : "", e.getEl().getBoundingClientRect()), r = e.parent(), r && (r._lastRect = null), e.fire(n ? "show" : "hide"), u.add(e)
                    }), e.fire("postrender", {}, !1)
                },
                bindStates: function() {},
                scrollIntoView: function(e) {
                    function t(e, t) {
                        var n, r, i = e;
                        for (n = r = 0; i && i != t && i.nodeType;) n += i.offsetLeft || 0, r += i.offsetTop || 0, i = i.offsetParent;
                        return {
                            x: n,
                            y: r
                        }
                    }
                    var n = this.getEl(),
                        r = n.parentNode,
                        i, o, a, s, l, u, c = t(n, r);
                    return i = c.x, o = c.y, a = n.offsetWidth, s = n.offsetHeight, l = r.clientWidth, u = r.clientHeight, "end" == e ? (i -= l - a, o -= u - s) : "center" == e && (i -= l / 2 - a / 2, o -= u / 2 - s / 2), r.scrollLeft = i, r.scrollTop = o, this
                },
                getRoot: function() {
                    for (var e = this, t, n = []; e;) {
                        if (e.rootControl) {
                            t = e.rootControl;
                            break
                        }
                        n.push(e), t = e, e = e.parent()
                    }
                    t || (t = this);
                    for (var r = n.length; r--;) n[r].rootControl = t;
                    return t
                },
                reflow: function() {
                    u.remove(this);
                    var e = this.parent();
                    return e._layout && !e._layout.isNative() && e.reflow(), this
                }
            };
        return t.each("text title visible disabled active value".split(" "), function(e) {
            v[e] = function(t) {
                return 0 === arguments.length ? this.state.get(e) : ("undefined" != typeof t && this.state.set(e, t), this)
            }
        }), m = e.extend(v)
    }), r(we, [], function() {
        var e = {},
            t;
        return {
            add: function(t, n) {
                e[t.toLowerCase()] = n
            },
            has: function(t) {
                return !!e[t.toLowerCase()]
            },
            create: function(n, r) {
                var i, o, a;
                if (!t) {
                    a = tinymce.ui;
                    for (o in a) e[o.toLowerCase()] = a[o];
                    t = !0
                }
                if ("string" == typeof n ? (r = r || {}, r.type = n) : (r = n, n = r.type), n = n.toLowerCase(), i = e[n], !i) throw new Error("Could not find control by type: " + n);
                return i = new i(r), i.type = n, i
            }
        }
    }), r(Ee, [], function() {
        return function(e) {
            function t(e) {
                return e && 1 === e.nodeType
            }

            function n(e) {
                return e = e || C, t(e) ? e.getAttribute("role") : null
            }

            function r(e) {
                for (var t, r = e || C; r = r.parentNode;)
                    if (t = n(r)) return t
            }

            function i(e) {
                var n = C;
                if (t(n)) return n.getAttribute("aria-" + e)
            }

            function o(e) {
                var t = e.tagName.toUpperCase();
                return "INPUT" == t || "TEXTAREA" == t || "SELECT" == t
            }

            function a(e) {
                return !(!o(e) || e.hidden) || !!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e))
            }

            function s(e) {
                function t(e) {
                    if (1 == e.nodeType && "none" != e.style.display && !e.disabled) {
                        a(e) && n.push(e);
                        for (var r = 0; r < e.childNodes.length; r++) t(e.childNodes[r])
                    }
                }
                var n = [];
                return t(e || b.getEl()), n
            }

            function l(e) {
                var t, n;
                e = e || x, n = e.parents().toArray(), n.unshift(e);
                for (var r = 0; r < n.length && (t = n[r], !t.settings.ariaRoot); r++);
                return t
            }

            function u(e) {
                var t = l(e),
                    n = s(t.getEl());
                t.settings.ariaRemember && "lastAriaIndex" in t ? c(t.lastAriaIndex, n) : c(0, n)
            }

            function c(e, t) {
                return e < 0 ? e = t.length - 1 : e >= t.length && (e = 0), t[e] && t[e].focus(), e
            }

            function d(e, t) {
                var n = -1,
                    r = l();
                t = t || s(r.getEl());
                for (var i = 0; i < t.length; i++) t[i] === C && (n = i);
                n += e, r.lastAriaIndex = c(n, t)
            }

            function f() {
                var e = r();
                "tablist" == e ? d(-1, s(C.parentNode)) : x.parent().submenu ? v() : d(-1)
            }

            function p() {
                var e = n(),
                    t = r();
                "tablist" == t ? d(1, s(C.parentNode)) : "menuitem" == e && "menu" == t && i("haspopup") ? y() : d(1)
            }

            function h() {
                d(-1)
            }

            function m() {
                var e = n(),
                    t = r();
                "menuitem" == e && "menubar" == t ? y() : "button" == e && i("haspopup") ? y({
                    key: "down"
                }) : d(1)
            }

            function g(e) {
                var t = r();
                if ("tablist" == t) {
                    var n = s(x.getEl("body"))[0];
                    n && n.focus()
                } else d(e.shiftKey ? -1 : 1)
            }

            function v() {
                x.fire("cancel")
            }

            function y(e) {
                e = e || {}, x.fire("click", {
                    target: C,
                    aria: e
                })
            }
            var b = e.root,
                C, x;
            try {
                C = document.activeElement
            } catch (w) {
                C = document.body
            }
            return x = b.getParentCtrl(C), b.on("keydown", function(e) {
                function t(e, t) {
                    o(C) || "slider" !== n(C) && t(e) !== !1 && e.preventDefault()
                }
                if (!e.isDefaultPrevented()) switch (e.keyCode) {
                    case 37:
                        t(e, f);
                        break;
                    case 39:
                        t(e, p);
                        break;
                    case 38:
                        t(e, h);
                        break;
                    case 40:
                        t(e, m);
                        break;
                    case 27:
                        v();
                        break;
                    case 14:
                    case 13:
                    case 32:
                        t(e, y);
                        break;
                    case 9:
                        g(e) !== !1 && e.preventDefault()
                }
            }), b.on("focusin", function(e) {
                C = e.target, x = e.control
            }), {
                focusFirst: u
            }
        }
    }), r(Ne, [xe, ge, me, we, Ee, m, g, be, Ce], function(e, t, n, r, i, o, a, s, l) {
        var u = {};
        return e.extend({
            init: function(e) {
                var n = this;
                n._super(e), e = n.settings, e.fixed && n.state.set("fixed", !0), n._items = new t, n.isRtl() && n.classes.add("rtl"), n.bodyClasses = new s(function() {
                    n.state.get("rendered") && (n.getEl("body").className = this.toString())
                }), n.bodyClasses.prefix = n.classPrefix, n.classes.add("container"), n.bodyClasses.add("container-body"), e.containerCls && n.classes.add(e.containerCls), n._layout = r.create((e.layout || "") + "layout"), n.settings.items ? n.add(n.settings.items) : n.add(n.render()), n._hasBody = !0
            },
            items: function() {
                return this._items
            },
            find: function(e) {
                return e = u[e] = u[e] || new n(e), e.find(this)
            },
            add: function(e) {
                var t = this;
                return t.items().add(t.create(e)).parent(t), t
            },
            focus: function(e) {
                var t = this,
                    n, r, i;
                return e && (r = t.keyboardNav || t.parents().eq(-1)[0].keyboardNav) ? void r.focusFirst(t) : (i = t.find("*"), t.statusbar && i.add(t.statusbar.items()), i.each(function(e) {
                    return e.settings.autofocus ? (n = null, !1) : void(e.canFocus && (n = n || e))
                }), n && n.focus(), t)
            },
            replace: function(e, t) {
                for (var n, r = this.items(), i = r.length; i--;)
                    if (r[i] === e) {
                        r[i] = t;
                        break
                    } i >= 0 && (n = t.getEl(), n && n.parentNode.removeChild(n), n = e.getEl(), n && n.parentNode.removeChild(n)), t.parent(this)
            },
            create: function(t) {
                var n = this,
                    i, a = [];
                return o.isArray(t) || (t = [t]), o.each(t, function(t) {
                    t && (t instanceof e || ("string" == typeof t && (t = {
                        type: t
                    }), i = o.extend({}, n.settings.defaults, t), t.type = i.type = i.type || t.type || n.settings.defaultType || (i.defaults ? i.defaults.type : null), t = r.create(i)), a.push(t))
                }), a
            },
            renderNew: function() {
                var e = this;
                return e.items().each(function(t, n) {
                    var r;
                    t.parent(e), t.state.get("rendered") || (r = e.getEl("body"), r.hasChildNodes() && n <= r.childNodes.length - 1 ? a(r.childNodes[n]).before(t.renderHtml()) : a(r).append(t.renderHtml()), t.postRender(), l.add(t))
                }), e._layout.applyClasses(e.items().filter(":visible")), e._lastRect = null, e
            },
            append: function(e) {
                return this.add(e).renderNew()
            },
            prepend: function(e) {
                var t = this;
                return t.items().set(t.create(e).concat(t.items().toArray())), t.renderNew()
            },
            insert: function(e, t, n) {
                var r = this,
                    i, o, a;
                return e = r.create(e), i = r.items(), !n && t < i.length - 1 && (t += 1), t >= 0 && t < i.length && (o = i.slice(0, t).toArray(), a = i.slice(t).toArray(), i.set(o.concat(e, a))), r.renderNew()
            },
            fromJSON: function(e) {
                var t = this;
                for (var n in e) t.find("#" + n).value(e[n]);
                return t
            },
            toJSON: function() {
                var e = this,
                    t = {};
                return e.find("*").each(function(e) {
                    var n = e.name(),
                        r = e.value();
                    n && "undefined" != typeof r && (t[n] = r)
                }), t
            },
            renderHtml: function() {
                var e = this,
                    t = e._layout,
                    n = this.settings.role;
                return e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '"' + (n ? ' role="' + this.settings.role + '"' : "") + '><div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>"
            },
            postRender: function() {
                var e = this,
                    t;
                return e.items().exec("postRender"), e._super(), e._layout.postRender(e), e.state.set("rendered", !0), e.settings.style && e.$el.css(e.settings.style), e.settings.border && (t = e.borderBox, e.$el.css({
                    "border-top-width": t.top,
                    "border-right-width": t.right,
                    "border-bottom-width": t.bottom,
                    "border-left-width": t.left
                })), e.parent() || (e.keyboardNav = new i({
                    root: e
                })), e
            },
            initLayoutRect: function() {
                var e = this,
                    t = e._super();
                return e._layout.recalc(e), t
            },
            recalc: function() {
                var e = this,
                    t = e._layoutRect,
                    n = e._lastRect;
                if (!n || n.w != t.w || n.h != t.h) return e._layout.recalc(e), t = e.layoutRect(), e._lastRect = {
                    x: t.x,
                    y: t.y,
                    w: t.w,
                    h: t.h
                }, !0
            },
            reflow: function() {
                var t;
                if (l.remove(this), this.visible()) {
                    for (e.repaintControls = [], e.repaintControls.map = {}, this.recalc(), t = e.repaintControls.length; t--;) e.repaintControls[t].repaint();
                    "flow" !== this.settings.layout && "stack" !== this.settings.layout && this.repaint(), e.repaintControls = []
                }
                return this
            }
        })
    }), r(_e, [g], function(e) {
        function t(e) {
            var t, n, r, i, o, a, s, l, u = Math.max;
            return t = e.documentElement, n = e.body, r = u(t.scrollWidth, n.scrollWidth), i = u(t.clientWidth, n.clientWidth), o = u(t.offsetWidth, n.offsetWidth), a = u(t.scrollHeight, n.scrollHeight), s = u(t.clientHeight, n.clientHeight), l = u(t.offsetHeight, n.offsetHeight), {
                width: r < o ? i : r,
                height: a < l ? s : a
            }
        }

        function n(e) {
            var t, n;
            if (e.changedTouches)
                for (t = "screenX screenY pageX pageY clientX clientY".split(" "), n = 0; n < t.length; n++) e[t[n]] = e.changedTouches[0][t[n]]
        }
        return function(r, i) {
            function o() {
                return s.getElementById(i.handle || r)
            }
            var a, s = i.document || document,
                l, u, c, d, f, p;
            i = i || {}, u = function(r) {
                var u = t(s),
                    h, m;
                n(r), r.preventDefault(), l = r.button, h = o(), f = r.screenX, p = r.screenY, m = window.getComputedStyle ? window.getComputedStyle(h, null).getPropertyValue("cursor") : h.runtimeStyle.cursor, a = e("<div></div>").css({
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: u.width,
                    height: u.height,
                    zIndex: 2147483647,
                    opacity: 1e-4,
                    cursor: m
                }).appendTo(s.body), e(s).on("mousemove touchmove", d).on("mouseup touchend", c), i.start(r)
            }, d = function(e) {
                return n(e), e.button !== l ? c(e) : (e.deltaX = e.screenX - f, e.deltaY = e.screenY - p, e.preventDefault(), void i.drag(e))
            }, c = function(t) {
                n(t), e(s).off("mousemove touchmove", d).off("mouseup touchend", c), a.remove(), i.stop && i.stop(t)
            }, this.destroy = function() {
                e(o()).off()
            }, e(o()).on("mousedown touchstart", u)
        }
    }), r(Se, [g, _e], function(e, t) {
        return {
            init: function() {
                var e = this;
                e.on("repaint", e.renderScroll)
            },
            renderScroll: function() {
                function n() {
                    function t(t, a, s, l, u, c) {
                        var d, f, p, h, m, g, v, y, b;
                        if (f = i.getEl("scroll" + t)) {
                            if (y = a.toLowerCase(), b = s.toLowerCase(), e(i.getEl("absend")).css(y, i.layoutRect()[l] - 1), !u) return void e(f).css("display", "none");
                            e(f).css("display", "block"), d = i.getEl("body"), p = i.getEl("scroll" + t + "t"), h = d["client" + s] - 2 * o, h -= n && r ? f["client" + c] : 0, m = d["scroll" + s], g = h / m, v = {}, v[y] = d["offset" + a] + o, v[b] = h, e(f).css(v), v = {}, v[y] = d["scroll" + a] * g, v[b] = h * g, e(p).css(v)
                        }
                    }
                    var n, r, a;
                    a = i.getEl("body"), n = a.scrollWidth > a.clientWidth, r = a.scrollHeight > a.clientHeight, t("h", "Left", "Width", "contentW", n, "Height"), t("v", "Top", "Height", "contentH", r, "Width")
                }

                function r() {
                    function n(n, r, a, s, l) {
                        var u, c = i._id + "-scroll" + n,
                            d = i.classPrefix;
                        e(i.getEl()).append('<div id="' + c + '" class="' + d + "scrollbar " + d + "scrollbar-" + n + '"><div id="' + c + 't" class="' + d + 'scrollbar-thumb"></div></div>'), i.draghelper = new t(c + "t", {
                            start: function() {
                                u = i.getEl("body")["scroll" + r], e("#" + c).addClass(d + "active")
                            },
                            drag: function(e) {
                                var t, c, d, f, p = i.layoutRect();
                                c = p.contentW > p.innerW, d = p.contentH > p.innerH, f = i.getEl("body")["client" + a] - 2 * o, f -= c && d ? i.getEl("scroll" + n)["client" + l] : 0, t = f / i.getEl("body")["scroll" + a], i.getEl("body")["scroll" + r] = u + e["delta" + s] / t
                            },
                            stop: function() {
                                e("#" + c).removeClass(d + "active")
                            }
                        })
                    }
                    i.classes.add("scroll"), n("v", "Top", "Height", "Y", "Width"), n("h", "Left", "Width", "X", "Height")
                }
                var i = this,
                    o = 2;
                i.settings.autoScroll && (i._hasScroll || (i._hasScroll = !0, r(), i.on("wheel", function(e) {
                    var t = i.getEl("body");
                    t.scrollLeft += 10 * (e.deltaX || 0), t.scrollTop += 10 * e.deltaY, n()
                }), e(i.getEl("body")).on("scroll", n)), n())
            }
        }
    }), r(ke, [Ne, Se], function(e, t) {
        return e.extend({
            Defaults: {
                layout: "fit",
                containerCls: "panel"
            },
            Mixins: [t],
            renderHtml: function() {
                var e = this,
                    t = e._layout,
                    n = e.settings.html;
                return e.preRender(), t.preRender(e), "undefined" == typeof n ? n = '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + t.renderHtml(e) + "</div>" : ("function" == typeof n && (n = n.call(e)), e._hasBody = !1), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1" role="group">' + (e._preBodyHtml || "") + n + "</div>"
            }
        })
    }), r(Te, [ve], function(e) {
        function t(t, n, r) {
            var i, o, a, s, l, u, c, d, f, p;
            return f = e.getViewPort(), o = e.getPos(n), a = o.x, s = o.y, t.state.get("fixed") && "static" == e.getRuntimeStyle(document.body, "position") && (a -= f.x, s -= f.y), i = t.getEl(), p = e.getSize(i), l = p.width, u = p.height, p = e.getSize(n), c = p.width, d = p.height, r = (r || "").split(""), "b" === r[0] && (s += d), "r" === r[1] && (a += c), "c" === r[0] && (s += Math.round(d / 2)), "c" === r[1] && (a += Math.round(c / 2)), "b" === r[3] && (s -= u), "r" === r[4] && (a -= l), "c" === r[3] && (s -= Math.round(u / 2)), "c" === r[4] && (a -= Math.round(l / 2)), {
                x: a,
                y: s,
                w: l,
                h: u
            }
        }
        return {
            testMoveRel: function(n, r) {
                for (var i = e.getViewPort(), o = 0; o < r.length; o++) {
                    var a = t(this, n, r[o]);
                    if (this.state.get("fixed")) {
                        if (a.x > 0 && a.x + a.w < i.w && a.y > 0 && a.y + a.h < i.h) return r[o]
                    } else if (a.x > i.x && a.x + a.w < i.w + i.x && a.y > i.y && a.y + a.h < i.h + i.y) return r[o]
                }
                return r[0]
            },
            moveRel: function(e, n) {
                "string" != typeof n && (n = this.testMoveRel(e, n));
                var r = t(this, e, n);
                return this.moveTo(r.x, r.y)
            },
            moveBy: function(e, t) {
                var n = this,
                    r = n.layoutRect();
                return n.moveTo(r.x + e, r.y + t), n
            },
            moveTo: function(t, n) {
                function r(e, t, n) {
                    return e < 0 ? 0 : e + n > t ? (e = t - n, e < 0 ? 0 : e) : e
                }
                var i = this;
                if (i.settings.constrainToViewport) {
                    var o = e.getViewPort(window),
                        a = i.layoutRect();
                    t = r(t, o.w + o.x, a.w), n = r(n, o.h + o.y, a.h)
                }
                return i.state.get("rendered") ? i.layoutRect({
                    x: t,
                    y: n
                }).repaint() : (i.settings.x = t, i.settings.y = n), i.fire("move", {
                    x: t,
                    y: n
                }), i
            }
        }
    }), r(Re, [ve], function(e) {
        return {
            resizeToContent: function() {
                this._layoutRect.autoResize = !0, this._lastRect = null, this.reflow()
            },
            resizeTo: function(t, n) {
                if (t <= 1 || n <= 1) {
                    var r = e.getWindowSize();
                    t = t <= 1 ? t * r.w : t, n = n <= 1 ? n * r.h : n
                }
                return this._layoutRect.autoResize = !1, this.layoutRect({
                    minW: t,
                    minH: n,
                    w: t,
                    h: n
                }).reflow()
            },
            resizeBy: function(e, t) {
                var n = this,
                    r = n.layoutRect();
                return n.resizeTo(r.w + e, r.h + t)
            }
        }
    }), r(Ae, [ke, Te, Re, ve, g, c], function(e, t, n, r, i, o) {
        function a(e, t) {
            for (; e;) {
                if (e == t) return !0;
                e = e.parent()
            }
        }

        function s(e) {
            for (var t = v.length; t--;) {
                var n = v[t],
                    r = n.getParentCtrl(e.target);
                if (n.settings.autohide) {
                    if (r && (a(r, n) || n.parent() === r)) continue;
                    e = n.fire("autohide", {
                        target: e.target
                    }), e.isDefaultPrevented() || n.hide()
                }
            }
        }

        function l() {
            h || (h = function(e) {
                2 != e.button && s(e)
            }, i(document).on("click touchstart", h))
        }

        function u() {
            m || (m = function() {
                var e;
                for (e = v.length; e--;) d(v[e])
            }, i(window).on("scroll", m))
        }

        function c() {
            if (!g) {
                var e = document.documentElement,
                    t = e.clientWidth,
                    n = e.clientHeight;
                g = function() {
                    document.all && t == e.clientWidth && n == e.clientHeight || (t = e.clientWidth, n = e.clientHeight, C.hideAll())
                }, i(window).on("resize", g)
            }
        }

        function d(e) {
            function t(t, n) {
                for (var r, i = 0; i < v.length; i++)
                    if (v[i] != e)
                        for (r = v[i].parent(); r && (r = r.parent());) r == e && v[i].fixed(t).moveBy(0, n).repaint()
            }
            var n = r.getViewPort().y;
            e.settings.autofix && (e.state.get("fixed") ? e._autoFixY > n && (e.fixed(!1).layoutRect({
                y: e._autoFixY
            }).repaint(), t(!1, e._autoFixY - n)) : (e._autoFixY = e.layoutRect().y, e._autoFixY < n && (e.fixed(!0).layoutRect({
                y: 0
            }).repaint(), t(!0, n - e._autoFixY))))
        }

        function f(e, t) {
            var n, r = C.zIndex || 65535,
                o;
            if (e) y.push(t);
            else
                for (n = y.length; n--;) y[n] === t && y.splice(n, 1);
            if (y.length)
                for (n = 0; n < y.length; n++) y[n].modal && (r++, o = y[n]), y[n].getEl().style.zIndex = r, y[n].zIndex = r, r++;
            var a = i("#" + t.classPrefix + "modal-block", t.getContainerElm())[0];
            o ? i(a).css("z-index", o.zIndex - 1) : a && (a.parentNode.removeChild(a), b = !1), C.currentZIndex = r
        }

        function p(e) {
            var t;
            for (t = v.length; t--;) v[t] === e && v.splice(t, 1);
            for (t = y.length; t--;) y[t] === e && y.splice(t, 1)
        }
        var h, m, g, v = [],
            y = [],
            b, C = e.extend({
                Mixins: [t, n],
                init: function(e) {
                    var t = this;
                    t._super(e), t._eventsRoot = t, t.classes.add("floatpanel"), e.autohide && (l(), c(), v.push(t)), e.autofix && (u(), t.on("move", function() {
                        d(this)
                    })), t.on("postrender show", function(e) {
                        if (e.control == t) {
                            var n, r = t.classPrefix;
                            t.modal && !b && (n = i("#" + r + "modal-block", t.getContainerElm()), n[0] || (n = i('<div id="' + r + 'modal-block" class="' + r + "reset " + r + 'fade"></div>').appendTo(t.getContainerElm())), o.setTimeout(function() {
                                n.addClass(r + "in"), i(t.getEl()).addClass(r + "in")
                            }), b = !0), f(!0, t)
                        }
                    }), t.on("show", function() {
                        t.parents().each(function(e) {
                            if (e.state.get("fixed")) return t.fixed(!0), !1
                        })
                    }), e.popover && (t._preBodyHtml = '<div class="' + t.classPrefix + 'arrow"></div>', t.classes.add("popover").add("bottom").add(t.isRtl() ? "end" : "start")), t.aria("label", e.ariaLabel), t.aria("labelledby", t._id), t.aria("describedby", t.describedBy || t._id + "-none")
                },
                fixed: function(e) {
                    var t = this;
                    if (t.state.get("fixed") != e) {
                        if (t.state.get("rendered")) {
                            var n = r.getViewPort();
                            e ? t.layoutRect().y -= n.y : t.layoutRect().y += n.y
                        }
                        t.classes.toggle("fixed", e), t.state.set("fixed", e)
                    }
                    return t
                },
                show: function() {
                    var e = this,
                        t, n = e._super();
                    for (t = v.length; t-- && v[t] !== e;);
                    return t === -1 && v.push(e), n
                },
                hide: function() {
                    return p(this), f(!1, this), this._super()
                },
                hideAll: function() {
                    C.hideAll()
                },
                close: function() {
                    var e = this;
                    return e.fire("close").isDefaultPrevented() || (e.remove(), f(!1, e)), e
                },
                remove: function() {
                    p(this), this._super()
                },
                postRender: function() {
                    var e = this;
                    return e.settings.bodyRole && this.getEl("body").setAttribute("role", e.settings.bodyRole), e._super()
                }
            });
        return C.hideAll = function() {
            for (var e = v.length; e--;) {
                var t = v[e];
                t && t.settings.autohide && (t.hide(), v.splice(e, 1))
            }
        }, C
    }), r(Be, [Ae, ke, ve, g, _e, ye, d, c], function(e, t, n, r, i, o, a, s) {
        function l(e) {
            var t = "width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",
                n = r("meta[name=viewport]")[0],
                i;
            a.overrideViewPort !== !1 && (n || (n = document.createElement("meta"), n.setAttribute("name", "viewport"), document.getElementsByTagName("head")[0].appendChild(n)), i = n.getAttribute("content"), i && "undefined" != typeof p && (p = i), n.setAttribute("content", e ? t : p))
        }

        function u(e, t) {
            c() && t === !1 && r([document.documentElement, document.body]).removeClass(e + "fullscreen")
        }

        function c() {
            for (var e = 0; e < f.length; e++)
                if (f[e]._fullscreen) return !0;
            return !1
        }

        function d() {
            function e() {
                var e, t = n.getWindowSize(),
                    r;
                for (e = 0; e < f.length; e++) r = f[e].layoutRect(), f[e].moveTo(f[e].settings.x || Math.max(0, t.w / 2 - r.w / 2), f[e].settings.y || Math.max(0, t.h / 2 - r.h / 2))
            }
            if (!a.desktop) {
                var t = {
                    w: window.innerWidth,
                    h: window.innerHeight
                };
                s.setInterval(function() {
                    var e = window.innerWidth,
                        n = window.innerHeight;
                    t.w == e && t.h == n || (t = {
                        w: e,
                        h: n
                    }, r(window).trigger("resize"))
                }, 100)
            }
            r(window).on("resize", e)
        }
        var f = [],
            p = "",
            h = e.extend({
                modal: !0,
                Defaults: {
                    border: 1,
                    layout: "flex",
                    containerCls: "panel",
                    role: "dialog",
                    callbacks: {
                        submit: function() {
                            this.fire("submit", {
                                data: this.toJSON()
                            })
                        },
                        close: function() {
                            this.close()
                        }
                    }
                },
                init: function(e) {
                    var r = this;
                    r._super(e), r.isRtl() && r.classes.add("rtl"), r.classes.add("window"), r.bodyClasses.add("window-body"), r.state.set("fixed", !0), e.buttons && (r.statusbar = new t({
                        layout: "flex",
                        border: "1 0 0 0",
                        spacing: 3,
                        padding: 10,
                        align: "center",
                        pack: r.isRtl() ? "start" : "end",
                        defaults: {
                            type: "button"
                        },
                        items: e.buttons
                    }), r.statusbar.classes.add("foot"), r.statusbar.parent(r)), r.on("click", function(e) {
                        var t = r.classPrefix + "close";
                        (n.hasClass(e.target, t) || n.hasClass(e.target.parentNode, t)) && r.close()
                    }), r.on("cancel", function() {
                        r.close()
                    }), r.aria("describedby", r.describedBy || r._id + "-none"), r.aria("label", e.title), r._fullscreen = !1
                },
                recalc: function() {
                    var e = this,
                        t = e.statusbar,
                        r, i, o, a;
                    e._fullscreen && (e.layoutRect(n.getWindowSize()), e.layoutRect().contentH = e.layoutRect().innerH), e._super(), r = e.layoutRect(), e.settings.title && !e._fullscreen && (i = r.headerW, i > r.w && (o = r.x - Math.max(0, i / 2), e.layoutRect({
                        w: i,
                        x: o
                    }), a = !0)), t && (t.layoutRect({
                        w: e.layoutRect().innerW
                    }).recalc(), i = t.layoutRect().minW + r.deltaW, i > r.w && (o = r.x - Math.max(0, i - r.w), e.layoutRect({
                        w: i,
                        x: o
                    }), a = !0)), a && e.recalc()
                },
                initLayoutRect: function() {
                    var e = this,
                        t = e._super(),
                        r = 0,
                        i;
                    if (e.settings.title && !e._fullscreen) {
                        i = e.getEl("head");
                        var o = n.getSize(i);
                        t.headerW = o.width, t.headerH = o.height, r += t.headerH
                    }
                    e.statusbar && (r += e.statusbar.layoutRect().h), t.deltaH += r, t.minH += r, t.h += r;
                    var a = n.getWindowSize();
                    return t.x = e.settings.x || Math.max(0, a.w / 2 - t.w / 2), t.y = e.settings.y || Math.max(0, a.h / 2 - t.h / 2), t
                },
                renderHtml: function() {
                    var e = this,
                        t = e._layout,
                        n = e._id,
                        r = e.classPrefix,
                        i = e.settings,
                        o = "",
                        a = "",
                        s = i.html;
                    return e.preRender(), t.preRender(e), i.title && (o = '<div id="' + n + '-head" class="' + r + 'window-head"><div id="' + n + '-title" class="' + r + 'title">' + e.encode(i.title) + '</div><div id="' + n + '-dragh" class="' + r + 'dragh"></div><button type="button" class="' + r + 'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'), i.url && (s = '<iframe src="' + i.url + '" tabindex="-1"></iframe>'), "undefined" == typeof s && (s = t.renderHtml(e)), e.statusbar && (a = e.statusbar.renderHtml()), '<div id="' + n + '" class="' + e.classes + '" hidefocus="1"><div class="' + e.classPrefix + 'reset" role="application">' + o + '<div id="' + n + '-body" class="' + e.bodyClasses + '">' + s + "</div>" + a + "</div></div>"
                },
                fullscreen: function(e) {
                    var t = this,
                        i = document.documentElement,
                        a, l = t.classPrefix,
                        u;
                    if (e != t._fullscreen)
                        if (r(window).on("resize", function() {
                                var e;
                                if (t._fullscreen)
                                    if (a) t._timer || (t._timer = s.setTimeout(function() {
                                        var e = n.getWindowSize();
                                        t.moveTo(0, 0).resizeTo(e.w, e.h), t._timer = 0
                                    }, 50));
                                    else {
                                        e = (new Date).getTime();
                                        var r = n.getWindowSize();
                                        t.moveTo(0, 0).resizeTo(r.w, r.h), (new Date).getTime() - e > 50 && (a = !0)
                                    }
                            }), u = t.layoutRect(), t._fullscreen = e, e) {
                            t._initial = {
                                x: u.x,
                                y: u.y,
                                w: u.w,
                                h: u.h
                            }, t.borderBox = o.parseBox("0"), t.getEl("head").style.display = "none", u.deltaH -= u.headerH + 2, r([i, document.body]).addClass(l + "fullscreen"), t.classes.add("fullscreen");
                            var c = n.getWindowSize();
                            t.moveTo(0, 0).resizeTo(c.w, c.h)
                        } else t.borderBox = o.parseBox(t.settings.border), t.getEl("head").style.display = "", u.deltaH += u.headerH, r([i, document.body]).removeClass(l + "fullscreen"), t.classes.remove("fullscreen"), t.moveTo(t._initial.x, t._initial.y).resizeTo(t._initial.w, t._initial.h);
                    return t.reflow()
                },
                postRender: function() {
                    var e = this,
                        t;
                    setTimeout(function() {
                        e.classes.add("in"), e.fire("open")
                    }, 0), e._super(), e.statusbar && e.statusbar.postRender(), e.focus(), this.dragHelper = new i(e._id + "-dragh", {
                        start: function() {
                            t = {
                                x: e.layoutRect().x,
                                y: e.layoutRect().y
                            }
                        },
                        drag: function(n) {
                            e.moveTo(t.x + n.deltaX, t.y + n.deltaY)
                        }
                    }), e.on("submit", function(t) {
                        t.isDefaultPrevented() || e.close()
                    }), f.push(e), l(!0)
                },
                submit: function() {
                    return this.fire("submit", {
                        data: this.toJSON()
                    })
                },
                remove: function() {
                    var e = this,
                        t;
                    for (e.dragHelper.destroy(), e._super(), e.statusbar && this.statusbar.remove(), u(e.classPrefix, !1), t = f.length; t--;) f[t] === e && f.splice(t, 1);
                    l(f.length > 0)
                },
                getContentWindow: function() {
                    var e = this.getEl().getElementsByTagName("iframe")[0];
                    return e ? e.contentWindow : null
                }
            });
        return d(), h
    }), r(De, [Be], function(e) {
        var t = e.extend({
            init: function(e) {
                e = {
                    border: 1,
                    padding: 20,
                    layout: "flex",
                    pack: "center",
                    align: "center",
                    containerCls: "panel",
                    autoScroll: !0,
                    buttons: {
                        type: "button",
                        text: "Ok",
                        action: "ok"
                    },
                    items: {
                        type: "label",
                        multiline: !0,
                        maxWidth: 500,
                        maxHeight: 200
                    }
                }, this._super(e)
            },
            Statics: {
                OK: 1,
                OK_CANCEL: 2,
                YES_NO: 3,
                YES_NO_CANCEL: 4,
                msgBox: function(n) {
                    function r(e, t, n) {
                        return {
                            type: "button",
                            text: e,
                            subtype: n ? "primary" : "",
                            onClick: function(e) {
                                e.control.parents()[1].close(), o(t)
                            }
                        }
                    }
                    var i, o = n.callback || function() {};
                    switch (n.buttons) {
                        case t.OK_CANCEL:
                            i = [r("Ok", !0, !0), r("Cancel", !1)];
                            break;
                        case t.YES_NO:
                        case t.YES_NO_CANCEL:
                            i = [r("Yes", 1, !0), r("No", 0)], n.buttons == t.YES_NO_CANCEL && i.push(r("Cancel", -1));
                            break;
                        default:
                            i = [r("Ok", !0, !0)]
                    }
                    return new e({
                        padding: 20,
                        x: n.x,
                        y: n.y,
                        minWidth: 300,
                        minHeight: 100,
                        layout: "flex",
                        pack: "center",
                        align: "center",
                        buttons: i,
                        title: n.title,
                        role: "alertdialog",
                        items: {
                            type: "label",
                            multiline: !0,
                            maxWidth: 500,
                            maxHeight: 200,
                            text: n.text
                        },
                        onPostRender: function() {
                            this.aria("describedby", this.items()[0]._id)
                        },
                        onClose: n.onClose,
                        onCancel: function() {
                            o(!1)
                        }
                    }).renderTo(document.body).reflow()
                },
                alert: function(e, n) {
                    return "string" == typeof e && (e = {
                        text: e
                    }), e.callback = n, t.msgBox(e)
                },
                confirm: function(e, n) {
                    return "string" == typeof e && (e = {
                        text: e
                    }), e.callback = n, e.buttons = t.OK_CANCEL, t.msgBox(e)
                }
            }
        });
        return t
    }), r(Le, [Be, De], function(e, t) {
        return function(n) {
            function r() {
                if (s.length) return s[s.length - 1]
            }

            function i(e) {
                n.fire("OpenWindow", {
                    win: e
                })
            }

            function o(e) {
                n.fire("CloseWindow", {
                    win: e
                })
            }
            var a = this,
                s = [];
            a.windows = s, n.on("remove", function() {
                for (var e = s.length; e--;) s[e].close()
            }), a.open = function(t, r) {
                var a;
                return n.editorManager.setActive(n), t.title = t.title || " ", t.url = t.url || t.file, t.url && (t.width = parseInt(t.width || 320, 10), t.height = parseInt(t.height || 240, 10)), t.body && (t.items = {
                    defaults: t.defaults,
                    type: t.bodyType || "form",
                    items: t.body,
                    data: t.data,
                    callbacks: t.commands
                }), t.url || t.buttons || (t.buttons = [{
                    text: "Ok",
                    subtype: "primary",
                    onclick: function() {
                        a.find("form")[0].submit()
                    }
                }, {
                    text: "Cancel",
                    onclick: function() {
                        a.close()
                    }
                }]), a = new e(t), s.push(a), a.on("close", function() {
                    for (var e = s.length; e--;) s[e] === a && s.splice(e, 1);
                    s.length || n.focus(), o(a)
                }), t.data && a.on("postRender", function() {
                    this.find("*").each(function(e) {
                        var n = e.name();
                        n in t.data && e.value(t.data[n])
                    })
                }), a.features = t || {}, a.params = r || {}, 1 === s.length && n.nodeChanged(), a = a.renderTo().reflow(), i(a), a
            }, a.alert = function(e, r, a) {
                var s;
                s = t.alert(e, function() {
                    r ? r.call(a || this) : n.focus()
                }), s.on("close", function() {
                    o(s)
                }), i(s)
            }, a.confirm = function(e, n, r) {
                var a;
                a = t.confirm(e, function(e) {
                    n.call(r || this, e)
                }), a.on("close", function() {
                    o(a)
                }), i(a)
            }, a.close = function() {
                r() && r().close()
            }, a.getParams = function() {
                return r() ? r().params : null
            }, a.setParams = function(e) {
                r() && (r().params = e)
            }, a.getWindows = function() {
                return s
            }
        }
    }), r(Me, [xe, Te], function(e, t) {
        return e.extend({
            Mixins: [t],
            Defaults: {
                classes: "widget tooltip tooltip-n"
            },
            renderHtml: function() {
                var e = this,
                    t = e.classPrefix;
                return '<div id="' + e._id + '" class="' + e.classes + '" role="presentation"><div class="' + t + 'tooltip-arrow"></div><div class="' + t + 'tooltip-inner">' + e.encode(e.state.get("text")) + "</div></div>"
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:text", function(t) {
                    e.getEl().lastChild.innerHTML = e.encode(t.value)
                }), e._super()
            },
            repaint: function() {
                var e = this,
                    t, n;
                t = e.getEl().style, n = e._layoutRect, t.left = n.x + "px", t.top = n.y + "px", t.zIndex = 131070
            }
        })
    }), r(Pe, [xe, Me], function(e, t) {
        var n, r = e.extend({
            init: function(e) {
                var t = this;
                t._super(e), e = t.settings, t.canFocus = !0, e.tooltip && r.tooltips !== !1 && (t.on("mouseenter", function(n) {
                    var r = t.tooltip().moveTo(-65535);
                    if (n.control == t) {
                        var i = r.text(e.tooltip).show().testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]);
                        r.classes.toggle("tooltip-n", "bc-tc" == i), r.classes.toggle("tooltip-nw", "bc-tl" == i), r.classes.toggle("tooltip-ne", "bc-tr" == i), r.moveRel(t.getEl(), i)
                    } else r.hide()
                }), t.on("mouseleave mousedown click", function() {
                    t.tooltip().hide()
                })), t.aria("label", e.ariaLabel || e.tooltip)
            },
            tooltip: function() {
                return n || (n = new t({
                    type: "tooltip"
                }), n.renderTo()), n
            },
            postRender: function() {
                var e = this,
                    t = e.settings;
                e._super(), e.parent() || !t.width && !t.height || (e.initLayoutRect(), e.repaint()), t.autofocus && e.focus()
            },
            bindStates: function() {
                function e(e) {
                    n.aria("disabled", e), n.classes.toggle("disabled", e)
                }

                function t(e) {
                    n.aria("pressed", e), n.classes.toggle("active", e)
                }
                var n = this;
                return n.state.on("change:disabled", function(t) {
                    e(t.value)
                }), n.state.on("change:active", function(e) {
                    t(e.value)
                }), n.state.get("disabled") && e(!0), n.state.get("active") && t(!0), n._super()
            },
            remove: function() {
                this._super(), n && (n.remove(), n = null)
            }
        });
        return r
    }), r(Oe, [Pe], function(e) {
        return e.extend({
            Defaults: {
                value: 0
            },
            init: function(e) {
                var t = this;
                t._super(e), t.classes.add("progress"), t.settings.filter || (t.settings.filter = function(e) {
                    return Math.round(e)
                })
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = this.classPrefix;
                return '<div id="' + t + '" class="' + e.classes + '"><div class="' + n + 'bar-container"><div class="' + n + 'bar"></div></div><div class="' + n + 'text">0%</div></div>'
            },
            postRender: function() {
                var e = this;
                return e._super(), e.value(e.settings.value), e
            },
            bindStates: function() {
                function e(e) {
                    e = t.settings.filter(e), t.getEl().lastChild.innerHTML = e + "%", t.getEl().firstChild.firstChild.style.width = e + "%"
                }
                var t = this;
                return t.state.on("change:value", function(t) {
                    e(t.value)
                }), e(t.state.get("value")), t._super()
            }
        })
    }), r(He, [xe, Te, Oe, c], function(e, t, n, r) {
        return e.extend({
            Mixins: [t],
            Defaults: {
                classes: "widget notification"
            },
            init: function(e) {
                var t = this;
                t._super(e), e.text && t.text(e.text), e.icon && (t.icon = e.icon), e.color && (t.color = e.color), e.type && t.classes.add("notification-" + e.type), e.timeout && (e.timeout < 0 || e.timeout > 0) && !e.closeButton ? t.closeButton = !1 : (t.classes.add("has-close"), t.closeButton = !0), e.progressBar && (t.progressBar = new n), t.on("click", function(e) {
                    e.target.className.indexOf(t.classPrefix + "close") != -1 && t.close()
                })
            },
            renderHtml: function() {
                var e = this,
                    t = e.classPrefix,
                    n = "",
                    r = "",
                    i = "",
                    o = "";
                return e.icon && (n = '<i class="' + t + "ico " + t + "i-" + e.icon + '"></i>'), e.color && (o = ' style="background-color: ' + e.color + '"'), e.closeButton && (r = '<button type="button" class="' + t + 'close" aria-hidden="true">\xd7</button>'), e.progressBar && (i = e.progressBar.renderHtml()), '<div id="' + e._id + '" class="' + e.classes + '"' + o + ' role="presentation">' + n + '<div class="' + t + 'notification-inner">' + e.state.get("text") + "</div>" + i + r + "</div>"
            },
            postRender: function() {
                var e = this;
                return r.setTimeout(function() {
                    e.$el.addClass(e.classPrefix + "in")
                }), e._super()
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:text", function(t) {
                    e.getEl().childNodes[1].innerHTML = t.value
                }), e.progressBar && e.progressBar.bindStates(), e._super()
            },
            close: function() {
                var e = this;
                return e.fire("close").isDefaultPrevented() || e.remove(), e
            },
            repaint: function() {
                var e = this,
                    t, n;
                t = e.getEl().style, n = e._layoutRect, t.left = n.x + "px", t.top = n.y + "px", t.zIndex = 65534
            }
        })
    }), r(Ie, [He, c, m], function(e, t, n) {
        return function(r) {
            function i() {
                if (f.length) return f[f.length - 1]
            }

            function o() {
                t.requestAnimationFrame(function() {
                    a(), s()
                })
            }

            function a() {
                for (var e = 0; e < f.length; e++) f[e].moveTo(0, 0)
            }

            function s() {
                if (f.length > 0) {
                    var e = f.slice(0, 1)[0],
                        t = r.inline ? r.getElement() : r.getContentAreaContainer();
                    if (e.moveRel(t, "tc-tc"), f.length > 1)
                        for (var n = 1; n < f.length; n++) f[n].moveRel(f[n - 1].getEl(), "bc-tc")
                }
            }

            function l(e, t) {
                if (!c(t)) return null;
                var r = n.grep(e, function(e) {
                    return u(t, e)
                });
                return 0 === r.length ? null : r[0]
            }

            function u(e, t) {
                return e.type === t.settings.type && e.text === t.settings.text
            }

            function c(e) {
                return !e.progressBar && !e.timeout
            }
            var d = this,
                f = [];
            d.notifications = f, r.on("remove", function() {
                for (var e = f.length; e--;) f[e].close()
            }), r.on("ResizeEditor", s), r.on("ResizeWindow", o), d.open = function(t) {
                if (!r.removed) {
                    var n;
                    r.editorManager.setActive(r);
                    var i = l(f, t);
                    return null === i ? (n = new e(t), f.push(n), t.timeout > 0 && (n.timer = setTimeout(function() {
                        n.close()
                    }, t.timeout)), n.on("close", function() {
                        var e = f.length;
                        for (n.timer && r.getWin().clearTimeout(n.timer); e--;) f[e] === n && f.splice(e, 1);
                        s()
                    }), n.renderTo(), s()) : n = i, n
                }
            }, d.close = function() {
                i() && i().close()
            }, d.getNotifications = function() {
                return f
            }, r.on("SkinLoaded", function() {
                var e = r.settings.service_message;
                e && r.notificationManager.open({
                    text: e,
                    type: "warning",
                    timeout: 0,
                    icon: ""
                })
            })
        }
    }), r(Fe, [w], function(e) {
        function t(t, n, r) {
            for (var i = []; n && n != t; n = n.parentNode) i.push(e.nodeIndex(n, r));
            return i
        }

        function n(e, t) {
            var n, r, i;
            for (r = e, n = t.length - 1; n >= 0; n--) {
                if (i = r.childNodes, t[n] > i.length - 1) return null;
                r = i[t[n]]
            }
            return r
        }
        return {
            create: t,
            resolve: n
        }
    }), r(ze, [I, T, y, Fe, A, C, d, m, c, k, $, oe], function(e, t, n, r, i, o, a, s, l, u, c, d) {
        return function(f) {
            function p(e, t) {
                try {
                    f.getDoc().execCommand(e, !1, t)
                } catch (n) {}
            }

            function h() {
                var e = f.getDoc().documentMode;
                return e ? e : 6
            }

            function m(e) {
                return e.isDefaultPrevented()
            }

            function g(e) {
                var t, n;
                e.dataTransfer && (f.selection.isCollapsed() && "IMG" == e.target.tagName && re.select(e.target), t = f.selection.getContent(), t.length > 0 && (n = ce + escape(f.id) + "," + escape(t), e.dataTransfer.setData(de, n)))
            }

            function v(e) {
                var t;
                return e.dataTransfer && (t = e.dataTransfer.getData(de), t && t.indexOf(ce) >= 0) ? (t = t.substr(ce.length).split(","), {
                    id: unescape(t[0]),
                    html: unescape(t[1])
                }) : null
            }

            function y(e) {
                f.queryCommandSupported("mceInsertClipboardContent") ? f.execCommand("mceInsertClipboardContent", !1, {
                    content: e
                }) : f.execCommand("mceInsertContent", !1, e)
            }

            function b() {
                function i(e) {
                    var t = x.schema.getBlockElements(),
                        n = f.getBody();
                    if ("BR" != e.nodeName) return !1;
                    for (; e != n && !t[e.nodeName]; e = e.parentNode)
                        if (e.nextSibling) return !1;
                    return !0
                }

                function o(e, t) {
                    var n;
                    for (n = e.nextSibling; n && n != t; n = n.nextSibling)
                        if ((3 != n.nodeType || 0 !== Z.trim(n.data).length) && n !== t) return !1;
                    return n === t
                }

                function a(e, t, r) {
                    var o, a, s;
                    if (x.isChildOf(e, f.getBody()))
                        for (s = x.schema.getNonEmptyElements(), o = new n(r || e, e); a = o[t ? "next" : "prev"]();) {
                            if (s[a.nodeName] && !i(a)) return a;
                            if (3 == a.nodeType && a.data.length > 0) return a
                        }
                }

                function u(e) {
                    var n, r, i, o, s;
                    if (!e.collapsed && (n = x.getParent(t.getNode(e.startContainer, e.startOffset), x.isBlock), r = x.getParent(t.getNode(e.endContainer, e.endOffset), x.isBlock), s = f.schema.getTextBlockElements(), n != r && s[n.nodeName] && s[r.nodeName] && "false" !== x.getContentEditable(n) && "false" !== x.getContentEditable(r))) return e.deleteContents(), i = a(n, !1), o = a(r, !0), x.isEmpty(r) || Z(n).append(r.childNodes), Z(r).remove(), i ? 1 == i.nodeType ? "BR" == i.nodeName ? (e.setStartBefore(i), e.setEndBefore(i)) : (e.setStartAfter(i), e.setEndAfter(i)) : (e.setStart(i, i.data.length), e.setEnd(i, i.data.length)) : o && (1 == o.nodeType ? (e.setStartBefore(o), e.setEndBefore(o)) : (e.setStart(o, 0), e.setEnd(o, 0))), w.setRng(e), !0
                }

                function c(e, n) {
                    var r, i, s, l, u, c;
                    if (!e.collapsed) return e;
                    if (u = e.startContainer, c = e.startOffset, 3 == u.nodeType)
                        if (n) {
                            if (c < u.data.length) return e
                        } else if (c > 0) return e;
                    r = t.getNode(u, c), s = x.getParent(r, x.isBlock), i = a(f.getBody(), n, r), l = x.getParent(i, x.isBlock);
                    var d = 1 === u.nodeType && c > u.childNodes.length - 1;
                    if (!r || !i) return e;
                    if (l && s != l)
                        if (n) {
                            if (!o(s, l)) return e;
                            1 == r.nodeType ? "BR" == r.nodeName ? e.setStartBefore(r) : e.setStartAfter(r) : e.setStart(r, r.data.length), 1 == i.nodeType ? e.setEnd(i, 0) : e.setEndBefore(i)
                        } else {
                            if (!o(l, s)) return e;
                            1 == i.nodeType ? "BR" == i.nodeName ? e.setStartBefore(i) : e.setStartAfter(i) : e.setStart(i, i.data.length), 1 == r.nodeType && d ? e.setEndAfter(r) : e.setEndBefore(r)
                        } return e
                }

                function d(e) {
                    var t = w.getRng();
                    if (t = c(t, e), u(t)) return !0
                }

                function p(e, t) {
                    function n(e, n) {
                        return m = Z(n).parents().filter(function(e, t) {
                            return !!f.schema.getTextInlineElements()[t.nodeName]
                        }), l = e.cloneNode(!1), m = s.map(m, function(e) {
                            return e = e.cloneNode(!1), l.hasChildNodes() ? (e.appendChild(l.firstChild), l.appendChild(e)) : l.appendChild(e), l.appendChild(e), e
                        }), m.length ? (h = x.create("br"), m[0].appendChild(h), x.replace(l, e), t.setStartBefore(h), t.setEndBefore(h), f.selection.setRng(t), h) : null
                    }

                    function i(e) {
                        return e && f.schema.getTextBlockElements()[e.tagName]
                    }
                    var o, a, l, u, c, d, p, h, m;
                    if (t.collapsed && (d = t.startContainer, p = t.startOffset, a = x.getParent(d, x.isBlock), i(a)))
                        if (1 == d.nodeType) {
                            if (d = d.childNodes[p], d && "BR" != d.tagName) return;
                            if (c = e ? a.nextSibling : a.previousSibling, x.isEmpty(a) && i(c) && x.isEmpty(c) && n(a, d)) return x.remove(c), !0
                        } else if (3 == d.nodeType) {
                        if (o = r.create(a, d), u = a.cloneNode(!0), d = r.resolve(u, o), e) {
                            if (p >= d.data.length) return;
                            d.deleteData(p, 1)
                        } else {
                            if (p <= 0) return;
                            d.deleteData(p - 1, 1)
                        }
                        if (x.isEmpty(u)) return n(a, d)
                    }
                }

                function h(e) {
                    var t, n, r;
                    d(e) || (s.each(f.getBody().getElementsByTagName("*"), function(e) {
                        "SPAN" == e.tagName && e.setAttribute("mce-data-marked", 1), !e.hasAttribute("data-mce-style") && e.hasAttribute("style") && f.dom.setAttrib(e, "style", f.dom.getAttrib(e, "style"))
                    }), t = new E(function() {}), t.observe(f.getDoc(), {
                        childList: !0,
                        attributes: !0,
                        subtree: !0,
                        attributeFilter: ["style"]
                    }), f.getDoc().execCommand(e ? "ForwardDelete" : "Delete", !1, null), n = f.selection.getRng(), r = n.startContainer.parentNode, s.each(t.takeRecords(), function(e) {
                        if (x.isChildOf(e.target, f.getBody())) {
                            if ("style" == e.attributeName) {
                                var t = e.target.getAttribute("data-mce-style");
                                t ? e.target.setAttribute("style", t) : e.target.removeAttribute("style")
                            }
                            s.each(e.addedNodes, function(e) {
                                if ("SPAN" == e.nodeName && !e.getAttribute("mce-data-marked")) {
                                    var t, i;
                                    e == r && (t = n.startOffset, i = e.firstChild), x.remove(e, !0), i && (n.setStart(i, t), n.setEnd(i, t), f.selection.setRng(n))
                                }
                            })
                        }
                    }), t.disconnect(), s.each(f.dom.select("span[mce-data-marked]"), function(e) {
                        e.removeAttribute("mce-data-marked")
                    }))
                }

                function b(e) {
                    f.undoManager.transact(function() {
                        h(e)
                    })
                }
                var C = f.getDoc(),
                    x = f.dom,
                    w = f.selection,
                    E = window.MutationObserver,
                    N, _;
                E || (N = !0, E = function() {
                    function e(e) {
                        var t = e.relatedNode || e.target;
                        n.push({
                            target: t,
                            addedNodes: [t]
                        })
                    }

                    function t(e) {
                        var t = e.relatedNode || e.target;
                        n.push({
                            target: t,
                            attributeName: e.attrName
                        })
                    }
                    var n = [],
                        r;
                    this.observe = function(n) {
                        r = n, r.addEventListener("DOMSubtreeModified", e, !1), r.addEventListener("DOMNodeInsertedIntoDocument", e, !1), r.addEventListener("DOMNodeInserted", e, !1), r.addEventListener("DOMAttrModified", t, !1)
                    }, this.disconnect = function() {
                        r.removeEventListener("DOMSubtreeModified", e, !1), r.removeEventListener("DOMNodeInsertedIntoDocument", e, !1), r.removeEventListener("DOMNodeInserted", e, !1), r.removeEventListener("DOMAttrModified", t, !1)
                    }, this.takeRecords = function() {
                        return n
                    }
                }), f.on("keydown", function(e) {
                    var t = e.keyCode == te,
                        n = e.ctrlKey || e.metaKey;
                    if (!m(e) && (t || e.keyCode == ee)) {
                        var r = f.selection.getRng(),
                            i = r.startContainer,
                            o = r.startOffset;
                        if (t && e.shiftKey) return;
                        if (p(t, r)) return void e.preventDefault();
                        if (!n && r.collapsed && 3 == i.nodeType && (t ? o < i.data.length : o > 0)) return;
                        e.preventDefault(), n && f.selection.getSel().modify("extend", t ? "forward" : "backward", e.metaKey ? "lineboundary" : "word"), h(t)
                    }
                }), f.on("keypress", function(t) {
                    if (!m(t) && !w.isCollapsed() && t.charCode > 31 && !e.metaKeyPressed(t)) {
                        var n, r, i, o, a, s;
                        n = f.selection.getRng(), s = String.fromCharCode(t.charCode), t.preventDefault(), r = Z(n.startContainer).parents().filter(function(e, t) {
                            return !!f.schema.getTextInlineElements()[t.nodeName]
                        }), h(!0), r = r.filter(function(e, t) {
                            return !Z.contains(f.getBody(), t)
                        }), r.length ? (i = x.createFragment(), r.each(function(e, t) {
                            t = t.cloneNode(!1), i.hasChildNodes() ? (t.appendChild(i.firstChild), i.appendChild(t)) : (a = t, i.appendChild(t)), i.appendChild(t)
                        }), a.appendChild(f.getDoc().createTextNode(s)), o = x.getParent(n.startContainer, x.isBlock), x.isEmpty(o) ? Z(o).empty().append(i) : n.insertNode(i), n.setStart(a.firstChild, 1), n.setEnd(a.firstChild, 1), f.selection.setRng(n)) : f.selection.setContent(s)
                    }
                }), f.addCommand("Delete", function() {
                    h()
                }), f.addCommand("ForwardDelete", function() {
                    h(!0)
                }), N || (f.on("dragstart", function(e) {
                    _ = w.getRng(), g(e)
                }), f.on("drop", function(e) {
                    if (!m(e)) {
                        var n = v(e);
                        n && (e.preventDefault(), l.setEditorTimeout(f, function() {
                            var r = t.getCaretRangeFromPoint(e.x, e.y, C);
                            _ && (w.setRng(_), _ = null, b()), w.setRng(r), y(n.html)
                        }))
                    }
                }), f.on("cut", function(e) {
                    m(e) || !e.clipboardData || f.selection.isCollapsed() || (e.preventDefault(), e.clipboardData.clearData(), e.clipboardData.setData("text/html", f.selection.getContent()), e.clipboardData.setData("text/plain", f.selection.getContent({
                        format: "text"
                    })), l.setEditorTimeout(f, function() {
                        b(!0)
                    }))
                }))
            }

            function C() {
                function e(e) {
                    var t = ne.create("body"),
                        n = e.cloneContents();
                    return t.appendChild(n), re.serializer.serialize(t, {
                        format: "html"
                    })
                }

                function n(n) {
                    if (!n.setStart) {
                        if (n.item) return !1;
                        var r = n.duplicate();
                        return r.moveToElementText(f.getBody()), t.compareRanges(n, r)
                    }
                    var i = e(n),
                        o = ne.createRng();
                    o.selectNode(f.getBody());
                    var a = e(o);
                    return i === a
                }
                f.on("keydown", function(e) {
                    var t = e.keyCode,
                        r, i;
                    if (!m(e) && (t == te || t == ee)) {
                        if (r = f.selection.isCollapsed(), i = f.getBody(), r && !ne.isEmpty(i)) return;
                        if (!r && !n(f.selection.getRng())) return;
                        e.preventDefault(), f.setContent(""), i.firstChild && ne.isBlock(i.firstChild) ? f.selection.setCursorLocation(i.firstChild, 0) : f.selection.setCursorLocation(i, 0), f.nodeChanged()
                    }
                })
            }

            function x() {
                f.shortcuts.add("meta+a", null, "SelectAll")
            }

            function w() {
                f.settings.content_editable || ne.bind(f.getDoc(), "mousedown mouseup", function(e) {
                    var t;
                    if (e.target == f.getDoc().documentElement)
                        if (t = re.getRng(), f.getBody().focus(), "mousedown" == e.type) {
                            if (u.isCaretContainer(t.startContainer)) return;
                            re.placeCaretAt(e.clientX, e.clientY)
                        } else re.setRng(t)
                })
            }

            function E() {
                f.on("keydown", function(e) {
                    if (!m(e) && e.keyCode === ee) {
                        if (!f.getBody().getElementsByTagName("hr").length) return;
                        if (re.isCollapsed() && 0 === re.getRng(!0).startOffset) {
                            var t = re.getNode(),
                                n = t.previousSibling;
                            if ("HR" == t.nodeName) return ne.remove(t), void e.preventDefault();
                            n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (ne.remove(n), e.preventDefault())
                        }
                    }
                })
            }

            function N() {
                window.Range.prototype.getClientRects || f.on("mousedown", function(e) {
                    if (!m(e) && "HTML" === e.target.nodeName) {
                        var t = f.getBody();
                        t.blur(), l.setEditorTimeout(f, function() {
                            t.focus()
                        })
                    }
                })
            }

            function _() {
                f.on("click", function(e) {
                    var t = e.target;
                    /^(IMG|HR)$/.test(t.nodeName) && "false" !== ne.getContentEditableParent(t) && (e.preventDefault(), re.select(t), f.nodeChanged()), "A" == t.nodeName && ne.hasClass(t, "mce-item-anchor") && (e.preventDefault(), re.select(t))
                })
            }

            function S() {
                function e() {
                    var e = ne.getAttribs(re.getStart().cloneNode(!1));
                    return function() {
                        var t = re.getStart();
                        t !== f.getBody() && (ne.setAttrib(t, "style", null), Q(e, function(e) {
                            t.setAttributeNode(e.cloneNode(!0))
                        }))
                    }
                }

                function t() {
                    return !re.isCollapsed() && ne.getParent(re.getStart(), ne.isBlock) != ne.getParent(re.getEnd(), ne.isBlock)
                }
                f.on("keypress", function(n) {
                    var r;
                    if (!m(n) && (8 == n.keyCode || 46 == n.keyCode) && t()) return r = e(), f.getDoc().execCommand("delete", !1, null), r(), n.preventDefault(), !1
                }), ne.bind(f.getDoc(), "cut", function(n) {
                    var r;
                    !m(n) && t() && (r = e(), l.setEditorTimeout(f, function() {
                        r()
                    }))
                })
            }

            function k() {
                document.body.setAttribute("role", "application")
            }

            function T() {
                f.on("keydown", function(e) {
                    if (!m(e) && e.keyCode === ee && re.isCollapsed() && 0 === re.getRng(!0).startOffset) {
                        var t = re.getNode().previousSibling;
                        if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1
                    }
                })
            }

            function R() {
                h() > 7 || (p("RespectVisibilityInDesign", !0), f.contentStyles.push(".mceHideBrInPre pre br {display: none}"), ne.addClass(f.getBody(), "mceHideBrInPre"), oe.addNodeFilter("pre", function(e) {
                    for (var t = e.length, n, r, o, a; t--;)
                        for (n = e[t].getAll("br"), r = n.length; r--;) o = n[r], a = o.prev, a && 3 === a.type && "\n" != a.value.charAt(a.value - 1) ? a.value += "\n" : o.parent.insert(new i("#text", 3), o, !0).value = "\n"
                }), ae.addNodeFilter("pre", function(e) {
                    for (var t = e.length, n, r, i, o; t--;)
                        for (n = e[t].getAll("br"), r = n.length; r--;) i = n[r], o = i.prev, o && 3 == o.type && (o.value = o.value.replace(/\r?\n$/, ""))
                }))
            }

            function A() {
                ne.bind(f.getBody(), "mouseup", function() {
                    var e, t = re.getNode();
                    "IMG" == t.nodeName && ((e = ne.getStyle(t, "width")) && (ne.setAttrib(t, "width", e.replace(/[^0-9%]+/g, "")), ne.setStyle(t, "width", "")), (e = ne.getStyle(t, "height")) && (ne.setAttrib(t, "height", e.replace(/[^0-9%]+/g, "")), ne.setStyle(t, "height", "")))
                })
            }

            function B() {
                f.on("keydown", function(t) {
                    var n, r, i, o, a;
                    if (!m(t) && t.keyCode == e.BACKSPACE && (n = re.getRng(), r = n.startContainer, i = n.startOffset, o = ne.getRoot(), a = r, n.collapsed && 0 === i)) {
                        for (; a && a.parentNode && a.parentNode.firstChild == a && a.parentNode != o;) a = a.parentNode;
                        "BLOCKQUOTE" === a.tagName && (f.formatter.toggle("blockquote", null, a), n = ne.createRng(), n.setStart(r, 0), n.setEnd(r, 0), re.setRng(n))
                    }
                })
            }

            function D() {
                function e() {
                    K(), p("StyleWithCSS", !1), p("enableInlineTableEditing", !1), ie.object_resizing || p("enableObjectResizing", !1)
                }
                ie.readonly || f.on("BeforeExecCommand MouseDown", e)
            }

            function L() {
                function e() {
                    Q(ne.select("a"), function(e) {
                        var t = e.parentNode,
                            n = ne.getRoot();
                        if (t.lastChild === e) {
                            for (; t && !ne.isBlock(t);) {
                                if (t.parentNode.lastChild !== t || t === n) return;
                                t = t.parentNode
                            }
                            ne.add(t, "br", {
                                "data-mce-bogus": 1
                            })
                        }
                    })
                }
                f.on("SetContent ExecCommand", function(t) {
                    "setcontent" != t.type && "mceInsertLink" !== t.command || e()
                })
            }

            function M() {
                ie.forced_root_block && f.on("init", function() {
                    p("DefaultParagraphSeparator", ie.forced_root_block)
                })
            }

            function P() {
                f.on("keydown", function(e) {
                    var t;
                    m(e) || e.keyCode != ee || (t = f.getDoc().selection.createRange(), t && t.item && (e.preventDefault(), f.undoManager.beforeChange(), ne.remove(t.item(0)), f.undoManager.add()))
                })
            }

            function O() {
                var e;
                h() >= 10 && (e = "", Q("p div h1 h2 h3 h4 h5 h6".split(" "), function(t, n) {
                    e += (n > 0 ? "," : "") + t + ":empty"
                }), f.contentStyles.push(e + "{padding-right: 1px !important}"))
            }

            function H() {
                h() < 9 && (oe.addNodeFilter("noscript", function(e) {
                    for (var t = e.length, n, r; t--;) n = e[t], r = n.firstChild, r && n.attr("data-mce-innertext", r.value)
                }), ae.addNodeFilter("noscript", function(e) {
                    for (var t = e.length, n, r, a; t--;) n = e[t], r = e[t].firstChild, r ? r.value = o.decode(r.value) : (a = n.attributes.map["data-mce-innertext"], a && (n.attr("data-mce-innertext", null), r = new i("#text", 3), r.value = a, r.raw = !0, n.append(r)))
                }))
            }

            function I() {
                function e(e, t) {
                    var n = i.createTextRange();
                    try {
                        n.moveToPoint(e, t)
                    } catch (r) {
                        n = null
                    }
                    return n
                }

                function t(t) {
                    var r;
                    t.button ? (r = e(t.x, t.y), r && (r.compareEndPoints("StartToStart", a) > 0 ? r.setEndPoint("StartToStart", a) : r.setEndPoint("EndToEnd", a), r.select())) : n()
                }

                function n() {
                    var e = r.selection.createRange();
                    a && !e.item && 0 === e.compareEndPoints("StartToEnd", e) && a.select(), ne.unbind(r, "mouseup", n), ne.unbind(r, "mousemove", t), a = o = 0
                }
                var r = ne.doc,
                    i = r.body,
                    o, a, s;
                r.documentElement.unselectable = !0, ne.bind(r, "mousedown contextmenu", function(i) {
                    if ("HTML" === i.target.nodeName) {
                        if (o && n(), s = r.documentElement, s.scrollHeight > s.clientHeight) return;
                        o = 1, a = e(i.x, i.y), a && (ne.bind(r, "mouseup", n), ne.bind(r, "mousemove", t), ne.getRoot().focus(), a.select())
                    }
                })
            }

            function F() {
                f.on("keyup focusin mouseup", function(t) {
                    65 == t.keyCode && e.metaKeyPressed(t) || re.normalize()
                }, !0)
            }

            function z() {
                f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")
            }

            function U() {
                f.inline || f.on("keydown", function() {
                    document.activeElement == document.body && f.getWin().focus()
                })
            }

            function W() {
                f.inline || (f.contentStyles.push("body {min-height: 150px}"), f.on("click", function(e) {
                    var t;
                    if ("HTML" == e.target.nodeName) {
                        if (a.ie > 11) return void f.getBody().focus();
                        t = f.selection.getRng(), f.getBody().focus(), f.selection.setRng(t), f.selection.normalize(), f.nodeChanged()
                    }
                }))
            }

            function V() {
                a.mac && f.on("keydown", function(t) {
                    !e.metaKeyPressed(t) || t.shiftKey || 37 != t.keyCode && 39 != t.keyCode || (t.preventDefault(), f.selection.getSel().modify("move", 37 == t.keyCode ? "backward" : "forward", "lineboundary"))
                })
            }

            function $() {
                p("AutoUrlDetect", !1)
            }

            function q() {
                f.on("click", function(e) {
                    var t = e.target;
                    do
                        if ("A" === t.tagName) return void e.preventDefault(); while (t = t.parentNode)
                }), f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")
            }

            function j() {
                f.on("init", function() {
                    f.dom.bind(f.getBody(), "submit", function(e) {
                        e.preventDefault()
                    })
                })
            }

            function Y() {
                oe.addNodeFilter("br", function(e) {
                    for (var t = e.length; t--;) "Apple-interchange-newline" == e[t].attr("class") && e[t].remove()
                })
            }

            function X() {
                f.on("dragstart", function(e) {
                    g(e)
                }), f.on("drop", function(e) {
                    if (!m(e)) {
                        var n = v(e);
                        if (n && n.id != f.id) {
                            e.preventDefault();
                            var r = t.getCaretRangeFromPoint(e.x, e.y, f.getDoc());
                            re.setRng(r), y(n.html)
                        }
                    }
                })
            }

            function K() {}

            function G() {
                var e;
                return se ? (e = f.selection.getSel(), !e || !e.rangeCount || 0 === e.rangeCount) : 0
            }

            function J() {
                function t(e) {
                    var t = new d(e.getBody()),
                        n = e.selection.getRng(),
                        r = c.fromRangeStart(n),
                        i = c.fromRangeEnd(n),
                        o = t.prev(r),
                        a = t.next(i);
                    return !e.selection.isCollapsed() && (!o || o.isAtStart() && r.isEqual(o)) && (!a || a.isAtEnd() && r.isEqual(a))
                }
                f.on("keypress", function(n) {
                    !m(n) && !re.isCollapsed() && n.charCode > 31 && !e.metaKeyPressed(n) && t(f) && (n.preventDefault(), f.setContent(String.fromCharCode(n.charCode)), f.selection.select(f.getBody(), !0), f.selection.collapse(!1), f.nodeChanged())
                }), f.on("keydown", function(e) {
                    var n = e.keyCode;
                    m(e) || n != te && n != ee || t(f) && (e.preventDefault(), f.setContent(""), f.nodeChanged())
                })
            }
            var Q = s.each,
                Z = f.$,
                ee = e.BACKSPACE,
                te = e.DELETE,
                ne = f.dom,
                re = f.selection,
                ie = f.settings,
                oe = f.parser,
                ae = f.serializer,
                se = a.gecko,
                le = a.ie,
                ue = a.webkit,
                ce = "data:text/mce-internal,",
                de = le ? "Text" : "URL";
            return B(), C(), a.windowsPhone || F(), ue && (J(), b(), w(), _(), M(), j(), T(), Y(), a.iOS ? (U(), W(), q()) : x()), le && a.ie < 11 && (E(), k(), R(), A(), P(), O(), H(), I()), a.ie >= 11 && (W(), T()), a.ie && (x(), $(), X()), se && (J(), E(), N(), S(), D(), L(), z(), V(), T()), {
                refreshContentEditable: K,
                isHidden: G
            }
        }
    }), r(Ue, [pe, w, m], function(e, t, n) {
        function r(e, t) {
            return "selectionchange" == t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = o.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody()
        }

        function i(e, t) {
            function n(e) {
                return !e.hidden && !e.readonly
            }
            var i = r(e, t),
                s;
            if (e.delegates || (e.delegates = {}), !e.delegates[t])
                if (e.settings.event_root) {
                    if (a || (a = {}, e.editorManager.on("removeEditor", function() {
                            var t;
                            if (!e.editorManager.activeEditor && a) {
                                for (t in a) e.dom.unbind(r(e, t));
                                a = null
                            }
                        })), a[t]) return;
                    s = function(r) {
                        for (var i = r.target, a = e.editorManager.editors, s = a.length; s--;) {
                            var l = a[s].getBody();
                            (l === i || o.isChildOf(i, l)) && n(a[s]) && a[s].fire(t, r)
                        }
                    }, a[t] = s, o.bind(i, t, s)
                } else s = function(r) {
                    n(e) && e.fire(t, r)
                }, o.bind(i, t, s), e.delegates[t] = s
        }
        var o = t.DOM,
            a, s = {
                bindPendingEventDelegates: function() {
                    var e = this;
                    n.each(e._pendingNativeEvents, function(t) {
                        i(e, t)
                    })
                },
                toggleNativeEvent: function(e, t) {
                    var n = this;
                    "focus" != e && "blur" != e && (t ? n.initialized ? i(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(r(n, e), e, n.delegates[e]), delete n.delegates[e]))
                },
                unbindAllNativeEvents: function() {
                    var e = this,
                        t;
                    if (e.delegates) {
                        for (t in e.delegates) e.dom.unbind(r(e, t), t, e.delegates[t]);
                        delete e.delegates
                    }
                    e.inline || (e.getBody().onload = null, e.dom.unbind(e.getWin()), e.dom.unbind(e.getDoc())), e.dom.unbind(e.getBody()), e.dom.unbind(e.getContainer())
                }
            };
        return s = n.extend({}, e, s)
    }), r(We, [], function() {
        function e(e, t, n) {
            try {
                e.getDoc().execCommand(t, !1, n)
            } catch (r) {}
        }

        function t(e) {
            var t, n;
            return t = e.getBody(), n = function(t) {
                e.dom.getParents(t.target, "a").length > 0 && t.preventDefault()
            }, e.dom.bind(t, "click", n), {
                unbind: function() {
                    e.dom.unbind(t, "click", n)
                }
            }
        }

        function n(n, r) {
            n._clickBlocker && (n._clickBlocker.unbind(), n._clickBlocker = null), r ? (n._clickBlocker = t(n), n.selection.controlSelection.hideResizeRect(), n.readonly = !0, n.getBody().contentEditable = !1) : (n.readonly = !1, n.getBody().contentEditable = !0, e(n, "StyleWithCSS", !1), e(n, "enableInlineTableEditing", !1), e(n, "enableObjectResizing", !1), n.focus(), n.nodeChanged())
        }

        function r(e, t) {
            var r = e.readonly ? "readonly" : "design";
            t != r && (e.initialized ? n(e, "readonly" == t) : e.on("init", function() {
                n(e, "readonly" == t)
            }), e.fire("SwitchMode", {
                mode: t
            }))
        }
        return {
            setMode: r
        }
    }), r(Ve, [m, d], function(e, t) {
        var n = e.each,
            r = e.explode,
            i = {
                f9: 120,
                f10: 121,
                f11: 122
            },
            o = e.makeMap("alt,ctrl,shift,meta,access");
        return function(a) {
            function s(e) {
                var a, s, l = {};
                n(r(e, "+"), function(e) {
                    e in o ? l[e] = !0 : /^[0-9]{2,}$/.test(e) ? l.keyCode = parseInt(e, 10) : (l.charCode = e.charCodeAt(0), l.keyCode = i[e] || e.toUpperCase().charCodeAt(0))
                }), a = [l.keyCode];
                for (s in o) l[s] ? a.push(s) : l[s] = !1;
                return l.id = a.join(","), l.access && (l.alt = !0, t.mac ? l.ctrl = !0 : l.shift = !0), l.meta && (t.mac ? l.meta = !0 : (l.ctrl = !0, l.meta = !1)), l
            }

            function l(t, n, i, o) {
                var l;
                return l = e.map(r(t, ">"), s), l[l.length - 1] = e.extend(l[l.length - 1], {
                    func: i,
                    scope: o || a
                }), e.extend(l[0], {
                    desc: a.translate(n),
                    subpatterns: l.slice(1)
                })
            }

            function u(e) {
                return e.altKey || e.ctrlKey || e.metaKey
            }

            function c(e) {
                return "keydown" === e.type && e.keyCode >= 112 && e.keyCode <= 123
            }

            function d(e, t) {
                return !!t && (t.ctrl == e.ctrlKey && t.meta == e.metaKey && (t.alt == e.altKey && t.shift == e.shiftKey && (!!(e.keyCode == t.keyCode || e.charCode && e.charCode == t.charCode) && (e.preventDefault(), !0))))
            }

            function f(e) {
                return e.func ? e.func.call(e.scope) : null
            }
            var p = this,
                h = {},
                m = [];
            a.on("keyup keypress keydown", function(e) {
                !u(e) && !c(e) || e.isDefaultPrevented() || (n(h, function(t) {
                    if (d(e, t)) return m = t.subpatterns.slice(0), "keydown" == e.type && f(t), !0
                }), d(e, m[0]) && (1 === m.length && "keydown" == e.type && f(m[0]), m.shift()))
            }), p.add = function(t, i, o, s) {
                var u;
                return u = o, "string" == typeof o ? o = function() {
                    a.execCommand(u, !1, null)
                } : e.isArray(u) && (o = function() {
                    a.execCommand(u[0], u[1], u[2])
                }), n(r(e.trim(t.toLowerCase())), function(e) {
                    var t = l(e, i, o, s);
                    h[t.id] = t
                }), !0
            }, p.remove = function(e) {
                var t = l(e);
                return !!h[t.id] && (delete h[t.id], !0)
            }
        }
    }), r($e, [u, m, z], function(e, t, n) {
        return function(r, i) {
            function o(e) {
                var t, n;
                return n = {
                    "image/jpeg": "jpg",
                    "image/jpg": "jpg",
                    "image/gif": "gif",
                    "image/png": "png"
                }, t = n[e.blob().type.toLowerCase()] || "dat", e.filename() + "." + t
            }

            function a(e, t) {
                return e ? e.replace(/\/$/, "") + "/" + t.replace(/^\//, "") : t
            }

            function s(e) {
                return {
                    id: e.id,
                    blob: e.blob,
                    base64: e.base64,
                    filename: n.constant(o(e))
                }
            }

            function l(e, t, n, r) {
                var o, s;
                o = new XMLHttpRequest, o.open("POST", i.url), o.withCredentials = i.credentials, o.upload.onprogress = function(e) {
                    r(e.loaded / e.total * 100)
                }, o.onerror = function() {
                    n("Image upload failed due to a XHR Transport error. Code: " + o.status)
                }, o.onload = function() {
                    var e;
                    return 200 != o.status ? void n("HTTP Error: " + o.status) : (e = JSON.parse(o.responseText), e && "string" == typeof e.location ? void t(a(i.basePath, e.location)) : void n("Invalid JSON: " + o.responseText))
                }, s = new FormData, s.append("file", e.blob(), e.filename()), o.send(s)
            }

            function u() {
                return new e(function(e) {
                    e([])
                })
            }

            function c(e, t) {
                return {
                    url: t,
                    blobInfo: e,
                    status: !0
                }
            }

            function d(e, t) {
                return {
                    url: "",
                    blobInfo: e,
                    status: !1,
                    error: t
                }
            }

            function f(e, n) {
                t.each(y[e], function(e) {
                    e(n)
                }), delete y[e]
            }

            function p(t, n, i) {
                return r.markPending(t.blobUri()), new e(function(e) {
                    var o, a, l = function() {};
                    try {
                        var u = function() {
                                o && (o.close(), a = l)
                            },
                            p = function(n) {
                                u(), r.markUploaded(t.blobUri(), n), f(t.blobUri(), c(t, n)), e(c(t, n))
                            },
                            h = function(n) {
                                u(), r.removeFailed(t.blobUri()), f(t.blobUri(), d(t, n)), e(d(t, n))
                            };
                        a = function(e) {
                            e < 0 || e > 100 || (o || (o = i()), o.progressBar.value(e))
                        }, n(s(t), p, h, a)
                    } catch (m) {
                        e(d(t, m.message))
                    }
                })
            }

            function h(e) {
                return e === l
            }

            function m(t) {
                var n = t.blobUri();
                return new e(function(e) {
                    y[n] = y[n] || [], y[n].push(e)
                })
            }

            function g(n, o) {
                return n = t.grep(n, function(e) {
                    return !r.isUploaded(e.blobUri())
                }), e.all(t.map(n, function(e) {
                    return r.isPending(e.blobUri()) ? m(e) : p(e, i.handler, o)
                }))
            }

            function v(e, t) {
                return !i.url && h(i.handler) ? u() : g(e, t)
            }
            var y = {};
            return i = t.extend({
                credentials: !1,
                handler: l
            }, i), {
                upload: v
            }
        }
    }), r(qe, [u], function(e) {
        function t(t) {
            return new e(function(e) {
                var n = new XMLHttpRequest;
                n.open("GET", t, !0), n.responseType = "blob", n.onload = function() {
                    200 == this.status && e(this.response)
                }, n.send()
            })
        }

        function n(e) {
            var t, n;
            return e = decodeURIComponent(e).split(","), n = /data:([^;]+)/.exec(e[0]), n && (t = n[1]), {
                type: t,
                data: e[1]
            }
        }

        function r(t) {
            return new e(function(e) {
                var r, i, o;
                t = n(t);
                try {
                    r = atob(t.data)
                } catch (a) {
                    return void e(new Blob([]))
                }
                for (i = new Uint8Array(r.length), o = 0; o < i.length; o++) i[o] = r.charCodeAt(o);
                e(new Blob([i], {
                    type: t.type
                }))
            })
        }

        function i(e) {
            return 0 === e.indexOf("blob:") ? t(e) : 0 === e.indexOf("data:") ? r(e) : null
        }

        function o(t) {
            return new e(function(e) {
                var n = new FileReader;
                n.onloadend = function() {
                    e(n.result)
                }, n.readAsDataURL(t)
            })
        }
        return {
            uriToBlob: i,
            blobToDataUri: o,
            parseDataUri: n
        }
    }), r(je, [u, h, z, qe, d], function(e, t, n, r, i) {
        var o = 0,
            a = function(e) {
                return (e || "blobid") + o++
            };
        return function(o, s) {
            function l(l, c) {
                function d(e, t) {
                    var n, i;
                    return 0 === e.src.indexOf("blob:") ? (i = s.getByUri(e.src), void(i ? t({
                        image: e,
                        blobInfo: i
                    }) : r.uriToBlob(e.src).then(function(o) {
                        r.blobToDataUri(o).then(function(l) {
                            n = r.parseDataUri(l).data, i = s.create(a(), o, n), s.add(i), t({
                                image: e,
                                blobInfo: i
                            })
                        })
                    }))) : (n = r.parseDataUri(e.src).data, i = s.findFirst(function(e) {
                        return e.base64() === n
                    }), void(i ? t({
                        image: e,
                        blobInfo: i
                    }) : r.uriToBlob(e.src).then(function(r) {
                        i = s.create(a(), r, n), s.add(i), t({
                            image: e,
                            blobInfo: i
                        })
                    })))
                }
                var f, p;
                return c || (c = n.constant(!0)), f = t.filter(l.getElementsByTagName("img"), function(e) {
                    var t = e.src;
                    return !!i.fileApi && (!e.hasAttribute("data-mce-bogus") && (!e.hasAttribute("data-mce-placeholder") && (!(!t || t == i.transparentSrc) && (0 === t.indexOf("blob:") ? !o.isUploaded(t) : 0 === t.indexOf("data:") && c(e)))))
                }), p = t.map(f, function(t) {
                    var n;
                    return u[t.src] ? new e(function(e) {
                        u[t.src].then(function(n) {
                            e({
                                image: t,
                                blobInfo: n.blobInfo
                            })
                        })
                    }) : (n = new e(function(e) {
                        d(t, e)
                    }).then(function(e) {
                        return delete u[e.image.src], e
                    })["catch"](function(e) {
                        return delete u[t.src],
                            e
                    }), u[t.src] = n, n)
                }), e.all(p)
            }
            var u = {};
            return {
                findAll: l
            }
        }
    }), r(Ye, [h, z], function(e, t) {
        return function() {
            function n(e, t, n, r) {
                return {
                    id: c(e),
                    filename: c(r || e),
                    blob: c(t),
                    base64: c(n),
                    blobUri: c(URL.createObjectURL(t))
                }
            }

            function r(e) {
                i(e.id()) || u.push(e)
            }

            function i(e) {
                return o(function(t) {
                    return t.id() === e
                })
            }

            function o(t) {
                return e.filter(u, t)[0]
            }

            function a(e) {
                return o(function(t) {
                    return t.blobUri() == e
                })
            }

            function s(t) {
                u = e.filter(u, function(e) {
                    return e.blobUri() !== t || (URL.revokeObjectURL(e.blobUri()), !1)
                })
            }

            function l() {
                e.each(u, function(e) {
                    URL.revokeObjectURL(e.blobUri())
                }), u = []
            }
            var u = [],
                c = t.constant;
            return {
                create: n,
                add: r,
                get: i,
                getByUri: a,
                findFirst: o,
                removeByUri: s,
                destroy: l
            }
        }
    }), r(Xe, [], function() {
        return function() {
            function e(e, t) {
                return {
                    status: e,
                    resultUri: t
                }
            }

            function t(e) {
                return e in d
            }

            function n(e) {
                var t = d[e];
                return t ? t.resultUri : null
            }

            function r(e) {
                return !!t(e) && d[e].status === u
            }

            function i(e) {
                return !!t(e) && d[e].status === c
            }

            function o(t) {
                d[t] = e(u, null)
            }

            function a(t, n) {
                d[t] = e(c, n)
            }

            function s(e) {
                delete d[e]
            }

            function l() {
                d = {}
            }
            var u = 1,
                c = 2,
                d = {};
            return {
                hasBlobUri: t,
                getResultUri: n,
                isPending: r,
                isUploaded: i,
                markPending: o,
                markUploaded: a,
                removeFailed: s,
                destroy: l
            }
        }
    }), r(Ke, [N], function(e) {
        var t = e.PluginManager,
            n = function(e, n) {
                for (var r in t.urls) {
                    var i = t.urls[r] + "/plugin" + n + ".js";
                    if (i === e) return r
                }
                return null
            },
            r = function(e, t) {
                var r = n(t, e.suffix);
                return r ? "Failed to load plugin: " + r + " from url " + t : "Failed to load plugin url: " + t
            },
            i = function(e, t) {
                e.notificationManager.open({
                    type: "error",
                    text: t
                })
            },
            o = function(e, t) {
                e._skinLoaded ? i(e, t) : e.on("SkinLoaded", function() {
                    i(e, t)
                })
            },
            a = function(e, t) {
                o(e, "Failed to upload image: " + t)
            },
            s = function(e, t) {
                o(e, r(e, t))
            };
        return {
            pluginLoadError: s,
            uploadError: a
        }
    }), r(Ge, [h, $e, je, Ye, Xe, Ke], function(e, t, n, r, i, o) {
        return function(a) {
            function s(e) {
                return function(t) {
                    return a.selection ? e(t) : []
                }
            }

            function l() {
                return "?" + (new Date).getTime()
            }

            function u(e, t, n) {
                var r = 0;
                do r = e.indexOf(t, r), r !== -1 && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1); while (r !== -1);
                return e
            }

            function c(e, t, n) {
                return e = u(e, 'src="' + t + '"', 'src="' + n + '"'), e = u(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"')
            }

            function d(t, n) {
                e.each(a.undoManager.data, function(r) {
                    "fragmented" === r.type ? r.fragments = e.map(r.fragments, function(e) {
                        return c(e, t, n)
                    }) : r.content = c(r.content, t, n)
                })
            }

            function f() {
                return a.notificationManager.open({
                    text: a.translate("Image uploading..."),
                    type: "info",
                    timeout: -1,
                    progressBar: !0
                })
            }

            function p(e, t) {
                C.removeByUri(e.src), d(e.src, t), a.$(e).attr({
                    src: E.images_reuse_filename ? t + l() : t,
                    "data-mce-src": a.convertURL(t, "src")
                })
            }

            function h(n) {
                return x || (x = new t(N, {
                    url: E.images_upload_url,
                    basePath: E.images_upload_base_path,
                    credentials: E.images_upload_credentials,
                    handler: E.images_upload_handler
                })), v().then(s(function(t) {
                    var r;
                    return r = e.map(t, function(e) {
                        return e.blobInfo
                    }), x.upload(r, f).then(s(function(r) {
                        return r = e.map(r, function(e, n) {
                            var r = t[n].image;
                            return e.status && a.settings.images_replace_blob_uris !== !1 ? p(r, e.url) : e.error && o.uploadError(a, e.error), {
                                element: r,
                                status: e.status
                            }
                        }), n && n(r), r
                    }))
                }))
            }

            function m(e) {
                if (E.automatic_uploads !== !1) return h(e)
            }

            function g(e) {
                return !E.images_dataimg_filter || E.images_dataimg_filter(e)
            }

            function v() {
                return w || (w = new n(N, C)), w.findAll(a.getBody(), g).then(s(function(t) {
                    return e.each(t, function(e) {
                        d(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src")
                    }), t
                }))
            }

            function y() {
                C.destroy(), N.destroy(), w = x = null
            }

            function b(t) {
                return t.replace(/src="(blob:[^"]+)"/g, function(t, n) {
                    var r = N.getResultUri(n);
                    if (r) return 'src="' + r + '"';
                    var i = C.getByUri(n);
                    return i || (i = e.reduce(a.editorManager.editors, function(e, t) {
                        return e || t.editorUpload.blobCache.getByUri(n)
                    }, null)), i ? 'src="data:' + i.blob().type + ";base64," + i.base64() + '"' : t
                })
            }
            var C = new r,
                x, w, E = a.settings,
                N = new i;
            return a.on("setContent", function() {
                a.settings.automatic_uploads !== !1 ? m() : v()
            }), a.on("RawSaveContent", function(e) {
                e.content = b(e.content)
            }), a.on("getContent", function(e) {
                e.source_view || "raw" == e.format || (e.content = b(e.content))
            }), a.on("PostRender", function() {
                a.parser.addNodeFilter("img", function(t) {
                    e.each(t, function(e) {
                        var t = e.attr("src");
                        if (!C.getByUri(t)) {
                            var n = N.getResultUri(t);
                            n && e.attr("src", n)
                        }
                    })
                })
            }), {
                blobCache: C,
                uploadImages: h,
                uploadImagesAuto: m,
                scanForImages: v,
                destroy: y
            }
        }
    }), r(Je, [k, $, _, T, g, W, c], function(e, t, n, r, i, o, a) {
        var s = n.isContentEditableFalse;
        return function(t, n) {
            function r(e, n) {
                var r = o.collapse(e.getBoundingClientRect(), n),
                    i, a, s, l, u;
                return "BODY" == t.tagName ? (i = t.ownerDocument.documentElement, a = t.scrollLeft || i.scrollLeft, s = t.scrollTop || i.scrollTop) : (u = t.getBoundingClientRect(), a = t.scrollLeft - u.left, s = t.scrollTop - u.top), r.left += a, r.right += a, r.top += s, r.bottom += s, r.width = 1, l = e.offsetWidth - e.clientWidth, l > 0 && (n && (l *= -1), r.left += l, r.right += l), r
            }

            function l() {
                var n, r, o, a, s;
                for (n = i("*[contentEditable=false]", t), a = 0; a < n.length; a++) r = n[a], o = r.previousSibling, e.endsWithCaretContainer(o) && (s = o.data, 1 == s.length ? o.parentNode.removeChild(o) : o.deleteData(s.length - 1, 1)), o = r.nextSibling, e.startsWithCaretContainer(o) && (s = o.data, 1 == s.length ? o.parentNode.removeChild(o) : o.deleteData(0, 1));
                return null
            }

            function u(o, a) {
                var l, u;
                return c(), n(a) ? (g = e.insertBlock("p", a, o), l = r(a, o), i(g).css("top", l.top), m = i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t), o && m.addClass("mce-visual-caret-before"), d(), u = a.ownerDocument.createRange(), u.setStart(g, 0), u.setEnd(g, 0), u) : (g = e.insertInline(a, o), u = a.ownerDocument.createRange(), s(g.nextSibling) ? (u.setStart(g, 0), u.setEnd(g, 0)) : (u.setStart(g, 1), u.setEnd(g, 1)), u)
            }

            function c() {
                l(), g && (e.remove(g), g = null), m && (m.remove(), m = null), clearInterval(h)
            }

            function d() {
                h = a.setInterval(function() {
                    i("div.mce-visual-caret", t).toggleClass("mce-visual-caret-hidden")
                }, 500)
            }

            function f() {
                a.clearInterval(h)
            }

            function p() {
                return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"
            }
            var h, m, g;
            return {
                show: u,
                hide: c,
                getCss: p,
                destroy: f
            }
        }
    }), r(Qe, [h, _, W], function(e, t, n) {
        function r(i) {
            function o(t) {
                return e.map(t, function(e) {
                    return e = n.clone(e), e.node = i, e
                })
            }
            if (e.isArray(i)) return e.reduce(i, function(e, t) {
                return e.concat(r(t))
            }, []);
            if (t.isElement(i)) return o(i.getClientRects());
            if (t.isText(i)) {
                var a = i.ownerDocument.createRange();
                return a.setStart(i, 0), a.setEnd(i, i.data.length), o(a.getClientRects())
            }
        }
        return {
            getClientRects: r
        }
    }), r(Ze, [z, h, Qe, U, ie, oe, $, W], function(e, t, n, r, i, o, a, s) {
        function l(e, t, n, o) {
            for (; o = i.findNode(o, e, r.isEditableCaretCandidate, t);)
                if (n(o)) return
        }

        function u(e, r, i, o, a, s) {
            function u(o) {
                var s, l, u;
                for (u = n.getClientRects(o), e == -1 && (u = u.reverse()), s = 0; s < u.length; s++)
                    if (l = u[s], !i(l, p)) {
                        if (f.length > 0 && r(l, t.last(f)) && c++, l.line = c, a(l)) return !0;
                        f.push(l)
                    }
            }
            var c = 0,
                d, f = [],
                p;
            return (p = t.last(s.getClientRects())) ? (d = s.getNode(), u(d), l(e, o, u, d), f) : f
        }

        function c(e, t) {
            return t.line > e
        }

        function d(e, t) {
            return t.line === e
        }

        function f(e, n, r, i) {
            function l(n) {
                return 1 == e ? t.last(n.getClientRects()) : t.last(n.getClientRects())
            }
            var u = new o(n),
                c, d, f, p, h = [],
                m = 0,
                g, v;
            1 == e ? (c = u.next, d = s.isBelow, f = s.isAbove, p = a.after(i)) : (c = u.prev, d = s.isAbove, f = s.isBelow, p = a.before(i)), v = l(p);
            do
                if (p.isVisible() && (g = l(p), !f(g, v))) {
                    if (h.length > 0 && d(g, t.last(h)) && m++, g = s.clone(g), g.position = p, g.line = m, r(g)) return h;
                    h.push(g)
                } while (p = c(p));
            return h
        }
        var p = e.curry,
            h = p(u, -1, s.isAbove, s.isBelow),
            m = p(u, 1, s.isBelow, s.isAbove);
        return {
            upUntil: h,
            downUntil: m,
            positionsUntil: f,
            isAboveLine: p(c),
            isLine: p(d)
        }
    }), r(et, [z, h, _, Qe, W, ie, U], function(e, t, n, r, i, o, a) {
        function s(e, t) {
            return Math.abs(e.left - t)
        }

        function l(e, t) {
            return Math.abs(e.right - t)
        }

        function u(e, n) {
            function r(e, t) {
                return e >= t.left && e <= t.right
            }
            return t.reduce(e, function(e, t) {
                var i, o;
                return i = Math.min(s(e, n), l(e, n)), o = Math.min(s(t, n), l(t, n)), r(n, t) ? t : r(n, e) ? e : o == i && m(t.node) ? t : o < i ? t : e
            })
        }

        function c(e, t, n, r) {
            for (; r = g(r, e, a.isEditableCaretCandidate, t);)
                if (n(r)) return
        }

        function d(e, n) {
            function o(e, i) {
                var o;
                return o = t.filter(r.getClientRects(i), function(t) {
                    return !e(t, n)
                }), a = a.concat(o), 0 === o.length
            }
            var a = [];
            return a.push(n), c(-1, e, v(o, i.isAbove), n.node), c(1, e, v(o, i.isBelow), n.node), a
        }

        function f(e) {
            return t.filter(t.toArray(e.getElementsByTagName("*")), m)
        }

        function p(e, t) {
            return {
                node: e.node,
                before: s(e, t) < l(e, t)
            }
        }

        function h(e, n, i) {
            var o, a;
            return o = r.getClientRects(f(e)), o = t.filter(o, function(e) {
                return i >= e.top && i <= e.bottom
            }), a = u(o, n), a && (a = u(d(e, a), n), a && m(a.node)) ? p(a, n) : null
        }
        var m = n.isContentEditableFalse,
            g = o.findNode,
            v = e.curry;
        return {
            findClosestClientRect: u,
            findLineNodeRects: d,
            closestCaret: h
        }
    }), r(tt, [], function() {
        var e = function(e) {
                var t, n, r, i;
                return i = e.getBoundingClientRect(), t = e.ownerDocument, n = t.documentElement, r = t.defaultView, {
                    top: i.top + r.pageYOffset - n.clientTop,
                    left: i.left + r.pageXOffset - n.clientLeft
                }
            },
            t = function(t) {
                return t.inline ? e(t.getBody()) : {
                    left: 0,
                    top: 0
                }
            },
            n = function(e) {
                var t = e.getBody();
                return e.inline ? {
                    left: t.scrollLeft,
                    top: t.scrollTop
                } : {
                    left: 0,
                    top: 0
                }
            },
            r = function(e) {
                var t = e.getBody(),
                    n = e.getDoc().documentElement,
                    r = {
                        left: t.scrollLeft,
                        top: t.scrollTop
                    },
                    i = {
                        left: t.scrollLeft || n.scrollLeft,
                        top: t.scrollTop || n.scrollTop
                    };
                return e.inline ? r : i
            },
            i = function(t, n) {
                if (n.target.ownerDocument !== t.getDoc()) {
                    var i = e(t.getContentAreaContainer()),
                        o = r(t);
                    return {
                        left: n.pageX - i.left + o.left,
                        top: n.pageY - i.top + o.top
                    }
                }
                return {
                    left: n.pageX,
                    top: n.pageY
                }
            },
            o = function(e, t, n) {
                return {
                    pageX: n.left - e.left + t.left,
                    pageY: n.top - e.top + t.top
                }
            },
            a = function(e, r) {
                return o(t(e), n(e), i(e, r))
            };
        return {
            calc: a
        }
    }), r(nt, [_, h, z, c, w, tt], function(e, t, n, r, i, o) {
        var a = e.isContentEditableFalse,
            s = e.isContentEditableTrue,
            l = function(e, t) {
                return a(t) && t !== e
            },
            u = function(e, t, n) {
                return t !== n && !e.dom.isChildOf(t, n) && !a(t)
            },
            c = function(e) {
                var t = e.cloneNode(!0);
                return t.removeAttribute("data-mce-selected"), t
            },
            d = function(e, t, n, r) {
                var i = t.cloneNode(!0);
                e.dom.setStyles(i, {
                    width: n,
                    height: r
                }), e.dom.setAttrib(i, "data-mce-selected", null);
                var o = e.dom.create("div", {
                    "class": "mce-drag-container",
                    "data-mce-bogus": "all",
                    unselectable: "on",
                    contenteditable: "false"
                });
                return e.dom.setStyles(o, {
                    position: "absolute",
                    opacity: .5,
                    overflow: "hidden",
                    border: 0,
                    padding: 0,
                    margin: 0,
                    width: n,
                    height: r
                }), e.dom.setStyles(i, {
                    margin: 0,
                    boxSizing: "border-box"
                }), o.appendChild(i), o
            },
            f = function(e, t) {
                e.parentNode !== t && t.appendChild(e)
            },
            p = function(e, t, n, r, i, o) {
                var a = 0,
                    s = 0;
                e.style.left = t.pageX + "px", e.style.top = t.pageY + "px", t.pageX + n > i && (a = t.pageX + n - i), t.pageY + r > o && (s = t.pageY + r - o), e.style.width = n - a + "px", e.style.height = r - s + "px"
            },
            h = function(e) {
                e && e.parentNode && e.parentNode.removeChild(e)
            },
            m = function(e) {
                return 0 === e.button
            },
            g = function(e) {
                return e.element
            },
            v = function(e, t) {
                return {
                    pageX: t.pageX - e.relX,
                    pageY: t.pageY + 5
                }
            },
            y = function(e, r) {
                return function(i) {
                    if (m(i)) {
                        var o = t.find(r.dom.getParents(i.target), n.or(a, s));
                        if (l(r.getBody(), o)) {
                            var u = r.dom.getPos(o),
                                c = r.getBody(),
                                f = r.getDoc().documentElement;
                            e.element = o, e.screenX = i.screenX, e.screenY = i.screenY, e.maxX = (r.inline ? c.scrollWidth : f.offsetWidth) - 2, e.maxY = (r.inline ? c.scrollHeight : f.offsetHeight) - 2, e.relX = i.pageX - u.x, e.relY = i.pageY - u.y, e.width = o.offsetWidth, e.height = o.offsetHeight, e.ghost = d(r, o, e.width, e.height)
                        }
                    }
                }
            },
            b = function(e, t) {
                var n = r.throttle(function(e, n) {
                    t._selectionOverrides.hideFakeCaret(), t.selection.placeCaretAt(e, n)
                }, 0);
                return function(r) {
                    var i = Math.max(Math.abs(r.screenX - e.screenX), Math.abs(r.screenY - e.screenY));
                    if (g(e) && !e.dragging && i > 10) {
                        var a = t.fire("dragstart", {
                            target: e.element
                        });
                        if (a.isDefaultPrevented()) return;
                        e.dragging = !0, t.focus()
                    }
                    if (e.dragging) {
                        var s = v(e, o.calc(t, r));
                        f(e.ghost, t.getBody()), p(e.ghost, s, e.width, e.height, e.maxX, e.maxY), n(r.clientX, r.clientY)
                    }
                }
            },
            C = function(e) {
                var t = e.getSel().getRangeAt(0),
                    n = t.startContainer;
                return 3 === n.nodeType ? n.parentNode : n
            },
            x = function(e, t) {
                return function(n) {
                    if (e.dragging && u(t, C(t.selection), e.element)) {
                        var r = c(e.element),
                            i = t.fire("drop", {
                                targetClone: r,
                                clientX: n.clientX,
                                clientY: n.clientY
                            });
                        i.isDefaultPrevented() || (r = i.targetClone, t.undoManager.transact(function() {
                            h(e.element), t.insertContent(t.dom.getOuterHTML(r)), t._selectionOverrides.hideFakeCaret()
                        }))
                    }
                    E(e)
                }
            },
            w = function(e, t) {
                return function() {
                    E(e), e.dragging && t.fire("dragend")
                }
            },
            E = function(e) {
                e.dragging = !1, e.element = null, h(e.ghost)
            },
            N = function(e) {
                var t = {},
                    n, r, o, a, s, l;
                n = i.DOM, l = document, r = y(t, e), o = b(t, e), a = x(t, e), s = w(t, e), e.on("mousedown", r), e.on("mousemove", o), e.on("mouseup", a), n.bind(l, "mousemove", o), n.bind(l, "mouseup", s), e.on("remove", function() {
                    n.unbind(l, "mousemove", o), n.unbind(l, "mouseup", s)
                })
            },
            _ = function(e) {
                e.on("drop", function(t) {
                    var n = "undefined" != typeof t.clientX ? e.getDoc().elementFromPoint(t.clientX, t.clientY) : null;
                    (a(n) || a(e.dom.getContentEditableParent(n))) && t.preventDefault()
                })
            },
            S = function(e) {
                N(e), _(e)
            };
        return {
            init: S
        }
    }), r(rt, [d, oe, $, k, ie, Je, Ze, et, _, T, W, I, z, h, c, nt], function(e, t, n, r, i, o, a, s, l, u, c, d, f, p, h, m) {
        function g(e, t) {
            for (; t = e(t);)
                if (t.isVisible()) return t;
            return t
        }

        function v(u) {
            function v(e) {
                return u.dom.hasClass(e, "mce-offscreen-selection")
            }

            function _() {
                var e = u.dom.get(ue);
                return e ? e.getElementsByTagName("*")[0] : e
            }

            function S(e) {
                return u.dom.isBlock(e)
            }

            function k(e) {
                e && u.selection.setRng(e)
            }

            function T() {
                return u.selection.getRng()
            }

            function R(e, t) {
                u.selection.scrollIntoView(e, t)
            }

            function A(e, t, n) {
                var r;
                return r = u.fire("ShowCaret", {
                    target: t,
                    direction: e,
                    before: n
                }), r.isDefaultPrevented() ? null : (R(t, e === -1), le.show(n, t))
            }

            function B(e) {
                var t;
                return t = u.fire("BeforeObjectSelected", {
                    target: e
                }), t.isDefaultPrevented() ? null : D(e)
            }

            function D(e) {
                var t = e.ownerDocument.createRange();
                return t.selectNode(e), t
            }

            function L(e, t) {
                var n = i.isInSameBlock(e, t);
                return !(n || !l.isBr(e.getNode())) || n
            }

            function M(e, t) {
                return t = i.normalizeRange(e, ie, t), e == -1 ? n.fromRangeStart(t) : n.fromRangeEnd(t)
            }

            function P(e) {
                return r.isCaretContainerBlock(e.startContainer)
            }

            function O(e, t, n, r) {
                var i, o, a, s;
                return !r.collapsed && (i = N(r), C(i)) ? A(e, i, e == -1) : (s = P(r), o = M(e, r), n(o) ? B(o.getNode(e == -1)) : (o = t(o)) ? n(o) ? A(e, o.getNode(e == -1), 1 == e) : (a = t(o), n(a) && L(o, a) ? A(e, a.getNode(e == -1), 1 == e) : s ? $(o.toRange()) : null) : s ? r : null)
            }

            function H(e, t, n) {
                var r, i, o, l, u, c, d, f, h;
                if (h = N(n), r = M(e, n), i = t(ie, a.isAboveLine(1), r), o = p.filter(i, a.isLine(1)), u = p.last(r.getClientRects()), E(r) && (h = r.getNode()), w(r) && (h = r.getNode(!0)), !u) return null;
                if (c = u.left, l = s.findClosestClientRect(o, c), l && C(l.node)) return d = Math.abs(c - l.left), f = Math.abs(c - l.right), A(e, l.node, d < f);
                if (h) {
                    var m = a.positionsUntil(e, ie, a.isAboveLine(1), h);
                    if (l = s.findClosestClientRect(p.filter(m, a.isLine(1)), c)) return $(l.position.toRange());
                    if (l = p.last(p.filter(m, a.isLine(0)))) return $(l.position.toRange())
                }
            }

            function I(t, r) {
                function i() {
                    var t = u.dom.create(u.settings.forced_root_block);
                    return (!e.ie || e.ie >= 11) && (t.innerHTML = '<br data-mce-bogus="1">'), t
                }
                var o, a, s;
                if (r.collapsed && u.settings.forced_root_block) {
                    if (o = u.dom.getParent(r.startContainer, "PRE"), !o) return;
                    a = 1 == t ? ae(n.fromRangeStart(r)) : se(n.fromRangeStart(r)), a || (s = i(), 1 == t ? u.$(o).after(s) : u.$(o).before(s), u.selection.select(s, !0), u.selection.collapse())
                }
            }

            function F(e, t, n, r) {
                var i;
                return (i = O(e, t, n, r)) ? i : (i = I(e, r), i ? i : null)
            }

            function z(e, t, n) {
                var r;
                return (r = H(e, t, n)) ? r : (r = I(e, n), r ? r : null)
            }

            function U() {
                return de("*[data-mce-caret]")[0]
            }

            function W(e) {
                e.hasAttribute("data-mce-caret") && (r.showCaretContainerBlock(e), k(T()), R(e[0]))
            }

            function V(e) {
                var t, r;
                return e = i.normalizeRange(1, ie, e), t = n.fromRangeStart(e), C(t.getNode()) ? A(1, t.getNode(), !t.isAtEnd()) : C(t.getNode(!0)) ? A(1, t.getNode(!0), !1) : (r = u.dom.getParent(t.getNode(), f.or(C, b)), C(r) ? A(1, r, !1) : null)
            }

            function $(e) {
                var t;
                return e && e.collapsed ? (t = V(e), t ? t : e) : e
            }

            function q(e) {
                var t, i, o, a;
                return C(e) ? (C(e.previousSibling) && (o = e.previousSibling), i = se(n.before(e)), i || (t = ae(n.after(e))), t && x(t.getNode()) && (a = t.getNode()), r.remove(e.previousSibling), r.remove(e.nextSibling), u.dom.remove(e), u.dom.isEmpty(u.getBody()) ? (u.setContent(""), void u.focus()) : o ? n.after(o).toRange() : a ? n.before(a).toRange() : i ? i.toRange() : t ? t.toRange() : null) : null
            }

            function j(e) {
                var t = u.schema.getTextBlockElements();
                return e.nodeName in t
            }

            function Y(e) {
                return u.dom.isEmpty(e)
            }

            function X(e, t, r) {
                var i = u.dom,
                    o, a, s, l;
                if (o = i.getParent(t.getNode(), i.isBlock), a = i.getParent(r.getNode(), i.isBlock), e === -1) {
                    if (l = r.getNode(!0), w(r) && S(l)) return j(o) ? (Y(o) && i.remove(o), n.after(l).toRange()) : q(r.getNode(!0))
                } else if (l = t.getNode(), E(t) && S(l)) return j(a) ? (Y(a) && i.remove(a), n.before(l).toRange()) : q(t.getNode());
                if (o === a || !j(o) || !j(a)) return null;
                for (; s = o.firstChild;) a.appendChild(s);
                return u.dom.remove(o), r.toRange()
            }

            function K(e, t, n, i) {
                var o, a, s, l;
                return !i.collapsed && (o = N(i), C(o)) ? $(q(o)) : (a = M(e, i), n(a) && r.isCaretContainerBlock(i.startContainer) ? (l = e == -1 ? oe.prev(a) : oe.next(a), l ? $(l.toRange()) : i) : t(a) ? $(q(a.getNode(e == -1))) : (s = e == -1 ? oe.prev(a) : oe.next(a), t(s) ? e === -1 ? X(e, a, s) : X(e, s, a) : void 0))
            }

            function G() {
                function i(e, t) {
                    if (e.isDefaultPrevented() === !1) {
                        var n = t(T());
                        n && (e.preventDefault(), k(n))
                    }
                }

                function o(e) {
                    for (var t = u.getBody(); e && e != t;) {
                        if (b(e) || C(e)) return e;
                        e = e.parentNode
                    }
                    return null
                }

                function l(e, t, n) {
                    return !n.collapsed && p.reduce(n.getClientRects(), function(n, r) {
                        return n || c.containsXY(r, e, t)
                    }, !1)
                }

                function f(e) {
                    var t = !1;
                    e.on("touchstart", function() {
                        t = !1
                    }), e.on("touchmove", function() {
                        t = !0
                    }), e.on("touchend", function(e) {
                        var n = o(e.target);
                        C(n) && (t || (e.preventDefault(), ee(B(n))))
                    })
                }

                function g() {
                    var e, t = o(u.selection.getNode());
                    b(t) && S(t) && u.dom.isEmpty(t) && (e = u.dom.create("br", {
                        "data-mce-bogus": "1"
                    }), u.$(t).empty().append(e), u.selection.setRng(n.before(e).toRange()))
                }

                function x(e) {
                    var t = U();
                    if (t) return "compositionstart" == e.type ? (e.preventDefault(), e.stopPropagation(), void W(t)) : void(r.hasContent(t) && W(t))
                }

                function N(e) {
                    var t;
                    switch (e.keyCode) {
                        case d.DELETE:
                            t = g();
                            break;
                        case d.BACKSPACE:
                            t = g()
                    }
                    t && e.preventDefault()
                }
                var R = y(F, 1, ae, E),
                    D = y(F, -1, se, w),
                    L = y(K, 1, E, w),
                    M = y(K, -1, w, E),
                    P = y(z, -1, a.upUntil),
                    O = y(z, 1, a.downUntil);
                u.on("mouseup", function() {
                    var e = T();
                    e.collapsed && k(V(e))
                }), u.on("click", function(e) {
                    var t;
                    t = o(e.target), t && (C(t) && (e.preventDefault(), u.focus()), b(t) && u.dom.isChildOf(t, u.selection.getNode()) && te())
                }), u.on("blur NewBlock", function() {
                    te(), re()
                });
                var H = function(e) {
                        var r = new t(e);
                        if (!e.firstChild) return !1;
                        var i = n.before(e.firstChild),
                            o = r.next(i);
                        return o && !E(o) && !w(o)
                    },
                    I = function(e, t) {
                        var n = u.dom.getParent(e, u.dom.isBlock),
                            r = u.dom.getParent(t, u.dom.isBlock);
                        return n === r
                    },
                    j = function(e) {
                        return !(e.keyCode >= 112 && e.keyCode <= 123)
                    },
                    Y = function(e, t) {
                        var n = u.dom.getParent(e, u.dom.isBlock),
                            r = u.dom.getParent(t, u.dom.isBlock);
                        return n && !I(n, r) && H(n)
                    };
                f(u), u.on("mousedown", function(e) {
                    var t;
                    if (t = o(e.target)) C(t) ? (e.preventDefault(), ee(B(t))) : l(e.clientX, e.clientY, u.selection.getRng()) || u.selection.placeCaretAt(e.clientX, e.clientY);
                    else {
                        te(), re();
                        var n = s.closestCaret(ie, e.clientX, e.clientY);
                        n && (Y(e.target, n.node) || (e.preventDefault(), u.getBody().focus(), k(A(1, n.node, n.before))))
                    }
                }), u.on("keydown", function(e) {
                    if (!d.modifierPressed(e)) switch (e.keyCode) {
                        case d.RIGHT:
                            i(e, R);
                            break;
                        case d.DOWN:
                            i(e, O);
                            break;
                        case d.LEFT:
                            i(e, D);
                            break;
                        case d.UP:
                            i(e, P);
                            break;
                        case d.DELETE:
                            i(e, L);
                            break;
                        case d.BACKSPACE:
                            i(e, M);
                            break;
                        default:
                            C(u.selection.getNode()) && j(e) && e.preventDefault()
                    }
                }), u.on("keyup compositionstart", function(e) {
                    x(e), N(e)
                }, !0), u.on("cut", function() {
                    var e = u.selection.getNode();
                    C(e) && h.setEditorTimeout(u, function() {
                        k($(q(e)))
                    })
                }), u.on("getSelectionRange", function(e) {
                    var t = e.range;
                    if (ce) {
                        if (!ce.parentNode) return void(ce = null);
                        t = t.cloneRange(), t.selectNode(ce), e.range = t
                    }
                }), u.on("setSelectionRange", function(e) {
                    var t;
                    t = ee(e.range), t && (e.range = t)
                }), u.on("AfterSetSelectionRange", function(e) {
                    var t = e.range;
                    Z(t) || re(), v(t.startContainer.parentNode) || te()
                }), u.on("focus", function() {
                    h.setEditorTimeout(u, function() {
                        u.selection.setRng($(u.selection.getRng()))
                    }, 0)
                }), u.on("copy", function(t) {
                    var n = t.clipboardData;
                    if (!t.isDefaultPrevented() && t.clipboardData && !e.ie) {
                        var r = _();
                        r && (t.preventDefault(), n.clearData(), n.setData("text/html", r.outerHTML), n.setData("text/plain", r.outerText))
                    }
                }), m.init(u)
            }

            function J() {
                var e = u.contentStyles,
                    t = ".mce-content-body";
                e.push(le.getCss()), e.push(t + " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" + t + " *[contentEditable=false] {cursor: default;}" + t + " *[contentEditable=true] {cursor: text;}")
            }

            function Q(e) {
                return r.isCaretContainer(e) || r.startsWithCaretContainer(e) || r.endsWithCaretContainer(e)
            }

            function Z(e) {
                return Q(e.startContainer) || Q(e.endContainer)
            }

            function ee(t) {
                var n, r = u.$,
                    i = u.dom,
                    o, a, s, l, c, d, f, p, h;
                if (!t) return null;
                if (t.collapsed) {
                    if (!Z(t)) {
                        if (f = M(1, t), C(f.getNode())) return A(1, f.getNode(), !f.isAtEnd());
                        if (C(f.getNode(!0))) return A(1, f.getNode(!0), !1)
                    }
                    return null
                }
                return s = t.startContainer, l = t.startOffset, c = t.endOffset, 3 == s.nodeType && 0 == l && C(s.parentNode) && (s = s.parentNode, l = i.nodeIndex(s), s = s.parentNode), 1 != s.nodeType ? null : (c == l + 1 && (n = s.childNodes[l]), C(n) ? (p = h = n.cloneNode(!0), d = u.fire("ObjectSelected", {
                    target: n,
                    targetClone: p
                }), d.isDefaultPrevented() ? null : (p = d.targetClone, o = r("#" + ue), 0 === o.length && (o = r('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", ue), o.appendTo(u.getBody())), t = u.dom.createRng(), p === h && e.ie ? (o.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(p), t.setStartAfter(o[0].firstChild.firstChild), t.setEndAfter(p)) : (o.empty().append("\xa0").append(p).append("\xa0"), t.setStart(o[0].firstChild, 1), t.setEnd(o[0].lastChild, 0)), o.css({
                    top: i.getPos(n, u.getBody()).y
                }), o[0].focus(), a = u.selection.getSel(), a.removeAllRanges(), a.addRange(t), u.$("*[data-mce-selected]").removeAttr("data-mce-selected"), n.setAttribute("data-mce-selected", 1), ce = n, re(), t)) : null)
            }

            function te() {
                ce && (ce.removeAttribute("data-mce-selected"), u.$("#" + ue).remove(), ce = null)
            }

            function ne() {
                le.destroy(), ce = null
            }

            function re() {
                le.hide()
            }
            var ie = u.getBody(),
                oe = new t(ie),
                ae = y(g, oe.next),
                se = y(g, oe.prev),
                le = new o(u.getBody(), S),
                ue = "sel-" + u.dom.uniqueId(),
                ce, de = u.$;
            return e.ceFalse && (G(), J()), {
                showBlockCaretContainer: W,
                hideFakeCaret: re,
                destroy: ne
            }
        }
        var y = f.curry,
            b = l.isContentEditableTrue,
            C = l.isContentEditableFalse,
            x = l.isElement,
            w = i.isAfterContentEditableFalse,
            E = i.isBeforeContentEditableFalse,
            N = u.getSelectedNode;
        return v
    }), r(it, [], function() {
        var e = 0,
            t = function() {
                var e = function() {
                        return Math.round(4294967295 * Math.random()).toString(36)
                    },
                    t = (new Date).getTime();
                return "s" + t.toString(36) + e() + e() + e()
            },
            n = function(n) {
                return n + e++ + t()
            };
        return {
            uuid: n
        }
    }), r(ot, [], function() {
        var e = function(e, t, n) {
            var r = e.sidebars ? e.sidebars : [];
            r.push({
                name: t,
                settings: n
            }), e.sidebars = r
        };
        return {
            add: e
        }
    }), r(at, [w, g, N, R, A, O, P, Y, J, te, ne, re, le, ue, E, f, Le, Ie, B, L, ze, d, m, c, Ue, We, Ve, Ge, rt, it, ot, Ke], function(e, n, r, i, o, a, s, l, u, c, d, f, p, h, m, g, v, y, b, C, x, w, E, N, _, S, k, T, R, A, B, D) {
        function L(e, t, i) {
            var o = this,
                a, s, l;
            a = o.documentBaseUrl = i.documentBaseURL, s = i.baseURI, l = i.defaultSettings, t = H({
                id: e,
                theme: "modern",
                delta_width: 0,
                delta_height: 0,
                popup_css: "",
                plugins: "",
                document_base_url: a,
                add_form_submit_trigger: !0,
                submit_patch: !0,
                add_unload_trigger: !0,
                convert_urls: !0,
                relative_urls: !0,
                remove_script_host: !0,
                object_resizing: !0,
                doctype: "<!DOCTYPE html>",
                visual: !0,
                font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                forced_root_block: "p",
                hidden_input: !0,
                padd_empty_editor: !0,
                render_ui: !0,
                indentation: "30px",
                inline_styles: !0,
                convert_fonts_to_spans: !0,
                indent: "simple",
                indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                validate: !0,
                entity_encoding: "named",
                url_converter: o.convertURL,
                url_converter_scope: o,
                ie7_compat: !0
            }, l, t), l && l.external_plugins && t.external_plugins && (t.external_plugins = H({}, l.external_plugins, t.external_plugins)), o.settings = t, r.language = t.language || "en", r.languageLoad = t.language_load, r.baseURL = i.baseURL, o.id = t.id = e, o.setDirty(!1), o.plugins = {}, o.documentBaseURI = new h(t.document_base_url || a, {
                base_uri: s
            }), o.baseURI = s, o.contentCSS = [], o.contentStyles = [], o.shortcuts = new k(o), o.loadedCSS = {}, o.editorCommands = new p(o), o.suffix = i.suffix, o.editorManager = i, o.inline = t.inline, o.settings.content_editable = o.inline, t.cache_suffix && (w.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")), t.override_viewport === !1 && (w.overrideViewPort = !1), i.fire("SetupEditor", o), o.execCallback("setup", o), o.$ = n.overrideDefaults(function() {
                return {
                    context: o.inline ? o.getBody() : o.getDoc(),
                    element: o.getBody()
                }
            })
        }
        var M = e.DOM,
            P = r.ThemeManager,
            O = r.PluginManager,
            H = E.extend,
            I = E.each,
            F = E.explode,
            z = E.inArray,
            U = E.trim,
            W = E.resolve,
            V = g.Event,
            $ = w.gecko,
            q = w.ie;
        return L.prototype = {
            render: function() {
                function e() {
                    M.unbind(window, "ready", e), n.render()
                }

                function t() {
                    var e = m.ScriptLoader;
                    if (r.language && "en" != r.language && !r.language_url && (r.language_url = n.editorManager.baseURL + "/langs/" + r.language + ".js"), r.language_url && e.add(r.language_url), r.theme && "function" != typeof r.theme && "-" != r.theme.charAt(0) && !P.urls[r.theme]) {
                        var t = r.theme_url;
                        t = t ? n.documentBaseURI.toAbsolute(t) : "themes/" + r.theme + "/theme" + o + ".js", P.load(r.theme, t)
                    }
                    E.isArray(r.plugins) && (r.plugins = r.plugins.join(" ")), I(r.external_plugins, function(e, t) {
                        O.load(t, e), r.plugins += " " + t
                    }), I(r.plugins.split(/[ ,]/), function(e) {
                        if (e = U(e), e && !O.urls[e])
                            if ("-" == e.charAt(0)) {
                                e = e.substr(1, e.length);
                                var t = O.dependencies(e);
                                I(t, function(e) {
                                    var t = {
                                        prefix: "plugins/",
                                        resource: e,
                                        suffix: "/plugin" + o + ".js"
                                    };
                                    e = O.createUrl(t, e), O.load(e.resource, e)
                                })
                            } else O.load(e, {
                                prefix: "plugins/",
                                resource: e,
                                suffix: "/plugin" + o + ".js"
                            })
                    }), e.loadQueue(function() {
                        n.removed || n.init()
                    }, n, function(e) {
                        D.pluginLoadError(n, e[0]), n.removed || n.init()
                    })
                }
                var n = this,
                    r = n.settings,
                    i = n.id,
                    o = n.suffix;
                if (!V.domLoaded) return void M.bind(window, "ready", e);
                if (n.getElement() && w.contentEditable) {
                    r.inline ? n.inline = !0 : (n.orgVisibility = n.getElement().style.visibility, n.getElement().style.visibility = "hidden");
                    var a = n.getElement().form || M.getParent(i, "form");
                    a && (n.formElement = a, r.hidden_input && !/TEXTAREA|INPUT/i.test(n.getElement().nodeName) && (M.insertAfter(M.create("input", {
                        type: "hidden",
                        name: i
                    }), i), n.hasHiddenInput = !0), n.formEventDelegate = function(e) {
                        n.fire(e.type, e)
                    }, M.bind(a, "submit reset", n.formEventDelegate), n.on("reset", function() {
                        n.setContent(n.startContent, {
                            format: "raw"
                        })
                    }), !r.submit_patch || a.submit.nodeType || a.submit.length || a._mceOldSubmit || (a._mceOldSubmit = a.submit, a.submit = function() {
                        return n.editorManager.triggerSave(), n.setDirty(!1), a._mceOldSubmit(a)
                    })), n.windowManager = new v(n), n.notificationManager = new y(n), "xml" == r.encoding && n.on("GetContent", function(e) {
                        e.save && (e.content = M.encode(e.content))
                    }), r.add_form_submit_trigger && n.on("submit", function() {
                        n.initialized && n.save()
                    }), r.add_unload_trigger && (n._beforeUnload = function() {
                        !n.initialized || n.destroyed || n.isHidden() || n.save({
                            format: "raw",
                            no_events: !0,
                            set_dirty: !1
                        })
                    }, n.editorManager.on("BeforeUnload", n._beforeUnload)), n.editorManager.add(n), t()
                }
            },
            init: function() {
                function e(n) {
                    var r = O.get(n),
                        i, o;
                    if (i = O.urls[n] || t.documentBaseUrl.replace(/\/$/, ""), n = U(n), r && z(m, n) === -1) {
                        if (I(O.dependencies(n), function(t) {
                                e(t)
                            }), t.plugins[n]) return;
                        o = new r(t, i, t.$), t.plugins[n] = o, o.init && (o.init(t, i), m.push(n))
                    }
                }
                var t = this,
                    n = t.settings,
                    r = t.getElement(),
                    i, o, a, s, l, u, c, d, f, p, h, m = [];
                if (t.rtl = n.rtl_ui || t.editorManager.i18n.rtl, t.editorManager.i18n.setCode(n.language), n.aria_label = n.aria_label || M.getAttrib(r, "aria-label", t.getLang("aria.rich_text_area")), t.fire("ScriptsLoaded"), n.theme && ("function" != typeof n.theme ? (n.theme = n.theme.replace(/-/, ""), u = P.get(n.theme), t.theme = new u(t, P.urls[n.theme]), t.theme.init && t.theme.init(t, P.urls[n.theme] || t.documentBaseUrl.replace(/\/$/, ""), t.$)) : t.theme = n.theme), I(n.plugins.replace(/\-/g, "").split(/[ ,]/), e), n.render_ui && t.theme && (t.orgDisplay = r.style.display, "function" != typeof n.theme ? (i = n.width || r.style.width || r.offsetWidth, o = n.height || r.style.height || r.offsetHeight, a = n.min_height || 100, p = /^[0-9\.]+(|px)$/i, p.test("" + i) && (i = Math.max(parseInt(i, 10), 100)), p.test("" + o) && (o = Math.max(parseInt(o, 10), a)), l = t.theme.renderUI({
                        targetNode: r,
                        width: i,
                        height: o,
                        deltaWidth: n.delta_width,
                        deltaHeight: n.delta_height
                    }), n.content_editable || (o = (l.iframeHeight || o) + ("number" == typeof o ? l.deltaHeight || 0 : ""), o < a && (o = a))) : (l = n.theme(t, r), l.editorContainer.nodeType && (l.editorContainer.id = l.editorContainer.id || t.id + "_parent"), l.iframeContainer.nodeType && (l.iframeContainer.id = l.iframeContainer.id || t.id + "_iframecontainer"), o = l.iframeHeight || r.offsetHeight), t.editorContainer = l.editorContainer), n.content_css && I(F(n.content_css), function(e) {
                        t.contentCSS.push(t.documentBaseURI.toAbsolute(e))
                    }), n.content_style && t.contentStyles.push(n.content_style), n.content_editable) return r = s = l = null, t.initContentBody();
                if (t.iframeHTML = n.doctype + "<html><head>", n.document_base_url != t.documentBaseUrl && (t.iframeHTML += '<base href="' + t.documentBaseURI.getURI() + '" />'), !w.caretAfter && n.ie7_compat && (t.iframeHTML += '<meta http-equiv="X-UA-Compatible" content="IE=7" />'), t.iframeHTML += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', !/#$/.test(document.location.href))
                    for (h = 0; h < t.contentCSS.length; h++) {
                        var g = t.contentCSS[h];
                        t.iframeHTML += '<link type="text/css" rel="stylesheet" href="' + E._addCacheSuffix(g) + '" />', t.loadedCSS[g] = !0
                    }
                d = n.body_id || "tinymce", d.indexOf("=") != -1 && (d = t.getParam("body_id", "", "hash"), d = d[t.id] || d), f = n.body_class || "", f.indexOf("=") != -1 && (f = t.getParam("body_class", "", "hash"), f = f[t.id] || ""), n.content_security_policy && (t.iframeHTML += '<meta http-equiv="Content-Security-Policy" content="' + n.content_security_policy + '" />'), t.iframeHTML += '</head><body id="' + d + '" class="mce-content-body ' + f + '" data-id="' + t.id + '"><br></body></html>';
                var v = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + t.id + '");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';
                document.domain != location.hostname && w.ie && w.ie < 12 && (c = v);
                var y = M.create("iframe", {
                    id: t.id + "_ifr",
                    frameBorder: "0",
                    allowTransparency: "true",
                    title: t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
                    style: {
                        width: "100%",
                        height: o,
                        display: "block"
                    }
                });
                if (y.onload = function() {
                        y.onload = null, t.fire("load")
                    }, M.setAttrib(y, "src", c || 'javascript:""'), t.contentAreaContainer = l.iframeContainer, t.iframeElement = y, s = M.add(l.iframeContainer, y), q) try {
                    t.getDoc()
                } catch (b) {
                    s.src = c = v
                }
                l.editorContainer && (M.get(l.editorContainer).style.display = t.orgDisplay, t.hidden = M.isHidden(l.editorContainer)), t.getElement().style.display = "none", M.setAttrib(t.id, "aria-hidden", !0), c || t.initContentBody(), r = s = l = null
            },
            initContentBody: function(t) {
                var n = this,
                    r = n.settings,
                    s = n.getElement(),
                    p = n.getDoc(),
                    h, m;
                r.inline || (n.getElement().style.visibility = n.orgVisibility), t || r.content_editable || (p.open(), p.write(n.iframeHTML), p.close()), r.content_editable && (n.on("remove", function() {
                    var e = this.getBody();
                    M.removeClass(e, "mce-content-body"), M.removeClass(e, "mce-edit-focus"), M.setAttrib(e, "contentEditable", null)
                }), M.addClass(s, "mce-content-body"), n.contentDocument = p = r.content_document || document, n.contentWindow = r.content_window || window, n.bodyElement = s, r.content_document = r.content_window = null, r.root_name = s.nodeName.toLowerCase()), h = n.getBody(), h.disabled = !0, n.readonly = r.readonly, n.readonly || (n.inline && "static" == M.getStyle(h, "position", !0) && (h.style.position = "relative"), h.contentEditable = n.getParam("content_editable_state", !0)), h.disabled = !1, n.editorUpload = new T(n), n.schema = new b(r), n.dom = new e(p, {
                    keep_values: !0,
                    url_converter: n.convertURL,
                    url_converter_scope: n,
                    hex_colors: r.force_hex_style_colors,
                    class_filter: r.class_filter,
                    update_styles: !0,
                    root_element: n.inline ? n.getBody() : null,
                    collect: r.content_editable,
                    schema: n.schema,
                    onSetAttrib: function(e) {
                        n.fire("SetAttrib", e)
                    }
                }), n.parser = new C(r, n.schema), n.parser.addAttributeFilter("src,href,style,tabindex", function(e, t) {
                    for (var r = e.length, i, o = n.dom, a, s; r--;)
                        if (i = e[r], a = i.attr(t), s = "data-mce-" + t, !i.attributes.map[s]) {
                            if (0 === a.indexOf("data:") || 0 === a.indexOf("blob:")) continue;
                            "style" === t ? (a = o.serializeStyle(o.parseStyle(a), i.name), a.length || (a = null), i.attr(s, a), i.attr(t, a)) : "tabindex" === t ? (i.attr(s, a), i.attr(t, null)) : i.attr(s, n.convertURL(a, t, i.name));
                        }
                }), n.parser.addNodeFilter("script", function(e) {
                    for (var t = e.length, n, r; t--;) n = e[t], r = n.attr("type") || "no/type", 0 !== r.indexOf("mce-") && n.attr("type", "mce-" + r)
                }), n.parser.addNodeFilter("#cdata", function(e) {
                    for (var t = e.length, n; t--;) n = e[t], n.type = 8, n.name = "#comment", n.value = "[CDATA[" + n.value + "]]"
                }), n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function(e) {
                    for (var t = e.length, r, i = n.schema.getNonEmptyElements(); t--;) r = e[t], r.isEmpty(i) && 0 === r.getAll("br").length && (r.append(new o("br", 1)).shortEnded = !0)
                }), n.serializer = new a(r, n), n.selection = new l(n.dom, n.getWin(), n.serializer, n), n.formatter = new u(n), n.undoManager = new c(n), n.forceBlocks = new f(n), n.enterKey = new d(n), n._nodeChangeDispatcher = new i(n), n._selectionOverrides = new R(n), n.fire("PreInit"), r.browser_spellcheck || r.gecko_spellcheck || (p.body.spellcheck = !1, M.setAttrib(h, "spellcheck", "false")), n.quirks = new x(n), n.fire("PostRender"), r.directionality && (h.dir = r.directionality), r.nowrap && (h.style.whiteSpace = "nowrap"), r.protect && n.on("BeforeSetContent", function(e) {
                    I(r.protect, function(t) {
                        e.content = e.content.replace(t, function(e) {
                            return "<!--mce:protected " + escape(e) + "-->"
                        })
                    })
                }), n.on("SetContent", function() {
                    n.addVisual(n.getBody())
                }), r.padd_empty_editor && n.on("PostProcess", function(e) {
                    e.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/, "")
                }), n.load({
                    initial: !0,
                    format: "html"
                }), n.startContent = n.getContent({
                    format: "raw"
                }), n.initialized = !0, n.bindPendingEventDelegates(), n.fire("init"), n.focus(!0), n.nodeChanged({
                    initial: !0
                }), n.execCallback("init_instance_callback", n), n.on("compositionstart compositionend", function(e) {
                    n.composing = "compositionstart" === e.type
                }), n.contentStyles.length > 0 && (m = "", I(n.contentStyles, function(e) {
                    m += e + "\r\n"
                }), n.dom.addStyle(m)), I(n.contentCSS, function(e) {
                    n.loadedCSS[e] || (n.dom.loadCSS(e), n.loadedCSS[e] = !0)
                }), r.auto_focus && N.setEditorTimeout(n, function() {
                    var e;
                    e = r.auto_focus === !0 ? n : n.editorManager.get(r.auto_focus), e.destroyed || e.focus()
                }, 100), s = p = h = null
            },
            focus: function(e) {
                function t(e) {
                    return n.dom.getParent(e, function(e) {
                        return "true" === n.dom.getContentEditable(e)
                    })
                }
                var n = this,
                    r = n.selection,
                    i = n.settings.content_editable,
                    o, a, s = n.getDoc(),
                    l = n.getBody(),
                    u;
                if (!e) {
                    if (o = r.getRng(), o.item && (a = o.item(0)), n.quirks.refreshContentEditable(), u = t(r.getNode()), n.$.contains(l, u)) return u.focus(), r.normalize(), void n.editorManager.setActive(n);
                    if (i || (w.opera || n.getBody().focus(), n.getWin().focus()), $ || i) {
                        if (l.setActive) try {
                            l.setActive()
                        } catch (c) {
                            l.focus()
                        } else l.focus();
                        i && r.normalize()
                    }
                    a && a.ownerDocument == s && (o = s.body.createControlRange(), o.addElement(a), o.select())
                }
                n.editorManager.setActive(n)
            },
            execCallback: function(e) {
                var t = this,
                    n = t.settings[e],
                    r;
                if (n) return t.callbackLookup && (r = t.callbackLookup[e]) && (n = r.func, r = r.scope), "string" == typeof n && (r = n.replace(/\.\w+$/, ""), r = r ? W(r) : 0, n = W(n), t.callbackLookup = t.callbackLookup || {}, t.callbackLookup[e] = {
                    func: n,
                    scope: r
                }), n.apply(r || t, Array.prototype.slice.call(arguments, 1))
            },
            translate: function(e) {
                var t = this.settings.language || "en",
                    n = this.editorManager.i18n;
                return e ? (e = n.data[t + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function(e, r) {
                    return n.data[t + "." + r] || "{#" + r + "}"
                }), this.editorManager.translate(e)) : ""
            },
            getLang: function(e, n) {
                return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (n !== t ? n : "{#" + e + "}")
            },
            getParam: function(e, t, n) {
                var r = e in this.settings ? this.settings[e] : t,
                    i;
                return "hash" === n ? (i = {}, "string" == typeof r ? I(r.indexOf("=") > 0 ? r.split(/[;,](?![^=;,]*(?:[;,]|$))/) : r.split(","), function(e) {
                    e = e.split("="), e.length > 1 ? i[U(e[0])] = U(e[1]) : i[U(e[0])] = U(e)
                }) : i = r, i) : r
            },
            nodeChanged: function(e) {
                this._nodeChangeDispatcher.nodeChanged(e)
            },
            addButton: function(e, t) {
                var n = this;
                t.cmd && (t.onclick = function() {
                    n.execCommand(t.cmd)
                }), t.text || t.icon || (t.icon = e), n.buttons = n.buttons || {}, t.tooltip = t.tooltip || t.title, n.buttons[e] = t
            },
            addSidebar: function(e, t) {
                return B.add(this, e, t)
            },
            addMenuItem: function(e, t) {
                var n = this;
                t.cmd && (t.onclick = function() {
                    n.execCommand(t.cmd)
                }), n.menuItems = n.menuItems || {}, n.menuItems[e] = t
            },
            addContextToolbar: function(e, t) {
                var n = this,
                    r;
                n.contextToolbars = n.contextToolbars || [], "string" == typeof e && (r = e, e = function(e) {
                    return n.dom.is(e, r)
                }), n.contextToolbars.push({
                    id: A.uuid("mcet"),
                    predicate: e,
                    items: t
                })
            },
            addCommand: function(e, t, n) {
                this.editorCommands.addCommand(e, t, n)
            },
            addQueryStateHandler: function(e, t, n) {
                this.editorCommands.addQueryStateHandler(e, t, n)
            },
            addQueryValueHandler: function(e, t, n) {
                this.editorCommands.addQueryValueHandler(e, t, n)
            },
            addShortcut: function(e, t, n, r) {
                this.shortcuts.add(e, t, n, r)
            },
            execCommand: function(e, t, n, r) {
                return this.editorCommands.execCommand(e, t, n, r)
            },
            queryCommandState: function(e) {
                return this.editorCommands.queryCommandState(e)
            },
            queryCommandValue: function(e) {
                return this.editorCommands.queryCommandValue(e)
            },
            queryCommandSupported: function(e) {
                return this.editorCommands.queryCommandSupported(e)
            },
            show: function() {
                var e = this;
                e.hidden && (e.hidden = !1, e.inline ? e.getBody().contentEditable = !0 : (M.show(e.getContainer()), M.hide(e.id)), e.load(), e.fire("show"))
            },
            hide: function() {
                var e = this,
                    t = e.getDoc();
                e.hidden || (q && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = !1, e == e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (M.hide(e.getContainer()), M.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"))
            },
            isHidden: function() {
                return !!this.hidden
            },
            setProgressState: function(e, t) {
                this.fire("ProgressState", {
                    state: e,
                    time: t
                })
            },
            load: function(e) {
                var n = this,
                    r = n.getElement(),
                    i;
                if (r) return e = e || {}, e.load = !0, i = n.setContent(r.value !== t ? r.value : r.innerHTML, e), e.element = r, e.no_events || n.fire("LoadContent", e), e.element = r = null, i
            },
            save: function(e) {
                var t = this,
                    n = t.getElement(),
                    r, i;
                if (n && t.initialized) return e = e || {}, e.save = !0, e.element = n, r = e.content = t.getContent(e), e.no_events || t.fire("SaveContent", e), "raw" == e.format && t.fire("RawSaveContent", e), r = e.content, /TEXTAREA|INPUT/i.test(n.nodeName) ? n.value = r : (t.inline || (n.innerHTML = r), (i = M.getParent(t.id, "form")) && I(i.elements, function(e) {
                    if (e.name == t.id) return e.value = r, !1
                })), e.element = n = null, e.set_dirty !== !1 && t.setDirty(!1), r
            },
            setContent: function(e, t) {
                var n = this,
                    r = n.getBody(),
                    i, o;
                return t = t || {}, t.format = t.format || "html", t.set = !0, t.content = e, t.no_events || n.fire("BeforeSetContent", t), e = t.content, 0 === e.length || /^\s+$/.test(e) ? (o = q && q < 11 ? "" : '<br data-mce-bogus="1">', "TABLE" == r.nodeName ? e = "<tr><td>" + o + "</td></tr>" : /^(UL|OL)$/.test(r.nodeName) && (e = "<li>" + o + "</li>"), i = n.settings.forced_root_block, i && n.schema.isValidChild(r.nodeName.toLowerCase(), i.toLowerCase()) ? (e = o, e = n.dom.createHTML(i, n.settings.forced_root_block_attrs, e)) : q || e || (e = '<br data-mce-bogus="1">'), n.dom.setHTML(r, e), n.fire("SetContent", t)) : ("raw" !== t.format && (e = new s({
                    validate: n.validate
                }, n.schema).serialize(n.parser.parse(e, {
                    isRootContent: !0
                }))), t.content = U(e), n.dom.setHTML(r, t.content), t.no_events || n.fire("SetContent", t)), t.content
            },
            getContent: function(e) {
                var t = this,
                    n, r = t.getBody();
                return e = e || {}, e.format = e.format || "html", e.get = !0, e.getInner = !0, e.no_events || t.fire("BeforeGetContent", e), n = "raw" == e.format ? E.trim(t.serializer.getTrimmedContent()) : "text" == e.format ? r.innerText || r.textContent : t.serializer.serialize(r, e), "text" != e.format ? e.content = U(n) : e.content = n, e.no_events || t.fire("GetContent", e), e.content
            },
            insertContent: function(e, t) {
                t && (e = H({
                    content: e
                }, t)), this.execCommand("mceInsertContent", !1, e)
            },
            isDirty: function() {
                return !this.isNotDirty
            },
            setDirty: function(e) {
                var t = !this.isNotDirty;
                this.isNotDirty = !e, e && e != t && this.fire("dirty")
            },
            setMode: function(e) {
                S.setMode(this, e)
            },
            getContainer: function() {
                var e = this;
                return e.container || (e.container = M.get(e.editorContainer || e.id + "_parent")), e.container
            },
            getContentAreaContainer: function() {
                return this.contentAreaContainer
            },
            getElement: function() {
                return this.targetElm || (this.targetElm = M.get(this.id)), this.targetElm
            },
            getWin: function() {
                var e = this,
                    t;
                return e.contentWindow || (t = e.iframeElement, t && (e.contentWindow = t.contentWindow)), e.contentWindow
            },
            getDoc: function() {
                var e = this,
                    t;
                return e.contentDocument || (t = e.getWin(), t && (e.contentDocument = t.document)), e.contentDocument
            },
            getBody: function() {
                var e = this.getDoc();
                return this.bodyElement || (e ? e.body : null)
            },
            convertURL: function(e, t, n) {
                var r = this,
                    i = r.settings;
                return i.urlconverter_callback ? r.execCallback("urlconverter_callback", e, n, !0, t) : !i.convert_urls || n && "LINK" == n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : i.relative_urls ? r.documentBaseURI.toRelative(e) : e = r.documentBaseURI.toAbsolute(e, i.remove_script_host)
            },
            addVisual: function(e) {
                var n = this,
                    r = n.settings,
                    i = n.dom,
                    o;
                e = e || n.getBody(), n.hasVisual === t && (n.hasVisual = r.visual), I(i.select("table,a", e), function(e) {
                    var t;
                    switch (e.nodeName) {
                        case "TABLE":
                            return o = r.visual_table_class || "mce-item-table", t = i.getAttrib(e, "border"), void(t && "0" != t || !n.hasVisual ? i.removeClass(e, o) : i.addClass(e, o));
                        case "A":
                            return void(i.getAttrib(e, "href", !1) || (t = i.getAttrib(e, "name") || e.id, o = r.visual_anchor_class || "mce-item-anchor", t && n.hasVisual ? i.addClass(e, o) : i.removeClass(e, o)))
                    }
                }), n.fire("VisualAid", {
                    element: e,
                    hasVisual: n.hasVisual
                })
            },
            remove: function() {
                var e = this;
                e.removed || (e.save(), e.removed = 1, e.unbindAllNativeEvents(), e.hasHiddenInput && M.remove(e.getElement().nextSibling), e.inline || (q && q < 10 && e.getDoc().execCommand("SelectAll", !1, null), M.setStyle(e.id, "display", e.orgDisplay), e.getBody().onload = null), e.fire("remove"), e.editorManager.remove(e), M.remove(e.getContainer()), e._selectionOverrides.destroy(), e.editorUpload.destroy(), e.destroy())
            },
            destroy: function(e) {
                var t = this,
                    n;
                if (!t.destroyed) {
                    if (!e && !t.removed) return void t.remove();
                    e || (t.editorManager.off("beforeunload", t._beforeUnload), t.theme && t.theme.destroy && t.theme.destroy(), t.selection.destroy(), t.dom.destroy()), n = t.formElement, n && (n._mceOldSubmit && (n.submit = n._mceOldSubmit, n._mceOldSubmit = null), M.unbind(n, "submit reset", t.formEventDelegate)), t.contentAreaContainer = t.formElement = t.container = t.editorContainer = null, t.bodyElement = t.contentDocument = t.contentWindow = null, t.iframeElement = t.targetElm = null, t.selection && (t.selection = t.selection.win = t.selection.dom = t.selection.dom.doc = null), t.destroyed = 1
                }
            },
            uploadImages: function(e) {
                return this.editorUpload.uploadImages(e)
            },
            _scanForImages: function() {
                return this.editorUpload.scanForImages()
            }
        }, H(L.prototype, _), L
    }), r(st, [m], function(e) {
        var t = {},
            n = "en";
        return {
            setCode: function(e) {
                e && (n = e, this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir)
            },
            getCode: function() {
                return n
            },
            rtl: !1,
            add: function(e, n) {
                var r = t[e];
                r || (t[e] = r = {});
                for (var i in n) r[i] = n[i];
                this.setCode(e)
            },
            translate: function(r) {
                function i(t) {
                    return e.is(t, "function") ? Object.prototype.toString.call(t) : o(t) ? "" : "" + t
                }

                function o(t) {
                    return "" === t || null === t || e.is(t, "undefined")
                }

                function a(t) {
                    return t = i(t), e.hasOwn(s, t) ? i(s[t]) : t
                }
                var s = t[n] || {};
                if (o(r)) return "";
                if (e.is(r, "object") && e.hasOwn(r, "raw")) return i(r.raw);
                if (e.is(r, "array")) {
                    var l = r.slice(1);
                    r = a(r[0]).replace(/\{([0-9]+)\}/g, function(t, n) {
                        return e.hasOwn(l, n) ? i(l[n]) : t
                    })
                }
                return a(r).replace(/{context:\w+}$/, "")
            },
            data: t
        }
    }), r(lt, [w, c, d], function(e, t, n) {
        function r(e) {
            function r() {
                try {
                    return document.activeElement
                } catch (e) {
                    return document.body
                }
            }

            function u(e, t) {
                if (t && t.startContainer) {
                    if (!e.isChildOf(t.startContainer, e.getRoot()) || !e.isChildOf(t.endContainer, e.getRoot())) return;
                    return {
                        startContainer: t.startContainer,
                        startOffset: t.startOffset,
                        endContainer: t.endContainer,
                        endOffset: t.endOffset
                    }
                }
                return t
            }

            function c(e, t) {
                var n;
                return t.startContainer ? (n = e.getDoc().createRange(), n.setStart(t.startContainer, t.startOffset), n.setEnd(t.endContainer, t.endOffset)) : n = t, n
            }

            function d(d) {
                var f = d.editor;
                f.on("init", function() {
                    (f.inline || n.ie) && ("onbeforedeactivate" in document && n.ie < 9 ? f.dom.bind(f.getBody(), "beforedeactivate", function(e) {
                        if (e.target == f.getBody()) try {
                            f.lastRng = f.selection.getRng()
                        } catch (t) {}
                    }) : f.on("nodechange mouseup keyup", function(e) {
                        var t = r();
                        "nodechange" == e.type && e.selectionChange || (t && t.id == f.id + "_ifr" && (t = f.getBody()), f.dom.isChildOf(t, f.getBody()) && (f.lastRng = f.selection.getRng()))
                    }), n.webkit && !i && (i = function() {
                        var t = e.activeEditor;
                        if (t && t.selection) {
                            var n = t.selection.getRng();
                            n && !n.collapsed && (f.lastRng = n)
                        }
                    }, s.bind(document, "selectionchange", i)))
                }), f.on("setcontent", function() {
                    f.lastRng = null
                }), f.on("mousedown", function() {
                    f.selection.lastFocusBookmark = null
                }), f.on("focusin", function() {
                    var t = e.focusedEditor,
                        n;
                    f.selection.lastFocusBookmark && (n = c(f, f.selection.lastFocusBookmark), f.selection.lastFocusBookmark = null, f.selection.setRng(n)), t != f && (t && t.fire("blur", {
                        focusedEditor: f
                    }), e.setActive(f), e.focusedEditor = f, f.fire("focus", {
                        blurredEditor: t
                    }), f.focus(!0)), f.lastRng = null
                }), f.on("focusout", function() {
                    t.setEditorTimeout(f, function() {
                        var t = e.focusedEditor;
                        l(f, r()) || t != f || (f.fire("blur", {
                            focusedEditor: null
                        }), e.focusedEditor = null, f.selection && (f.selection.lastFocusBookmark = null))
                    })
                }), o || (o = function(t) {
                    var n = e.activeEditor,
                        r;
                    r = t.target, n && r.ownerDocument == document && (n.selection && r != n.getBody() && (n.selection.lastFocusBookmark = u(n.dom, n.lastRng)), r == document.body || l(n, r) || e.focusedEditor != n || (n.fire("blur", {
                        focusedEditor: null
                    }), e.focusedEditor = null))
                }, s.bind(document, "focusin", o)), f.inline && !a && (a = function(t) {
                    var n = e.activeEditor,
                        r = n.dom;
                    if (n.inline && r && !r.isChildOf(t.target, n.getBody())) {
                        var i = n.selection.getRng();
                        i.collapsed || (n.lastRng = i)
                    }
                }, s.bind(document, "mouseup", a))
            }

            function f(t) {
                e.focusedEditor == t.editor && (e.focusedEditor = null), e.activeEditor || (s.unbind(document, "selectionchange", i), s.unbind(document, "focusin", o), s.unbind(document, "mouseup", a), i = o = a = null)
            }
            e.on("AddEditor", d), e.on("RemoveEditor", f)
        }
        var i, o, a, s = e.DOM,
            l = function(e, t) {
                var n = e ? e.settings.custom_ui_selector : "",
                    i = s.getParent(t, function(t) {
                        return r.isEditorUIElement(t) || !!n && e.dom.is(t, n)
                    });
                return null !== i
            };
        return r.isEditorUIElement = function(e) {
            return e.className.toString().indexOf("mce-") !== -1
        }, r._isUIElement = l, r
    }), r(ut, [at, g, w, ue, d, m, u, pe, st, lt, N], function(e, t, n, r, i, o, a, s, l, u, c) {
        function d(e) {
            v(x.editors, function(t) {
                "scroll" === e.type ? t.fire("ScrollWindow", e) : t.fire("ResizeWindow", e)
            })
        }

        function f(e, n) {
            n !== w && (n ? t(window).on("resize scroll", d) : t(window).off("resize scroll", d), w = n)
        }

        function p(e) {
            var t = x.editors,
                n;
            delete t[e.id];
            for (var r = 0; r < t.length; r++)
                if (t[r] == e) {
                    t.splice(r, 1), n = !0;
                    break
                } return x.activeEditor == e && (x.activeEditor = t[0]), x.focusedEditor == e && (x.focusedEditor = null), n
        }

        function h(e) {
            return e && e.initialized && !(e.getContainer() || e.getBody()).parentNode && (p(e), e.unbindAllNativeEvents(), e.destroy(!0), e.removed = !0, e = null), e
        }
        var m = n.DOM,
            g = o.explode,
            v = o.each,
            y = o.extend,
            b = 0,
            C, x, w = !1;
        return x = {
            $: t,
            majorVersion: "4",
            minorVersion: "5.7",
            releaseDate: "2017-04-25",
            editors: [],
            i18n: l,
            activeEditor: null,
            setup: function() {
                var e = this,
                    t, n, i = "",
                    o, a;
                if (n = r.getDocumentBaseUrl(document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(n) && (n = n.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(n) || (n += "/")), o = window.tinymce || window.tinyMCEPreInit) t = o.base || o.baseURL, i = o.suffix;
                else {
                    for (var s = document.getElementsByTagName("script"), l = 0; l < s.length; l++) {
                        a = s[l].src;
                        var c = a.substring(a.lastIndexOf("/"));
                        if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)) {
                            c.indexOf(".min") != -1 && (i = ".min"), t = a.substring(0, a.lastIndexOf("/"));
                            break
                        }
                    }!t && document.currentScript && (a = document.currentScript.src, a.indexOf(".min") != -1 && (i = ".min"), t = a.substring(0, a.lastIndexOf("/")))
                }
                e.baseURL = new r(n).toAbsolute(t), e.documentBaseURL = n, e.baseURI = new r(e.baseURL), e.suffix = i, e.focusManager = new u(e)
            },
            overrideDefaults: function(e) {
                var t, n;
                t = e.base_url, t && (this.baseURL = new r(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")), this.baseURI = new r(this.baseURL)), n = e.suffix, e.suffix && (this.suffix = n), this.defaultSettings = e;
                var i = e.plugin_base_urls;
                for (var o in i) c.PluginManager.urls[o] = i[o]
            },
            init: function(n) {
                function r(e, t) {
                    return e.inline && t.tagName.toLowerCase() in C
                }

                function i(e, t) {
                    window.console && !window.test && window.console.log(e, t)
                }

                function s(e) {
                    var t = e.id;
                    return t || (t = e.name, t = t && !m.get(t) ? e.name : m.uniqueId(), e.setAttribute("id", t)), t
                }

                function l(e) {
                    var t = n[e];
                    if (t) return t.apply(f, Array.prototype.slice.call(arguments, 2))
                }

                function u(e, t) {
                    return t.constructor === RegExp ? t.test(e.className) : m.hasClass(e, t)
                }

                function c(e) {
                    var t, n = [];
                    if (e.types) return v(e.types, function(e) {
                        n = n.concat(m.select(e.selector))
                    }), n;
                    if (e.selector) return m.select(e.selector);
                    if (e.target) return [e.target];
                    switch (e.mode) {
                        case "exact":
                            t = e.elements || "", t.length > 0 && v(g(t), function(e) {
                                var t;
                                (t = m.get(e)) ? n.push(t): v(document.forms, function(t) {
                                    v(t.elements, function(t) {
                                        t.name === e && (e = "mce_editor_" + b++, m.setAttrib(t, "id", e), n.push(t))
                                    })
                                })
                            });
                            break;
                        case "textareas":
                        case "specific_textareas":
                            v(m.select("textarea"), function(t) {
                                e.editor_deselector && u(t, e.editor_deselector) || e.editor_selector && !u(t, e.editor_selector) || n.push(t)
                            })
                    }
                    return n
                }

                function d() {
                    function a(t, n, r) {
                        var i = new e(t, n, f);
                        p.push(i), i.on("init", function() {
                            ++u === g.length && x(p)
                        }), i.targetElm = i.targetElm || r, i.render()
                    }
                    var u = 0,
                        p = [],
                        g;
                    return m.unbind(window, "ready", d), l("onpageload"), g = t.unique(c(n)), n.types ? void v(n.types, function(e) {
                        o.each(g, function(t) {
                            return !m.is(t, e.selector) || (a(s(t), y({}, n, e), t), !1)
                        })
                    }) : (o.each(g, function(e) {
                        h(f.get(e.id))
                    }), g = o.grep(g, function(e) {
                        return !f.get(e.id)
                    }), void v(g, function(e) {
                        r(n, e) ? i("Could not initialize inline editor on invalid inline target element", e) : a(s(e), n, e)
                    }))
                }
                var f = this,
                    p, C;
                C = o.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu", " ");
                var x = function(e) {
                    p = e
                };
                return f.settings = n, m.bind(window, "ready", d), new a(function(e) {
                    p ? e(p) : x = function(t) {
                        e(t)
                    }
                })
            },
            get: function(e) {
                return arguments.length ? e in this.editors ? this.editors[e] : null : this.editors
            },
            add: function(e) {
                var t = this,
                    n = t.editors;
                return n[e.id] = e, n.push(e), f(n, !0), t.activeEditor = e, t.fire("AddEditor", {
                    editor: e
                }), C || (C = function() {
                    t.fire("BeforeUnload")
                }, m.bind(window, "beforeunload", C)), e
            },
            createEditor: function(t, n) {
                return this.add(new e(t, n, this))
            },
            remove: function(e) {
                var t = this,
                    n, r = t.editors,
                    i; {
                    if (e) return "string" == typeof e ? (e = e.selector || e, void v(m.select(e), function(e) {
                        i = r[e.id], i && t.remove(i)
                    })) : (i = e, r[i.id] ? (p(i) && t.fire("RemoveEditor", {
                        editor: i
                    }), r.length || m.unbind(window, "beforeunload", C), i.remove(), f(r, r.length > 0), i) : null);
                    for (n = r.length - 1; n >= 0; n--) t.remove(r[n])
                }
            },
            execCommand: function(t, n, r) {
                var i = this,
                    o = i.get(r);
                switch (t) {
                    case "mceAddEditor":
                        return i.get(r) || new e(r, i.settings, i).render(), !0;
                    case "mceRemoveEditor":
                        return o && o.remove(), !0;
                    case "mceToggleEditor":
                        return o ? (o.isHidden() ? o.show() : o.hide(), !0) : (i.execCommand("mceAddEditor", 0, r), !0)
                }
                return !!i.activeEditor && i.activeEditor.execCommand(t, n, r)
            },
            triggerSave: function() {
                v(this.editors, function(e) {
                    e.save()
                })
            },
            addI18n: function(e, t) {
                l.add(e, t)
            },
            translate: function(e) {
                return l.translate(e)
            },
            setActive: function(e) {
                var t = this.activeEditor;
                this.activeEditor != e && (t && t.fire("deactivate", {
                    relatedTarget: e
                }), e.fire("activate", {
                    relatedTarget: t
                })), this.activeEditor = e
            }
        }, y(x, s), x.setup(), window.tinymce = window.tinyMCE = x, x
    }), r(ct, [ut, m], function(e, t) {
        var n = t.each,
            r = t.explode;
        e.on("AddEditor", function(e) {
            var t = e.editor;
            t.on("preInit", function() {
                function e(e, t) {
                    n(t, function(t, n) {
                        t && s.setStyle(e, n, t)
                    }), s.rename(e, "span")
                }

                function i(e) {
                    s = t.dom, l.convert_fonts_to_spans && n(s.select("font,u,strike", e.node), function(e) {
                        o[e.nodeName.toLowerCase()](s, e)
                    })
                }
                var o, a, s, l = t.settings;
                l.inline_styles && (a = r(l.font_size_legacy_values), o = {
                    font: function(t, n) {
                        e(n, {
                            backgroundColor: n.style.backgroundColor,
                            color: n.color,
                            fontFamily: n.face,
                            fontSize: a[parseInt(n.size, 10) - 1]
                        })
                    },
                    u: function(n, r) {
                        "html4" === t.settings.schema && e(r, {
                            textDecoration: "underline"
                        })
                    },
                    strike: function(t, n) {
                        e(n, {
                            textDecoration: "line-through"
                        })
                    }
                }, t.on("PreProcess SetContent", i))
            })
        })
    }), r(dt, [pe, m], function(e, t) {
        var n = {
            send: function(e) {
                function r() {
                    !e.async || 4 == i.readyState || o++ > 1e4 ? (e.success && o < 1e4 && 200 == i.status ? e.success.call(e.success_scope, "" + i.responseText, i, e) : e.error && e.error.call(e.error_scope, o > 1e4 ? "TIMED_OUT" : "GENERAL", i, e), i = null) : setTimeout(r, 10)
                }
                var i, o = 0;
                if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = e.async !== !1, e.data = e.data || "", n.fire("beforeInitialize", {
                        settings: e
                    }), i = new XMLHttpRequest) {
                    if (i.overrideMimeType && i.overrideMimeType(e.content_type), i.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (i.withCredentials = !0), e.content_type && i.setRequestHeader("Content-Type", e.content_type), e.requestheaders && t.each(e.requestheaders, function(e) {
                            i.setRequestHeader(e.key, e.value)
                        }), i.setRequestHeader("X-Requested-With", "XMLHttpRequest"), i = n.fire("beforeSend", {
                            xhr: i,
                            settings: e
                        }).xhr, i.send(e.data), !e.async) return r();
                    setTimeout(r, 10)
                }
            }
        };
        return t.extend(n, e), n
    }), r(ft, [], function() {
        function e(t, n) {
            var r, i, o, a;
            if (n = n || '"', null === t) return "null";
            if (o = typeof t, "string" == o) return i = "\bb\tt\nn\ff\rr\"\"''\\\\", n + t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function(e, t) {
                return '"' === n && "'" === e ? e : (r = i.indexOf(t), r + 1 ? "\\" + i.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e))
            }) + n;
            if ("object" == o) {
                if (t.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(t)) {
                    for (r = 0, i = "["; r < t.length; r++) i += (r > 0 ? "," : "") + e(t[r], n);
                    return i + "]"
                }
                i = "{";
                for (a in t) t.hasOwnProperty(a) && (i += "function" != typeof t[a] ? (i.length > 1 ? "," + n : n) + a + n + ":" + e(t[a], n) : "");
                return i + "}"
            }
            return "" + t
        }
        return {
            serialize: e,
            parse: function(e) {
                try {
                    return window[String.fromCharCode(101) + "val"]("(" + e + ")")
                } catch (t) {}
            }
        }
    }), r(pt, [ft, dt, m], function(e, t, n) {
        function r(e) {
            this.settings = i({}, e), this.count = 0
        }
        var i = n.extend;
        return r.sendRPC = function(e) {
            return (new r).send(e)
        }, r.prototype = {
            send: function(n) {
                var r = n.error,
                    o = n.success;
                n = i(this.settings, n), n.success = function(t, i) {
                    t = e.parse(t), "undefined" == typeof t && (t = {
                        error: "JSON Parse error."
                    }), t.error ? r.call(n.error_scope || n.scope, t.error, i) : o.call(n.success_scope || n.scope, t.result)
                }, n.error = function(e, t) {
                    r && r.call(n.error_scope || n.scope, e, t)
                }, n.data = e.serialize({
                    id: n.id || "c" + this.count++,
                    method: n.method,
                    params: n.params
                }), n.content_type = "application/json", t.send(n)
            }
        }, r
    }), r(ht, [w], function(e) {
        return {
            callbacks: {},
            count: 0,
            send: function(n) {
                var r = this,
                    i = e.DOM,
                    o = n.count !== t ? n.count : r.count,
                    a = "tinymce_jsonp_" + o;
                r.callbacks[o] = function(e) {
                    i.remove(a), delete r.callbacks[o], n.callback(e)
                }, i.add(i.doc.body, "script", {
                    id: a,
                    src: n.url,
                    type: "text/javascript"
                }), r.count++
            }
        }
    }), r(mt, [], function() {
        function e() {
            s = [];
            for (var e in a) s.push(e);
            i.length = s.length
        }

        function n() {
            function n(e) {
                var n, r;
                return r = e !== t ? c + e : i.indexOf(",", c), r === -1 || r > i.length ? null : (n = i.substring(c, r), c = r + 1, n)
            }
            var r, i, s, c = 0;
            if (a = {}, u) {
                o.load(l), i = o.getAttribute(l) || "";
                do {
                    var d = n();
                    if (null === d) break;
                    if (r = n(parseInt(d, 32) || 0), null !== r) {
                        if (d = n(), null === d) break;
                        s = n(parseInt(d, 32) || 0), r && (a[r] = s)
                    }
                } while (null !== r);
                e()
            }
        }

        function r() {
            var t, n = "";
            if (u) {
                for (var r in a) t = a[r], n += (n ? "," : "") + r.length.toString(32) + "," + r + "," + t.length.toString(32) + "," + t;
                o.setAttribute(l, n);
                try {
                    o.save(l)
                } catch (i) {}
                e()
            }
        }
        var i, o, a, s, l, u;
        try {
            if (window.localStorage) return localStorage
        } catch (c) {}
        return l = "tinymce", o = document.documentElement, u = !!o.addBehavior, u && o.addBehavior("#default#userData"), i = {
            key: function(e) {
                return s[e]
            },
            getItem: function(e) {
                return e in a ? a[e] : null
            },
            setItem: function(e, t) {
                a[e] = "" + t, r()
            },
            removeItem: function(e) {
                delete a[e], r()
            },
            clear: function() {
                a = {}, r()
            }
        }, n(), i
    }), r(gt, [w, f, E, N, m, d], function(e, t, n, r, i, o) {
        var a = window.tinymce;
        return a.DOM = e.DOM, a.ScriptLoader = n.ScriptLoader, a.PluginManager = r.PluginManager, a.ThemeManager = r.ThemeManager, a.dom = a.dom || {}, a.dom.Event = t.Event, i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "), function(e) {
            a[e] = i[e]
        }), i.each("isOpera isWebKit isIE isGecko isMac".split(" "), function(e) {
            a[e] = o[e.substr(2).toLowerCase()]
        }), {}
    }), r(vt, [ce, m], function(e, t) {
        return e.extend({
            Defaults: {
                firstControlClass: "first",
                lastControlClass: "last"
            },
            init: function(e) {
                this.settings = t.extend({}, this.Defaults, e)
            },
            preRender: function(e) {
                e.bodyClasses.add(this.settings.containerClass)
            },
            applyClasses: function(e) {
                var t = this,
                    n = t.settings,
                    r, i, o, a;
                r = n.firstControlClass, i = n.lastControlClass, e.each(function(e) {
                    e.classes.remove(r).remove(i).add(n.controlClass), e.visible() && (o || (o = e), a = e)
                }), o && o.classes.add(r), a && a.classes.add(i)
            },
            renderHtml: function(e) {
                var t = this,
                    n = "";
                return t.applyClasses(e.items()), e.items().each(function(e) {
                    n += e.renderHtml()
                }), n
            },
            recalc: function() {},
            postRender: function() {},
            isNative: function() {
                return !1
            }
        })
    }), r(yt, [vt], function(e) {
        return e.extend({
            Defaults: {
                containerClass: "abs-layout",
                controlClass: "abs-layout-item"
            },
            recalc: function(e) {
                e.items().filter(":visible").each(function(e) {
                    var t = e.settings;
                    e.layoutRect({
                        x: t.x,
                        y: t.y,
                        w: t.w,
                        h: t.h
                    }), e.recalc && e.recalc()
                })
            },
            renderHtml: function(e) {
                return '<div id="' + e._id + '-absend" class="' + e.classPrefix + 'abs-end"></div>' + this._super(e)
            }
        })
    }), r(bt, [Pe], function(e) {
        return e.extend({
            Defaults: {
                classes: "widget btn",
                role: "button"
            },
            init: function(e) {
                var t = this,
                    n;
                t._super(e), e = t.settings, n = t.settings.size, t.on("click mousedown", function(e) {
                    e.preventDefault()
                }), t.on("touchstart", function(e) {
                    t.fire("click", e), e.preventDefault()
                }), e.subtype && t.classes.add(e.subtype), n && t.classes.add("btn-" + n), e.icon && t.icon(e.icon)
            },
            icon: function(e) {
                return arguments.length ? (this.state.set("icon", e), this) : this.state.get("icon")
            },
            repaint: function() {
                var e = this.getEl().firstChild,
                    t;
                e && (t = e.style, t.width = t.height = "100%"), this._super()
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.classPrefix,
                    r = e.state.get("icon"),
                    i, o = e.state.get("text"),
                    a = "";
                return i = e.settings.image, i ? (r = "none", "string" != typeof i && (i = window.getSelection ? i[0] : i[1]), i = " style=\"background-image: url('" + i + "')\"") : i = "", o && (e.classes.add("btn-has-text"), a = '<span class="' + n + 'txt">' + e.encode(o) + "</span>"), r = r ? n + "ico " + n + "i-" + r : "", '<div id="' + t + '" class="' + e.classes + '" tabindex="-1" aria-labelledby="' + t + '"><button role="presentation" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + i + "></i>" : "") + a + "</button></div>"
            },
            bindStates: function() {
                function e(e) {
                    var i = n("span." + r, t.getEl());
                    e ? (i[0] || (n("button:first", t.getEl()).append('<span class="' + r + '"></span>'), i = n("span." + r, t.getEl())), i.html(t.encode(e))) : i.remove(), t.classes.toggle("btn-has-text", !!e)
                }
                var t = this,
                    n = t.$,
                    r = t.classPrefix + "txt";
                return t.state.on("change:text", function(t) {
                    e(t.value)
                }), t.state.on("change:icon", function(n) {
                    var r = n.value,
                        i = t.classPrefix;
                    t.settings.icon = r, r = r ? i + "ico " + i + "i-" + t.settings.icon : "";
                    var o = t.getEl().firstChild,
                        a = o.getElementsByTagName("i")[0];
                    r ? (a && a == o.firstChild || (a = document.createElement("i"), o.insertBefore(a, o.firstChild)), a.className = r) : a && o.removeChild(a), e(t.state.get("text"))
                }), t._super()
            }
        })
    }), r(Ct, [Ne], function(e) {
        return e.extend({
            Defaults: {
                defaultType: "button",
                role: "group"
            },
            renderHtml: function() {
                var e = this,
                    t = e._layout;
                return e.classes.add("btn-group"), e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '"><div id="' + e._id + '-body">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>"
            }
        })
    }), r(xt, [Pe], function(e) {
        return e.extend({
            Defaults: {
                classes: "checkbox",
                role: "checkbox",
                checked: !1
            },
            init: function(e) {
                var t = this;
                t._super(e), t.on("click mousedown", function(e) {
                    e.preventDefault()
                }), t.on("click", function(e) {
                    e.preventDefault(), t.disabled() || t.checked(!t.checked())
                }), t.checked(t.settings.checked)
            },
            checked: function(e) {
                return arguments.length ? (this.state.set("checked", e), this) : this.state.get("checked")
            },
            value: function(e) {
                return arguments.length ? this.checked(e) : this.checked()
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.classPrefix;
                return '<div id="' + t + '" class="' + e.classes + '" unselectable="on" aria-labelledby="' + t + '-al" tabindex="-1"><i class="' + n + "ico " + n + 'i-checkbox"></i><span id="' + t + '-al" class="' + n + 'label">' + e.encode(e.state.get("text")) + "</span></div>"
            },
            bindStates: function() {
                function e(e) {
                    t.classes.toggle("checked", e), t.aria("checked", e)
                }
                var t = this;
                return t.state.on("change:text", function(e) {
                    t.getEl("al").firstChild.data = t.translate(e.value)
                }), t.state.on("change:checked change:value", function(n) {
                    t.fire("change"), e(n.value)
                }), t.state.on("change:icon", function(e) {
                    var n = e.value,
                        r = t.classPrefix;
                    if ("undefined" == typeof n) return t.settings.icon;
                    t.settings.icon = n, n = n ? r + "ico " + r + "i-" + t.settings.icon : "";
                    var i = t.getEl().firstChild,
                        o = i.getElementsByTagName("i")[0];
                    n ? (o && o == i.firstChild || (o = document.createElement("i"), i.insertBefore(o, i.firstChild)), o.className = n) : o && i.removeChild(o)
                }), t.state.get("checked") && e(!0), t._super()
            }
        })
    }), r(wt, [Pe, we, ve, g, I, m], function(e, t, n, r, i, o) {
        return e.extend({
            init: function(e) {
                var t = this;
                t._super(e), e = t.settings, t.classes.add("combobox"), t.subinput = !0, t.ariaTarget = "inp", e.menu = e.menu || e.values, e.menu && (e.icon = "caret"), t.on("click", function(n) {
                    var i = n.target,
                        o = t.getEl();
                    if (r.contains(o, i) || i == o)
                        for (; i && i != o;) i.id && i.id.indexOf("-open") != -1 && (t.fire("action"), e.menu && (t.showMenu(), n.aria && t.menu.items()[0].focus())), i = i.parentNode
                }), t.on("keydown", function(e) {
                    var n;
                    13 == e.keyCode && "INPUT" === e.target.nodeName && (e.preventDefault(), t.parents().reverse().each(function(e) {
                        if (e.toJSON) return n = e, !1
                    }), t.fire("submit", {
                        data: n.toJSON()
                    }))
                }), t.on("keyup", function(e) {
                    if ("INPUT" == e.target.nodeName) {
                        var n = t.state.get("value"),
                            r = e.target.value;
                        r !== n && (t.state.set("value", r), t.fire("autocomplete", e))
                    }
                }), t.on("mouseover", function(e) {
                    var n = t.tooltip().moveTo(-65535);
                    if (t.statusLevel() && e.target.className.indexOf(t.classPrefix + "status") !== -1) {
                        var r = t.statusMessage() || "Ok",
                            i = n.text(r).show().testMoveRel(e.target, ["bc-tc", "bc-tl", "bc-tr"]);
                        n.classes.toggle("tooltip-n", "bc-tc" == i), n.classes.toggle("tooltip-nw", "bc-tl" == i), n.classes.toggle("tooltip-ne", "bc-tr" == i), n.moveRel(e.target, i)
                    }
                })
            },
            statusLevel: function(e) {
                return arguments.length > 0 && this.state.set("statusLevel", e), this.state.get("statusLevel")
            },
            statusMessage: function(e) {
                return arguments.length > 0 && this.state.set("statusMessage", e), this.state.get("statusMessage")
            },
            showMenu: function() {
                var e = this,
                    n = e.settings,
                    r;
                e.menu || (r = n.menu || [], r.length ? r = {
                    type: "menu",
                    items: r
                } : r.type = r.type || "menu", e.menu = t.create(r).parent(e).renderTo(e.getContainerElm()), e.fire("createmenu"), e.menu.reflow(), e.menu.on("cancel", function(t) {
                    t.control === e.menu && e.focus()
                }), e.menu.on("show hide", function(t) {
                    t.control.items().each(function(t) {
                        t.active(t.value() == e.value())
                    })
                }).fire("show"), e.menu.on("select", function(t) {
                    e.value(t.control.value())
                }), e.on("focusin", function(t) {
                    "INPUT" == t.target.tagName.toUpperCase() && e.menu.hide()
                }), e.aria("expanded", !0)), e.menu.show(), e.menu.layoutRect({
                    w: e.layoutRect().w
                }), e.menu.moveRel(e.getEl(), e.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
            },
            focus: function() {
                this.getEl("inp").focus()
            },
            repaint: function() {
                var e = this,
                    t = e.getEl(),
                    i = e.getEl("open"),
                    o = e.layoutRect(),
                    a, s, l = 0,
                    u = t.firstChild;
                e.statusLevel() && "none" !== e.statusLevel() && (l = parseInt(n.getRuntimeStyle(u, "padding-right"), 10) - parseInt(n.getRuntimeStyle(u, "padding-left"), 10)), a = i ? o.w - n.getSize(i).width - 10 : o.w - 10;
                var c = document;
                return c.all && (!c.documentMode || c.documentMode <= 8) && (s = e.layoutRect().h - 2 + "px"), r(u).css({
                    width: a - l,
                    lineHeight: s
                }), e._super(), e
            },
            postRender: function() {
                var e = this;
                return r(this.getEl("inp")).on("change", function(t) {
                    e.state.set("value", t.target.value), e.fire("change", t)
                }), e._super()
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.settings,
                    r = e.classPrefix,
                    i = e.state.get("value") || "",
                    o, a, s = "",
                    l = "",
                    u = "";
                return "spellcheck" in n && (l += ' spellcheck="' + n.spellcheck + '"'), n.maxLength && (l += ' maxlength="' + n.maxLength + '"'), n.size && (l += ' size="' + n.size + '"'), n.subtype && (l += ' type="' + n.subtype + '"'), u = '<i id="' + t + '-status" class="mce-status mce-ico" style="display: none"></i>', e.disabled() && (l += ' disabled="disabled"'), o = n.icon, o && "caret" != o && (o = r + "ico " + r + "i-" + n.icon), a = e.state.get("text"), (o || a) && (s = '<div id="' + t + '-open" class="' + r + "btn " + r + 'open" tabIndex="-1" role="button"><button id="' + t + '-action" type="button" hidefocus="1" tabindex="-1">' + ("caret" != o ? '<i class="' + o + '"></i>' : '<i class="' + r + 'caret"></i>') + (a ? (o ? " " : "") + a : "") + "</button></div>", e.classes.add("has-open")), '<div id="' + t + '" class="' + e.classes + '"><input id="' + t + '-inp" class="' + r + 'textbox" value="' + e.encode(i, !1) + '" hidefocus="1"' + l + ' placeholder="' + e.encode(n.placeholder) + '" />' + u + s + "</div>"
            },
            value: function(e) {
                return arguments.length ? (this.state.set("value", e),
                    this) : (this.state.get("rendered") && this.state.set("value", this.getEl("inp").value), this.state.get("value"))
            },
            showAutoComplete: function(e, n) {
                var r = this;
                if (0 === e.length) return void r.hideMenu();
                var i = function(e, t) {
                    return function() {
                        r.fire("selectitem", {
                            title: t,
                            value: e
                        })
                    }
                };
                r.menu ? r.menu.items().remove() : r.menu = t.create({
                    type: "menu",
                    classes: "combobox-menu",
                    layout: "flow"
                }).parent(r).renderTo(), o.each(e, function(e) {
                    r.menu.add({
                        text: e.title,
                        url: e.previewUrl,
                        match: n,
                        classes: "menu-item-ellipsis",
                        onclick: i(e.value, e.title)
                    })
                }), r.menu.renderNew(), r.hideMenu(), r.menu.on("cancel", function(e) {
                    e.control.parent() === r.menu && (e.stopPropagation(), r.focus(), r.hideMenu())
                }), r.menu.on("select", function() {
                    r.focus()
                });
                var a = r.layoutRect().w;
                r.menu.layoutRect({
                    w: a,
                    minW: 0,
                    maxW: a
                }), r.menu.reflow(), r.menu.show(), r.menu.moveRel(r.getEl(), r.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"])
            },
            hideMenu: function() {
                this.menu && this.menu.hide()
            },
            bindStates: function() {
                var e = this;
                e.state.on("change:value", function(t) {
                    e.getEl("inp").value != t.value && (e.getEl("inp").value = t.value)
                }), e.state.on("change:disabled", function(t) {
                    e.getEl("inp").disabled = t.value
                }), e.state.on("change:statusLevel", function(t) {
                    var r = e.getEl("status"),
                        i = e.classPrefix,
                        o = t.value;
                    n.css(r, "display", "none" === o ? "none" : ""), n.toggleClass(r, i + "i-checkmark", "ok" === o), n.toggleClass(r, i + "i-warning", "warn" === o), n.toggleClass(r, i + "i-error", "error" === o), e.classes.toggle("has-status", "none" !== o), e.repaint()
                }), n.on(e.getEl("status"), "mouseleave", function() {
                    e.tooltip().hide()
                }), e.on("cancel", function(t) {
                    e.menu && e.menu.visible() && (t.stopPropagation(), e.hideMenu())
                });
                var t = function(e, t) {
                    t && t.items().length > 0 && t.items().eq(e)[0].focus()
                };
                return e.on("keydown", function(n) {
                    var r = n.keyCode;
                    "INPUT" === n.target.nodeName && (r === i.DOWN ? (n.preventDefault(), e.fire("autocomplete"), t(0, e.menu)) : r === i.UP && (n.preventDefault(), t(-1, e.menu)))
                }), e._super()
            },
            remove: function() {
                r(this.getEl("inp")).off(), this.menu && this.menu.remove(), this._super()
            }
        })
    }), r(Et, [wt], function(e) {
        return e.extend({
            init: function(e) {
                var t = this;
                e.spellcheck = !1, e.onaction && (e.icon = "none"), t._super(e), t.classes.add("colorbox"), t.on("change keyup postrender", function() {
                    t.repaintColor(t.value())
                })
            },
            repaintColor: function(e) {
                var t = this.getEl("open"),
                    n = t ? t.getElementsByTagName("i")[0] : null;
                if (n) try {
                    n.style.background = e
                } catch (r) {}
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:value", function(t) {
                    e.state.get("rendered") && e.repaintColor(t.value)
                }), e._super()
            }
        })
    }), r(Nt, [bt, Ae], function(e, t) {
        return e.extend({
            showPanel: function() {
                var e = this,
                    n = e.settings;
                if (e.active(!0), e.panel) e.panel.show();
                else {
                    var r = n.panel;
                    r.type && (r = {
                        layout: "grid",
                        items: r
                    }), r.role = r.role || "dialog", r.popover = !0, r.autohide = !0, r.ariaRoot = !0, e.panel = new t(r).on("hide", function() {
                        e.active(!1)
                    }).on("cancel", function(t) {
                        t.stopPropagation(), e.focus(), e.hidePanel()
                    }).parent(e).renderTo(e.getContainerElm()), e.panel.fire("show"), e.panel.reflow()
                }
                e.panel.moveRel(e.getEl(), n.popoverAlign || (e.isRtl() ? ["bc-tr", "bc-tc"] : ["bc-tl", "bc-tc"]))
            },
            hidePanel: function() {
                var e = this;
                e.panel && e.panel.hide()
            },
            postRender: function() {
                var e = this;
                return e.aria("haspopup", !0), e.on("click", function(t) {
                    t.control === e && (e.panel && e.panel.visible() ? e.hidePanel() : (e.showPanel(), e.panel.focus(!!t.aria)))
                }), e._super()
            },
            remove: function() {
                return this.panel && (this.panel.remove(), this.panel = null), this._super()
            }
        })
    }), r(_t, [Nt, w], function(e, t) {
        var n = t.DOM;
        return e.extend({
            init: function(e) {
                this._super(e), this.classes.add("colorbutton")
            },
            color: function(e) {
                return e ? (this._color = e, this.getEl("preview").style.backgroundColor = e, this) : this._color
            },
            resetColor: function() {
                return this._color = null, this.getEl("preview").style.backgroundColor = null, this
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.classPrefix,
                    r = e.state.get("text"),
                    i = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon : "",
                    o = e.settings.image ? " style=\"background-image: url('" + e.settings.image + "')\"" : "",
                    a = "";
                return r && (e.classes.add("btn-has-text"), a = '<span class="' + n + 'txt">' + e.encode(r) + "</span>"), '<div id="' + t + '" class="' + e.classes + '" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">' + (i ? '<i class="' + i + '"' + o + "></i>" : "") + '<span id="' + t + '-preview" class="' + n + 'preview"></span>' + a + '</button><button type="button" class="' + n + 'open" hidefocus="1" tabindex="-1"> <i class="' + n + 'caret"></i></button></div>'
            },
            postRender: function() {
                var e = this,
                    t = e.settings.onclick;
                return e.on("click", function(r) {
                    r.aria && "down" == r.aria.key || r.control != e || n.getParent(r.target, "." + e.classPrefix + "open") || (r.stopImmediatePropagation(), t.call(e, r))
                }), delete e.settings.onclick, e._super()
            }
        })
    }), r(St, [], function() {
        function e(e) {
            function i(e, i, o) {
                var a, s, l, u, c, d;
                return a = 0, s = 0, l = 0, e /= 255, i /= 255, o /= 255, c = t(e, t(i, o)), d = n(e, n(i, o)), c == d ? (l = c, {
                    h: 0,
                    s: 0,
                    v: 100 * l
                }) : (u = e == c ? i - o : o == c ? e - i : o - e, a = e == c ? 3 : o == c ? 1 : 5, a = 60 * (a - u / (d - c)), s = (d - c) / d, l = d, {
                    h: r(a),
                    s: r(100 * s),
                    v: r(100 * l)
                })
            }

            function o(e, i, o) {
                var a, s, l, u;
                if (e = (parseInt(e, 10) || 0) % 360, i = parseInt(i, 10) / 100, o = parseInt(o, 10) / 100, i = n(0, t(i, 1)), o = n(0, t(o, 1)), 0 === i) return void(d = f = p = r(255 * o));
                switch (a = e / 60, s = o * i, l = s * (1 - Math.abs(a % 2 - 1)), u = o - s, Math.floor(a)) {
                    case 0:
                        d = s, f = l, p = 0;
                        break;
                    case 1:
                        d = l, f = s, p = 0;
                        break;
                    case 2:
                        d = 0, f = s, p = l;
                        break;
                    case 3:
                        d = 0, f = l, p = s;
                        break;
                    case 4:
                        d = l, f = 0, p = s;
                        break;
                    case 5:
                        d = s, f = 0, p = l;
                        break;
                    default:
                        d = f = p = 0
                }
                d = r(255 * (d + u)), f = r(255 * (f + u)), p = r(255 * (p + u))
            }

            function a() {
                function e(e) {
                    return e = parseInt(e, 10).toString(16), e.length > 1 ? e : "0" + e
                }
                return "#" + e(d) + e(f) + e(p)
            }

            function s() {
                return {
                    r: d,
                    g: f,
                    b: p
                }
            }

            function l() {
                return i(d, f, p)
            }

            function u(e) {
                var t;
                return "object" == typeof e ? "r" in e ? (d = e.r, f = e.g, p = e.b) : "v" in e && o(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (d = parseInt(t[1], 10), f = parseInt(t[2], 10), p = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (d = parseInt(t[1], 16), f = parseInt(t[2], 16), p = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (d = parseInt(t[1] + t[1], 16), f = parseInt(t[2] + t[2], 16), p = parseInt(t[3] + t[3], 16)), d = d < 0 ? 0 : d > 255 ? 255 : d, f = f < 0 ? 0 : f > 255 ? 255 : f, p = p < 0 ? 0 : p > 255 ? 255 : p, c
            }
            var c = this,
                d = 0,
                f = 0,
                p = 0;
            e && u(e), c.toRgb = s, c.toHsv = l, c.toHex = a, c.parse = u
        }
        var t = Math.min,
            n = Math.max,
            r = Math.round;
        return e
    }), r(kt, [Pe, _e, ve, St], function(e, t, n, r) {
        return e.extend({
            Defaults: {
                classes: "widget colorpicker"
            },
            init: function(e) {
                this._super(e)
            },
            postRender: function() {
                function e(e, t) {
                    var r = n.getPos(e),
                        i, o;
                    return i = t.pageX - r.x, o = t.pageY - r.y, i = Math.max(0, Math.min(i / e.clientWidth, 1)), o = Math.max(0, Math.min(o / e.clientHeight, 1)), {
                        x: i,
                        y: o
                    }
                }

                function i(e, t) {
                    var i = (360 - e.h) / 360;
                    n.css(d, {
                        top: 100 * i + "%"
                    }), t || n.css(p, {
                        left: e.s + "%",
                        top: 100 - e.v + "%"
                    }), f.style.background = new r({
                        s: 100,
                        v: 100,
                        h: e.h
                    }).toHex(), s.color().parse({
                        s: e.s,
                        v: e.v,
                        h: e.h
                    })
                }

                function o(t) {
                    var n;
                    n = e(f, t), u.s = 100 * n.x, u.v = 100 * (1 - n.y), i(u), s.fire("change")
                }

                function a(t) {
                    var n;
                    n = e(c, t), u = l.toHsv(), u.h = 360 * (1 - n.y), i(u, !0), s.fire("change")
                }
                var s = this,
                    l = s.color(),
                    u, c, d, f, p;
                c = s.getEl("h"), d = s.getEl("hp"), f = s.getEl("sv"), p = s.getEl("svp"), s._repaint = function() {
                    u = l.toHsv(), i(u)
                }, s._super(), s._svdraghelper = new t(s._id + "-sv", {
                    start: o,
                    drag: o
                }), s._hdraghelper = new t(s._id + "-h", {
                    start: a,
                    drag: a
                }), s._repaint()
            },
            rgb: function() {
                return this.color().toRgb()
            },
            value: function(e) {
                var t = this;
                return arguments.length ? (t.color().parse(e), void(t._rendered && t._repaint())) : t.color().toHex()
            },
            color: function() {
                return this._color || (this._color = new r), this._color
            },
            renderHtml: function() {
                function e() {
                    var e, t, n = "",
                        i, a;
                    for (i = "filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=", a = o.split(","), e = 0, t = a.length - 1; e < t; e++) n += '<div class="' + r + 'colorpicker-h-chunk" style="height:' + 100 / t + "%;" + i + a[e] + ",endColorstr=" + a[e + 1] + ");-ms-" + i + a[e] + ",endColorstr=" + a[e + 1] + ')"></div>';
                    return n
                }
                var t = this,
                    n = t._id,
                    r = t.classPrefix,
                    i, o = "#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",
                    a = "background: -ms-linear-gradient(top," + o + ");background: linear-gradient(to bottom," + o + ");";
                return i = '<div id="' + n + '-h" class="' + r + 'colorpicker-h" style="' + a + '">' + e() + '<div id="' + n + '-hp" class="' + r + 'colorpicker-h-marker"></div></div>', '<div id="' + n + '" class="' + t.classes + '"><div id="' + n + '-sv" class="' + r + 'colorpicker-sv"><div class="' + r + 'colorpicker-overlay1"><div class="' + r + 'colorpicker-overlay2"><div id="' + n + '-svp" class="' + r + 'colorpicker-selector1"><div class="' + r + 'colorpicker-selector2"></div></div></div></div></div>' + i + "</div>"
            }
        })
    }), r(Tt, [Pe], function(e) {
        return e.extend({
            init: function(e) {
                var t = this;
                e.delimiter || (e.delimiter = "\xbb"), t._super(e), t.classes.add("path"), t.canFocus = !0, t.on("click", function(e) {
                    var n, r = e.target;
                    (n = r.getAttribute("data-index")) && t.fire("select", {
                        value: t.row()[n],
                        index: n
                    })
                }), t.row(t.settings.row)
            },
            focus: function() {
                var e = this;
                return e.getEl().firstChild.focus(), e
            },
            row: function(e) {
                return arguments.length ? (this.state.set("row", e), this) : this.state.get("row")
            },
            renderHtml: function() {
                var e = this;
                return '<div id="' + e._id + '" class="' + e.classes + '">' + e._getDataPathHtml(e.state.get("row")) + "</div>"
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:row", function(t) {
                    e.innerHtml(e._getDataPathHtml(t.value))
                }), e._super()
            },
            _getDataPathHtml: function(e) {
                var t = this,
                    n = e || [],
                    r, i, o = "",
                    a = t.classPrefix;
                for (r = 0, i = n.length; r < i; r++) o += (r > 0 ? '<div class="' + a + 'divider" aria-hidden="true"> ' + t.settings.delimiter + " </div>" : "") + '<div role="button" class="' + a + "path-item" + (r == i - 1 ? " " + a + "last" : "") + '" data-index="' + r + '" tabindex="-1" id="' + t._id + "-" + r + '" aria-level="' + (r + 1) + '">' + n[r].name + "</div>";
                return o || (o = '<div class="' + a + 'path-item">\xa0</div>'), o
            }
        })
    }), r(Rt, [Tt], function(e) {
        return e.extend({
            postRender: function() {
                function e(e) {
                    if (1 === e.nodeType) {
                        if ("BR" == e.nodeName || e.getAttribute("data-mce-bogus")) return !0;
                        if ("bookmark" === e.getAttribute("data-mce-type")) return !0
                    }
                    return !1
                }
                var t = this,
                    n = t.settings.editor;
                return n.settings.elementpath !== !1 && (t.on("select", function(e) {
                    n.focus(), n.selection.select(this.row()[e.index].element), n.nodeChanged()
                }), n.on("nodeChange", function(r) {
                    for (var i = [], o = r.parents, a = o.length; a--;)
                        if (1 == o[a].nodeType && !e(o[a])) {
                            var s = n.fire("ResolveName", {
                                name: o[a].nodeName.toLowerCase(),
                                target: o[a]
                            });
                            if (s.isDefaultPrevented() || i.push({
                                    name: s.name,
                                    element: o[a]
                                }), s.isPropagationStopped()) break
                        } t.row(i)
                })), t._super()
            }
        })
    }), r(At, [Ne], function(e) {
        return e.extend({
            Defaults: {
                layout: "flex",
                align: "center",
                defaults: {
                    flex: 1
                }
            },
            renderHtml: function() {
                var e = this,
                    t = e._layout,
                    n = e.classPrefix;
                return e.classes.add("formitem"), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1">' + (e.settings.title ? '<div id="' + e._id + '-title" class="' + n + 'title">' + e.settings.title + "</div>" : "") + '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>"
            }
        })
    }), r(Bt, [Ne, At, m], function(e, t, n) {
        return e.extend({
            Defaults: {
                containerCls: "form",
                layout: "flex",
                direction: "column",
                align: "stretch",
                flex: 1,
                padding: 20,
                labelGap: 30,
                spacing: 10,
                callbacks: {
                    submit: function() {
                        this.submit()
                    }
                }
            },
            preRender: function() {
                var e = this,
                    r = e.items();
                e.settings.formItemDefaults || (e.settings.formItemDefaults = {
                    layout: "flex",
                    autoResize: "overflow",
                    defaults: {
                        flex: 1
                    }
                }), r.each(function(r) {
                    var i, o = r.settings.label;
                    o && (i = new t(n.extend({
                        items: {
                            type: "label",
                            id: r._id + "-l",
                            text: o,
                            flex: 0,
                            forId: r._id,
                            disabled: r.disabled()
                        }
                    }, e.settings.formItemDefaults)), i.type = "formitem", r.aria("labelledby", r._id + "-l"), "undefined" == typeof r.settings.flex && (r.settings.flex = 1), e.replace(r, i), i.add(r))
                })
            },
            submit: function() {
                return this.fire("submit", {
                    data: this.toJSON()
                })
            },
            postRender: function() {
                var e = this;
                e._super(), e.fromJSON(e.settings.data)
            },
            bindStates: function() {
                function e() {
                    var e = 0,
                        n = [],
                        r, i, o;
                    if (t.settings.labelGapCalc !== !1)
                        for (o = "children" == t.settings.labelGapCalc ? t.find("formitem") : t.items(), o.filter("formitem").each(function(t) {
                                var r = t.items()[0],
                                    i = r.getEl().clientWidth;
                                e = i > e ? i : e, n.push(r)
                            }), i = t.settings.labelGap || 0, r = n.length; r--;) n[r].settings.minWidth = e + i
                }
                var t = this;
                t._super(), t.on("show", e), e()
            }
        })
    }), r(Dt, [Bt], function(e) {
        return e.extend({
            Defaults: {
                containerCls: "fieldset",
                layout: "flex",
                direction: "column",
                align: "stretch",
                flex: 1,
                padding: "25 15 5 15",
                labelGap: 30,
                spacing: 10,
                border: 1
            },
            renderHtml: function() {
                var e = this,
                    t = e._layout,
                    n = e.classPrefix;
                return e.preRender(), t.preRender(e), '<fieldset id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1">' + (e.settings.title ? '<legend id="' + e._id + '-title" class="' + n + 'fieldset-title">' + e.settings.title + "</legend>" : "") + '<div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></fieldset>"
            }
        })
    }), r(Lt, [w, z, h, it, m, _], function(e, t, n, r, i, o) {
        var a = i.trim,
            s = function(e, t, n, r, i) {
                return {
                    type: e,
                    title: t,
                    url: n,
                    level: r,
                    attach: i
                }
            },
            l = function(e) {
                for (; e = e.parentNode;) {
                    var t = e.contentEditable;
                    if (t && "inherit" !== t) return o.isContentEditableTrue(e)
                }
                return !1
            },
            u = function(t, n) {
                return e.DOM.select(t, n)
            },
            c = function(e) {
                return e.innerText || e.textContent
            },
            d = function(e) {
                return e.id ? e.id : r.uuid("h")
            },
            f = function(e) {
                return e && "A" === e.nodeName && (e.id || e.name)
            },
            p = function(e) {
                return f(e) && m(e)
            },
            h = function(e) {
                return e && /^(H[1-6])$/.test(e.nodeName)
            },
            m = function(e) {
                return l(e) && !o.isContentEditableFalse(e)
            },
            g = function(e) {
                return h(e) && m(e)
            },
            v = function(e) {
                return h(e) ? parseInt(e.nodeName.substr(1), 10) : 0
            },
            y = function(e) {
                var t = d(e),
                    n = function() {
                        e.id = t
                    };
                return s("header", c(e), "#" + t, v(e), n)
            },
            b = function(e) {
                var n = e.id || e.name,
                    r = c(e);
                return s("anchor", r ? r : "#" + n, "#" + n, 0, t.noop)
            },
            C = function(e) {
                return n.map(n.filter(e, g), y)
            },
            x = function(e) {
                return n.map(n.filter(e, p), b)
            },
            w = function(e) {
                var t = u("h1,h2,h3,h4,h5,h6,a:not([href])", e);
                return t
            },
            E = function(e) {
                return a(e.title).length > 0
            },
            N = function(e) {
                var t = w(e);
                return n.filter(C(t).concat(x(t)), E)
            };
        return {
            find: N
        }
    }), r(Mt, [wt, m, h, z, I, Lt], function(e, t, n, r, i, o) {
        var a = {},
            s = 5,
            l = function(e) {
                return {
                    title: e.title,
                    value: {
                        title: {
                            raw: e.title
                        },
                        url: e.url,
                        attach: e.attach
                    }
                }
            },
            u = function(e) {
                return t.map(e, l)
            },
            c = function(e, t) {
                return {
                    title: e,
                    value: {
                        title: e,
                        url: t,
                        attach: r.noop
                    }
                }
            },
            d = function(e, t) {
                var r = n.find(t, function(t) {
                    return t.url === e
                });
                return !r
            },
            f = function(e, t, n) {
                var r = t in e ? e[t] : n;
                return r === !1 ? null : r
            },
            p = function(e, i, o, s) {
                var l = {
                        title: "-"
                    },
                    p = function(e) {
                        var a = n.filter(e[o], function(e) {
                            return d(e, i)
                        });
                        return t.map(a, function(e) {
                            return {
                                title: e,
                                value: {
                                    title: e,
                                    url: e,
                                    attach: r.noop
                                }
                            }
                        })
                    },
                    h = function(e) {
                        var t = n.filter(i, function(t) {
                            return t.type == e
                        });
                        return u(t)
                    },
                    g = function() {
                        var e = h("anchor"),
                            t = f(s, "anchor_top", "#top"),
                            n = f(s, "anchor_bottom", "#bottom");
                        return null !== t && e.unshift(c("<top>", t)), null !== n && e.push(c("<bottom>", n)), e
                    },
                    v = function(e) {
                        return n.reduce(e, function(e, t) {
                            var n = 0 === e.length || 0 === t.length;
                            return n ? e.concat(t) : e.concat(l, t)
                        }, [])
                    };
                return s.typeahead_urls === !1 ? [] : "file" === o ? v([m(e, p(a)), m(e, h("header")), m(e, g())]) : m(e, p(a))
            },
            h = function(e, t) {
                var r = a[t];
                /^https?/.test(e) && (r ? n.indexOf(r, e) === -1 && (a[t] = r.slice(0, s).concat(e)) : a[t] = [e])
            },
            m = function(e, n) {
                var r = e.toLowerCase(),
                    i = t.grep(n, function(e) {
                        return e.title.toLowerCase().indexOf(r) !== -1
                    });
                return 1 === i.length && i[0].title === e ? [] : i
            },
            g = function(e) {
                var t = e.title;
                return t.raw ? t.raw : t
            },
            v = function(e, t, n, r) {
                var i = function(i) {
                    var a = o.find(n),
                        s = p(i, a, r, t);
                    e.showAutoComplete(s, i)
                };
                e.on("autocomplete", function() {
                    i(e.value())
                }), e.on("selectitem", function(t) {
                    var n = t.value;
                    e.value(n.url);
                    var i = g(n);
                    "image" === r ? e.fire("change", {
                        meta: {
                            alt: i,
                            attach: n.attach
                        }
                    }) : e.fire("change", {
                        meta: {
                            text: i,
                            attach: n.attach
                        }
                    }), e.focus()
                }), e.on("click", function(t) {
                    0 === e.value().length && "INPUT" === t.target.nodeName && i("")
                }), e.on("PostRender", function() {
                    e.getRoot().on("submit", function(t) {
                        t.isDefaultPrevented() || h(e.value(), r)
                    })
                })
            },
            y = function(e) {
                var t = e.status,
                    n = e.message;
                return "valid" === t ? {
                    status: "ok",
                    message: n
                } : "unknown" === t ? {
                    status: "warn",
                    message: n
                } : "invalid" === t ? {
                    status: "warn",
                    message: n
                } : {
                    status: "none",
                    message: ""
                }
            },
            b = function(e, t, n) {
                var r = t.filepicker_validator_handler;
                if (r) {
                    var i = function(t) {
                        return 0 === t.length ? void e.statusLevel("none") : void r({
                            url: t,
                            type: n
                        }, function(t) {
                            var n = y(t);
                            e.statusMessage(n.message), e.statusLevel(n.status)
                        })
                    };
                    e.state.on("change:value", function(e) {
                        i(e.value)
                    })
                }
            };
        return e.extend({
            init: function(e) {
                var n = this,
                    r = tinymce.activeEditor,
                    i = r.settings,
                    o, a, s, l = e.filetype;
                e.spellcheck = !1, s = i.file_picker_types || i.file_browser_callback_types, s && (s = t.makeMap(s, /[, ]/)), s && !s[l] || (a = i.file_picker_callback, !a || s && !s[l] ? (a = i.file_browser_callback, !a || s && !s[l] || (o = function() {
                    a(n.getEl("inp").id, n.value(), l, window)
                })) : o = function() {
                    var e = n.fire("beforecall").meta;
                    e = t.extend({
                        filetype: l
                    }, e), a.call(r, function(e, t) {
                        n.value(e).fire("change", {
                            meta: t
                        })
                    }, n.value(), e)
                }), o && (e.icon = "browse", e.onaction = o), n._super(e), v(n, i, r.getBody(), l), b(n, i, l)
            }
        })
    }), r(Pt, [yt], function(e) {
        return e.extend({
            recalc: function(e) {
                var t = e.layoutRect(),
                    n = e.paddingBox;
                e.items().filter(":visible").each(function(e) {
                    e.layoutRect({
                        x: n.left,
                        y: n.top,
                        w: t.innerW - n.right - n.left,
                        h: t.innerH - n.top - n.bottom
                    }), e.recalc && e.recalc()
                })
            }
        })
    }), r(Ot, [yt], function(e) {
        return e.extend({
            recalc: function(e) {
                var t, n, r, i, o, a, s, l, u, c, d, f, p, h, m, g, v = [],
                    y, b, C, x, w, E, N, _, S, k, T, R, A, B, D, L, M, P, O, H, I, F, z = Math.max,
                    U = Math.min;
                for (r = e.items().filter(":visible"), i = e.layoutRect(), o = e.paddingBox, a = e.settings, f = e.isRtl() ? a.direction || "row-reversed" : a.direction, s = a.align, l = e.isRtl() ? a.pack || "end" : a.pack, u = a.spacing || 0, "row-reversed" != f && "column-reverse" != f || (r = r.set(r.toArray().reverse()), f = f.split("-")[0]), "column" == f ? (S = "y", N = "h", _ = "minH", k = "maxH", R = "innerH", T = "top", A = "deltaH", B = "contentH", O = "left", M = "w", D = "x", L = "innerW", P = "minW", H = "right", I = "deltaW", F = "contentW") : (S = "x", N = "w", _ = "minW", k = "maxW", R = "innerW", T = "left", A = "deltaW", B = "contentW", O = "top", M = "h", D = "y", L = "innerH", P = "minH", H = "bottom", I = "deltaH", F = "contentH"), d = i[R] - o[T] - o[T], E = c = 0, t = 0, n = r.length; t < n; t++) p = r[t], h = p.layoutRect(), m = p.settings, g = m.flex, d -= t < n - 1 ? u : 0, g > 0 && (c += g, h[k] && v.push(p), h.flex = g), d -= h[_], y = o[O] + h[P] + o[H], y > E && (E = y);
                if (x = {}, d < 0 ? x[_] = i[_] - d + i[A] : x[_] = i[R] - d + i[A], x[P] = E + i[I], x[B] = i[R] - d, x[F] = E, x.minW = U(x.minW, i.maxW), x.minH = U(x.minH, i.maxH), x.minW = z(x.minW, i.startMinWidth), x.minH = z(x.minH, i.startMinHeight), !i.autoResize || x.minW == i.minW && x.minH == i.minH) {
                    for (C = d / c, t = 0, n = v.length; t < n; t++) p = v[t], h = p.layoutRect(), b = h[k], y = h[_] + h.flex * C, y > b ? (d -= h[k] - h[_], c -= h.flex, h.flex = 0, h.maxFlexSize = b) : h.maxFlexSize = 0;
                    for (C = d / c, w = o[T], x = {}, 0 === c && ("end" == l ? w = d + o[T] : "center" == l ? (w = Math.round(i[R] / 2 - (i[R] - d) / 2) + o[T], w < 0 && (w = o[T])) : "justify" == l && (w = o[T], u = Math.floor(d / (r.length - 1)))), x[D] = o[O], t = 0, n = r.length; t < n; t++) p = r[t], h = p.layoutRect(), y = h.maxFlexSize || h[_], "center" === s ? x[D] = Math.round(i[L] / 2 - h[M] / 2) : "stretch" === s ? (x[M] = z(h[P] || 0, i[L] - o[O] - o[H]), x[D] = o[O]) : "end" === s && (x[D] = i[L] - h[M] - o.top), h.flex > 0 && (y += h.flex * C), x[N] = y, x[S] = w, p.layoutRect(x), p.recalc && p.recalc(), w += y + u
                } else if (x.w = x.minW, x.h = x.minH, e.layoutRect(x), this.recalc(e), null === e._lastRect) {
                    var W = e.parent();
                    W && (W._lastRect = null, W.recalc())
                }
            }
        })
    }), r(Ht, [vt], function(e) {
        return e.extend({
            Defaults: {
                containerClass: "flow-layout",
                controlClass: "flow-layout-item",
                endClass: "break"
            },
            recalc: function(e) {
                e.items().filter(":visible").each(function(e) {
                    e.recalc && e.recalc()
                })
            },
            isNative: function() {
                return !0
            }
        })
    }), r(It, [w], function(e) {
        var n = function(e, t, n) {
                for (; n !== t;) {
                    if (n.style[e]) return n.style[e];
                    n = n.parentNode
                }
                return ""
            },
            r = function(e) {
                return /[0-9.]+px$/.test(e) ? Math.round(72 * parseInt(e, 10) / 96) + "pt" : e
            },
            i = function(e) {
                return e.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")
            },
            o = function(t, n) {
                return e.DOM.getStyle(n, t, !0)
            },
            a = function(e, t) {
                var r = n("fontSize", e, t);
                return "" !== r ? r : o("fontSize", t)
            },
            s = function(e, r) {
                var a = n("fontFamily", e, r),
                    s = "" !== a ? a : o("fontFamily", r);
                return s !== t ? i(s) : ""
            };
        return {
            getFontSize: a,
            getFontFamily: s,
            toPt: r
        }
    }), r(Ft, [xe, Pe, Ae, m, h, w, ut, d, It], function(e, t, n, r, i, o, a, s, l) {
        function u(e) {
            e.settings.ui_container && (s.container = o.DOM.select(e.settings.ui_container)[0])
        }

        function c(t) {
            t.on("ScriptsLoaded", function() {
                t.rtl && (e.rtl = !0)
            })
        }

        function d(e) {
            function t(t, n) {
                return function() {
                    var r = this;
                    e.on("nodeChange", function(i) {
                        var o = e.formatter,
                            a = null;
                        f(i.parents, function(e) {
                            if (f(t, function(t) {
                                    if (n ? o.matchNode(e, n, {
                                            value: t.value
                                        }) && (a = t.value) : o.matchNode(e, t.value) && (a = t.value), a) return !1
                                }), a) return !1
                        }), r.value(a)
                    })
                }
            }

            function i(t) {
                return function() {
                    var n = this,
                        r = function(e) {
                            return e ? e.split(",")[0] : ""
                        };
                    e.on("nodeChange", function(i) {
                        var o, a = null;
                        o = l.getFontFamily(e.getBody(), i.element), f(t, function(e) {
                            e.value.toLowerCase() === o.toLowerCase() && (a = e.value)
                        }), f(t, function(e) {
                            a || r(e.value).toLowerCase() !== r(o).toLowerCase() || (a = e.value)
                        }), n.value(a), !a && o && n.text(r(o))
                    })
                }
            }

            function o(t) {
                return function() {
                    var n = this;
                    e.on("nodeChange", function(r) {
                        var i, o, a = null;
                        i = l.getFontSize(e.getBody(), r.element), o = l.toPt(i), f(t, function(e) {
                            e.value === i ? a = i : e.value === o && (a = o)
                        }), n.value(a), a || n.text(o)
                    })
                }
            }

            function a(e) {
                e = e.replace(/;$/, "").split(";");
                for (var t = e.length; t--;) e[t] = e[t].split("=");
                return e
            }

            function s() {
                function t(e) {
                    var n = [];
                    if (e) return f(e, function(e) {
                        var o = {
                            text: e.title,
                            icon: e.icon
                        };
                        if (e.items) o.menu = t(e.items);
                        else {
                            var a = e.format || "custom" + r++;
                            e.format || (e.name = a, i.push(e)), o.format = a, o.cmd = e.cmd
                        }
                        n.push(o)
                    }), n
                }

                function n() {
                    var n;
                    return n = t(e.settings.style_formats_merge ? e.settings.style_formats ? o.concat(e.settings.style_formats) : o : e.settings.style_formats || o)
                }
                var r = 0,
                    i = [],
                    o = [{
                        title: "Headings",
                        items: [{
                            title: "Heading 1",
                            format: "h1"
                        }, {
                            title: "Heading 2",
                            format: "h2"
                        }, {
                            title: "Heading 3",
                            format: "h3"
                        }, {
                            title: "Heading 4",
                            format: "h4"
                        }, {
                            title: "Heading 5",
                            format: "h5"
                        }, {
                            title: "Heading 6",
                            format: "h6"
                        }]
                    }, {
                        title: "Inline",
                        items: [{
                            title: "Bold",
                            icon: "bold",
                            format: "bold"
                        }, {
                            title: "Italic",
                            icon: "italic",
                            format: "italic"
                        }, {
                            title: "Underline",
                            icon: "underline",
                            format: "underline"
                        }, {
                            title: "Strikethrough",
                            icon: "strikethrough",
                            format: "strikethrough"
                        }, {
                            title: "Superscript",
                            icon: "superscript",
                            format: "superscript"
                        }, {
                            title: "Subscript",
                            icon: "subscript",
                            format: "subscript"
                        }, {
                            title: "Code",
                            icon: "code",
                            format: "code"
                        }]
                    }, {
                        title: "Blocks",
                        items: [{
                            title: "Paragraph",
                            format: "p"
                        }, {
                            title: "Blockquote",
                            format: "blockquote"
                        }, {
                            title: "Div",
                            format: "div"
                        }, {
                            title: "Pre",
                            format: "pre"
                        }]
                    }, {
                        title: "Alignment",
                        items: [{
                            title: "Left",
                            icon: "alignleft",
                            format: "alignleft"
                        }, {
                            title: "Center",
                            icon: "aligncenter",
                            format: "aligncenter"
                        }, {
                            title: "Right",
                            icon: "alignright",
                            format: "alignright"
                        }, {
                            title: "Justify",
                            icon: "alignjustify",
                            format: "alignjustify"
                        }]
                    }];
                return e.on("init", function() {
                    f(i, function(t) {
                        e.formatter.register(t.name, t)
                    })
                }), {
                    type: "menu",
                    items: n(),
                    onPostRender: function(t) {
                        e.fire("renderFormatsMenu", {
                            control: t.control
                        })
                    },
                    itemDefaults: {
                        preview: !0,
                        textStyle: function() {
                            if (this.settings.format) return e.formatter.getCssText(this.settings.format)
                        },
                        onPostRender: function() {
                            var t = this;
                            t.parent().on("show", function() {
                                var n, r;
                                n = t.settings.format, n && (t.disabled(!e.formatter.canApply(n)), t.active(e.formatter.match(n))), r = t.settings.cmd, r && t.active(e.queryCommandState(r))
                            })
                        },
                        onclick: function() {
                            this.settings.format && h(this.settings.format), this.settings.cmd && e.execCommand(this.settings.cmd)
                        }
                    }
                }
            }

            function u(t) {
                return function() {
                    var n = this;
                    e.formatter ? e.formatter.formatChanged(t, function(e) {
                        n.active(e)
                    }) : e.on("init", function() {
                        e.formatter.formatChanged(t, function(e) {
                            n.active(e)
                        })
                    })
                }
            }

            function c(t) {
                return function() {
                    function n() {
                        var n = "redo" == t ? "hasRedo" : "hasUndo";
                        return !!e.undoManager && e.undoManager[n]()
                    }
                    var r = this;
                    r.disabled(!n()), e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", function() {
                        r.disabled(e.readonly || !n())
                    })
                }
            }

            function d() {
                var t = this;
                e.on("VisualAid", function(e) {
                    t.active(e.hasVisual)
                }), t.active(e.hasVisual)
            }

            function h(t) {
                t.control && (t = t.control.value()), t && e.execCommand("mceToggleFormat", !1, t)
            }

            function m(t) {
                var n = t.length;
                return r.each(t, function(t) {
                    t.menu && (t.hidden = 0 === m(t.menu));
                    var r = t.format;
                    r && (t.hidden = !e.formatter.canApply(r)), t.hidden && n--
                }), n
            }

            function g(t) {
                var n = t.items().length;
                return t.items().each(function(t) {
                    t.menu && t.visible(g(t.menu) > 0), !t.menu && t.settings.menu && t.visible(m(t.settings.menu) > 0);
                    var r = t.settings.format;
                    r && t.visible(e.formatter.canApply(r)), t.visible() || n--
                }), n
            }
            var v;
            v = s(), f({
                bold: "Bold",
                italic: "Italic",
                underline: "Underline",
                strikethrough: "Strikethrough",
                subscript: "Subscript",
                superscript: "Superscript"
            }, function(t, n) {
                e.addButton(n, {
                    tooltip: t,
                    onPostRender: u(n),
                    onclick: function() {
                        h(n)
                    }
                })
            }), f({
                outdent: ["Decrease indent", "Outdent"],
                indent: ["Increase indent", "Indent"],
                cut: ["Cut", "Cut"],
                copy: ["Copy", "Copy"],
                paste: ["Paste", "Paste"],
                help: ["Help", "mceHelp"],
                selectall: ["Select all", "SelectAll"],
                removeformat: ["Clear formatting", "RemoveFormat"],
                visualaid: ["Visual aids", "mceToggleVisualAid"],
                newdocument: ["New document", "mceNewDocument"]
            }, function(t, n) {
                e.addButton(n, {
                    tooltip: t[0],
                    cmd: t[1]
                })
            }), f({
                blockquote: ["Blockquote", "mceBlockQuote"],
                subscript: ["Subscript", "Subscript"],
                superscript: ["Superscript", "Superscript"],
                alignleft: ["Align left", "JustifyLeft"],
                aligncenter: ["Align center", "JustifyCenter"],
                alignright: ["Align right", "JustifyRight"],
                alignjustify: ["Justify", "JustifyFull"],
                alignnone: ["No alignment", "JustifyNone"]
            }, function(t, n) {
                e.addButton(n, {
                    tooltip: t[0],
                    cmd: t[1],
                    onPostRender: u(n)
                })
            });
            var y = function(e) {
                    var t = e;
                    return t.length > 0 && "-" === t[0].text && (t = t.slice(1)), t.length > 0 && "-" === t[t.length - 1].text && (t = t.slice(0, t.length - 1)), t
                },
                b = function(t) {
                    var n, i;
                    if ("string" == typeof t) i = t.split(" ");
                    else if (r.isArray(t)) return p(r.map(t, b));
                    return n = r.grep(i, function(t) {
                        return "|" === t || t in e.menuItems
                    }), r.map(n, function(t) {
                        return "|" === t ? {
                            text: "-"
                        } : e.menuItems[t]
                    })
                },
                C = function(t) {
                    var n = [{
                            text: "-"
                        }],
                        i = r.grep(e.menuItems, function(e) {
                            return e.context === t
                        });
                    return r.each(i, function(e) {
                        "before" == e.separator && n.push({
                            text: "|"
                        }), e.prependToContext ? n.unshift(e) : n.push(e), "after" == e.separator && n.push({
                            text: "|"
                        })
                    }), n
                },
                x = function(e) {
                    return y(e.insert_button_items ? b(e.insert_button_items) : C("insert"))
                };
            e.addButton("undo", {
                tooltip: "Undo",
                onPostRender: c("undo"),
                cmd: "undo"
            }), e.addButton("redo", {
                tooltip: "Redo",
                onPostRender: c("redo"),
                cmd: "redo"
            }), e.addMenuItem("newdocument", {
                text: "New document",
                icon: "newdocument",
                cmd: "mceNewDocument"
            }), e.addMenuItem("undo", {
                text: "Undo",
                icon: "undo",
                shortcut: "Meta+Z",
                onPostRender: c("undo"),
                cmd: "undo"
            }), e.addMenuItem("redo", {
                text: "Redo",
                icon: "redo",
                shortcut: "Meta+Y",
                onPostRender: c("redo"),
                cmd: "redo"
            }), e.addMenuItem("visualaid", {
                text: "Visual aids",
                selectable: !0,
                onPostRender: d,
                cmd: "mceToggleVisualAid"
            }), e.addButton("remove", {
                tooltip: "Remove",
                icon: "remove",
                cmd: "Delete"
            }), e.addButton("insert", {
                type: "menubutton",
                icon: "insert",
                menu: [],
                oncreatemenu: function() {
                    this.menu.add(x(e.settings)), this.menu.renderNew()
                }
            }), f({
                cut: ["Cut", "Cut", "Meta+X"],
                copy: ["Copy", "Copy", "Meta+C"],
                paste: ["Paste", "Paste", "Meta+V"],
                selectall: ["Select all", "SelectAll", "Meta+A"],
                bold: ["Bold", "Bold", "Meta+B"],
                italic: ["Italic", "Italic", "Meta+I"],
                underline: ["Underline", "Underline", "Meta+U"],
                strikethrough: ["Strikethrough", "Strikethrough"],
                subscript: ["Subscript", "Subscript"],
                superscript: ["Superscript", "Superscript"],
                removeformat: ["Clear formatting", "RemoveFormat"]
            }, function(t, n) {
                e.addMenuItem(n, {
                    text: t[0],
                    icon: n,
                    shortcut: t[2],
                    cmd: t[1]
                })
            }), e.on("mousedown", function() {
                n.hideAll()
            }), e.addButton("styleselect", {
                type: "menubutton",
                text: "Formats",
                menu: v,
                onShowMenu: function() {
                    e.settings.style_formats_autohide && g(this.menu)
                }
            }), e.addButton("formatselect", function() {
                var n = [],
                    r = a(e.settings.block_formats || "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");
                return f(r, function(t) {
                    n.push({
                        text: t[0],
                        value: t[1],
                        textStyle: function() {
                            return e.formatter.getCssText(t[1])
                        }
                    })
                }), {
                    type: "listbox",
                    text: r[0][0],
                    values: n,
                    fixedWidth: !0,
                    onselect: h,
                    onPostRender: t(n)
                }
            }), e.addButton("fontselect", function() {
                var t = "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",
                    n = [],
                    r = a(e.settings.font_formats || t);
                return f(r, function(e) {
                    n.push({
                        text: {
                            raw: e[0]
                        },
                        value: e[1],
                        textStyle: e[1].indexOf("dings") == -1 ? "font-family:" + e[1] : ""
                    })
                }), {
                    type: "listbox",
                    text: "Font Family",
                    tooltip: "Font Family",
                    values: n,
                    fixedWidth: !0,
                    onPostRender: i(n),
                    onselect: function(t) {
                        t.control.settings.value && e.execCommand("FontName", !1, t.control.settings.value)
                    }
                }
            }), e.addButton("fontsizeselect", function() {
                var t = [],
                    n = "8pt 10pt 12pt 14pt 18pt 24pt 36pt",
                    r = e.settings.fontsize_formats || n;
                return f(r.split(" "), function(e) {
                    var n = e,
                        r = e,
                        i = e.split("=");
                    i.length > 1 && (n = i[0], r = i[1]), t.push({
                        text: n,
                        value: r
                    })
                }), {
                    type: "listbox",
                    text: "Font Sizes",
                    tooltip: "Font Sizes",
                    values: t,
                    fixedWidth: !0,
                    onPostRender: o(t),
                    onclick: function(t) {
                        t.control.settings.value && e.execCommand("FontSize", !1, t.control.settings.value)
                    }
                }
            }), e.addMenuItem("formats", {
                text: "Formats",
                menu: v
            })
        }
        var f = r.each,
            p = function(e) {
                return i.reduce(e, function(e, t) {
                    return e.concat(t)
                }, [])
            };
        a.on("AddEditor", function(e) {
            var t = e.editor;
            c(t), d(t), u(t)
        }), e.translate = function(e) {
            return a.translate(e)
        }, t.tooltips = !s.iOS
    }), r(zt, [yt], function(e) {
        return e.extend({
            recalc: function(e) {
                var t, n, r, i, o, a, s, l, u, c, d, f, p, h, m, g, v, y, b, C, x, w, E, N = [],
                    _ = [],
                    S, k, T, R, A, B;
                t = e.settings, i = e.items().filter(":visible"), o = e.layoutRect(), r = t.columns || Math.ceil(Math.sqrt(i.length)), n = Math.ceil(i.length / r), y = t.spacingH || t.spacing || 0, b = t.spacingV || t.spacing || 0, C = t.alignH || t.align, x = t.alignV || t.align, g = e.paddingBox, A = "reverseRows" in t ? t.reverseRows : e.isRtl(), C && "string" == typeof C && (C = [C]), x && "string" == typeof x && (x = [x]);
                for (d = 0; d < r; d++) N.push(0);
                for (f = 0; f < n; f++) _.push(0);
                for (f = 0; f < n; f++)
                    for (d = 0; d < r && (c = i[f * r + d], c); d++) u = c.layoutRect(), S = u.minW, k = u.minH, N[d] = S > N[d] ? S : N[d], _[f] = k > _[f] ? k : _[f];
                for (T = o.innerW - g.left - g.right, w = 0, d = 0; d < r; d++) w += N[d] + (d > 0 ? y : 0), T -= (d > 0 ? y : 0) + N[d];
                for (R = o.innerH - g.top - g.bottom, E = 0, f = 0; f < n; f++) E += _[f] + (f > 0 ? b : 0), R -= (f > 0 ? b : 0) + _[f];
                if (w += g.left + g.right, E += g.top + g.bottom, l = {}, l.minW = w + (o.w - o.innerW), l.minH = E + (o.h - o.innerH), l.contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH, l.minW = Math.min(l.minW, o.maxW), l.minH = Math.min(l.minH, o.maxH), l.minW = Math.max(l.minW, o.startMinWidth), l.minH = Math.max(l.minH, o.startMinHeight), !o.autoResize || l.minW == o.minW && l.minH == o.minH) {
                    o.autoResize && (l = e.layoutRect(l), l.contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH);
                    var D;
                    D = "start" == t.packV ? 0 : R > 0 ? Math.floor(R / n) : 0;
                    var L = 0,
                        M = t.flexWidths;
                    if (M)
                        for (d = 0; d < M.length; d++) L += M[d];
                    else L = r;
                    var P = T / L;
                    for (d = 0; d < r; d++) N[d] += M ? M[d] * P : P;
                    for (h = g.top, f = 0; f < n; f++) {
                        for (p = g.left, s = _[f] + D, d = 0; d < r && (B = A ? f * r + r - 1 - d : f * r + d, c = i[B], c); d++) m = c.settings, u = c.layoutRect(), a = Math.max(N[d], u.startMinWidth), u.x = p, u.y = h, v = m.alignH || (C ? C[d] || C[0] : null), "center" == v ? u.x = p + a / 2 - u.w / 2 : "right" == v ? u.x = p + a - u.w : "stretch" == v && (u.w = a), v = m.alignV || (x ? x[d] || x[0] : null), "center" == v ? u.y = h + s / 2 - u.h / 2 : "bottom" == v ? u.y = h + s - u.h : "stretch" == v && (u.h = s), c.layoutRect(u), p += a + y, c.recalc && c.recalc();
                        h += s + b
                    }
                } else if (l.w = l.minW, l.h = l.minH, e.layoutRect(l), this.recalc(e), null === e._lastRect) {
                    var O = e.parent();
                    O && (O._lastRect = null, O.recalc())
                }
            }
        })
    }), r(Ut, [Pe, c], function(e, t) {
        return e.extend({
            renderHtml: function() {
                var e = this;
                return e.classes.add("iframe"), e.canFocus = !1, '<iframe id="' + e._id + '" class="' + e.classes + '" tabindex="-1" src="' + (e.settings.url || "javascript:''") + '" frameborder="0"></iframe>'
            },
            src: function(e) {
                this.getEl().src = e
            },
            html: function(e, n) {
                var r = this,
                    i = this.getEl().contentWindow.document.body;
                return i ? (i.innerHTML = e, n && n()) : t.setTimeout(function() {
                    r.html(e)
                }), this
            }
        })
    }), r(Wt, [Pe], function(e) {
        return e.extend({
            init: function(e) {
                var t = this;
                t._super(e), t.classes.add("widget").add("infobox"), t.canFocus = !1
            },
            severity: function(e) {
                this.classes.remove("error"), this.classes.remove("warning"), this.classes.remove("success"), this.classes.add(e)
            },
            help: function(e) {
                this.state.set("help", e)
            },
            renderHtml: function() {
                var e = this,
                    t = e.classPrefix;
                return '<div id="' + e._id + '" class="' + e.classes + '"><div id="' + e._id + '-body">' + e.encode(e.state.get("text")) + '<button role="button" tabindex="-1"><i class="' + t + "ico " + t + 'i-help"></i></button></div></div>'
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:text", function(t) {
                    e.getEl("body").firstChild.data = e.encode(t.value),
                        e.state.get("rendered") && e.updateLayoutRect()
                }), e.state.on("change:help", function(t) {
                    e.classes.toggle("has-help", t.value), e.state.get("rendered") && e.updateLayoutRect()
                }), e._super()
            }
        })
    }), r(Vt, [Pe, ve], function(e, t) {
        return e.extend({
            init: function(e) {
                var t = this;
                t._super(e), t.classes.add("widget").add("label"), t.canFocus = !1, e.multiline && t.classes.add("autoscroll"), e.strong && t.classes.add("strong")
            },
            initLayoutRect: function() {
                var e = this,
                    n = e._super();
                if (e.settings.multiline) {
                    var r = t.getSize(e.getEl());
                    r.width > n.maxW && (n.minW = n.maxW, e.classes.add("multiline")), e.getEl().style.width = n.minW + "px", n.startMinH = n.h = n.minH = Math.min(n.maxH, t.getSize(e.getEl()).height)
                }
                return n
            },
            repaint: function() {
                var e = this;
                return e.settings.multiline || (e.getEl().style.lineHeight = e.layoutRect().h + "px"), e._super()
            },
            severity: function(e) {
                this.classes.remove("error"), this.classes.remove("warning"), this.classes.remove("success"), this.classes.add(e)
            },
            renderHtml: function() {
                var e = this,
                    t, n, r = e.settings.forId;
                return !r && (n = e.settings.forName) && (t = e.getRoot().find("#" + n)[0], t && (r = t._id)), r ? '<label id="' + e._id + '" class="' + e.classes + '"' + (r ? ' for="' + r + '"' : "") + ">" + e.encode(e.state.get("text")) + "</label>" : '<span id="' + e._id + '" class="' + e.classes + '">' + e.encode(e.state.get("text")) + "</span>"
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:text", function(t) {
                    e.innerHtml(e.encode(t.value)), e.state.get("rendered") && e.updateLayoutRect()
                }), e._super()
            }
        })
    }), r($t, [Ne], function(e) {
        return e.extend({
            Defaults: {
                role: "toolbar",
                layout: "flow"
            },
            init: function(e) {
                var t = this;
                t._super(e), t.classes.add("toolbar")
            },
            postRender: function() {
                var e = this;
                return e.items().each(function(e) {
                    e.classes.add("toolbar-item")
                }), e._super()
            }
        })
    }), r(qt, [$t], function(e) {
        return e.extend({
            Defaults: {
                role: "menubar",
                containerCls: "menubar",
                ariaRoot: !0,
                defaults: {
                    type: "menubutton"
                }
            }
        })
    }), r(jt, [bt, we, qt], function(e, t, n) {
        function r(e, t) {
            for (; e;) {
                if (t === e) return !0;
                e = e.parentNode
            }
            return !1
        }
        var i = e.extend({
            init: function(e) {
                var t = this;
                t._renderOpen = !0, t._super(e), e = t.settings, t.classes.add("menubtn"), e.fixedWidth && t.classes.add("fixed-width"), t.aria("haspopup", !0), t.state.set("menu", e.menu || t.render())
            },
            showMenu: function(e) {
                var n = this,
                    r;
                return n.menu && n.menu.visible() && e !== !1 ? n.hideMenu() : (n.menu || (r = n.state.get("menu") || [], r.length ? r = {
                    type: "menu",
                    items: r
                } : r.type = r.type || "menu", r.renderTo ? n.menu = r.parent(n).show().renderTo() : n.menu = t.create(r).parent(n).renderTo(), n.fire("createmenu"), n.menu.reflow(), n.menu.on("cancel", function(e) {
                    e.control.parent() === n.menu && (e.stopPropagation(), n.focus(), n.hideMenu())
                }), n.menu.on("select", function() {
                    n.focus()
                }), n.menu.on("show hide", function(e) {
                    e.control == n.menu && n.activeMenu("show" == e.type), n.aria("expanded", "show" == e.type)
                }).fire("show")), n.menu.show(), n.menu.layoutRect({
                    w: n.layoutRect().w
                }), n.menu.moveRel(n.getEl(), n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]), void n.fire("showmenu"))
            },
            hideMenu: function() {
                var e = this;
                e.menu && (e.menu.items().each(function(e) {
                    e.hideMenu && e.hideMenu()
                }), e.menu.hide())
            },
            activeMenu: function(e) {
                this.classes.toggle("active", e)
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    r = e.classPrefix,
                    i = e.settings.icon,
                    o, a = e.state.get("text"),
                    s = "";
                return o = e.settings.image, o ? (i = "none", "string" != typeof o && (o = window.getSelection ? o[0] : o[1]), o = " style=\"background-image: url('" + o + "')\"") : o = "", a && (e.classes.add("btn-has-text"), s = '<span class="' + r + 'txt">' + e.encode(a) + "</span>"), i = e.settings.icon ? r + "ico " + r + "i-" + i : "", e.aria("role", e.parent() instanceof n ? "menuitem" : "button"), '<div id="' + t + '" class="' + e.classes + '" tabindex="-1" aria-labelledby="' + t + '"><button id="' + t + '-open" role="presentation" type="button" tabindex="-1">' + (i ? '<i class="' + i + '"' + o + "></i>" : "") + s + ' <i class="' + r + 'caret"></i></button></div>'
            },
            postRender: function() {
                var e = this;
                return e.on("click", function(t) {
                    t.control === e && r(t.target, e.getEl()) && (e.focus(), e.showMenu(!t.aria), t.aria && e.menu.items().filter(":visible")[0].focus())
                }), e.on("mouseenter", function(t) {
                    var n = t.control,
                        r = e.parent(),
                        o;
                    n && r && n instanceof i && n.parent() == r && (r.items().filter("MenuButton").each(function(e) {
                        e.hideMenu && e != n && (e.menu && e.menu.visible() && (o = !0), e.hideMenu())
                    }), o && (n.focus(), n.showMenu()))
                }), e._super()
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:menu", function() {
                    e.menu && e.menu.remove(), e.menu = null
                }), e._super()
            },
            remove: function() {
                this._super(), this.menu && this.menu.remove()
            }
        });
        return i
    }), r(Yt, [Pe, we, d, c], function(e, t, n, r) {
        return e.extend({
            Defaults: {
                border: 0,
                role: "menuitem"
            },
            init: function(e) {
                var t = this,
                    n;
                t._super(e), e = t.settings, t.classes.add("menu-item"), e.menu && t.classes.add("menu-item-expand"), e.preview && t.classes.add("menu-item-preview"), n = t.state.get("text"), "-" !== n && "|" !== n || (t.classes.add("menu-item-sep"), t.aria("role", "separator"), t.state.set("text", "-")), e.selectable && (t.aria("role", "menuitemcheckbox"), t.classes.add("menu-item-checkbox"), e.icon = "selected"), e.preview || e.selectable || t.classes.add("menu-item-normal"), t.on("mousedown", function(e) {
                    e.preventDefault()
                }), e.menu && !e.ariaHideMenu && t.aria("haspopup", !0)
            },
            hasMenus: function() {
                return !!this.settings.menu
            },
            showMenu: function() {
                var e = this,
                    n = e.settings,
                    r, i = e.parent();
                if (i.items().each(function(t) {
                        t !== e && t.hideMenu()
                    }), n.menu) {
                    r = e.menu, r ? r.show() : (r = n.menu, r.length ? r = {
                        type: "menu",
                        items: r
                    } : r.type = r.type || "menu", i.settings.itemDefaults && (r.itemDefaults = i.settings.itemDefaults), r = e.menu = t.create(r).parent(e).renderTo(), r.reflow(), r.on("cancel", function(t) {
                        t.stopPropagation(), e.focus(), r.hide()
                    }), r.on("show hide", function(e) {
                        e.control.items && e.control.items().each(function(e) {
                            e.active(e.settings.selected)
                        })
                    }).fire("show"), r.on("hide", function(t) {
                        t.control === r && e.classes.remove("selected")
                    }), r.submenu = !0), r._parentMenu = i, r.classes.add("menu-sub");
                    var o = r.testMoveRel(e.getEl(), e.isRtl() ? ["tl-tr", "bl-br", "tr-tl", "br-bl"] : ["tr-tl", "br-bl", "tl-tr", "bl-br"]);
                    r.moveRel(e.getEl(), o), r.rel = o, o = "menu-sub-" + o, r.classes.remove(r._lastRel).add(o), r._lastRel = o, e.classes.add("selected"), e.aria("expanded", !0)
                }
            },
            hideMenu: function() {
                var e = this;
                return e.menu && (e.menu.items().each(function(e) {
                    e.hideMenu && e.hideMenu()
                }), e.menu.hide(), e.aria("expanded", !1)), e
            },
            renderHtml: function() {
                function e(e) {
                    var t, r, i = {};
                    for (i = n.mac ? {
                            alt: "&#x2325;",
                            ctrl: "&#x2318;",
                            shift: "&#x21E7;",
                            meta: "&#x2318;"
                        } : {
                            meta: "Ctrl"
                        }, e = e.split("+"), t = 0; t < e.length; t++) r = i[e[t].toLowerCase()], r && (e[t] = r);
                    return e.join("+")
                }

                function t(e) {
                    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
                }

                function r(e) {
                    var n = s.match || "";
                    return n ? e.replace(new RegExp(t(n), "gi"), function(e) {
                        return "!mce~match[" + e + "]mce~match!"
                    }) : e
                }

                function i(e) {
                    return e.replace(new RegExp(t("!mce~match["), "g"), "<b>").replace(new RegExp(t("]mce~match!"), "g"), "</b>")
                }
                var o = this,
                    a = o._id,
                    s = o.settings,
                    l = o.classPrefix,
                    u = o.state.get("text"),
                    c = o.settings.icon,
                    d = "",
                    f = s.shortcut,
                    p = o.encode(s.url),
                    h = "";
                return c && o.parent().classes.add("menu-has-icons"), s.image && (d = " style=\"background-image: url('" + s.image + "')\""), f && (f = e(f)), c = l + "ico " + l + "i-" + (o.settings.icon || "none"), h = "-" !== u ? '<i class="' + c + '"' + d + "></i>\xa0" : "", u = i(o.encode(r(u))), p = i(o.encode(r(p))), '<div id="' + a + '" class="' + o.classes + '" tabindex="-1">' + h + ("-" !== u ? '<span id="' + a + '-text" class="' + l + 'text">' + u + "</span>" : "") + (f ? '<div id="' + a + '-shortcut" class="' + l + 'menu-shortcut">' + f + "</div>" : "") + (s.menu ? '<div class="' + l + 'caret"></div>' : "") + (p ? '<div class="' + l + 'menu-item-link">' + p + "</div>" : "") + "</div>"
            },
            postRender: function() {
                var e = this,
                    t = e.settings,
                    n = t.textStyle;
                if ("function" == typeof n && (n = n.call(this)), n) {
                    var i = e.getEl("text");
                    i && i.setAttribute("style", n)
                }
                return e.on("mouseenter click", function(n) {
                    n.control === e && (t.menu || "click" !== n.type ? (e.showMenu(), n.aria && e.menu.focus(!0)) : (e.fire("select"), r.requestAnimationFrame(function() {
                        e.parent().hideAll()
                    })))
                }), e._super(), e
            },
            hover: function() {
                var e = this;
                return e.parent().items().each(function(e) {
                    e.classes.remove("selected")
                }), e.classes.toggle("selected", !0), e
            },
            active: function(e) {
                return "undefined" != typeof e && this.aria("checked", e), this._super(e)
            },
            remove: function() {
                this._super(), this.menu && this.menu.remove()
            }
        })
    }), r(Xt, [g, xe, c], function(e, t, n) {
        return function(r, i) {
            var o = this,
                a, s = t.classPrefix,
                l;
            o.show = function(t, u) {
                function c() {
                    a && (e(r).append('<div class="' + s + "throbber" + (i ? " " + s + "throbber-inline" : "") + '"></div>'), u && u())
                }
                return o.hide(), a = !0, t ? l = n.setTimeout(c, t) : c(), o
            }, o.hide = function() {
                var e = r.lastChild;
                return n.clearTimeout(l), e && e.className.indexOf("throbber") != -1 && e.parentNode.removeChild(e), a = !1, o
            }
        }
    }), r(Kt, [Ae, Yt, Xt, m], function(e, t, n, r) {
        return e.extend({
            Defaults: {
                defaultType: "menuitem",
                border: 1,
                layout: "stack",
                role: "application",
                bodyRole: "menu",
                ariaRoot: !0
            },
            init: function(e) {
                var t = this;
                if (e.autohide = !0, e.constrainToViewport = !0, "function" == typeof e.items && (e.itemsFactory = e.items, e.items = []), e.itemDefaults)
                    for (var n = e.items, i = n.length; i--;) n[i] = r.extend({}, e.itemDefaults, n[i]);
                t._super(e), t.classes.add("menu")
            },
            repaint: function() {
                return this.classes.toggle("menu-align", !0), this._super(), this.getEl().style.height = "", this.getEl("body").style.height = "", this
            },
            cancel: function() {
                var e = this;
                e.hideAll(), e.fire("select")
            },
            load: function() {
                function e() {
                    t.throbber && (t.throbber.hide(), t.throbber = null)
                }
                var t = this,
                    r, i;
                i = t.settings.itemsFactory, i && (t.throbber || (t.throbber = new n(t.getEl("body"), !0), 0 === t.items().length ? (t.throbber.show(), t.fire("loading")) : t.throbber.show(100, function() {
                    t.items().remove(), t.fire("loading")
                }), t.on("hide close", e)), t.requestTime = r = (new Date).getTime(), t.settings.itemsFactory(function(n) {
                    return 0 === n.length ? void t.hide() : void(t.requestTime === r && (t.getEl().style.width = "", t.getEl("body").style.width = "", e(), t.items().remove(), t.getEl("body").innerHTML = "", t.add(n), t.renderNew(), t.fire("loaded")))
                }))
            },
            hideAll: function() {
                var e = this;
                return this.find("menuitem").exec("hideMenu"), e._super()
            },
            preRender: function() {
                var e = this;
                return e.items().each(function(t) {
                    var n = t.settings;
                    if (n.icon || n.image || n.selectable) return e._hasIcons = !0, !1
                }), e.settings.itemsFactory && e.on("postrender", function() {
                    e.settings.itemsFactory && e.load()
                }), e._super()
            }
        })
    }), r(Gt, [jt, Kt], function(e, t) {
        return e.extend({
            init: function(e) {
                function t(r) {
                    for (var a = 0; a < r.length; a++) {
                        if (i = r[a].selected || e.value === r[a].value) return o = o || r[a].text, n.state.set("value", r[a].value), !0;
                        if (r[a].menu && t(r[a].menu)) return !0
                    }
                }
                var n = this,
                    r, i, o, a;
                n._super(e), e = n.settings, n._values = r = e.values, r && ("undefined" != typeof e.value && t(r), !i && r.length > 0 && (o = r[0].text, n.state.set("value", r[0].value)), n.state.set("menu", r)), n.state.set("text", e.text || o), n.classes.add("listbox"), n.on("select", function(t) {
                    var r = t.control;
                    a && (t.lastControl = a), e.multiple ? r.active(!r.active()) : n.value(t.control.value()), a = r
                })
            },
            bindStates: function() {
                function e(e, n) {
                    e instanceof t && e.items().each(function(e) {
                        e.hasMenus() || e.active(e.value() === n)
                    })
                }

                function n(e, t) {
                    var r;
                    if (e)
                        for (var i = 0; i < e.length; i++) {
                            if (e[i].value === t) return e[i];
                            if (e[i].menu && (r = n(e[i].menu, t))) return r
                        }
                }
                var r = this;
                return r.on("show", function(t) {
                    e(t.control, r.value())
                }), r.state.on("change:value", function(e) {
                    var t = n(r.state.get("menu"), e.value);
                    t ? r.text(t.text) : r.text(r.settings.text)
                }), r._super()
            }
        })
    }), r(Jt, [xt], function(e) {
        return e.extend({
            Defaults: {
                classes: "radio",
                role: "radio"
            }
        })
    }), r(Qt, [Pe, _e], function(e, t) {
        return e.extend({
            renderHtml: function() {
                var e = this,
                    t = e.classPrefix;
                return e.classes.add("resizehandle"), "both" == e.settings.direction && e.classes.add("resizehandle-both"), e.canFocus = !1, '<div id="' + e._id + '" class="' + e.classes + '"><i class="' + t + "ico " + t + 'i-resize"></i></div>'
            },
            postRender: function() {
                var e = this;
                e._super(), e.resizeDragHelper = new t(this._id, {
                    start: function() {
                        e.fire("ResizeStart")
                    },
                    drag: function(t) {
                        "both" != e.settings.direction && (t.deltaX = 0), e.fire("Resize", t)
                    },
                    stop: function() {
                        e.fire("ResizeEnd")
                    }
                })
            },
            remove: function() {
                return this.resizeDragHelper && this.resizeDragHelper.destroy(), this._super()
            }
        })
    }), r(Zt, [Pe], function(e) {
        function t(e) {
            var t = "";
            if (e)
                for (var n = 0; n < e.length; n++) t += '<option value="' + e[n] + '">' + e[n] + "</option>";
            return t
        }
        return e.extend({
            Defaults: {
                classes: "selectbox",
                role: "selectbox",
                options: []
            },
            init: function(e) {
                var t = this;
                t._super(e), t.settings.size && (t.size = t.settings.size), t.settings.options && (t._options = t.settings.options), t.on("keydown", function(e) {
                    var n;
                    13 == e.keyCode && (e.preventDefault(), t.parents().reverse().each(function(e) {
                        if (e.toJSON) return n = e, !1
                    }), t.fire("submit", {
                        data: n.toJSON()
                    }))
                })
            },
            options: function(e) {
                return arguments.length ? (this.state.set("options", e), this) : this.state.get("options")
            },
            renderHtml: function() {
                var e = this,
                    n, r = "";
                return n = t(e._options), e.size && (r = ' size = "' + e.size + '"'), '<select id="' + e._id + '" class="' + e.classes + '"' + r + ">" + n + "</select>"
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:options", function(n) {
                    e.getEl().innerHTML = t(n.value)
                }), e._super()
            }
        })
    }), r(en, [Pe, _e, ve], function(e, t, n) {
        function r(e, t, n) {
            return e < t && (e = t), e > n && (e = n), e
        }

        function i(e, t, n) {
            e.setAttribute("aria-" + t, n)
        }

        function o(e, t) {
            var r, o, a, s, l, u;
            "v" == e.settings.orientation ? (s = "top", a = "height", o = "h") : (s = "left", a = "width", o = "w"), u = e.getEl("handle"), r = (e.layoutRect()[o] || 100) - n.getSize(u)[a], l = r * ((t - e._minValue) / (e._maxValue - e._minValue)) + "px", u.style[s] = l, u.style.height = e.layoutRect().h + "px", i(u, "valuenow", t), i(u, "valuetext", "" + e.settings.previewFilter(t)), i(u, "valuemin", e._minValue), i(u, "valuemax", e._maxValue)
        }
        return e.extend({
            init: function(e) {
                var t = this;
                e.previewFilter || (e.previewFilter = function(e) {
                    return Math.round(100 * e) / 100
                }), t._super(e), t.classes.add("slider"), "v" == e.orientation && t.classes.add("vertical"), t._minValue = e.minValue || 0, t._maxValue = e.maxValue || 100, t._initValue = t.state.get("value")
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.classPrefix;
                return '<div id="' + t + '" class="' + e.classes + '"><div id="' + t + '-handle" class="' + n + 'slider-handle" role="slider" tabindex="-1"></div></div>'
            },
            reset: function() {
                this.value(this._initValue).repaint()
            },
            postRender: function() {
                function e(e, t, n) {
                    return (n + e) / (t - e)
                }

                function i(e, t, n) {
                    return n * (t - e) - e
                }

                function o(t, n) {
                    function o(o) {
                        var a;
                        a = s.value(), a = i(t, n, e(t, n, a) + .05 * o), a = r(a, t, n), s.value(a), s.fire("dragstart", {
                            value: a
                        }), s.fire("drag", {
                            value: a
                        }), s.fire("dragend", {
                            value: a
                        })
                    }
                    s.on("keydown", function(e) {
                        switch (e.keyCode) {
                            case 37:
                            case 38:
                                o(-1);
                                break;
                            case 39:
                            case 40:
                                o(1)
                        }
                    })
                }

                function a(e, i, o) {
                    var a, l, u, h, m;
                    s._dragHelper = new t(s._id, {
                        handle: s._id + "-handle",
                        start: function(e) {
                            a = e[c], l = parseInt(s.getEl("handle").style[d], 10), u = (s.layoutRect()[p] || 100) - n.getSize(o)[f], s.fire("dragstart", {
                                value: m
                            })
                        },
                        drag: function(t) {
                            var n = t[c] - a;
                            h = r(l + n, 0, u), o.style[d] = h + "px", m = e + h / u * (i - e), s.value(m), s.tooltip().text("" + s.settings.previewFilter(m)).show().moveRel(o, "bc tc"), s.fire("drag", {
                                value: m
                            })
                        },
                        stop: function() {
                            s.tooltip().hide(), s.fire("dragend", {
                                value: m
                            })
                        }
                    })
                }
                var s = this,
                    l, u, c, d, f, p;
                l = s._minValue, u = s._maxValue, "v" == s.settings.orientation ? (c = "screenY", d = "top", f = "height", p = "h") : (c = "screenX", d = "left", f = "width", p = "w"), s._super(), o(l, u, s.getEl("handle")), a(l, u, s.getEl("handle"))
            },
            repaint: function() {
                this._super(), o(this, this.value())
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:value", function(t) {
                    o(e, t.value)
                }), e._super()
            }
        })
    }), r(tn, [Pe], function(e) {
        return e.extend({
            renderHtml: function() {
                var e = this;
                return e.classes.add("spacer"), e.canFocus = !1, '<div id="' + e._id + '" class="' + e.classes + '"></div>'
            }
        })
    }), r(nn, [jt, ve, g], function(e, t, n) {
        return e.extend({
            Defaults: {
                classes: "widget btn splitbtn",
                role: "button"
            },
            repaint: function() {
                var e = this,
                    r = e.getEl(),
                    i = e.layoutRect(),
                    o, a;
                return e._super(), o = r.firstChild, a = r.lastChild, n(o).css({
                    width: i.w - t.getSize(a).width,
                    height: i.h - 2
                }), n(a).css({
                    height: i.h - 2
                }), e
            },
            activeMenu: function(e) {
                var t = this;
                n(t.getEl().lastChild).toggleClass(t.classPrefix + "active", e)
            },
            renderHtml: function() {
                var e = this,
                    t = e._id,
                    n = e.classPrefix,
                    r, i = e.state.get("icon"),
                    o = e.state.get("text"),
                    a = "";
                return r = e.settings.image, r ? (i = "none", "string" != typeof r && (r = window.getSelection ? r[0] : r[1]), r = " style=\"background-image: url('" + r + "')\"") : r = "", i = e.settings.icon ? n + "ico " + n + "i-" + i : "", o && (e.classes.add("btn-has-text"), a = '<span class="' + n + 'txt">' + e.encode(o) + "</span>"), '<div id="' + t + '" class="' + e.classes + '" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">' + (i ? '<i class="' + i + '"' + r + "></i>" : "") + a + '</button><button type="button" class="' + n + 'open" hidefocus="1" tabindex="-1">' + (e._menuBtnText ? (i ? "\xa0" : "") + e._menuBtnText : "") + ' <i class="' + n + 'caret"></i></button></div>'
            },
            postRender: function() {
                var e = this,
                    t = e.settings.onclick;
                return e.on("click", function(e) {
                    var n = e.target;
                    if (e.control == this)
                        for (; n;) {
                            if (e.aria && "down" != e.aria.key || "BUTTON" == n.nodeName && n.className.indexOf("open") == -1) return e.stopImmediatePropagation(), void(t && t.call(this, e));
                            n = n.parentNode
                        }
                }), delete e.settings.onclick, e._super()
            }
        })
    }), r(rn, [Ht], function(e) {
        return e.extend({
            Defaults: {
                containerClass: "stack-layout",
                controlClass: "stack-layout-item",
                endClass: "break"
            },
            isNative: function() {
                return !0
            }
        })
    }), r(on, [ke, g, ve], function(e, t, n) {
        return e.extend({
            Defaults: {
                layout: "absolute",
                defaults: {
                    type: "panel"
                }
            },
            activateTab: function(e) {
                var n;
                this.activeTabId && (n = this.getEl(this.activeTabId), t(n).removeClass(this.classPrefix + "active"), n.setAttribute("aria-selected", "false")), this.activeTabId = "t" + e, n = this.getEl("t" + e), n.setAttribute("aria-selected", "true"), t(n).addClass(this.classPrefix + "active"), this.items()[e].show().fire("showtab"), this.reflow(), this.items().each(function(t, n) {
                    e != n && t.hide()
                })
            },
            renderHtml: function() {
                var e = this,
                    t = e._layout,
                    n = "",
                    r = e.classPrefix;
                return e.preRender(), t.preRender(e), e.items().each(function(t, i) {
                    var o = e._id + "-t" + i;
                    t.aria("role", "tabpanel"), t.aria("labelledby", o), n += '<div id="' + o + '" class="' + r + 'tab" unselectable="on" role="tab" aria-controls="' + t._id + '" aria-selected="false" tabIndex="-1">' + e.encode(t.settings.title) + "</div>"
                }), '<div id="' + e._id + '" class="' + e.classes + '" hidefocus="1" tabindex="-1"><div id="' + e._id + '-head" class="' + r + 'tabs" role="tablist">' + n + '</div><div id="' + e._id + '-body" class="' + e.bodyClasses + '">' + t.renderHtml(e) + "</div></div>"
            },
            postRender: function() {
                var e = this;
                e._super(), e.settings.activeTab = e.settings.activeTab || 0, e.activateTab(e.settings.activeTab), this.on("click", function(t) {
                    var n = t.target.parentNode;
                    if (n && n.id == e._id + "-head")
                        for (var r = n.childNodes.length; r--;) n.childNodes[r] == t.target && e.activateTab(r)
                })
            },
            initLayoutRect: function() {
                var e = this,
                    t, r, i;
                r = n.getSize(e.getEl("head")).width, r = r < 0 ? 0 : r, i = 0, e.items().each(function(e) {
                    r = Math.max(r, e.layoutRect().minW), i = Math.max(i, e.layoutRect().minH)
                }), e.items().each(function(e) {
                    e.settings.x = 0, e.settings.y = 0, e.settings.w = r, e.settings.h = i, e.layoutRect({
                        x: 0,
                        y: 0,
                        w: r,
                        h: i
                    })
                });
                var o = n.getSize(e.getEl("head")).height;
                return e.settings.minWidth = r, e.settings.minHeight = i + o, t = e._super(), t.deltaH += o, t.innerH = t.h - t.deltaH, t
            }
        })
    }), r(an, [Pe, m, ve], function(e, t, n) {
        return e.extend({
            init: function(e) {
                var t = this;
                t._super(e), t.classes.add("textbox"), e.multiline ? t.classes.add("multiline") : (t.on("keydown", function(e) {
                    var n;
                    13 == e.keyCode && (e.preventDefault(), t.parents().reverse().each(function(e) {
                        if (e.toJSON) return n = e, !1
                    }), t.fire("submit", {
                        data: n.toJSON()
                    }))
                }), t.on("keyup", function(e) {
                    t.state.set("value", e.target.value)
                }))
            },
            repaint: function() {
                var e = this,
                    t, n, r, i, o = 0,
                    a;
                t = e.getEl().style, n = e._layoutRect, a = e._lastRepaintRect || {};
                var s = document;
                return !e.settings.multiline && s.all && (!s.documentMode || s.documentMode <= 8) && (t.lineHeight = n.h - o + "px"), r = e.borderBox, i = r.left + r.right + 8, o = r.top + r.bottom + (e.settings.multiline ? 8 : 0), n.x !== a.x && (t.left = n.x + "px", a.x = n.x), n.y !== a.y && (t.top = n.y + "px", a.y = n.y), n.w !== a.w && (t.width = n.w - i + "px", a.w = n.w), n.h !== a.h && (t.height = n.h - o + "px", a.h = n.h), e._lastRepaintRect = a, e.fire("repaint", {}, !1), e
            },
            renderHtml: function() {
                var e = this,
                    r = e.settings,
                    i, o;
                return i = {
                    id: e._id,
                    hidefocus: "1"
                }, t.each(["rows", "spellcheck", "maxLength", "size", "readonly", "min", "max", "step", "list", "pattern", "placeholder", "required", "multiple"], function(e) {
                    i[e] = r[e]
                }), e.disabled() && (i.disabled = "disabled"), r.subtype && (i.type = r.subtype), o = n.create(r.multiline ? "textarea" : "input", i), o.value = e.state.get("value"), o.className = e.classes, o.outerHTML
            },
            value: function(e) {
                return arguments.length ? (this.state.set("value", e), this) : (this.state.get("rendered") && this.state.set("value", this.getEl().value), this.state.get("value"))
            },
            postRender: function() {
                var e = this;
                e.getEl().value = e.state.get("value"), e._super(), e.$el.on("change", function(t) {
                    e.state.set("value", t.target.value), e.fire("change", t)
                })
            },
            bindStates: function() {
                var e = this;
                return e.state.on("change:value", function(t) {
                    e.getEl().value != t.value && (e.getEl().value = t.value)
                }), e.state.on("change:disabled", function(t) {
                    e.getEl().disabled = t.value
                }), e._super()
            },
            remove: function() {
                this.$el.off(), this._super()
            }
        })
    }), r(sn, [], function() {
        var e = this || window,
            t = function() {
                return e.tinymce
            };
        return "function" == typeof e.define && (e.define.amd || e.define("ephox/tinymce", [], t)), "object" == typeof module && (module.exports = window.tinymce), {}
    }), a([l, u, c, d, f, p, m, g, v, y, C, w, E, N, T, A, B, D, L, M, P, O, I, F, j, Y, J, te, le, ue, ce, de, pe, me, ge, Ce, xe, we, Ee, Ne, _e, Se, ke, Te, Re, Ae, Be, De, Le, Me, Pe, Oe, He, Ie, Ue, Ve, at, st, lt, ut, dt, ft, pt, ht, mt, gt, vt, yt, bt, Ct, xt, wt, Et, Nt, _t, St, kt, Tt, Rt, At, Bt, Dt, Mt, Pt, Ot, Ht, Ft, zt, Ut, Wt, Vt, $t, qt, jt, Yt, Xt, Kt, Gt, Jt, Qt, Zt, en, tn, nn, rn, on, an])
}(window);;
! function() {
    var e = {},
        t = function(t) {
            for (var n = e[t], i = n.deps, o = n.defn, a = i.length, s = new Array(a), l = 0; l < a; ++l) s[l] = r(i[l]);
            var c = o.apply(null, s);
            if (void 0 === c) throw "module [" + t + "] returned undefined";
            n.instance = c
        },
        n = function(t, n, r) {
            if ("string" != typeof t) throw "module id must be a string";
            if (void 0 === n) throw "no dependencies for " + t;
            if (void 0 === r) throw "no definition function for " + t;
            e[t] = {
                deps: n,
                defn: r,
                instance: void 0
            }
        },
        r = function(n) {
            var r = e[n];
            if (void 0 === r) throw "module [" + n + "] was undefined";
            return void 0 === r.instance && t(n), r.instance
        },
        i = function(e, t) {
            for (var n = e.length, i = new Array(n), o = 0; o < n; ++o) i.push(r(e[o]));
            t.apply(null, t)
        },
        o = {};
    o.bolt = {
        module: {
            api: {
                define: n,
                require: i,
                demand: r
            }
        }
    };
    var a = n,
        s = function(e, t) {
            a(e, [], function() {
                return t
            })
        };
    s("1", tinymce.Env), s("2", tinymce.EditorManager), s("3", tinymce.ThemeManager), s("8", tinymce.util.Tools), s("9", tinymce.ui.Factory), s("a", tinymce.DOM), a("b", ["8", "9"], function(e, t) {
        var n = "undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",
            r = function(n, r, i) {
                var o, a = [];
                if (r) return e.each(r.split(/[ ,]/), function(e) {
                    var r, s = function() {
                        var t = n.selection;
                        e.settings.stateSelector && t.selectorChanged(e.settings.stateSelector, function(t) {
                            e.active(t)
                        }, !0), e.settings.disabledStateSelector && t.selectorChanged(e.settings.disabledStateSelector, function(t) {
                            e.disabled(t)
                        })
                    };
                    "|" == e ? o = null : t.has(e) ? (e = {
                        type: e,
                        size: i
                    }, a.push(e), o = null) : (o || (o = {
                        type: "buttongroup",
                        items: []
                    }, a.push(o)), n.buttons[e] && (r = e, e = n.buttons[r], "function" == typeof e && (e = e()), e.type = e.type || "button", e.size = i, e = t.create(e), o.items.push(e), n.initialized ? s() : n.on("init", s)))
                }), {
                    type: "toolbar",
                    layout: "flow",
                    items: a
                }
            },
            i = function(t, i) {
                var o = [],
                    a = t.settings,
                    s = function(e) {
                        if (e) return o.push(r(t, e, i)), !0
                    };
                if (e.isArray(a.toolbar)) {
                    if (0 === a.toolbar.length) return;
                    e.each(a.toolbar, function(e, t) {
                        a["toolbar" + (t + 1)] = e
                    }), delete a.toolbar
                }
                for (var l = 1; l < 10 && s(a["toolbar" + l]); l++);
                if (o.length || a.toolbar === !1 || s(a.toolbar || n), o.length) return {
                    type: "panel",
                    layout: "stack",
                    classes: "toolbar-grp",
                    ariaRoot: !0,
                    ariaRemember: !0,
                    items: o
                }
            };
        return {
            createToolbar: r,
            createToolbars: i
        }
    }), a("c", ["8"], function(e) {
        var t = {
                file: {
                    title: "File",
                    items: "newdocument"
                },
                edit: {
                    title: "Edit",
                    items: "undo redo | cut copy paste pastetext | selectall"
                },
                insert: {
                    title: "Insert",
                    items: "|"
                },
                view: {
                    title: "View",
                    items: "visualaid |"
                },
                format: {
                    title: "Format",
                    items: "bold italic underline strikethrough superscript subscript | formats | removeformat"
                },
                table: {
                    title: "Table"
                },
                tools: {
                    title: "Tools"
                }
            },
            n = function(e, t) {
                var n;
                return "|" == t ? {
                    text: "|"
                } : n = e[t]
            },
            r = function(r, i, o) {
                var a, s, l, c, u;
                if (u = e.makeMap((i.removed_menuitems || "").split(/[ ,]/)), i.menu ? (s = i.menu[o], c = !0) : s = t[o], s) {
                    a = {
                        text: s.title
                    }, l = [], e.each((s.items || "").split(/[ ,]/), function(e) {
                        var t = n(r, e);
                        t && !u[e] && l.push(n(r, e))
                    }), c || e.each(r, function(e) {
                        e.context == o && ("before" == e.separator && l.push({
                            text: "|"
                        }), e.prependToContext ? l.unshift(e) : l.push(e), "after" == e.separator && l.push({
                            text: "|"
                        }))
                    });
                    for (var d = 0; d < l.length; d++) "|" == l[d].text && (0 !== d && d != l.length - 1 || l.splice(d, 1));
                    if (a.menu = l, !a.menu.length) return null
                }
                return a
            },
            i = function(e) {
                var n, i = [],
                    o = e.settings,
                    a = [];
                if (o.menu)
                    for (n in o.menu) a.push(n);
                else
                    for (n in t) a.push(n);
                for (var s = "string" == typeof o.menubar ? o.menubar.split(/[ ,]/) : a, l = 0; l < s.length; l++) {
                    var c = s[l];
                    c = r(e.menuItems, e.settings, c), c && i.push(c)
                }
                return i
            };
        return {
            createMenuButtons: i
        }
    }), s("j", tinymce.util.Delay), s("k", tinymce.geom.Rect), a("d", ["a", "8", "j", "b", "9", "k"], function(e, t, n, r, i, o) {
        var a = function(e) {
                return {
                    left: e.x,
                    top: e.y,
                    width: e.w,
                    height: e.h,
                    right: e.x + e.w,
                    bottom: e.y + e.h
                }
            },
            s = function(e) {
                t.each(e.contextToolbars, function(e) {
                    e.panel && e.panel.hide()
                })
            },
            l = function(e, t) {
                e.moveTo(t.left, t.top)
            },
            c = function(e, n, r) {
                n = n ? n.substr(0, 2) : "", t.each({
                    t: "down",
                    b: "up"
                }, function(t, i) {
                    e.classes.toggle("arrow-" + t, r(i, n.substr(0, 1)))
                }), t.each({
                    l: "left",
                    r: "right"
                }, function(t, i) {
                    e.classes.toggle("arrow-" + t, r(i, n.substr(1, 1)))
                })
            },
            u = function(e, t, n, r, i, o) {
                return o = a({
                    x: t,
                    y: n,
                    w: o.w,
                    h: o.h
                }), e && (o = e({
                    elementRect: a(r),
                    contentAreaRect: a(i),
                    panelRect: o
                })), o
            },
            d = function(a) {
                var d, f = a.settings,
                    p = function() {
                        return a.contextToolbars || []
                    },
                    m = function(t) {
                        var n, r, i;
                        return n = e.getPos(a.getContentAreaContainer()), r = a.dom.getRect(t), i = a.dom.getRoot(), "BODY" === i.nodeName && (r.x -= i.ownerDocument.documentElement.scrollLeft || i.scrollLeft, r.y -= i.ownerDocument.documentElement.scrollTop || i.scrollTop), r.x += n.x, r.y += n.y, r
                    },
                    g = function(t, n) {
                        var r, i, d, p, g, h, v, b, y = f.inline_toolbar_position_handler;
                        if (!a.removed) {
                            if (!t || !t.toolbar.panel) return void s(a);
                            v = ["bc-tc", "tc-bc", "tl-bl", "bl-tl", "tr-br", "br-tr"], g = t.toolbar.panel, n && g.show(), d = m(t.element), i = e.getRect(g.getEl()), p = e.getRect(a.getContentAreaContainer() || a.getBody()), b = 25, "inline" !== e.getStyle(t.element, "display", !0) && (d.w = t.element.clientWidth, d.h = t.element.clientHeight), a.inline || (p.w = a.getDoc().documentElement.offsetWidth), a.selection.controlSelection.isResizable(t.element) && d.w < b && (d = o.inflate(d, 0, 8)), r = o.findBestRelativePosition(i, d, p, v), d = o.clamp(d, p), r ? (h = o.relativePosition(i, d, r), l(g, u(y, h.x, h.y, d, p, i))) : (p.h += i.h, d = o.intersect(p, d), d ? (r = o.findBestRelativePosition(i, d, p, ["bc-tc", "bl-tl", "br-tr"]), r ? (h = o.relativePosition(i, d, r), l(g, u(y, h.x, h.y, d, p, i))) : l(g, u(y, d.x, d.y, d, p, i))) : g.hide()), c(g, r, function(e, t) {
                                return e === t
                            })
                        }
                    },
                    h = function(e) {
                        return function() {
                            var t = function() {
                                a.selection && g(x(a.selection.getNode()), e)
                            };
                            n.requestAnimationFrame(t)
                        }
                    },
                    v = function() {
                        d || (d = a.selection.getScrollContainer() || a.getWin(), e.bind(d, "scroll", h(!0)), a.on("remove", function() {
                            e.unbind(d, "scroll")
                        }))
                    },
                    b = function(e) {
                        var t;
                        return e.toolbar.panel ? (e.toolbar.panel.show(), void g(e)) : (v(), t = i.create({
                            type: "floatpanel",
                            role: "dialog",
                            classes: "tinymce tinymce-inline arrow",
                            ariaLabel: "Inline toolbar",
                            layout: "flex",
                            direction: "column",
                            align: "stretch",
                            autohide: !1,
                            autofix: !0,
                            fixed: !0,
                            border: 1,
                            items: r.createToolbar(a, e.toolbar.items),
                            oncancel: function() {
                                a.focus()
                            }
                        }), e.toolbar.panel = t, t.renderTo(document.body).reflow(), void g(e))
                    },
                    y = function() {
                        t.each(p(), function(e) {
                            e.panel && e.panel.hide()
                        })
                    },
                    x = function(e) {
                        var t, n, r, i = p();
                        for (r = a.$(e).parents().add(e), t = r.length - 1; t >= 0; t--)
                            for (n = i.length - 1; n >= 0; n--)
                                if (i[n].predicate(r[t])) return {
                                    toolbar: i[n],
                                    element: r[t]
                                };
                        return null
                    };
                a.on("click keyup setContent ObjectResized", function(e) {
                    ("setcontent" !== e.type || e.selection) && n.setEditorTimeout(a, function() {
                        var e;
                        e = x(a.selection.getNode()), e ? (y(), b(e)) : y()
                    })
                }), a.on("blur hide contextmenu", y), a.on("ObjectResizeStart", function() {
                    var e = x(a.selection.getNode());
                    e && e.toolbar.panel && e.toolbar.panel.hide()
                }), a.on("ResizeEditor ResizeWindow", h(!0)), a.on("nodeChange", h(!1)), a.on("remove", function() {
                    t.each(p(), function(e) {
                        e.panel && e.panel.remove()
                    }), a.contextToolbars = {}
                }), a.shortcuts.add("ctrl+shift+e > ctrl+shift+p", "", function() {
                    var e = x(a.selection.getNode());
                    e && e.toolbar.panel && e.toolbar.panel.items()[0].focus()
                })
            };
        return {
            addContextualToolbars: d
        }
    }), a("e", [], function() {
        var e = function(e, t) {
                return function() {
                    var n = e.find(t)[0];
                    n && n.focus(!0)
                }
            },
            t = function(t, n) {
                t.shortcuts.add("Alt+F9", "", e(n, "menubar")), t.shortcuts.add("Alt+F10,F10", "", e(n, "toolbar")), t.shortcuts.add("Alt+F11", "", e(n, "elementpath")), n.on("cancel", function() {
                    t.focus()
                })
            };
        return {
            addKeys: t
        }
    }), a("f", ["8", "9", "1"], function(e, t, n) {
        var r = function(e) {
                return {
                    element: function() {
                        return e
                    }
                }
            },
            i = function(e, t, n) {
                var i = e.settings[n];
                i && i(r(t.getEl("body")))
            },
            o = function(t, n, r) {
                e.each(r, function(e) {
                    var r = n.items().filter("#" + e.name)[0];
                    r && r.visible() && e.name !== t && (i(e, r, "onhide"), r.visible(!1))
                })
            },
            a = function(e) {
                e.items().each(function(e) {
                    e.active(!1)
                })
            },
            s = function(t, n) {
                return e.grep(t, function(e) {
                    return e.name === n
                })[0]
            },
            l = function(e, n, r) {
                return function(l) {
                    var c = l.control,
                        u = c.parents().filter("panel")[0],
                        d = u.find("#" + n)[0],
                        f = s(r, n);
                    o(n, u, r), a(c.parent()), d && d.visible() ? (i(f, d, "onhide"), d.hide(), c.active(!1)) : (d ? (d.show(), i(f, d, "onshow")) : (d = t.create({
                        type: "container",
                        name: n,
                        layout: "stack",
                        classes: "sidebar-panel",
                        html: ""
                    }), u.prepend(d), i(f, d, "onrender"), i(f, d, "onshow")), c.active(!0)), e.fire("ResizeEditor")
                }
            },
            c = function() {
                return !n.ie || n.ie >= 11
            },
            u = function(e) {
                return !(!c() || !e.sidebars) && e.sidebars.length > 0
            },
            d = function(t) {
                var n = e.map(t.sidebars, function(e) {
                    var n = e.settings;
                    return {
                        type: "button",
                        icon: n.icon,
                        image: n.image,
                        tooltip: n.tooltip,
                        onclick: l(t, e.name, t.sidebars)
                    }
                });
                return {
                    type: "panel",
                    name: "sidebar",
                    layout: "stack",
                    classes: "sidebar",
                    items: [{
                        type: "toolbar",
                        layout: "stack",
                        classes: "sidebar-toolbar",
                        items: n
                    }]
                }
            };
        return {
            hasSidebar: u,
            createSidebar: d
        }
    }), a("g", [], function() {
        var e = function(e) {
            var t = function() {
                e._skinLoaded = !0, e.fire("SkinLoaded")
            };
            return function() {
                e.initialized ? t() : e.on("init", t)
            }
        };
        return {
            fireSkinLoaded: e
        }
    }), a("6", ["a"], function(e) {
        var t = function(e) {
                return {
                    width: e.clientWidth,
                    height: e.clientHeight
                }
            },
            n = function(n, r, i) {
                var o, a, s, l, c = n.settings;
                o = n.getContainer(), a = n.getContentAreaContainer().firstChild, s = t(o), l = t(a), null !== r && (r = Math.max(c.min_width || 100, r), r = Math.min(c.max_width || 65535, r), e.setStyle(o, "width", r + (s.width - l.width)), e.setStyle(a, "width", r)), i = Math.max(c.min_height || 100, i), i = Math.min(c.max_height || 65535, i), e.setStyle(a, "height", i), n.fire("ResizeEditor")
            },
            r = function(e, t, r) {
                var i = e.getContentAreaContainer();
                n(e, i.clientWidth + t, i.clientHeight + r)
            };
        return {
            resizeTo: n,
            resizeBy: r
        }
    }), a("4", ["8", "9", "a", "b", "c", "d", "e", "f", "g", "6"], function(e, t, n, r, i, o, a, s, l, c) {
        var u = function(e) {
                return function(t) {
                    e.find("*").disabled("readonly" === t.mode)
                }
            },
            d = function(e) {
                return {
                    type: "panel",
                    name: "iframe",
                    layout: "stack",
                    classes: "edit-area",
                    border: e,
                    html: ""
                }
            },
            f = function(e) {
                return {
                    type: "panel",
                    layout: "stack",
                    classes: "edit-aria-container",
                    border: "1 0 0 0",
                    items: [d("0"), s.createSidebar(e)]
                }
            },
            p = function(e, p, m) {
                var g, h, v, b = e.settings;
                return m.skinUiCss && n.styleSheetLoader.load(m.skinUiCss, l.fireSkinLoaded(e)), g = p.panel = t.create({
                    type: "panel",
                    role: "application",
                    classes: "tinymce",
                    style: "visibility: hidden",
                    layout: "stack",
                    border: 1,
                    items: [b.menubar === !1 ? null : {
                        type: "menubar",
                        border: "0 0 1 0",
                        items: i.createMenuButtons(e)
                    }, r.createToolbars(e, b.toolbar_items_size), s.hasSidebar(e) ? f(e) : d("1 0 0 0")]
                }), b.resize !== !1 && (h = {
                    type: "resizehandle",
                    direction: b.resize,
                    onResizeStart: function() {
                        var t = e.getContentAreaContainer().firstChild;
                        v = {
                            width: t.clientWidth,
                            height: t.clientHeight
                        }
                    },
                    onResize: function(t) {
                        "both" === b.resize ? c.resizeTo(e, v.width + t.deltaX, v.height + t.deltaY) : c.resizeTo(e, null, v.height + t.deltaY)
                    }
                }), b.statusbar !== !1 && g.add({
                    type: "panel",
                    name: "statusbar",
                    classes: "statusbar",
                    layout: "flow",
                    border: "1 0 0 0",
                    ariaRoot: !0,
                    items: [{
                        type: "elementpath",
                        editor: e
                    }, h]
                }), e.fire("BeforeRenderUI"), e.on("SwitchMode", u(g)), g.renderBefore(m.targetNode).reflow(), b.readonly && e.setMode("readonly"), b.width && n.setStyle(g.getEl(), "width", b.width), e.on("remove", function() {
                    g.remove(), g = null
                }), a.addKeys(e, g), o.addContextualToolbars(e), {
                    iframeContainer: g.find("#iframe")[0].getEl(),
                    editorContainer: g.getEl()
                }
            };
        return {
            render: p
        }
    }), s("h", tinymce.ui.FloatPanel), a("5", ["8", "9", "a", "h", "b", "c", "d", "e", "g"], function(e, t, n, r, i, o, a, s, l) {
        var c = function(e, c, u) {
            var d, f, p = e.settings;
            p.fixed_toolbar_container && (f = n.select(p.fixed_toolbar_container)[0]);
            var m = function() {
                    if (d && d.moveRel && d.visible() && !d._fixed) {
                        var t = e.selection.getScrollContainer(),
                            r = e.getBody(),
                            i = 0,
                            o = 0;
                        if (t) {
                            var a = n.getPos(r),
                                s = n.getPos(t);
                            i = Math.max(0, s.x - a.x), o = Math.max(0, s.y - a.y)
                        }
                        d.fixed(!1).moveRel(r, e.rtl ? ["tr-br", "br-tr"] : ["tl-bl", "bl-tl", "tr-br"]).moveBy(i, o)
                    }
                },
                g = function() {
                    d && (d.show(), m(), n.addClass(e.getBody(), "mce-edit-focus"))
                },
                h = function() {
                    d && (d.hide(), r.hideAll(), n.removeClass(e.getBody(), "mce-edit-focus"))
                },
                v = function() {
                    return d ? void(d.visible() || g()) : (d = c.panel = t.create({
                        type: f ? "panel" : "floatpanel",
                        role: "application",
                        classes: "tinymce tinymce-inline",
                        layout: "flex",
                        direction: "column",
                        align: "stretch",
                        autohide: !1,
                        autofix: !0,
                        fixed: !!f,
                        border: 1,
                        items: [p.menubar === !1 ? null : {
                            type: "menubar",
                            border: "0 0 1 0",
                            items: o.createMenuButtons(e)
                        }, i.createToolbars(e, p.toolbar_items_size)]
                    }), e.fire("BeforeRenderUI"), d.renderTo(f || document.body).reflow(), s.addKeys(e, d), g(), a.addContextualToolbars(e), e.on("nodeChange", m), e.on("activate", g), e.on("deactivate", h), void e.nodeChanged())
                };
            return p.content_editable = !0, e.on("focus", function() {
                u.skinUiCss ? n.styleSheetLoader.load(u.skinUiCss, v, v) : v()
            }), e.on("blur hide", h), e.on("remove", function() {
                d && (d.remove(), d = null)
            }), u.skinUiCss && n.styleSheetLoader.load(u.skinUiCss, l.fireSkinLoaded(e)), {}
        };
        return {
            render: c
        }
    }), s("i", tinymce.ui.Throbber), a("7", ["i"], function(e) {
        var t = function(t, n) {
            var r;
            t.on("ProgressState", function(t) {
                r = r || new e(n.panel.getEl("body")), t.state ? r.show(t.time) : r.hide()
            })
        };
        return {
            setup: t
        }
    }), a("0", ["1", "2", "3", "4", "5", "6", "7"], function(e, t, n, r, i, o, a) {
        var s = function(n, o, s) {
            var l = n.settings,
                c = l.skin !== !1 && (l.skin || "lightgray");
            if (c) {
                var u = l.skin_url;
                u = u ? n.documentBaseURI.toAbsolute(u) : t.baseURL + "/skins/" + c, e.documentMode <= 7 ? s.skinUiCss = u + "/skin.ie7.min.css" : s.skinUiCss = u + "/skin.min.css", n.contentCSS.push(u + "/content" + (n.inline ? ".inline" : "") + ".min.css")
            }
            return a.setup(n, o), l.inline ? i.render(n, o, s) : r.render(n, o, s)
        };
        return n.add("modern", function(e) {
                return {
                    renderUI: function(t) {
                        return s(e, this, t)
                    },
                    resizeTo: function(t, n) {
                        return o.resizeTo(e, t, n)
                    },
                    resizeBy: function(t, n) {
                        return o.resizeBy(e, t, n)
                    }
                }
            }),
            function() {}
    }), r("0")()
}();;
tinymce.PluginManager.add("link", function(e) {
    function t(e) {
        return e && "A" === e.nodeName && e.href
    }

    function n(e) {
        return tinymce.util.Tools.grep(e, t).length > 0
    }

    function r(t) {
        return e.dom.getParent(t, "a[href]")
    }

    function i() {
        return r(e.selection.getStart())
    }

    function o(e) {
        var t = e.getAttribute("data-mce-href");
        return t ? t : e.getAttribute("href")
    }

    function a() {
        var t = e.plugins.contextmenu;
        return !!t && t.isContextMenuVisible()
    }

    function s(n) {
        var r, i, o;
        return !!(e.settings.link_context_toolbar && !a() && t(n) && (r = e.selection, i = r.getRng(), o = i.startContainer, 3 == o.nodeType && r.isCollapsed() && i.startOffset > 0 && i.startOffset < o.data.length))
    }

    function l(e, t) {
        document.body.appendChild(e), e.dispatchEvent(t), document.body.removeChild(e)
    }

    function c(e) {
        if (!tinymce.Env.ie || tinymce.Env.ie > 10) {
            var t = document.createElement("a");
            t.target = "_blank", t.href = e, t.rel = "noreferrer noopener";
            var n = document.createEvent("MouseEvents");
            n.initMouseEvent("click", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), l(t, n)
        } else {
            var r = window.open("", "_blank");
            if (r) {
                r.opener = null;
                var i = r.document;
                i.open(), i.write('<meta http-equiv="refresh" content="0; url=' + tinymce.DOM.encode(e) + '">'), i.close()
            }
        }
    }

    function u(t) {
        if (t) {
            var n = o(t);
            if (/^#/.test(n)) {
                var r = e.$(n);
                r.length && e.selection.scrollIntoView(r[0], !0)
            } else c(t.href)
        }
    }

    function d() {
        u(i())
    }

    function f() {
        var t = this,
            r = function(e) {
                n(e.parents) ? t.show() : t.hide()
            };
        n(e.dom.getParents(e.selection.getStart())) || t.hide(), e.on("nodechange", r), t.on("remove", function() {
            e.off("nodechange", r)
        })
    }

    function p(t) {
        return function() {
            var n = e.settings.link_list;
            "string" == typeof n ? tinymce.util.XHR.send({
                url: n,
                success: function(e) {
                    t(tinymce.util.JSON.parse(e))
                }
            }) : "function" == typeof n ? n(t) : t(n)
        }
    }

    function m(e, t, n) {
        function r(e, n) {
            return n = n || [], tinymce.each(e, function(e) {
                var i = {
                    text: e.text || e.title
                };
                e.menu ? i.menu = r(e.menu) : (i.value = e.value, t && t(i)), n.push(i)
            }), n
        }
        return r(e, n || [])
    }

    function g(t) {
        function n(e) {
            var t = d.find("#text");
            (!t.value() || e.lastControl && t.value() == e.lastControl.text()) && t.value(e.control.text()), d.find("#href").value(e.control.value())
        }

        function r(t) {
            var r = [];
            if (tinymce.each(e.dom.select("a:not([href])"), function(e) {
                    var n = e.name || e.id;
                    n && r.push({
                        text: n,
                        value: "#" + n,
                        selected: t.indexOf("#" + n) != -1
                    })
                }), r.length) return r.unshift({
                text: "None",
                value: ""
            }), {
                name: "anchor",
                type: "listbox",
                label: "Anchors",
                values: r,
                onselect: n
            }
        }

        function i() {
            !u && 0 === w.text.length && f && this.parent().parent().find("#text")[0].value(this.value())
        }

        function o(t) {
            var n = t.meta || {};
            g && g.value(e.convertURL(this.value(), "href")), tinymce.each(t.meta, function(e, t) {
                var n = d.find("#" + t);
                "text" === t ? 0 === u.length && (n.value(e), w.text = e) : n.value(e)
            }), n.attach && (h = {
                href: this.value(),
                attach: n.attach
            }), n.text || i.call(this)
        }

        function a(e) {
            var t = N.getContent();
            if (/</.test(t) && (!/^<a [^>]+>[^<]+<\/a>$/.test(t) || t.indexOf("href=") == -1)) return !1;
            if (e) {
                var n, r = e.childNodes;
                if (0 === r.length) return !1;
                for (n = r.length - 1; n >= 0; n--)
                    if (3 != r[n].nodeType) return !1
            }
            return !0
        }

        function s(e) {
            e.meta = d.toJSON()
        }
        var l, c, u, d, f, p, g, v, b, y, x, C, w = {},
            N = e.selection,
            k = e.dom;
        l = N.getNode(), c = k.getParent(l, "a[href]"), f = a(), w.text = u = c ? c.innerText || c.textContent : N.getContent({
            format: "text"
        }), w.href = c ? k.getAttrib(c, "href") : "", c ? w.target = k.getAttrib(c, "target") : e.settings.default_link_target && (w.target = e.settings.default_link_target), (C = k.getAttrib(c, "rel")) && (w.rel = C), (C = k.getAttrib(c, "class")) && (w["class"] = C), (C = k.getAttrib(c, "title")) && (w.title = C), f && (p = {
            name: "text",
            type: "textbox",
            size: 40,
            label: "Text to display",
            onchange: function() {
                w.text = this.value()
            }
        }), t && (g = {
            type: "listbox",
            label: "Link list",
            values: m(t, function(t) {
                t.value = e.convertURL(t.value || t.url, "href")
            }, [{
                text: "None",
                value: ""
            }]),
            onselect: n,
            value: e.convertURL(w.href, "href"),
            onPostRender: function() {
                g = this
            }
        }), e.settings.target_list !== !1 && (e.settings.target_list || (e.settings.target_list = [{
            text: "None",
            value: ""
        }, {
            text: "New window",
            value: "_blank"
        }]), b = {
            name: "target",
            type: "listbox",
            label: "Target",
            values: m(e.settings.target_list)
        }), e.settings.rel_list && (v = {
            name: "rel",
            type: "listbox",
            label: "Rel",
            values: m(e.settings.rel_list)
        }), e.settings.link_class_list && (y = {
            name: "class",
            type: "listbox",
            label: "Class",
            values: m(e.settings.link_class_list, function(t) {
                t.value && (t.textStyle = function() {
                    return e.formatter.getCssText({
                        inline: "a",
                        classes: [t.value]
                    })
                })
            })
        }), e.settings.link_title !== !1 && (x = {
            name: "title",
            type: "textbox",
            label: "Title",
            value: w.title
        }), d = e.windowManager.open({
            title: "Insert link",
            data: w,
            body: [{
                name: "href",
                type: "filepicker",
                filetype: "file",
                size: 40,
                autofocus: !0,
                label: "Url",
                onchange: o,
                onkeyup: i,
                onbeforecall: s
            }, p, x, r(w.href), g, v, b, y],
            onSubmit: function(t) {
                function n(t, n) {
                    var r = e.selection.getRng();
                    tinymce.util.Delay.setEditorTimeout(e, function() {
                        e.windowManager.confirm(t, function(t) {
                            e.selection.setRng(r), n(t)
                        })
                    })
                }

                function r(e, t) {
                    function n(e) {
                        return e = r(e), e ? [e, i].join(" ") : i
                    }

                    function r(e) {
                        var t = new RegExp("(" + i.replace(" ", "|") + ")", "g");
                        return e && (e = tinymce.trim(e.replace(t, ""))), e ? e : null
                    }
                    var i = "noopener noreferrer";
                    return t ? n(e) : r(e)
                }

                function i() {
                    var t = {
                        href: a,
                        target: w.target ? w.target : null,
                        rel: w.rel ? w.rel : null,
                        "class": w["class"] ? w["class"] : null,
                        title: w.title ? w.title : null
                    };
                    e.settings.allow_unsafe_link_target || (t.rel = r(t.rel, "_blank" == t.target)), a === h.href && (h.attach(), h = {}), c ? (e.focus(), f && w.text != u && ("innerText" in c ? c.innerText = w.text : c.textContent = w.text), k.setAttribs(c, t), N.select(c), e.undoManager.add()) : f ? e.insertContent(k.createHTML("a", t, k.encode(w.text))) : e.execCommand("mceInsertLink", !1, t)
                }

                function o() {
                    e.undoManager.transact(i)
                }
                var a;
                return w = tinymce.extend(w, t.data), (a = w.href) ? a.indexOf("@") > 0 && a.indexOf("//") == -1 && a.indexOf("mailto:") == -1 ? void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?", function(e) {
                    e && (a = "mailto:" + a), o()
                }) : e.settings.link_assume_external_targets && !/^\w+:/i.test(a) || !e.settings.link_assume_external_targets && /^\s*www[\.|\d\.]/i.test(a) ? void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?", function(e) {
                    e && (a = "http://" + a), o()
                }) : void o() : void e.execCommand("unlink")
            }
        })
    }
    var h = {},
        v = function(e) {
            return e.altKey === !0 && e.shiftKey === !1 && e.ctrlKey === !1 && e.metaKey === !1
        };
    e.addButton("link", {
        icon: "link",
        tooltip: "Insert/edit link",
        shortcut: "Meta+K",
        onclick: p(g),
        stateSelector: "a[href]"
    }), e.addButton("unlink", {
        icon: "unlink",
        tooltip: "Remove link",
        cmd: "unlink",
        stateSelector: "a[href]"
    }), e.addContextToolbar && (e.addButton("openlink", {
        icon: "newtab",
        tooltip: "Open link",
        onclick: d
    }), e.addContextToolbar(s, "openlink | link unlink")), e.addShortcut("Meta+K", "", p(g)), e.addCommand("mceLink", p(g)), e.on("click", function(e) {
        var t = r(e.target);
        t && tinymce.util.VK.metaKeyPressed(e) && (e.preventDefault(), u(t))
    }), e.on("keydown", function(e) {
        var t = i();
        t && 13 === e.keyCode && v(e) && (e.preventDefault(), u(t))
    }), this.showDialog = g, e.addMenuItem("openlink", {
        text: "Open link",
        icon: "newtab",
        onclick: d,
        onPostRender: f,
        prependToContext: !0
    }), e.addMenuItem("link", {
        icon: "link",
        text: "Link",
        shortcut: "Meta+K",
        onclick: p(g),
        stateSelector: "a[href]",
        context: "insert",
        prependToContext: !0
    })
});;
! function(e, t) {
    "use strict";

    function n(e, t) {
        for (var n, r = [], o = 0; o < e.length; ++o) {
            if (n = a[e[o]] || i(e[o]), !n) throw "module definition dependecy not found: " + e[o];
            r.push(n)
        }
        t.apply(null, r)
    }

    function r(e, r, i) {
        if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";
        if (r === t) throw "invalid module definition, dependencies must be specified";
        if (i === t) throw "invalid module definition, definition function must be specified";
        n(r, function() {
            a[e] = i.apply(null, arguments)
        })
    }

    function i(t) {
        for (var n = e, r = t.split(/[.\/]/), i = 0; i < r.length; ++i) {
            if (!n[r[i]]) return;
            n = n[r[i]]
        }
        return n
    }

    function o(n) {
        var r, i, o, s, l;
        for (r = 0; r < n.length; r++) {
            i = e, o = n[r], s = o.split(/[.\/]/);
            for (var c = 0; c < s.length - 1; ++c) i[s[c]] === t && (i[s[c]] = {}), i = i[s[c]];
            i[s[s.length - 1]] = a[o]
        }
        if (e.AMDLC_TESTS) {
            l = e.privateModules || {};
            for (o in a) l[o] = a[o];
            for (r = 0; r < n.length; r++) delete l[n[r]];
            e.privateModules = l
        }
    }
    var a = {};
    r("tinymce/pasteplugin/Utils", ["tinymce/util/Tools", "tinymce/html/DomParser", "tinymce/html/Schema"], function(e, t, n) {
        function r(t, n) {
            return e.each(n, function(e) {
                t = e.constructor == RegExp ? t.replace(e, "") : t.replace(e[0], e[1])
            }), t
        }

        function i(i) {
            function o(e) {
                var t = e.name,
                    n = e;
                if ("br" === t) return void(l += "\n");
                if (c[t] && (l += " "), u[t]) return void(l += " ");
                if (3 == e.type && (l += e.value), !e.shortEnded && (e = e.firstChild))
                    do o(e); while (e = e.next);
                d[t] && n.next && (l += "\n", "p" == t && (l += "\n"))
            }
            var a = new n,
                s = new t({}, a),
                l = "",
                c = a.getShortEndedElements(),
                u = e.makeMap("script noscript style textarea video audio iframe object", " "),
                d = a.getBlockElements();
            return i = r(i, [/<!\[[^\]]+\]>/g]), o(s.parse(i)), l
        }

        function o(e) {
            function t(e, t, n) {
                return t || n ? "\xa0" : " "
            }
            return e = r(s(e), [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g, t], /<br class="Apple-interchange-newline">/g, /<br>$/i])
        }

        function a(e) {
            var t = 0;
            return function() {
                return e + t++
            }
        }
        var s = function(e) {
            var t = "<!--StartFragment-->",
                n = "<!--EndFragment-->",
                r = e.indexOf(t);
            if (r !== -1) {
                var i = e.substr(r + t.length),
                    o = i.indexOf(n);
                if (o !== -1 && /^<\/(p|h[1-6]|li)>/i.test(i.substr(o + n.length, 5))) return i.substr(0, o)
            }
            return e
        };
        return {
            filter: r,
            innerText: i,
            trimHtml: o,
            createIdGenerator: a
        }
    }), r("tinymce/pasteplugin/SmartPaste", ["tinymce/util/Tools"], function(e) {
        var t = function(e) {
                return /^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)
            },
            n = function(e) {
                return t(e) && /.(gif|jpe?g|png)$/.test(e)
            },
            r = function(e, t, n) {
                return e.undoManager.extra(function() {
                    n(e, t)
                }, function() {
                    e.insertContent('<img src="' + t + '">')
                }), !0
            },
            i = function(e, t, n) {
                return e.undoManager.extra(function() {
                    n(e, t)
                }, function() {
                    e.execCommand("mceInsertLink", !1, t)
                }), !0
            },
            o = function(e, n, r) {
                return !(e.selection.isCollapsed() !== !1 || !t(n)) && i(e, n, r)
            },
            a = function(e, t, i) {
                return !!n(t) && r(e, t, i)
            },
            s = function(e, t) {
                return e.insertContent(t, {
                    merge: e.settings.paste_merge_formats !== !1,
                    paste: !0
                }), !0
            },
            l = function(t, n) {
                e.each([o, a, s], function(e) {
                    return e(t, n, s) !== !0
                })
            },
            c = function(e, t) {
                e.settings.smart_paste === !1 ? s(e, t) : l(e, t)
            };
        return {
            isImageUrl: n,
            isAbsoluteUrl: t,
            insertContent: c
        }
    }), r("tinymce/pasteplugin/Clipboard", ["tinymce/Env", "tinymce/dom/RangeUtils", "tinymce/util/VK", "tinymce/pasteplugin/Utils", "tinymce/pasteplugin/SmartPaste", "tinymce/util/Delay"], function(e, t, n, r, i, o) {
        return function(a) {
            function s(e) {
                var t, n = a.dom;
                if (t = a.fire("BeforePastePreProcess", {
                        content: e
                    }), t = a.fire("PastePreProcess", t), e = t.content, !t.isDefaultPrevented()) {
                    if (a.hasEventListeners("PastePostProcess") && !t.isDefaultPrevented()) {
                        var r = n.add(a.getBody(), "div", {
                            style: "display:none"
                        }, e);
                        t = a.fire("PastePostProcess", {
                            node: r
                        }), n.remove(r), e = t.node.innerHTML
                    }
                    t.isDefaultPrevented() || i.insertContent(a, e)
                }
            }

            function l(e) {
                e = a.dom.encode(e).replace(/\r\n/g, "\n");
                var t, n = a.dom.getParent(a.selection.getStart(), a.dom.isBlock),
                    i = a.settings.forced_root_block;
                i && (t = a.dom.createHTML(i, a.settings.forced_root_block_attrs), t = t.substr(0, t.length - 3) + ">"), n && /^(PRE|DIV)$/.test(n.nodeName) || !i ? e = r.filter(e, [
                    [/\n/g, "<br>"]
                ]) : (e = r.filter(e, [
                    [/\n\n/g, "</p>" + t],
                    [/^(.*<\/p>)(<p>)$/, t + "$1"],
                    [/\n/g, "<br />"]
                ]), e.indexOf("<p>") != -1 && (e = t + e)), s(e)
            }

            function c() {
                function t(e) {
                    var t, n, i, o = e.startContainer;
                    if (t = e.getClientRects(), t.length) return t[0];
                    if (e.collapsed && 1 == o.nodeType) {
                        for (i = o.childNodes[S.startOffset]; i && 3 == i.nodeType && !i.data.length;) i = i.nextSibling;
                        if (i) return "BR" == i.tagName && (n = r.doc.createTextNode("\ufeff"), i.parentNode.insertBefore(n, i), e = r.createRng(), e.setStartBefore(n), e.setEndAfter(n), t = e.getClientRects(), r.remove(n)), t.length ? t[0] : void 0
                    }
                }
                var n, r = a.dom,
                    i = a.getBody(),
                    o = a.dom.getViewPort(a.getWin()),
                    s = o.y,
                    l = 20;
                if (S = a.selection.getRng(), a.inline && (n = a.selection.getScrollContainer(), n && n.scrollTop > 0 && (s = n.scrollTop)), S.getClientRects) {
                    var c = t(S);
                    if (c) l = s + (c.top - r.getPos(i).y);
                    else {
                        l = s;
                        var u = S.startContainer;
                        u && (3 == u.nodeType && u.parentNode != i && (u = u.parentNode), 1 == u.nodeType && (l = r.getPos(u, n || i).y))
                    }
                }
                k = r.add(a.getBody(), "div", {
                    id: "mcepastebin",
                    contentEditable: !0,
                    "data-mce-bogus": "all",
                    style: "position: absolute; top: " + l + "px;width: 10px; height: 10px; overflow: hidden; opacity: 0"
                }, A), (e.ie || e.gecko) && r.setStyle(k, "left", "rtl" == r.getStyle(i, "direction", !0) ? 65535 : -65535), r.bind(k, "beforedeactivate focusin focusout", function(e) {
                    e.stopPropagation()
                }), k.focus(), a.selection.select(k, !0)
            }

            function u() {
                if (k) {
                    for (var e; e = a.dom.get("mcepastebin");) a.dom.remove(e), a.dom.unbind(e);
                    S && a.selection.setRng(S)
                }
                k = S = null
            }

            function d() {
                var e, t, n, r, i = "";
                for (e = a.dom.select("div[id=mcepastebin]"), t = 0; t < e.length; t++) n = e[t], n.firstChild && "mcepastebin" == n.firstChild.id && (n = n.firstChild), r = n.innerHTML, i != A && (i += r);
                return i
            }

            function f(e) {
                var t = {};
                if (e) {
                    if (e.getData) {
                        var n = e.getData("Text");
                        n && n.length > 0 && n.indexOf(B) == -1 && (t["text/plain"] = n)
                    }
                    if (e.types)
                        for (var r = 0; r < e.types.length; r++) {
                            var i = e.types[r];
                            t[i] = e.getData(i)
                        }
                }
                return t
            }

            function p(e) {
                return f(e.clipboardData || a.getDoc().dataTransfer)
            }

            function m(e) {
                return C(e, "text/html") || C(e, "text/plain")
            }

            function g(e) {
                var t;
                return t = e.indexOf(","), t !== -1 ? e.substr(t + 1) : null
            }

            function h(e, t) {
                return !e.images_dataimg_filter || e.images_dataimg_filter(t)
            }

            function v(e, t, n) {
                e && (a.selection.setRng(e), e = null);
                var r = t.result,
                    i = g(r),
                    o = new Image;
                if (o.src = r, h(a.settings, o)) {
                    var l, c, u = a.editorUpload.blobCache;
                    c = u.findFirst(function(e) {
                        return e.base64() === i
                    }), c ? l = c : (l = u.create(P(), n, i), u.add(l)), s('<img src="' + l.blobUri() + '">')
                } else s('<img src="' + r + '">')
            }

            function b(e, t) {
                function n(n) {
                    var r, i, o, a = !1;
                    if (n)
                        for (r = 0; r < n.length; r++)
                            if (i = n[r], /^image\/(jpeg|png|gif|bmp)$/.test(i.type)) {
                                var s = i.getAsFile ? i.getAsFile() : i;
                                o = new FileReader, o.onload = v.bind(null, t, o, s), o.readAsDataURL(s), e.preventDefault(), a = !0
                            } return a
                }
                var r = e.clipboardData || e.dataTransfer;
                if (a.settings.paste_data_images && r) return n(r.items) || n(r.files)
            }

            function y(e) {
                var t = e.clipboardData;
                return navigator.userAgent.indexOf("Android") != -1 && t && t.items && 0 === t.items.length
            }

            function x(e) {
                return t.getCaretRangeFromPoint(e.clientX, e.clientY, a.getDoc())
            }

            function C(e, t) {
                return t in e && e[t].length > 0
            }

            function w(e) {
                return n.metaKeyPressed(e) && 86 == e.keyCode || e.shiftKey && 45 == e.keyCode
            }

            function N() {
                function t(e, t, n) {
                    var i;
                    return C(e, "text/html") ? i = e["text/html"] : (i = d(), i == A && (n = !0)), i = r.trimHtml(i), k && k.firstChild && "mcepastebin" === k.firstChild.id && (n = !0), u(), i.length || (n = !0), n && (i = C(e, "text/plain") && i.indexOf("</p>") == -1 ? e["text/plain"] : r.innerText(i)), i == A ? void(t || a.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")) : void(n ? l(i) : s(i))
                }

                function n(e) {
                    var t = e["text/plain"];
                    return !!t && 0 === t.indexOf("file://")
                }
                a.on("keydown", function(t) {
                    function n(e) {
                        w(e) && !e.isDefaultPrevented() && u()
                    }
                    if (w(t) && !t.isDefaultPrevented()) {
                        if (_ = t.shiftKey && 86 == t.keyCode, _ && e.webkit && navigator.userAgent.indexOf("Version/") != -1) return;
                        if (t.stopImmediatePropagation(), T = (new Date).getTime(), e.ie && _) return t.preventDefault(), void a.fire("paste", {
                            ieFake: !0
                        });
                        u(), c(), a.once("keyup", n), a.once("paste", function() {
                            a.off("keyup", n)
                        })
                    }
                });
                var i = function() {
                    return S || a.selection.getRng()
                };
                a.on("paste", function(n) {
                    var r = (new Date).getTime(),
                        s = p(n),
                        l = (new Date).getTime() - r,
                        f = (new Date).getTime() - T - l < 1e3,
                        g = "text" == E.pasteFormat || _;
                    return _ = !1, n.isDefaultPrevented() || y(n) ? void u() : !m(s) && b(n, i()) ? void u() : (f || n.preventDefault(), !e.ie || f && !n.ieFake || (c(), a.dom.bind(k, "paste", function(e) {
                        e.stopPropagation()
                    }), a.getDoc().execCommand("Paste", !1, null), s["text/html"] = d()), void(C(s, "text/html") ? (n.preventDefault(), t(s, f, g)) : o.setEditorTimeout(a, function() {
                        t(s, f, g)
                    }, 0)))
                }), a.on("dragstart dragend", function(e) {
                    R = "dragstart" == e.type
                }), a.on("drop", function(e) {
                    var t, i;
                    if (i = x(e), !e.isDefaultPrevented() && !R && (t = f(e.dataTransfer), (m(t) && !n(t) || !b(e, i)) && i && a.settings.paste_filter_drop !== !1)) {
                        var c = t["mce-internal"] || t["text/html"] || t["text/plain"];
                        c && (e.preventDefault(), o.setEditorTimeout(a, function() {
                            a.undoManager.transact(function() {
                                t["mce-internal"] && a.execCommand("Delete"), a.selection.setRng(i), c = r.trimHtml(c), t["text/html"] ? s(c) : l(c)
                            })
                        }))
                    }
                }), a.on("dragover dragend", function(e) {
                    a.settings.paste_data_images && e.preventDefault()
                })
            }
            var k, S, _, E = this,
                T = 0,
                R = !1,
                A = "%MCEPASTEBIN%",
                B = "data:text/mce-internal,",
                P = r.createIdGenerator("mceclip");
            E.pasteHtml = s, E.pasteText = l, E.pasteImageData = b, a.on("preInit", function() {
                N(), a.parser.addNodeFilter("img", function(t, n, r) {
                    function i(e) {
                        return e.data && e.data.paste === !0
                    }

                    function o(t) {
                        t.attr("data-mce-object") || u === e.transparentSrc || t.remove()
                    }

                    function s(e) {
                        return 0 === e.indexOf("webkit-fake-url")
                    }

                    function l(e) {
                        return 0 === e.indexOf("data:")
                    }
                    if (!a.settings.paste_data_images && i(r))
                        for (var c = t.length; c--;) {
                            var u = t[c].attributes.map.src;
                            u && (s(u) ? o(t[c]) : !a.settings.allow_html_data_urls && l(u) && o(t[c]))
                        }
                })
            })
        }
    }), r("tinymce/pasteplugin/WordFilter", ["tinymce/util/Tools", "tinymce/html/DomParser", "tinymce/html/Schema", "tinymce/html/Serializer", "tinymce/html/Node", "tinymce/pasteplugin/Utils"], function(e, t, n, r, i, o) {
        function a(e) {
            return /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e) || /class="OutlineElement/.test(e) || /id="?docs\-internal\-guid\-/.test(e)
        }

        function s(t) {
            var n, r;
            return r = [/^[IVXLMCD]{1,2}\.[ \u00a0]/, /^[ivxlmcd]{1,2}\.[ \u00a0]/, /^[a-z]{1,2}[\.\)][ \u00a0]/, /^[A-Z]{1,2}[\.\)][ \u00a0]/, /^[0-9]+\.[ \u00a0]/, /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/, /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/], t = t.replace(/^[\u00a0 ]+/, ""), e.each(r, function(e) {
                if (e.test(t)) return n = !0, !1
            }), n
        }

        function l(e) {
            return /^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)
        }

        function c(c) {
            var u = c.settings;
            c.on("BeforePastePreProcess", function(d) {
                function f(e) {
                    function t(e) {
                        var n = "";
                        if (3 === e.type) return e.value;
                        if (e = e.firstChild)
                            do n += t(e); while (e = e.next);
                        return n
                    }

                    function n(e, t) {
                        if (3 === e.type && t.test(e.value)) return e.value = e.value.replace(t, ""), !1;
                        if (e = e.firstChild)
                            do
                                if (!n(e, t)) return !1; while (e = e.next);
                        return !0
                    }

                    function r(e) {
                        if (e._listIgnore) return void e.remove();
                        if (e = e.firstChild)
                            do r(e); while (e = e.next)
                    }

                    function o(e, t, o) {
                        var s = e._listLevel || u;
                        s != u && (s < u ? a && (a = a.parent.parent) : (c = a, a = null)), a && a.name == t ? a.append(e) : (c = c || a, a = new i(t, 1), o > 1 && a.attr("start", "" + o), e.wrap(a)), e.name = "li", s > u && c && c.lastChild.append(a), u = s, r(e), n(e, /^\u00a0+/), n(e, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/), n(e, /^\u00a0+/)
                    }
                    for (var a, c, u = 1, d = [], f = e.firstChild;
                        "undefined" != typeof f && null !== f;)
                        if (d.push(f), f = f.walk(), null !== f)
                            for (;
                                "undefined" != typeof f && f.parent !== e;) f = f.walk();
                    for (var p = 0; p < d.length; p++)
                        if (e = d[p], "p" == e.name && e.firstChild) {
                            var m = t(e);
                            if (l(m)) {
                                o(e, "ul");
                                continue
                            }
                            if (s(m)) {
                                var g = /([0-9]+)\./.exec(m),
                                    h = 1;
                                g && (h = parseInt(g[1], 10)), o(e, "ol", h);
                                continue
                            }
                            if (e._listLevel) {
                                o(e, "ul", 1);
                                continue
                            }
                            a = null
                        } else c = a, a = null
                }

                function p(t, n) {
                    var r, o = {},
                        a = c.dom.parseStyle(n);
                    return e.each(a, function(e, i) {
                        switch (i) {
                            case "mso-list":
                                r = /\w+ \w+([0-9]+)/i.exec(n), r && (t._listLevel = parseInt(r[1], 10)), /Ignore/i.test(e) && t.firstChild && (t._listIgnore = !0, t.firstChild._listIgnore = !0);
                                break;
                            case "horiz-align":
                                i = "text-align";
                                break;
                            case "vert-align":
                                i = "vertical-align";
                                break;
                            case "font-color":
                            case "mso-foreground":
                                i = "color";
                                break;
                            case "mso-background":
                            case "mso-highlight":
                                i = "background";
                                break;
                            case "font-weight":
                            case "font-style":
                                return void("normal" != e && (o[i] = e));
                            case "mso-element":
                                if (/^(comment|comment-list)$/i.test(e)) return void t.remove()
                        }
                        return 0 === i.indexOf("mso-comment") ? void t.remove() : void(0 !== i.indexOf("mso-") && ("all" == m || g && g[i]) && (o[i] = e))
                    }), /(bold)/i.test(o["font-weight"]) && (delete o["font-weight"], t.wrap(new i("b", 1))), /(italic)/i.test(o["font-style"]) && (delete o["font-style"], t.wrap(new i("i", 1))), o = c.dom.serializeStyle(o, t.name), o ? o : null
                }
                var m, g, h = d.content;
                if (h = h.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi, ""), h = h.replace(/<br class="?Apple-interchange-newline"?>/gi, ""), m = u.paste_retain_style_properties, m && (g = e.makeMap(m.split(/[, ]/))), u.paste_enable_default_filters !== !1 && a(d.content)) {
                    d.wordContent = !0, h = o.filter(h, [/<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, "<$1strike>"],
                        [/&nbsp;/gi, "\xa0"],
                        [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function(e, t) {
                            return t.length > 0 ? t.replace(/./, " ").slice(Math.floor(t.length / 2)).split("").join("\xa0") : ""
                        }]
                    ]);
                    var v = u.paste_word_valid_elements;
                    v || (v = "-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");
                    var b = new n({
                        valid_elements: v,
                        valid_children: "-li[p]"
                    });
                    e.each(b.elements, function(e) {
                        e.attributes["class"] || (e.attributes["class"] = {}, e.attributesOrder.push("class")), e.attributes.style || (e.attributes.style = {}, e.attributesOrder.push("style"))
                    });
                    var y = new t({}, b);
                    y.addAttributeFilter("style", function(e) {
                        for (var t, n = e.length; n--;) t = e[n], t.attr("style", p(t, t.attr("style"))), "span" == t.name && t.parent && !t.attributes.length && t.unwrap()
                    }), y.addAttributeFilter("class", function(e) {
                        for (var t, n, r = e.length; r--;) t = e[r], n = t.attr("class"), /^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n) && t.remove(), t.attr("class", null)
                    }), y.addNodeFilter("del", function(e) {
                        for (var t = e.length; t--;) e[t].remove()
                    }), y.addNodeFilter("a", function(e) {
                        for (var t, n, r, i = e.length; i--;)
                            if (t = e[i], n = t.attr("href"), r = t.attr("name"), n && n.indexOf("#_msocom_") != -1) t.remove();
                            else if (n && 0 === n.indexOf("file://") && (n = n.split("#")[1], n && (n = "#" + n)), n || r) {
                            if (r && !/^_?(?:toc|edn|ftn)/i.test(r)) {
                                t.unwrap();
                                continue
                            }
                            t.attr({
                                href: n,
                                name: r
                            })
                        } else t.unwrap()
                    });
                    var x = y.parse(h);
                    u.paste_convert_word_fake_lists !== !1 && f(x), d.content = new r({
                        validate: u.validate
                    }, b).serialize(x)
                }
            })
        }
        return c.isWordContent = a, c
    }), r("tinymce/pasteplugin/Quirks", ["tinymce/Env", "tinymce/util/Tools", "tinymce/pasteplugin/WordFilter", "tinymce/pasteplugin/Utils"], function(e, t, n, r) {
        return function(i) {
            function o(e) {
                i.on("BeforePastePreProcess", function(t) {
                    t.content = e(t.content)
                })
            }

            function a(e) {
                i.on("PastePostProcess", function(t) {
                    e(t.node)
                })
            }

            function s(e) {
                if (!n.isWordContent(e)) return e;
                var o = [];
                t.each(i.schema.getBlockElements(), function(e, t) {
                    o.push(t)
                });
                var a = new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" + o.join("|") + ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*", "g");
                return e = r.filter(e, [
                    [a, "$1"]
                ]), e = r.filter(e, [
                    [/<br><br>/g, "<BR><BR>"],
                    [/<br>/g, " "],
                    [/<BR><BR>/g, "<br>"]
                ])
            }

            function l(e) {
                if (n.isWordContent(e)) return e;
                var t = i.settings.paste_webkit_styles;
                if (i.settings.paste_remove_styles_if_webkit === !1 || "all" == t) return e;
                if (t && (t = t.split(/[, ]/)), t) {
                    var r = i.dom,
                        o = i.selection.getNode();
                    e = e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, function(e, n, i, a) {
                        var s = r.parseStyle(i, "span"),
                            l = {};
                        if ("none" === t) return n + a;
                        for (var c = 0; c < t.length; c++) {
                            var u = s[t[c]],
                                d = r.getStyle(o, t[c], !0);
                            /color/.test(t[c]) && (u = r.toHex(u), d = r.toHex(d)), d != u && (l[t[c]] = u)
                        }
                        return l = r.serializeStyle(l, "span"), l ? n + ' style="' + l + '"' + a : n + a
                    })
                } else e = e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3");
                return e = e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi, function(e, t, n, r) {
                    return t + ' style="' + n + '"' + r
                })
            }

            function c(e) {
                i.$("a", e).find("font,u").each(function(e, t) {
                    i.dom.remove(t, !0)
                })
            }
            e.webkit && o(l), e.ie && (o(s), a(c))
        }
    }), r("tinymce/pasteplugin/Plugin", ["tinymce/PluginManager", "tinymce/pasteplugin/Clipboard", "tinymce/pasteplugin/WordFilter", "tinymce/pasteplugin/Quirks"], function(e, t, n, r) {
        var i;
        e.add("paste", function(o) {
            function a() {
                return i || o.settings.paste_plaintext_inform === !1
            }

            function s() {
                if ("text" == c.pasteFormat) c.pasteFormat = "html", o.fire("PastePlainTextToggle", {
                    state: !1
                });
                else if (c.pasteFormat = "text", o.fire("PastePlainTextToggle", {
                        state: !0
                    }), !a()) {
                    var e = o.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");
                    o.notificationManager.open({
                        text: e,
                        type: "info"
                    }), i = !0
                }
                o.focus()
            }

            function l() {
                var e = this;
                e.active("text" === c.pasteFormat), o.on("PastePlainTextToggle", function(t) {
                    e.active(t.state)
                })
            }
            var c, u = this,
                d = o.settings;
            return /(^|[ ,])powerpaste([, ]|$)/.test(d.plugins) && e.get("powerpaste") ? void("undefined" != typeof console && console.log && console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")) : (u.clipboard = c = new t(o), u.quirks = new r(o), u.wordFilter = new n(o), o.settings.paste_as_text && (u.clipboard.pasteFormat = "text"), d.paste_preprocess && o.on("PastePreProcess", function(e) {
                d.paste_preprocess.call(u, u, e)
            }), d.paste_postprocess && o.on("PastePostProcess", function(e) {
                d.paste_postprocess.call(u, u, e)
            }), o.addCommand("mceInsertClipboardContent", function(e, t) {
                t.content && u.clipboard.pasteHtml(t.content), t.text && u.clipboard.pasteText(t.text)
            }), o.settings.paste_block_drop && o.on("dragend dragover draggesture dragdrop drop drag", function(e) {
                e.preventDefault(), e.stopPropagation()
            }), o.settings.paste_data_images || o.on("drop", function(e) {
                var t = e.dataTransfer;
                t && t.files && t.files.length > 0 && e.preventDefault()
            }), o.addCommand("mceTogglePlainTextPaste", s), o.addButton("pastetext", {
                icon: "pastetext",
                tooltip: "Paste as text",
                onclick: s,
                onPostRender: l
            }), void o.addMenuItem("pastetext", {
                text: "Paste as text",
                selectable: !0,
                active: c.pasteFormat,
                onclick: s,
                onPostRender: l
            }))
        })
    }), o(["tinymce/pasteplugin/Utils"])
}(window);;
! function(e, t) {
    "use strict";

    function n(e, t) {
        for (var n, r = [], a = 0; a < e.length; ++a) {
            if (n = o[e[a]] || i(e[a]), !n) throw "module definition dependecy not found: " + e[a];
            r.push(n)
        }
        t.apply(null, r)
    }

    function r(e, r, i) {
        if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";
        if (r === t) throw "invalid module definition, dependencies must be specified";
        if (i === t) throw "invalid module definition, definition function must be specified";
        n(r, function() {
            o[e] = i.apply(null, arguments)
        })
    }

    function i(t) {
        for (var n = e, r = t.split(/[.\/]/), i = 0; i < r.length; ++i) {
            if (!n[r[i]]) return;
            n = n[r[i]]
        }
        return n
    }
    var o = {};
    r("tinymce/tableplugin/Utils", ["tinymce/Env"], function(e) {
        function t(t) {
            (!e.ie || e.ie > 9) && (t.hasChildNodes() || (t.innerHTML = '<br data-mce-bogus="1" />'))
        }
        var n = function(e) {
                return function(t, n) {
                    t && (n = parseInt(n, 10), 1 === n || 0 === n ? t.removeAttribute(e, 1) : t.setAttribute(e, n, 1))
                }
            },
            r = function(e) {
                return function(t) {
                    return parseInt(t.getAttribute(e) || 1, 10)
                }
            };
        return {
            setColSpan: n("colSpan"),
            setRowSpan: n("rowspan"),
            getColSpan: r("colSpan"),
            getRowSpan: r("rowSpan"),
            setSpanVal: function(e, t, r) {
                n(t)(e, r)
            },
            getSpanVal: function(e, t) {
                return r(t)(e)
            },
            paddCell: t
        }
    }), r("tinymce/tableplugin/SplitCols", ["tinymce/util/Tools", "tinymce/tableplugin/Utils"], function(e, t) {
        var n = function(e, t, n) {
                return e[n] ? e[n][t] : null
            },
            r = function(e, t, r) {
                var i = n(e, t, r);
                return i ? i.elm : null
            },
            i = function(e, t, i, o) {
                var a, s, l = 0,
                    c = r(e, t, i);
                for (a = i;
                    (o > 0 ? a < e.length : a >= 0) && (s = n(e, t, a), c === s.elm); a += o) l++;
                return l
            },
            o = function(e, t, n) {
                for (var r, i = e[n], o = t; o < i.length; o++)
                    if (r = i[o], r.real) return r.elm;
                return null
            },
            a = function(e, n) {
                for (var r, o = [], a = e[n], s = 0; s < a.length; s++) r = a[s], o.push({
                    elm: r.elm,
                    above: i(e, s, n, -1) - 1,
                    below: i(e, s, n, 1) - 1
                }), s += t.getColSpan(r.elm) - 1;
                return o
            },
            s = function(e, n) {
                var r = e.elm.ownerDocument,
                    i = r.createElement("td");
                return t.setColSpan(i, t.getColSpan(e.elm)), t.setRowSpan(i, n), t.paddCell(i), i
            },
            l = function(e, t, n, r) {
                var i = o(e, n + 1, r);
                i ? i.parentNode.insertBefore(t, i) : (i = o(e, 0, r), i.parentNode.appendChild(t))
            },
            c = function(e, n, r, i) {
                if (0 !== n.above) {
                    t.setRowSpan(n.elm, n.above);
                    var o = s(n, n.below + 1);
                    return l(e, o, r, i), o
                }
                return null
            },
            u = function(e, n, r, i) {
                if (0 !== n.below) {
                    t.setRowSpan(n.elm, n.above + 1);
                    var o = s(n, n.below);
                    return l(e, o, r, i + 1), o
                }
                return null
            },
            d = function(t, n, i, o) {
                var s = a(t, i),
                    l = r(t, n, i).parentNode,
                    d = [];
                return e.each(s, function(e, n) {
                    var r = o ? c(t, e, n, i) : u(t, e, n, i);
                    null !== r && d.push(d)
                }), {
                    cells: d,
                    row: l
                }
            };
        return {
            splitAt: d
        }
    }), r("tinymce/tableplugin/TableGrid", ["tinymce/util/Tools", "tinymce/Env", "tinymce/tableplugin/Utils", "tinymce/tableplugin/SplitCols"], function(e, n, r, i) {
        var o = e.each,
            a = r.getSpanVal,
            s = r.setSpanVal;
        return function(l, c, u) {
            function d() {
                l.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")
            }

            function f(e) {
                return e === l.getBody()
            }

            function p(t, n) {
                return t ? (n = e.map(n.split(","), function(e) {
                    return e.toLowerCase()
                }), e.grep(t.childNodes, function(t) {
                    return e.inArray(n, t.nodeName.toLowerCase()) !== -1
                })) : []
            }

            function m() {
                var e = 0;
                Z = [], Q = 0, o(["thead", "tbody", "tfoot"], function(t) {
                    var n = p(c, t)[0],
                        r = p(n, "tr");
                    o(r, function(n, r) {
                        r += e, o(p(n, "td,th"), function(e, n) {
                            var i, o, s, l;
                            if (Z[r])
                                for (; Z[r][n];) n++;
                            for (s = a(e, "rowspan"), l = a(e, "colspan"), o = r; o < r + s; o++)
                                for (Z[o] || (Z[o] = []), i = n; i < n + l; i++) Z[o][i] = {
                                    part: t,
                                    real: o == r && i == n,
                                    elm: e,
                                    rowspan: s,
                                    colspan: l
                                };
                            Q = Math.max(Q, n + 1)
                        })
                    }), e += r.length
                })
            }

            function g(e) {
                return l.fire("newrow", {
                    node: e
                }), e
            }

            function h(e) {
                return l.fire("newcell", {
                    node: e
                }), e
            }

            function v(e, t) {
                return e = e.cloneNode(t), e.removeAttribute("id"), e
            }

            function b(e, t) {
                var n;
                if (n = Z[t]) return n[e]
            }

            function y(e, t) {
                return e[t] ? e[t] : null
            }

            function x(e, t) {
                for (var n = [], r = 0; r < e.length; r++) n.push(b(t, r));
                return n
            }

            function C(e) {
                return e && (!!re.getAttrib(e.elm, "data-mce-selected") || e == u)
            }

            function w() {
                var e = [];
                return o(c.rows, function(t) {
                    o(t.cells, function(n) {
                        if (re.getAttrib(n, "data-mce-selected") || u && n == u.elm) return e.push(t), !1
                    })
                }), e
            }

            function N() {
                var e = 0;
                return o(Z, function(t) {
                    if (o(t, function(t) {
                            C(t) && e++
                        }), e) return !1
                }), e
            }

            function k() {
                var e = re.createRng();
                f(c) || (e.setStartAfter(c), e.setEndAfter(c), ne.setRng(e), re.remove(c))
            }

            function S(t) {
                var i, a = {};
                return l.settings.table_clone_elements !== !1 && (a = e.makeMap((l.settings.table_clone_elements || "strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(), /[ ,]/)), e.walk(t, function(e) {
                    var r;
                    if (3 == e.nodeType) return o(re.getParents(e.parentNode, null, t).reverse(), function(e) {
                        a[e.nodeName] && (e = v(e, !1), i ? r && r.appendChild(e) : i = r = e, r = e)
                    }), r && (r.innerHTML = n.ie && n.ie < 10 ? "&nbsp;" : '<br data-mce-bogus="1" />'), !1
                }, "childNodes"), t = v(t, !1), h(t), s(t, "rowSpan", 1), s(t, "colSpan", 1), i ? t.appendChild(i) : r.paddCell(t), t
            }

            function _() {
                var e, t = re.createRng();
                return o(re.select("tr", c), function(e) {
                    0 === e.cells.length && re.remove(e)
                }), 0 === re.select("tr", c).length ? (t.setStartBefore(c), t.setEndBefore(c), ne.setRng(t), void re.remove(c)) : (o(re.select("thead,tbody,tfoot", c), function(e) {
                    0 === e.rows.length && re.remove(e)
                }), m(), void(ee && (e = Z[Math.min(Z.length - 1, ee.y)], e && (ne.select(e[Math.min(e.length - 1, ee.x)].elm, !0), ne.collapse(!0)))))
            }

            function E(e, t, n, r) {
                var i, o, a, s, l;
                for (i = Z[t][e].elm.parentNode, a = 1; a <= n; a++)
                    if (i = re.getNext(i, "tr")) {
                        for (o = e; o >= 0; o--)
                            if (l = Z[t + a][o].elm, l.parentNode == i) {
                                for (s = 1; s <= r; s++) re.insertAfter(S(l), l);
                                break
                            } if (o == -1)
                            for (s = 1; s <= r; s++) i.insertBefore(S(i.cells[0]), i.cells[0])
                    }
            }

            function T() {
                o(Z, function(e, t) {
                    o(e, function(e, n) {
                        var r, i, o;
                        if (C(e) && (e = e.elm, r = a(e, "colspan"), i = a(e, "rowspan"), r > 1 || i > 1)) {
                            for (s(e, "rowSpan", 1), s(e, "colSpan", 1), o = 0; o < r - 1; o++) re.insertAfter(S(e), e);
                            E(n, t, i - 1, r)
                        }
                    })
                })
            }

            function R(e, t, n) {
                for (var r = [], i = 0; i < e.length; i++)(i < t || i > n) && r.push(e[i]);
                return r
            }

            function A(t) {
                return e.grep(t, function(e) {
                    return e.real === !1
                })
            }

            function B(e) {
                for (var t = [], n = 0; n < e.length; n++) {
                    var r = e[n].elm;
                    t[t.length - 1] !== r && t.push(r)
                }
                return t
            }

            function P(t, n, i, o, a) {
                var s = 0;
                if (a - i < 1) return 0;
                for (var l = i + 1; l <= a; l++) {
                    var c = R(y(t, l), n, o),
                        u = A(c);
                    c.length === u.length && (e.each(B(u), function(e) {
                        r.setRowSpan(e, r.getRowSpan(e) - 1)
                    }), s++)
                }
                return s
            }

            function D(t, n, i, o, a) {
                var s = 0;
                if (o - n < 1) return 0;
                for (var l = n + 1; l <= o; l++) {
                    var c = R(x(t, l), i, a),
                        u = A(c);
                    c.length === u.length && (e.each(B(u), function(e) {
                        r.setColSpan(e, r.getColSpan(e) - 1)
                    }), s++)
                }
                return s
            }

            function M(t, n, r) {
                var i, a, l, c, u, d, f, p, g, h, v, y, x;
                if (t ? (i = q(t), a = i.x, l = i.y, c = a + (n - 1), u = l + (r - 1)) : (ee = te = null, o(Z, function(e, t) {
                        o(e, function(e, n) {
                            C(e) && (ee || (ee = {
                                x: n,
                                y: t
                            }), te = {
                                x: n,
                                y: t
                            })
                        })
                    }), ee && (a = ee.x, l = ee.y, c = te.x, u = te.y)), p = b(a, l), g = b(c, u), p && g && p.part == g.part) {
                    T(), m(), y = P(Z, a, l, c, u), x = D(Z, a, l, c, u), p = b(a, l).elm;
                    var w = c - a - x + 1,
                        N = u - l - y + 1;
                    for (w === Q && N === Z.length && (w = 1, N = 1), w === Q && N > 1 && (N = 1), s(p, "colSpan", w), s(p, "rowSpan", N), f = l; f <= u; f++)
                        for (d = a; d <= c; d++) Z[f] && Z[f][d] && (t = Z[f][d].elm, t != p && (h = e.grep(t.childNodes), o(h, function(e) {
                            p.appendChild(e)
                        }), h.length && (h = e.grep(p.childNodes), v = 0, o(h, function(e) {
                            "BR" == e.nodeName && v++ < h.length - 1 && p.removeChild(e)
                        })), re.remove(t)));
                    _()
                }
            }

            function L(e) {
                var n, r, i, l, c, u, d, f, p, m;
                if (o(Z, function(r, i) {
                        if (o(r, function(t) {
                                if (C(t) && (t = t.elm, c = t.parentNode, u = g(v(c, !1)), n = i, e)) return !1
                            }), e) return n === t
                    }), n !== t) {
                    for (l = 0, m = 0; l < Z[0].length; l += m)
                        if (Z[n][l] && (r = Z[n][l].elm, m = a(r, "colspan"), r != i)) {
                            if (e) {
                                if (n > 0 && Z[n - 1][l] && (f = Z[n - 1][l].elm, p = a(f, "rowSpan"), p > 1)) {
                                    s(f, "rowSpan", p + 1);
                                    continue
                                }
                            } else if (p = a(r, "rowspan"), p > 1) {
                                s(r, "rowSpan", p + 1);
                                continue
                            }
                            d = S(r), s(d, "colSpan", r.colSpan), u.appendChild(d), i = r
                        } u.hasChildNodes() && (e ? c.parentNode.insertBefore(u, c) : re.insertAfter(u, c))
                }
            }

            function I(e, t) {
                t = t || w().length || 1;
                for (var n = 0; n < t; n++) L(e)
            }

            function O(e) {
                var n, r;
                o(Z, function(r) {
                    if (o(r, function(t, r) {
                            if (C(t) && (n = r, e)) return !1
                        }), e) return n === t
                }), o(Z, function(t, i) {
                    var o, l, c;
                    t[n] && (o = t[n].elm, o != r && (c = a(o, "colspan"), l = a(o, "rowspan"), 1 == c ? e ? (o.parentNode.insertBefore(S(o), o), E(n, i, l - 1, c)) : (re.insertAfter(S(o), o), E(n, i, l - 1, c)) : s(o, "colSpan", o.colSpan + 1), r = o))
                })
            }

            function H(e, t) {
                t = t || N() || 1;
                for (var n = 0; n < t; n++) O(e)
            }

            function F(t) {
                return e.grep(z(t), C)
            }

            function z(e) {
                var t = [];
                return o(e, function(e) {
                    o(e, function(e) {
                        t.push(e)
                    })
                }), t
            }

            function W() {
                var t = [];
                if (f(c)) {
                    if (1 == Z[0].length) return;
                    if (F(Z).length == z(Z).length) return
                }
                o(Z, function(n) {
                    o(n, function(n, r) {
                        C(n) && e.inArray(t, r) === -1 && (o(Z, function(e) {
                            var t, n = e[r].elm;
                            t = a(n, "colSpan"), t > 1 ? s(n, "colSpan", t - 1) : re.remove(n)
                        }), t.push(r))
                    })
                }), _()
            }

            function U() {
                function e(e) {
                    var t, n;
                    o(e.cells, function(e) {
                        var n = a(e, "rowSpan");
                        n > 1 && (s(e, "rowSpan", n - 1), t = q(e), E(t.x, t.y, 1, 1))
                    }), t = q(e.cells[0]), o(Z[t.y], function(e) {
                        var t;
                        e = e.elm, e != n && (t = a(e, "rowSpan"), t <= 1 ? re.remove(e) : s(e, "rowSpan", t - 1), n = e)
                    })
                }
                var t;
                t = w(), f(c) && t.length == c.rows.length || (o(t.reverse(), function(t) {
                    e(t)
                }), _())
            }

            function V() {
                var e = w();
                if (!f(c) || e.length != c.rows.length) return re.remove(e), _(), e
            }

            function $() {
                var e = w();
                return o(e, function(t, n) {
                    e[n] = v(t, !0)
                }), e
            }

            function j(t, n) {
                var r, a, l;
                t && (r = i.splitAt(Z, ee.x, ee.y, n), a = r.row, e.each(r.cells, h), l = e.map(t, function(e) {
                    return e.cloneNode(!0)
                }), n || l.reverse(), o(l, function(e) {
                    var t, r, i = e.cells.length;
                    for (g(e), t = 0; t < i; t++) r = e.cells[t], h(r), s(r, "colSpan", 1), s(r, "rowSpan", 1);
                    for (t = i; t < Q; t++) e.appendChild(h(S(e.cells[i - 1])));
                    for (t = Q; t < i; t++) re.remove(e.cells[t]);
                    n ? a.parentNode.insertBefore(e, a) : re.insertAfter(e, a)
                }), d())
            }

            function q(e) {
                var t;
                return o(Z, function(n, r) {
                    return o(n, function(n, i) {
                        if (n.elm == e) return t = {
                            x: i,
                            y: r
                        }, !1
                    }), !t
                }), t
            }

            function Y(e) {
                ee = q(e)
            }

            function X() {
                var e, t;
                return e = t = 0, o(Z, function(n, r) {
                    o(n, function(n, i) {
                        var o, a;
                        C(n) && (n = Z[r][i], i > e && (e = i), r > t && (t = r), n.real && (o = n.colspan - 1, a = n.rowspan - 1, o && i + o > e && (e = i + o), a && r + a > t && (t = r + a)))
                    })
                }), {
                    x: e,
                    y: t
                }
            }

            function K(e) {
                var t, n, r, i, o, a, s, l, c, u;
                if (te = q(e), ee && te) {
                    for (t = Math.min(ee.x, te.x), n = Math.min(ee.y, te.y), r = Math.max(ee.x, te.x), i = Math.max(ee.y, te.y), o = r, a = i, u = n; u <= i; u++)
                        for (c = t; c <= r; c++) e = Z[u][c], e.real && (s = e.colspan - 1, l = e.rowspan - 1, s && c + s > o && (o = c + s), l && u + l > a && (a = u + l));
                    for (d(), u = n; u <= a; u++)
                        for (c = t; c <= o; c++) Z[u][c] && re.setAttrib(Z[u][c].elm, "data-mce-selected", "1")
                }
            }

            function G(e, t) {
                var n, r, i;
                n = q(e), r = n.y * Q + n.x;
                do {
                    if (r += t, i = b(r % Q, Math.floor(r / Q)), !i) break;
                    if (i.elm != e) return ne.select(i.elm, !0), re.isEmpty(i.elm) && ne.collapse(!0), !0
                } while (i.elm == e);
                return !1
            }

            function J(t) {
                if (ee) {
                    var n = i.splitAt(Z, ee.x, ee.y, t);
                    e.each(n.cells, h)
                }
            }
            var Z, Q, ee, te, ne = l.selection,
                re = ne.dom;
            c = c || re.getParent(ne.getStart(!0), "table"), m(), u = u || re.getParent(ne.getStart(!0), "th,td"), u && (ee = q(u), te = X(), u = b(ee.x, ee.y)), e.extend(this, {
                deleteTable: k,
                split: T,
                merge: M,
                insertRow: L,
                insertRows: I,
                insertCol: O,
                insertCols: H,
                splitCols: J,
                deleteCols: W,
                deleteRows: U,
                cutRows: V,
                copyRows: $,
                pasteRows: j,
                getPos: q,
                setStartCell: Y,
                setEndCell: K,
                moveRelIdx: G,
                refresh: m
            })
        }
    }), r("tinymce/tableplugin/Quirks", ["tinymce/util/VK", "tinymce/util/Delay", "tinymce/Env", "tinymce/util/Tools", "tinymce/tableplugin/Utils"], function(e, t, n, r, i) {
        var o = r.each,
            a = i.getSpanVal;
        return function(s) {
            function l() {
                function n(n) {
                    function r(e, t) {
                        var r = e ? "previousSibling" : "nextSibling",
                            o = s.dom.getParent(t, "tr"),
                            a = o[r];
                        if (a) return v(s, t, a, e), n.preventDefault(), !0;
                        var l = s.dom.getParent(o, "table"),
                            d = o.parentNode,
                            f = d.nodeName.toLowerCase();
                        if ("tbody" === f || f === (e ? "tfoot" : "thead")) {
                            var p = i(e, l, d, "tbody");
                            if (null !== p) return c(e, p, t)
                        }
                        return u(e, o, r, l)
                    }

                    function i(e, t, n, r) {
                        var i = s.dom.select(">" + r, t),
                            o = i.indexOf(n);
                        if (e && 0 === o || !e && o === i.length - 1) return l(e, t);
                        if (o === -1) {
                            var a = "thead" === n.tagName.toLowerCase() ? 0 : i.length - 1;
                            return i[a]
                        }
                        return i[o + (e ? -1 : 1)]
                    }

                    function l(e, t) {
                        var n = e ? "thead" : "tfoot",
                            r = s.dom.select(">" + n, t);
                        return 0 !== r.length ? r[0] : null
                    }

                    function c(e, t, r) {
                        var i = d(t, e);
                        return i && v(s, r, i, e), n.preventDefault(), !0
                    }

                    function u(e, t, i, o) {
                        var a = o[i];
                        if (a) return f(a), !0;
                        var l = s.dom.getParent(o, "td,th");
                        if (l) return r(e, l, n);
                        var c = d(t, !e);
                        return f(c), n.preventDefault(), !1
                    }

                    function d(e, t) {
                        var n = e && e[t ? "lastChild" : "firstChild"];
                        return n && "BR" === n.nodeName ? s.dom.getParent(n, "td,th") : n
                    }

                    function f(e) {
                        s.selection.setCursorLocation(e, 0)
                    }

                    function p() {
                        return x == e.UP || x == e.DOWN
                    }

                    function m(e) {
                        var t = e.selection.getNode(),
                            n = e.dom.getParent(t, "tr");
                        return null !== n
                    }

                    function g(e) {
                        for (var t = 0, n = e; n.previousSibling;) n = n.previousSibling, t += a(n, "colspan");
                        return t
                    }

                    function h(e, t) {
                        var n = 0,
                            r = 0;
                        return o(e.children, function(e, i) {
                            if (n += a(e, "colspan"), r = i, n > t) return !1
                        }), r
                    }

                    function v(e, t, n, r) {
                        var i = g(s.dom.getParent(t, "td,th")),
                            o = h(n, i),
                            a = n.childNodes[o],
                            l = d(a, r);
                        f(l || a)
                    }

                    function b(e) {
                        var t = s.selection.getNode(),
                            n = s.dom.getParent(t, "td,th"),
                            r = s.dom.getParent(e, "td,th");
                        return n && n !== r && y(n, r)
                    }

                    function y(e, t) {
                        return s.dom.getParent(e, "TABLE") === s.dom.getParent(t, "TABLE")
                    }
                    var x = n.keyCode;
                    if (p() && m(s)) {
                        var C = s.selection.getNode();
                        t.setEditorTimeout(s, function() {
                            b(C) && r(!n.shiftKey && x === e.UP, C, n)
                        }, 0)
                    }
                }
                s.on("KeyDown", function(e) {
                    n(e)
                })
            }

            function c() {
                function e(e, t) {
                    var n, r = t.ownerDocument,
                        i = r.createRange();
                    return i.setStartBefore(t), i.setEnd(e.endContainer, e.endOffset), n = r.createElement("body"), n.appendChild(i.cloneContents()), 0 === n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi, "-").replace(/<[^>]+>/g, "").length
                }
                s.on("KeyDown", function(t) {
                    var n, r, i = s.dom;
                    37 != t.keyCode && 38 != t.keyCode || (n = s.selection.getRng(), r = i.getParent(n.startContainer, "table"), r && s.getBody().firstChild == r && e(n, r) && (n = i.createRng(), n.setStartBefore(r), n.setEndBefore(r), s.selection.setRng(n), t.preventDefault()))
                })
            }

            function u() {
                s.on("KeyDown SetContent VisualAid", function() {
                    var e;
                    for (e = s.getBody().lastChild; e; e = e.previousSibling)
                        if (3 == e.nodeType) {
                            if (e.nodeValue.length > 0) break
                        } else if (1 == e.nodeType && ("BR" == e.tagName || !e.getAttribute("data-mce-bogus"))) break;
                    e && "TABLE" == e.nodeName && (s.settings.forced_root_block ? s.dom.add(s.getBody(), s.settings.forced_root_block, s.settings.forced_root_block_attrs, n.ie && n.ie < 10 ? "&nbsp;" : '<br data-mce-bogus="1" />') : s.dom.add(s.getBody(), "br", {
                        "data-mce-bogus": "1"
                    }))
                }), s.on("PreProcess", function(e) {
                    var t = e.node.lastChild;
                    t && ("BR" == t.nodeName || 1 == t.childNodes.length && ("BR" == t.firstChild.nodeName || "\xa0" == t.firstChild.nodeValue)) && t.previousSibling && "TABLE" == t.previousSibling.nodeName && s.dom.remove(t)
                })
            }

            function d() {
                function e(e, t, n, r) {
                    var i, o, a, s = 3,
                        l = e.dom.getParent(t.startContainer, "TABLE");
                    return l && (i = l.parentNode), o = t.startContainer.nodeType == s && 0 === t.startOffset && 0 === t.endOffset && r && ("TR" == n.nodeName || n == i), a = ("TD" == n.nodeName || "TH" == n.nodeName) && !r, o || a
                }

                function t() {
                    var t = s.selection.getRng(),
                        n = s.selection.getNode(),
                        r = s.dom.getParent(t.startContainer, "TD,TH");
                    if (e(s, t, n, r)) {
                        r || (r = n);
                        for (var i = r.lastChild; i.lastChild;) i = i.lastChild;
                        3 == i.nodeType && (t.setEnd(i, i.data.length), s.selection.setRng(t))
                    }
                }
                s.on("KeyDown", function() {
                    t()
                }), s.on("MouseDown", function(e) {
                    2 != e.button && t()
                })
            }

            function f() {
                function t(e) {
                    s.selection.select(e, !0), s.selection.collapse(!0)
                }

                function n(e) {
                    s.$(e).empty(), i.paddCell(e)
                }
                s.on("keydown", function(i) {
                    if ((i.keyCode == e.DELETE || i.keyCode == e.BACKSPACE) && !i.isDefaultPrevented()) {
                        var o, a, l, c;
                        if (o = s.dom.getParent(s.selection.getStart(), "table")) {
                            if (a = s.dom.select("td,th", o), l = r.grep(a, function(e) {
                                    return !!s.dom.getAttrib(e, "data-mce-selected")
                                }), 0 === l.length) return c = s.dom.getParent(s.selection.getStart(), "td,th"), void(s.selection.isCollapsed() && c && s.dom.isEmpty(c) && (i.preventDefault(), n(c), t(c)));
                            i.preventDefault(), s.undoManager.transact(function() {
                                a.length == l.length ? s.execCommand("mceTableDelete") : (r.each(l, n), t(l[0]))
                            })
                        }
                    }
                })
            }

            function p() {
                var t = function(e) {
                        return e && "CAPTION" == e.nodeName && "TABLE" == e.parentNode.nodeName
                    },
                    r = function(e, t) {
                        var n = s.selection.getRng(),
                            r = e.ownerDocument.createTextNode("\xa0");
                        n.startOffset ? e.insertBefore(r, e.firstChild) : e.appendChild(r), t && (s.selection.select(r, !0), s.selection.collapse(!0))
                    },
                    i = function(t) {
                        return (t.keyCode == e.DELETE || t.keyCode == e.BACKSPACE) && !t.isDefaultPrevented()
                    },
                    o = function(e) {
                        return e.firstChild === e.lastChild && e.firstChild
                    },
                    a = function(e) {
                        return e && 3 === e.nodeType
                    },
                    l = function(e) {
                        var t = o(e);
                        return a(t) && 1 === t.data.length ? t.data : null
                    },
                    c = function(e) {
                        var t = o(e),
                            n = l(e);
                        return t && !a(t) || n && !d(n)
                    },
                    u = function(e) {
                        return s.dom.isEmpty(e) || d(l(e))
                    },
                    d = function(e) {
                        return "\xa0" === e
                    };
                s.on("keydown", function(e) {
                    if (i(e)) {
                        var o = s.dom.getParent(s.selection.getStart(), "caption");
                        t(o) && (n.ie && (s.selection.isCollapsed() ? c(o) && r(o) : (s.undoManager.transact(function() {
                            s.execCommand("Delete"), u(o) && r(o, !0)
                        }), e.preventDefault())), u(o) && e.preventDefault())
                    }
                })
            }
            f(), p(), n.webkit && (l(), d()), n.gecko && (c(), u()), n.ie > 9 && (c(), u())
        }
    }), r("tinymce/tableplugin/CellSelection", ["tinymce/tableplugin/TableGrid", "tinymce/dom/TreeWalker", "tinymce/util/Tools"], function(e, t, n) {
        return function(r, i) {
            function o(e) {
                r.getBody().style.webkitUserSelect = "", (e || g) && (r.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"), g = !1)
            }

            function a(e, t) {
                return !(!e || !t) && e === m.getParent(t, "table")
            }

            function s(t) {
                var n, o, s = t.target;
                if (!f && !p && s !== d && (d = s, u && c)) {
                    if (o = m.getParent(s, "td,th"), a(u, o) || (o = m.getParent(u, "td,th")), c === o && !g) return;
                    if (i(!0), a(u, o)) {
                        t.preventDefault(), l || (l = new e(r, u, c), r.getBody().style.webkitUserSelect = "none"), l.setEndCell(o), g = !0, n = r.selection.getSel();
                        try {
                            n.removeAllRanges ? n.removeAllRanges() : n.empty()
                        } catch (e) {}
                    }
                }
            }
            var l, c, u, d, f, p, m = r.dom,
                g = !0,
                h = function() {
                    c = l = u = d = null, i(!1)
                };
            return r.on("SelectionChange", function(e) {
                g && e.stopImmediatePropagation()
            }, !0), r.on("MouseDown", function(e) {
                2 == e.button || f || p || (o(), c = m.getParent(e.target, "td,th"), u = m.getParent(c, "table"))
            }), r.on("mouseover", s), r.on("remove", function() {
                m.unbind(r.getDoc(), "mouseover", s), o()
            }), r.on("MouseUp", function() {
                function e(e, r) {
                    var o = new t(e, e);
                    do {
                        if (3 == e.nodeType && 0 !== n.trim(e.nodeValue).length) return void(r ? i.setStart(e, 0) : i.setEnd(e, e.nodeValue.length));
                        if ("BR" == e.nodeName) return void(r ? i.setStartBefore(e) : i.setEndBefore(e))
                    } while (e = r ? o.next() : o.prev())
                }
                var i, o, a, s, u, d = r.selection;
                if (c) {
                    if (l && (r.getBody().style.webkitUserSelect = ""), o = m.select("td[data-mce-selected],th[data-mce-selected]"), o.length > 0) {
                        i = m.createRng(), s = o[0], i.setStartBefore(s), i.setEndAfter(s), e(s, 1), a = new t(s, m.getParent(o[0], "table"));
                        do
                            if ("TD" == s.nodeName || "TH" == s.nodeName) {
                                if (!m.getAttrib(s, "data-mce-selected")) break;
                                u = s
                            } while (s = a.next());
                        e(u), d.setRng(i)
                    }
                    r.nodeChanged(), h()
                }
            }), r.on("KeyUp Drop SetContent", function(e) {
                o("setcontent" == e.type), h(), f = !1
            }), r.on("ObjectResizeStart ObjectResized", function(e) {
                f = "objectresized" != e.type
            }), r.on("dragstart", function() {
                p = !0
            }), r.on("drop dragend", function() {
                p = !1
            }), {
                clear: o
            }
        }
    }), r("tinymce/tableplugin/Dialogs", ["tinymce/util/Tools", "tinymce/Env"], function(e, t) {
        var n = e.each;
        return function(r) {
            function i() {
                var e = r.settings.color_picker_callback;
                if (e) return function() {
                    var t = this;
                    e.call(r, function(e) {
                        t.value(e).fire("change")
                    }, t.value())
                }
            }

            function o(e) {
                return {
                    title: "Advanced",
                    type: "form",
                    defaults: {
                        onchange: function() {
                            d(e, this.parents().reverse()[0], "style" == this.name())
                        }
                    },
                    items: [{
                        label: "Style",
                        name: "style",
                        type: "textbox"
                    }, {
                        type: "form",
                        padding: 0,
                        formItemDefaults: {
                            layout: "grid",
                            alignH: ["start", "right"]
                        },
                        defaults: {
                            size: 7
                        },
                        items: [{
                            label: "Border color",
                            type: "colorbox",
                            name: "borderColor",
                            onaction: i()
                        }, {
                            label: "Background color",
                            type: "colorbox",
                            name: "backgroundColor",
                            onaction: i()
                        }]
                    }]
                }
            }

            function a(e) {
                return e ? e.replace(/px$/, "") : ""
            }

            function s(e) {
                return /^[0-9]+$/.test(e) && (e += "px"), e
            }

            function l(e) {
                n("left center right".split(" "), function(t) {
                    r.formatter.remove("align" + t, {}, e)
                })
            }

            function c(e) {
                n("top middle bottom".split(" "), function(t) {
                    r.formatter.remove("valign" + t, {}, e)
                })
            }

            function u(t, n, r) {
                function i(t, r) {
                    return r = r || [], e.each(t, function(e) {
                        var t = {
                            text: e.text || e.title
                        };
                        e.menu ? t.menu = i(e.menu) : (t.value = e.value, n && n(t)), r.push(t)
                    }), r
                }
                return i(t, r || [])
            }

            function d(e, t, n) {
                var r = t.toJSON(),
                    i = e.parseStyle(r.style);
                n ? (t.find("#borderColor").value(i["border-color"] || "")[0].fire("change"), t.find("#backgroundColor").value(i["background-color"] || "")[0].fire("change")) : (i["border-color"] = r.borderColor, i["background-color"] = r.backgroundColor), t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))
            }

            function f(e, t, n) {
                var r = e.parseStyle(e.getAttrib(n, "style"));
                r["border-color"] && (t.borderColor = r["border-color"]), r["background-color"] && (t.backgroundColor = r["background-color"]), t.style = e.serializeStyle(r)
            }

            function p(e, t, r) {
                var i = e.parseStyle(e.getAttrib(t, "style"));
                n(r, function(e) {
                    i[e.name] = e.value
                }), e.setAttrib(t, "style", e.serializeStyle(e.parseStyle(e.serializeStyle(i))))
            }
            var m = this;
            m.tableProps = function() {
                m.table(!0)
            }, m.table = function(i) {
                function c() {
                    function n(e, t, r) {
                        if ("TD" === e.tagName || "TH" === e.tagName) C.setStyle(e, t, r);
                        else if (e.children)
                            for (var i = 0; i < e.children.length; i++) n(e.children[i], t, r)
                    }
                    var i;
                    d(C, this), w = e.extend(w, this.toJSON()), w["class"] === !1 && delete w["class"], r.undoManager.transact(function() {
                        if (g || (g = r.plugins.table.insertTable(w.cols || 1, w.rows || 1)), r.dom.setAttribs(g, {
                                style: w.style,
                                "class": w["class"]
                            }), r.settings.table_style_by_css) {
                            if (x = [], x.push({
                                    name: "border",
                                    value: w.border
                                }), x.push({
                                    name: "border-spacing",
                                    value: s(w.cellspacing)
                                }), p(C, g, x), C.setAttribs(g, {
                                    "data-mce-border-color": w.borderColor,
                                    "data-mce-cell-padding": w.cellpadding,
                                    "data-mce-border": w.border
                                }), g.children)
                                for (var e = 0; e < g.children.length; e++) n(g.children[e], "border", w.border), n(g.children[e], "padding", s(w.cellpadding))
                        } else r.dom.setAttribs(g, {
                            border: w.border,
                            cellpadding: w.cellpadding,
                            cellspacing: w.cellspacing
                        });
                        C.getAttrib(g, "width") && !r.settings.table_style_by_css ? C.setAttrib(g, "width", a(w.width)) : C.setStyle(g, "width", s(w.width)), C.setStyle(g, "height", s(w.height)), i = C.select("caption", g)[0], i && !w.caption && C.remove(i), !i && w.caption && (i = C.create("caption"), i.innerHTML = t.ie ? "\xa0" : '<br data-mce-bogus="1"/>', g.insertBefore(i, g.firstChild)), l(g), w.align && r.formatter.apply("align" + w.align, {}, g), r.focus(), r.addVisual()
                    })
                }

                function m(e, t) {
                    function n(e, n) {
                        for (var r = 0; r < n.length; r++) {
                            var i = C.getStyle(n[r], t);
                            if ("undefined" == typeof e && (e = i), e != i) return ""
                        }
                        return e
                    }
                    var i, o = r.dom.select("td,th", e);
                    return i = n(i, o)
                }
                var g, h, v, b, y, x, C = r.dom,
                    w = {};
                i === !0 ? (g = C.getParent(r.selection.getStart(), "table"), g && (w = {
                    width: a(C.getStyle(g, "width") || C.getAttrib(g, "width")),
                    height: a(C.getStyle(g, "height") || C.getAttrib(g, "height")),
                    cellspacing: a(C.getStyle(g, "border-spacing") || C.getAttrib(g, "cellspacing")),
                    cellpadding: C.getAttrib(g, "data-mce-cell-padding") || C.getAttrib(g, "cellpadding") || m(g, "padding"),
                    border: C.getAttrib(g, "data-mce-border") || C.getAttrib(g, "border") || m(g, "border"),
                    borderColor: C.getAttrib(g, "data-mce-border-color"),
                    caption: !!C.select("caption", g)[0],
                    "class": C.getAttrib(g, "class")
                }, n("left center right".split(" "), function(e) {
                    r.formatter.matchNode(g, "align" + e) && (w.align = e)
                }))) : (h = {
                    label: "Cols",
                    name: "cols"
                }, v = {
                    label: "Rows",
                    name: "rows"
                }), r.settings.table_class_list && (w["class"] && (w["class"] = w["class"].replace(/\s*mce\-item\-table\s*/g, "")), b = {
                    name: "class",
                    type: "listbox",
                    label: "Class",
                    values: u(r.settings.table_class_list, function(e) {
                        e.value && (e.textStyle = function() {
                            return r.formatter.getCssText({
                                block: "table",
                                classes: [e.value]
                            })
                        })
                    })
                }), y = {
                    type: "form",
                    layout: "flex",
                    direction: "column",
                    labelGapCalc: "children",
                    padding: 0,
                    items: [{
                        type: "form",
                        labelGapCalc: !1,
                        padding: 0,
                        layout: "grid",
                        columns: 2,
                        defaults: {
                            type: "textbox",
                            maxWidth: 50
                        },
                        items: r.settings.table_appearance_options !== !1 ? [h, v, {
                            label: "Width",
                            name: "width"
                        }, {
                            label: "Height",
                            name: "height"
                        }, {
                            label: "Cell spacing",
                            name: "cellspacing"
                        }, {
                            label: "Cell padding",
                            name: "cellpadding"
                        }, {
                            label: "Border",
                            name: "border"
                        }, {
                            label: "Caption",
                            name: "caption",
                            type: "checkbox"
                        }] : [h, v, {
                            label: "Width",
                            name: "width"
                        }, {
                            label: "Height",
                            name: "height"
                        }]
                    }, {
                        label: "Alignment",
                        name: "align",
                        type: "listbox",
                        text: "None",
                        values: [{
                            text: "None",
                            value: ""
                        }, {
                            text: "Left",
                            value: "left"
                        }, {
                            text: "Center",
                            value: "center"
                        }, {
                            text: "Right",
                            value: "right"
                        }]
                    }, b]
                }, r.settings.table_advtab !== !1 ? (f(C, w, g), r.windowManager.open({
                    title: "Table properties",
                    data: w,
                    bodyType: "tabpanel",
                    body: [{
                        title: "General",
                        type: "form",
                        items: y
                    }, o(C)],
                    onsubmit: c
                })) : r.windowManager.open({
                    title: "Table properties",
                    data: w,
                    body: y,
                    onsubmit: c
                })
            }, m.merge = function(e, t) {
                r.windowManager.open({
                    title: "Merge cells",
                    body: [{
                        label: "Cols",
                        name: "cols",
                        type: "textbox",
                        value: "1",
                        size: 10
                    }, {
                        label: "Rows",
                        name: "rows",
                        type: "textbox",
                        value: "1",
                        size: 10
                    }],
                    onsubmit: function() {
                        var n = this.toJSON();
                        r.undoManager.transact(function() {
                            e.merge(t, n.cols, n.rows)
                        })
                    }
                })
            }, m.cell = function() {
                function t(e, t, n) {
                    (1 === b.length || n) && v.setAttrib(e, t, n)
                }

                function i(e, t, n) {
                    (1 === b.length || n) && v.setStyle(e, t, n)
                }

                function p() {
                    d(v, this), g = e.extend(g, this.toJSON()), r.undoManager.transact(function() {
                        n(b, function(e) {
                            t(e, "scope", g.scope), t(e, "style", g.style), t(e, "class", g["class"]), i(e, "width", s(g.width)), i(e, "height", s(g.height)), g.type && e.nodeName.toLowerCase() !== g.type && (e = v.rename(e, g.type)), 1 === b.length && (l(e), c(e)), g.align && r.formatter.apply("align" + g.align, {}, e), g.valign && r.formatter.apply("valign" + g.valign, {}, e)
                        }), r.focus()
                    })
                }
                var m, g, h, v = r.dom,
                    b = [];
                if (b = r.dom.select("td[data-mce-selected],th[data-mce-selected]"), m = r.dom.getParent(r.selection.getStart(), "td,th"), !b.length && m && b.push(m), m = m || b[0]) {
                    b.length > 1 ? g = {
                        width: "",
                        height: "",
                        scope: "",
                        "class": "",
                        align: "",
                        style: "",
                        type: m.nodeName.toLowerCase()
                    } : (g = {
                        width: a(v.getStyle(m, "width") || v.getAttrib(m, "width")),
                        height: a(v.getStyle(m, "height") || v.getAttrib(m, "height")),
                        scope: v.getAttrib(m, "scope"),
                        "class": v.getAttrib(m, "class")
                    }, g.type = m.nodeName.toLowerCase(), n("left center right".split(" "), function(e) {
                        r.formatter.matchNode(m, "align" + e) && (g.align = e)
                    }), n("top middle bottom".split(" "), function(e) {
                        r.formatter.matchNode(m, "valign" + e) && (g.valign = e)
                    }), f(v, g, m)), r.settings.table_cell_class_list && (h = {
                        name: "class",
                        type: "listbox",
                        label: "Class",
                        values: u(r.settings.table_cell_class_list, function(e) {
                            e.value && (e.textStyle = function() {
                                return r.formatter.getCssText({
                                    block: "td",
                                    classes: [e.value]
                                })
                            })
                        })
                    });
                    var y = {
                        type: "form",
                        layout: "flex",
                        direction: "column",
                        labelGapCalc: "children",
                        padding: 0,
                        items: [{
                            type: "form",
                            layout: "grid",
                            columns: 2,
                            labelGapCalc: !1,
                            padding: 0,
                            defaults: {
                                type: "textbox",
                                maxWidth: 50
                            },
                            items: [{
                                label: "Width",
                                name: "width"
                            }, {
                                label: "Height",
                                name: "height"
                            }, {
                                label: "Cell type",
                                name: "type",
                                type: "listbox",
                                text: "None",
                                minWidth: 90,
                                maxWidth: null,
                                values: [{
                                    text: "Cell",
                                    value: "td"
                                }, {
                                    text: "Header cell",
                                    value: "th"
                                }]
                            }, {
                                label: "Scope",
                                name: "scope",
                                type: "listbox",
                                text: "None",
                                minWidth: 90,
                                maxWidth: null,
                                values: [{
                                    text: "None",
                                    value: ""
                                }, {
                                    text: "Row",
                                    value: "row"
                                }, {
                                    text: "Column",
                                    value: "col"
                                }, {
                                    text: "Row group",
                                    value: "rowgroup"
                                }, {
                                    text: "Column group",
                                    value: "colgroup"
                                }]
                            }, {
                                label: "H Align",
                                name: "align",
                                type: "listbox",
                                text: "None",
                                minWidth: 90,
                                maxWidth: null,
                                values: [{
                                    text: "None",
                                    value: ""
                                }, {
                                    text: "Left",
                                    value: "left"
                                }, {
                                    text: "Center",
                                    value: "center"
                                }, {
                                    text: "Right",
                                    value: "right"
                                }]
                            }, {
                                label: "V Align",
                                name: "valign",
                                type: "listbox",
                                text: "None",
                                minWidth: 90,
                                maxWidth: null,
                                values: [{
                                    text: "None",
                                    value: ""
                                }, {
                                    text: "Top",
                                    value: "top"
                                }, {
                                    text: "Middle",
                                    value: "middle"
                                }, {
                                    text: "Bottom",
                                    value: "bottom"
                                }]
                            }]
                        }, h]
                    };
                    r.settings.table_cell_advtab !== !1 ? r.windowManager.open({
                        title: "Cell properties",
                        bodyType: "tabpanel",
                        data: g,
                        body: [{
                            title: "General",
                            type: "form",
                            items: y
                        }, o(v)],
                        onsubmit: p
                    }) : r.windowManager.open({
                        title: "Cell properties",
                        data: g,
                        body: y,
                        onsubmit: p
                    })
                }
            }, m.row = function() {
                function t(e, t, n) {
                    (1 === x.length || n) && y.setAttrib(e, t, n)
                }

                function i(e, t, n) {
                    (1 === x.length || n) && y.setStyle(e, t, n)
                }

                function c() {
                    var o, a, c;
                    d(y, this), v = e.extend(v, this.toJSON()), r.undoManager.transact(function() {
                        var e = v.type;
                        n(x, function(n) {
                            t(n, "scope", v.scope), t(n, "style", v.style), t(n, "class", v["class"]), i(n, "height", s(v.height)), e !== n.parentNode.nodeName.toLowerCase() && (o = y.getParent(n, "table"), a = n.parentNode, c = y.select(e, o)[0], c || (c = y.create(e), o.firstChild ? o.insertBefore(c, o.firstChild) : o.appendChild(c)), c.appendChild(n), a.hasChildNodes() || y.remove(a)), 1 === x.length && l(n), v.align && r.formatter.apply("align" + v.align, {}, n)
                        }), r.focus()
                    })
                }
                var p, m, g, h, v, b, y = r.dom,
                    x = [];
                p = r.dom.getParent(r.selection.getStart(), "table"), m = r.dom.getParent(r.selection.getStart(), "td,th"), n(p.rows, function(e) {
                    n(e.cells, function(t) {
                        if (y.getAttrib(t, "data-mce-selected") || t == m) return x.push(e), !1
                    })
                }), g = x[0], g && (x.length > 1 ? v = {
                    height: "",
                    scope: "",
                    "class": "",
                    align: "",
                    type: g.parentNode.nodeName.toLowerCase()
                } : (v = {
                    height: a(y.getStyle(g, "height") || y.getAttrib(g, "height")),
                    scope: y.getAttrib(g, "scope"),
                    "class": y.getAttrib(g, "class")
                }, v.type = g.parentNode.nodeName.toLowerCase(), n("left center right".split(" "), function(e) {
                    r.formatter.matchNode(g, "align" + e) && (v.align = e)
                }), f(y, v, g)), r.settings.table_row_class_list && (h = {
                    name: "class",
                    type: "listbox",
                    label: "Class",
                    values: u(r.settings.table_row_class_list, function(e) {
                        e.value && (e.textStyle = function() {
                            return r.formatter.getCssText({
                                block: "tr",
                                classes: [e.value]
                            })
                        })
                    })
                }), b = {
                    type: "form",
                    columns: 2,
                    padding: 0,
                    defaults: {
                        type: "textbox"
                    },
                    items: [{
                        type: "listbox",
                        name: "type",
                        label: "Row type",
                        text: "Header",
                        maxWidth: null,
                        values: [{
                            text: "Header",
                            value: "thead"
                        }, {
                            text: "Body",
                            value: "tbody"
                        }, {
                            text: "Footer",
                            value: "tfoot"
                        }]
                    }, {
                        type: "listbox",
                        name: "align",
                        label: "Alignment",
                        text: "None",
                        maxWidth: null,
                        values: [{
                            text: "None",
                            value: ""
                        }, {
                            text: "Left",
                            value: "left"
                        }, {
                            text: "Center",
                            value: "center"
                        }, {
                            text: "Right",
                            value: "right"
                        }]
                    }, {
                        label: "Height",
                        name: "height"
                    }, h]
                }, r.settings.table_row_advtab !== !1 ? r.windowManager.open({
                    title: "Row properties",
                    data: v,
                    bodyType: "tabpanel",
                    body: [{
                        title: "General",
                        type: "form",
                        items: b
                    }, o(y)],
                    onsubmit: c
                }) : r.windowManager.open({
                    title: "Row properties",
                    data: v,
                    body: b,
                    onsubmit: c
                }))
            }
        }
    }), r("tinymce/tableplugin/ResizeBars", ["tinymce/util/Tools", "tinymce/util/VK"], function(e, n) {
        var r;
        return function(i) {
            function o(e, t) {
                return {
                    index: e,
                    y: i.dom.getPos(t).y
                }
            }

            function a(e, t) {
                return {
                    index: e,
                    y: i.dom.getPos(t).y + t.offsetHeight
                }
            }

            function s(e, t) {
                return {
                    index: e,
                    x: i.dom.getPos(t).x
                }
            }

            function l(e, t) {
                return {
                    index: e,
                    x: i.dom.getPos(t).x + t.offsetWidth
                }
            }

            function c() {
                var e = i.getBody().dir;
                return "rtl" === e
            }

            function u() {
                return i.inline
            }

            function d() {
                return u ? i.getBody().ownerDocument.body : i.getBody()
            }

            function f(e, t) {
                return c() ? l(e, t) : s(e, t)
            }

            function p(e, t) {
                return c() ? s(e, t) : l(e, t)
            }

            function m(e, t) {
                return g(e, "width") / g(t, "width") * 100
            }

            function g(e, t) {
                var n = i.dom.getStyle(e, t, !0),
                    r = parseInt(n, 10);
                return r
            }

            function h(e) {
                var t = g(e, "width"),
                    n = g(e.parentElement, "width");
                return t / n * 100
            }

            function v(e, t) {
                var n = g(e, "width");
                return t / n * 100
            }

            function b(e, t) {
                var n = g(e.parentElement, "width");
                return t / n * 100
            }

            function y(e, t, n) {
                for (var r = [], i = 1; i < n.length; i++) {
                    var o = n[i].element;
                    r.push(e(i - 1, o))
                }
                var a = n[n.length - 1];
                return r.push(t(n.length - 1, a.element)), r
            }

            function x() {
                var t = i.dom.select("." + fe, d());
                e.each(t, function(e) {
                    i.dom.remove(e)
                })
            }

            function C(e) {
                x(), B(e)
            }

            function w(e, t, n, r, i, o, a, s) {
                var l = {
                    "data-mce-bogus": "all",
                    "class": fe + " " + e,
                    unselectable: "on",
                    "data-mce-resize": !1,
                    style: "cursor: " + t + "; margin: 0; padding: 0; position: absolute; left: " + n + "px; top: " + r + "px; height: " + i + "px; width: " + o + "px; "
                };
                return l[a] = s, l
            }

            function N(t, n, r) {
                e.each(t, function(e) {
                    var t = r.x,
                        o = e.y - Ce / 2,
                        a = Ce,
                        s = n;
                    i.dom.add(d(), "div", w(pe, me, t, o, a, s, ge, e.index))
                })
            }

            function k(t, n, r) {
                e.each(t, function(e) {
                    var t = e.x - Ce / 2,
                        o = r.y,
                        a = n,
                        s = Ce;
                    i.dom.add(d(), "div", w(ve, be, t, o, a, s, ye, e.index))
                })
            }

            function S(t) {
                return e.map(t.rows, function(t) {
                    var n = e.map(t.cells, function(e) {
                        var t = e.hasAttribute("rowspan") ? parseInt(e.getAttribute("rowspan"), 10) : 1,
                            n = e.hasAttribute("colspan") ? parseInt(e.getAttribute("colspan"), 10) : 1;
                        return {
                            element: e,
                            rowspan: t,
                            colspan: n
                        }
                    });
                    return {
                        element: t,
                        cells: n
                    }
                })
            }

            function _(n) {
                function r(e, t) {
                    return e + "," + t
                }

                function i(e, t) {
                    return s[r(e, t)]
                }

                function o() {
                    var t = [];
                    return e.each(l, function(e) {
                        t = t.concat(e.cells)
                    }), t
                }

                function a() {
                    return l
                }
                var s = {},
                    l = [],
                    c = 0,
                    u = 0;
                return e.each(n, function(n, i) {
                    var o = [];
                    e.each(n.cells, function(e) {
                        for (var n = 0; s[r(i, n)] !== t;) n++;
                        for (var a = {
                                element: e.element,
                                colspan: e.colspan,
                                rowspan: e.rowspan,
                                rowIndex: i,
                                colIndex: n
                            }, l = 0; l < e.colspan; l++)
                            for (var d = 0; d < e.rowspan; d++) {
                                var f = i + d,
                                    p = n + l;
                                s[r(f, p)] = a, c = Math.max(c, f + 1), u = Math.max(u, p + 1)
                            }
                        o.push(a)
                    }), l.push({
                        element: n.element,
                        cells: o
                    })
                }), {
                    grid: {
                        maxRows: c,
                        maxCols: u
                    },
                    getAt: i,
                    getAllCells: o,
                    getAllRows: a
                }
            }

            function E(e, t) {
                for (var n = [], r = e; r < t; r++) n.push(r);
                return n
            }

            function T(e, t, n) {
                for (var r, i = e(), o = 0; o < i.length; o++) t(i[o]) && (r = i[o]);
                return r ? r : n()
            }

            function R(t) {
                var n = E(0, t.grid.maxCols),
                    r = E(0, t.grid.maxRows);
                return e.map(n, function(e) {
                    function n() {
                        for (var n = [], i = 0; i < r.length; i++) {
                            var o = t.getAt(i, e);
                            o && o.colIndex === e && n.push(o)
                        }
                        return n
                    }

                    function i(e) {
                        return 1 === e.colspan
                    }

                    function o() {
                        for (var n, i = 0; i < r.length; i++)
                            if (n = t.getAt(i, e)) return n;
                        return null
                    }
                    return T(n, i, o)
                })
            }

            function A(t) {
                var n = E(0, t.grid.maxCols),
                    r = E(0, t.grid.maxRows);
                return e.map(r, function(e) {
                    function r() {
                        for (var r = [], i = 0; i < n.length; i++) {
                            var o = t.getAt(e, i);
                            o && o.rowIndex === e && r.push(o)
                        }
                        return r
                    }

                    function i(e) {
                        return 1 === e.rowspan
                    }

                    function o() {
                        return t.getAt(e, 0)
                    }
                    return T(r, i, o);
                })
            }

            function B(e) {
                var t = S(e),
                    n = _(t),
                    r = A(n),
                    s = R(n),
                    l = i.dom.getPos(e),
                    c = r.length > 0 ? y(o, a, r) : [],
                    u = s.length > 0 ? y(f, p, s) : [];
                N(c, e.offsetWidth, l), k(u, e.offsetHeight, l)
            }

            function P(e, t, n, r) {
                if (t < 0 || t >= e.length - 1) return "";
                var i = e[t];
                if (i) i = {
                    value: i,
                    delta: 0
                };
                else
                    for (var o = e.slice(0, t).reverse(), a = 0; a < o.length; a++) o[a] && (i = {
                        value: o[a],
                        delta: a + 1
                    });
                var s = e[t + 1];
                if (s) s = {
                    value: s,
                    delta: 1
                };
                else
                    for (var l = e.slice(t + 1), c = 0; c < l.length; c++) l[c] && (s = {
                        value: l[c],
                        delta: c + 1
                    });
                var u = s.delta - i.delta,
                    d = Math.abs(s.value - i.value) / u;
                return n ? d / g(r, "width") * 100 : d
            }

            function D(e, t) {
                var n = i.dom.getStyle(e, t);
                return n || (n = i.dom.getAttrib(e, t)), n || (n = i.dom.getStyle(e, t, !0)), n
            }

            function M(e, t, n) {
                var r = D(e, "width"),
                    i = parseInt(r, 10),
                    o = t ? m(e, n) : g(e, "width");
                return (t && !V(r) || !t && !$(r)) && (i = 0), !isNaN(i) && i > 0 ? i : o
            }

            function L(t, n, r) {
                for (var i = R(t), o = e.map(i, function(e) {
                        return f(e.colIndex, e.element).x
                    }), a = [], s = 0; s < i.length; s++) {
                    var l = i[s].element.hasAttribute("colspan") ? parseInt(i[s].element.getAttribute("colspan"), 10) : 1,
                        c = l > 1 ? P(o, s) : M(i[s].element, n, r);
                    c = c ? c : we, a.push(c)
                }
                return a
            }

            function I(e) {
                var t = D(e, "height"),
                    n = parseInt(t, 10);
                return V(t) && (n = 0), !isNaN(n) && n > 0 ? n : g(e, "height")
            }

            function O(t) {
                for (var n = A(t), r = e.map(n, function(e) {
                        return o(e.rowIndex, e.element).y
                    }), i = [], a = 0; a < n.length; a++) {
                    var s = n[a].element.hasAttribute("rowspan") ? parseInt(n[a].element.getAttribute("rowspan"), 10) : 1,
                        l = s > 1 ? P(r, a) : I(n[a].element);
                    l = l ? l : Ne, i.push(l)
                }
                return i
            }

            function H(t, n, r, i, o) {
                function a(t) {
                    return e.map(t, function() {
                        return 0
                    })
                }

                function s() {
                    var e;
                    if (o) e = [100 - d[0]];
                    else {
                        var t = Math.max(i, d[0] + r);
                        e = [t - d[0]]
                    }
                    return e
                }

                function l(e, t) {
                    var n, o = a(d.slice(0, e)),
                        s = a(d.slice(t + 1));
                    if (r >= 0) {
                        var l = Math.max(i, d[t] - r);
                        n = o.concat([r, l - d[t]]).concat(s)
                    } else {
                        var c = Math.max(i, d[e] + r),
                            u = d[e] - c;
                        n = o.concat([c - d[e], u]).concat(s)
                    }
                    return n
                }

                function c(e, t) {
                    var n, o = a(d.slice(0, t));
                    if (r >= 0) n = o.concat([r]);
                    else {
                        var s = Math.max(i, d[t] + r);
                        n = o.concat([s - d[t]])
                    }
                    return n
                }
                var u, d = t.slice(0);
                return u = 0 === t.length ? [] : 1 === t.length ? s() : 0 === n ? l(0, 1) : n > 0 && n < t.length - 1 ? l(n, n + 1) : n === t.length - 1 ? c(n - 1, n) : []
            }

            function F(e, t, n) {
                for (var r = 0, i = e; i < t; i++) r += n[i];
                return r
            }

            function z(t, n) {
                var r = t.getAllCells();
                return e.map(r, function(e) {
                    var t = F(e.colIndex, e.colIndex + e.colspan, n);
                    return {
                        element: e.element,
                        width: t,
                        colspan: e.colspan
                    }
                })
            }

            function W(t, n) {
                var r = t.getAllCells();
                return e.map(r, function(e) {
                    var t = F(e.rowIndex, e.rowIndex + e.rowspan, n);
                    return {
                        element: e.element,
                        height: t,
                        rowspan: e.rowspan
                    }
                })
            }

            function U(t, n) {
                var r = t.getAllRows();
                return e.map(r, function(e, t) {
                    return {
                        element: e.element,
                        height: n[t]
                    }
                })
            }

            function V(e) {
                return Se.test(e)
            }

            function $(e) {
                return _e.test(e)
            }

            function j(t, n, r) {
                function o(t, n) {
                    e.each(t, function(e) {
                        i.dom.setStyle(e.element, "width", e.width + n), i.dom.setAttrib(e.element, "width", null)
                    })
                }

                function a() {
                    return r < u.grid.maxCols - 1 ? h(t) : h(t) + b(t, n)
                }

                function s() {
                    return r < u.grid.maxCols - 1 ? g(t, "width") : g(t, "width") + n
                }

                function l(e, n, o) {
                    r != u.grid.maxCols - 1 && o || (i.dom.setStyle(t, "width", e + n), i.dom.setAttrib(t, "width", null))
                }
                for (var c = S(t), u = _(c), d = V(t.width) || V(t.style.width), f = L(u, d, t), p = d ? v(t, n) : n, m = H(f, r, p, we, d, t), y = [], x = 0; x < m.length; x++) y.push(m[x] + f[x]);
                var C = z(u, y),
                    w = d ? "%" : "px",
                    N = d ? a() : s();
                i.undoManager.transact(function() {
                    o(C, w), l(N, w, d)
                })
            }

            function q(t, n, r) {
                for (var o = S(t), a = _(o), s = O(a), l = [], c = 0, u = 0; u < s.length; u++) l.push(u === r ? n + s[u] : s[u]), c += c[u];
                var d = W(a, l),
                    f = U(a, l);
                i.undoManager.transact(function() {
                    e.each(f, function(e) {
                        i.dom.setStyle(e.element, "height", e.height + "px"), i.dom.setAttrib(e.element, "height", null)
                    }), e.each(d, function(e) {
                        i.dom.setStyle(e.element, "height", e.height + "px"), i.dom.setAttrib(e.element, "height", null)
                    }), i.dom.setStyle(t, "height", c + "px"), i.dom.setAttrib(t, "height", null)
                })
            }

            function Y() {
                ae = setTimeout(function() {
                    J()
                }, 200)
            }

            function X() {
                clearTimeout(ae)
            }

            function K() {
                var e = document.createElement("div");
                return e.setAttribute("style", "margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"), e.setAttribute("data-mce-bogus", "all"), e
            }

            function G(e, t) {
                i.dom.bind(e, "mouseup", function() {
                    J()
                }), i.dom.bind(e, "mousemove", function(e) {
                    X(), se && t(e)
                }), i.dom.bind(e, "mouseout", function() {
                    Y()
                })
            }

            function J() {
                if (i.dom.remove(le), se) {
                    i.dom.removeClass(ce, ke), se = !1;
                    var e, t;
                    if (Q(ce)) {
                        var n = parseInt(i.dom.getAttrib(ce, xe), 10),
                            o = i.dom.getPos(ce).x;
                        e = parseInt(i.dom.getAttrib(ce, ye), 10), t = c() ? n - o : o - n, Math.abs(t) >= 1 && j(r, t, e)
                    } else if (ee(ce)) {
                        var a = parseInt(i.dom.getAttrib(ce, he), 10),
                            s = i.dom.getPos(ce).y;
                        e = parseInt(i.dom.getAttrib(ce, ge), 10), t = s - a, Math.abs(t) >= 1 && q(r, t, e)
                    }
                    C(r), i.nodeChanged()
                }
            }

            function Z(e, t) {
                le = le ? le : K(), se = !0, i.dom.addClass(e, ke), ce = e, G(le, t), i.dom.add(d(), le)
            }

            function Q(e) {
                return i.dom.hasClass(e, ve)
            }

            function ee(e) {
                return i.dom.hasClass(e, pe)
            }

            function te(e) {
                ue = ue !== t ? ue : e.clientX;
                var n = e.clientX - ue;
                ue = e.clientX;
                var r = i.dom.getPos(ce).x;
                i.dom.setStyle(ce, "left", r + n + "px")
            }

            function ne(e) {
                de = de !== t ? de : e.clientY;
                var n = e.clientY - de;
                de = e.clientY;
                var r = i.dom.getPos(ce).y;
                i.dom.setStyle(ce, "top", r + n + "px")
            }

            function re(e) {
                ue = t, Z(e, te)
            }

            function ie(e) {
                de = t, Z(e, ne)
            }

            function oe(e) {
                var t = e.target,
                    n = i.getBody();
                if (i.$.contains(n, r) || r === n)
                    if (Q(t)) {
                        e.preventDefault();
                        var o = i.dom.getPos(t).x;
                        i.dom.setAttrib(t, xe, o), re(t)
                    } else if (ee(t)) {
                    e.preventDefault();
                    var a = i.dom.getPos(t).y;
                    i.dom.setAttrib(t, he, a), ie(t)
                } else x()
            }
            var ae, se, le, ce, ue, de, fe = "mce-resize-bar",
                pe = "mce-resize-bar-row",
                me = "row-resize",
                ge = "data-row",
                he = "data-initial-top",
                ve = "mce-resize-bar-col",
                be = "col-resize",
                ye = "data-col",
                xe = "data-initial-left",
                Ce = 4,
                we = 10,
                Ne = 10,
                ke = "mce-resize-bar-dragging",
                Se = new RegExp(/(\d+(\.\d+)?%)/),
                _e = new RegExp(/px|em/);
            return i.on("init", function() {
                i.dom.bind(d(), "mousedown", oe)
            }), i.on("ObjectResized", function(t) {
                var n = t.target;
                if ("TABLE" === n.nodeName) {
                    var r = [];
                    e.each(n.rows, function(t) {
                        e.each(t.cells, function(e) {
                            var t = i.dom.getStyle(e, "width", !0);
                            r.push({
                                cell: e,
                                width: t
                            })
                        })
                    }), e.each(r, function(e) {
                        i.dom.setStyle(e.cell, "width", e.width), i.dom.setAttrib(e.cell, "width", null)
                    })
                }
            }), i.on("mouseover", function(e) {
                if (!se) {
                    var t = i.dom.getParent(e.target, "table");
                    ("TABLE" === e.target.nodeName || t) && (r = t, C(t))
                }
            }), i.on("keydown", function(e) {
                switch (e.keyCode) {
                    case n.LEFT:
                    case n.RIGHT:
                    case n.UP:
                    case n.DOWN:
                        x()
                }
            }), i.on("remove", function() {
                x(), i.dom.unbind(d(), "mousedown", oe)
            }), {
                adjustWidth: j,
                adjustHeight: q,
                clearBars: x,
                drawBars: B,
                determineDeltas: H,
                getTableGrid: _,
                getTableDetails: S,
                getWidths: L,
                getPixelHeights: O,
                isPercentageBasedSize: V,
                isPixelBasedSize: $,
                recalculateWidths: z,
                recalculateCellHeights: W,
                recalculateRowHeights: U
            }
        }
    }), r("tinymce/tableplugin/Plugin", ["tinymce/tableplugin/TableGrid", "tinymce/tableplugin/Quirks", "tinymce/tableplugin/CellSelection", "tinymce/tableplugin/Dialogs", "tinymce/tableplugin/ResizeBars", "tinymce/util/Tools", "tinymce/dom/TreeWalker", "tinymce/Env", "tinymce/PluginManager"], function(e, t, n, r, i, o, a, s, l) {
        function c(o) {
            function a(e) {
                return function() {
                    o.execCommand(e)
                }
            }

            function l(e, t) {
                var n, r, i, a;
                for (i = '<table id="__mce"><tbody>', n = 0; n < t; n++) {
                    for (i += "<tr>", r = 0; r < e; r++) i += "<td>" + (s.ie && s.ie < 10 ? "&nbsp;" : "<br>") + "</td>";
                    i += "</tr>"
                }
                return i += "</tbody></table>", o.undoManager.transact(function() {
                    o.insertContent(i), a = o.dom.get("__mce"), o.dom.setAttrib(a, "id", null), o.$("tr", a).each(function(e, t) {
                        o.fire("newrow", {
                            node: t
                        }), o.$("th,td", t).each(function(e, t) {
                            o.fire("newcell", {
                                node: t
                            })
                        })
                    }), o.dom.setAttribs(a, o.settings.table_default_attributes || {}), o.dom.setStyles(a, o.settings.table_default_styles || {})
                }), a
            }

            function c(e, t, n) {
                function r() {
                    var r, i, a, s = {},
                        l = 0;
                    i = o.dom.select("td[data-mce-selected],th[data-mce-selected]"), r = i[0], r || (r = o.selection.getStart()), n && i.length > 0 ? (u(i, function(e) {
                        return s[e.parentNode.parentNode.nodeName] = 1
                    }), u(s, function(e) {
                        l += e
                    }), a = 1 !== l) : a = !o.dom.getParent(r, t), e.disabled(a), o.selection.selectorChanged(t, function(t) {
                        e.disabled(!t)
                    })
                }
                o.initialized ? r() : o.on("init", r)
            }

            function d() {
                c(this, "table")
            }

            function f() {
                c(this, "td,th")
            }

            function p() {
                c(this, "td,th", !0)
            }

            function m() {
                var e = "";
                e = '<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';
                for (var t = 0; t < 10; t++) {
                    e += "<tr>";
                    for (var n = 0; n < 10; n++) e += '<td role="gridcell" tabindex="-1"><a id="mcegrid' + (10 * t + n) + '" href="#" data-mce-x="' + n + '" data-mce-y="' + t + '"></a></td>';
                    e += "</tr>"
                }
                return e += "</table>", e += '<div class="mce-text-center" role="presentation">1 x 1</div>'
            }

            function g(e, t, n) {
                var r, i, a, s, l, c = n.getEl().getElementsByTagName("table")[0],
                    u = n.isRtl() || "tl-tr" == n.parent().rel;
                for (c.nextSibling.innerHTML = e + 1 + " x " + (t + 1), u && (e = 9 - e), i = 0; i < 10; i++)
                    for (r = 0; r < 10; r++) s = c.rows[i].childNodes[r].firstChild, l = (u ? r >= e : r <= e) && i <= t, o.dom.toggleClass(s, "mce-active", l), l && (a = s);
                return a.parentNode
            }

            function h() {
                o.addButton("tableprops", {
                    title: "Table properties",
                    onclick: k.tableProps,
                    icon: "table"
                }), o.addButton("tabledelete", {
                    title: "Delete table",
                    onclick: a("mceTableDelete")
                }), o.addButton("tablecellprops", {
                    title: "Cell properties",
                    onclick: a("mceTableCellProps")
                }), o.addButton("tablemergecells", {
                    title: "Merge cells",
                    onclick: a("mceTableMergeCells")
                }), o.addButton("tablesplitcells", {
                    title: "Split cell",
                    onclick: a("mceTableSplitCells")
                }), o.addButton("tableinsertrowbefore", {
                    title: "Insert row before",
                    onclick: a("mceTableInsertRowBefore")
                }), o.addButton("tableinsertrowafter", {
                    title: "Insert row after",
                    onclick: a("mceTableInsertRowAfter")
                }), o.addButton("tabledeleterow", {
                    title: "Delete row",
                    onclick: a("mceTableDeleteRow")
                }), o.addButton("tablerowprops", {
                    title: "Row properties",
                    onclick: a("mceTableRowProps")
                }), o.addButton("tablecutrow", {
                    title: "Cut row",
                    onclick: a("mceTableCutRow")
                }), o.addButton("tablecopyrow", {
                    title: "Copy row",
                    onclick: a("mceTableCopyRow")
                }), o.addButton("tablepasterowbefore", {
                    title: "Paste row before",
                    onclick: a("mceTablePasteRowBefore")
                }), o.addButton("tablepasterowafter", {
                    title: "Paste row after",
                    onclick: a("mceTablePasteRowAfter")
                }), o.addButton("tableinsertcolbefore", {
                    title: "Insert column before",
                    onclick: a("mceTableInsertColBefore")
                }), o.addButton("tableinsertcolafter", {
                    title: "Insert column after",
                    onclick: a("mceTableInsertColAfter")
                }), o.addButton("tabledeletecol", {
                    title: "Delete column",
                    onclick: a("mceTableDeleteCol")
                })
            }

            function v(e) {
                var t = o.dom.is(e, "table") && o.getBody().contains(e);
                return t
            }

            function b() {
                var e = o.settings.table_toolbar;
                "" !== e && e !== !1 && (e || (e = "tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"), o.addContextToolbar(v, e))
            }

            function y() {
                return C
            }

            function x(e) {
                C = e
            }
            var C, w, N = this,
                k = new r(o);
            !o.settings.object_resizing || o.settings.table_resize_bars === !1 || o.settings.object_resizing !== !0 && "table" !== o.settings.object_resizing || (w = i(o)), o.settings.table_grid === !1 ? o.addMenuItem("inserttable", {
                text: "Table",
                icon: "table",
                context: "table",
                onclick: k.table
            }) : o.addMenuItem("inserttable", {
                text: "Table",
                icon: "table",
                context: "table",
                ariaHideMenu: !0,
                onclick: function(e) {
                    e.aria && (this.parent().hideAll(), e.stopImmediatePropagation(), k.table())
                },
                onshow: function() {
                    g(0, 0, this.menu.items()[0])
                },
                onhide: function() {
                    var e = this.menu.items()[0].getEl().getElementsByTagName("a");
                    o.dom.removeClass(e, "mce-active"), o.dom.addClass(e[0], "mce-active")
                },
                menu: [{
                    type: "container",
                    html: m(),
                    onPostRender: function() {
                        this.lastX = this.lastY = 0
                    },
                    onmousemove: function(e) {
                        var t, n, r = e.target;
                        "A" == r.tagName.toUpperCase() && (t = parseInt(r.getAttribute("data-mce-x"), 10), n = parseInt(r.getAttribute("data-mce-y"), 10), (this.isRtl() || "tl-tr" == this.parent().rel) && (t = 9 - t), t === this.lastX && n === this.lastY || (g(t, n, e.control), this.lastX = t, this.lastY = n))
                    },
                    onclick: function(e) {
                        var t = this;
                        "A" == e.target.tagName.toUpperCase() && (e.preventDefault(), e.stopPropagation(), t.parent().cancel(), o.undoManager.transact(function() {
                            l(t.lastX + 1, t.lastY + 1)
                        }), o.addVisual())
                    }
                }]
            }), o.addMenuItem("tableprops", {
                text: "Table properties",
                context: "table",
                onPostRender: d,
                onclick: k.tableProps
            }), o.addMenuItem("deletetable", {
                text: "Delete table",
                context: "table",
                onPostRender: d,
                cmd: "mceTableDelete"
            }), o.addMenuItem("cell", {
                separator: "before",
                text: "Cell",
                context: "table",
                menu: [{
                    text: "Cell properties",
                    onclick: a("mceTableCellProps"),
                    onPostRender: f
                }, {
                    text: "Merge cells",
                    onclick: a("mceTableMergeCells"),
                    onPostRender: p
                }, {
                    text: "Split cell",
                    onclick: a("mceTableSplitCells"),
                    onPostRender: f
                }]
            }), o.addMenuItem("row", {
                text: "Row",
                context: "table",
                menu: [{
                    text: "Insert row before",
                    onclick: a("mceTableInsertRowBefore"),
                    onPostRender: f
                }, {
                    text: "Insert row after",
                    onclick: a("mceTableInsertRowAfter"),
                    onPostRender: f
                }, {
                    text: "Delete row",
                    onclick: a("mceTableDeleteRow"),
                    onPostRender: f
                }, {
                    text: "Row properties",
                    onclick: a("mceTableRowProps"),
                    onPostRender: f
                }, {
                    text: "-"
                }, {
                    text: "Cut row",
                    onclick: a("mceTableCutRow"),
                    onPostRender: f
                }, {
                    text: "Copy row",
                    onclick: a("mceTableCopyRow"),
                    onPostRender: f
                }, {
                    text: "Paste row before",
                    onclick: a("mceTablePasteRowBefore"),
                    onPostRender: f
                }, {
                    text: "Paste row after",
                    onclick: a("mceTablePasteRowAfter"),
                    onPostRender: f
                }]
            }), o.addMenuItem("column", {
                text: "Column",
                context: "table",
                menu: [{
                    text: "Insert column before",
                    onclick: a("mceTableInsertColBefore"),
                    onPostRender: f
                }, {
                    text: "Insert column after",
                    onclick: a("mceTableInsertColAfter"),
                    onPostRender: f
                }, {
                    text: "Delete column",
                    onclick: a("mceTableDeleteCol"),
                    onPostRender: f
                }]
            });
            var S = [];
            u("inserttable tableprops deletetable | cell row column".split(" "), function(e) {
                "|" == e ? S.push({
                    text: "-"
                }) : S.push(o.menuItems[e])
            }), o.addButton("table", {
                type: "menubutton",
                title: "Table",
                menu: S
            }), s.isIE || o.on("click", function(e) {
                e = e.target, "TABLE" === e.nodeName && (o.selection.select(e), o.nodeChanged())
            }), N.quirks = new t(o), o.on("Init", function() {
                N.cellSelection = new n(o, function(e) {
                    e && w && w.clearBars()
                }), N.resizeBars = w
            }), o.on("PreInit", function() {
                o.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color", function(e, t) {
                    for (var n = e.length; n--;) e[n].attr(t, null)
                })
            }), u({
                mceTableSplitCells: function(e) {
                    e.split()
                },
                mceTableMergeCells: function(e) {
                    var t;
                    t = o.dom.getParent(o.selection.getStart(), "th,td"), o.dom.select("td[data-mce-selected],th[data-mce-selected]").length ? e.merge() : k.merge(e, t)
                },
                mceTableInsertRowBefore: function(e) {
                    e.insertRows(!0)
                },
                mceTableInsertRowAfter: function(e) {
                    e.insertRows()
                },
                mceTableInsertColBefore: function(e) {
                    e.insertCols(!0)
                },
                mceTableInsertColAfter: function(e) {
                    e.insertCols()
                },
                mceTableDeleteCol: function(e) {
                    e.deleteCols()
                },
                mceTableDeleteRow: function(e) {
                    e.deleteRows()
                },
                mceTableCutRow: function(e) {
                    C = e.cutRows()
                },
                mceTableCopyRow: function(e) {
                    C = e.copyRows()
                },
                mceTablePasteRowBefore: function(e) {
                    e.pasteRows(C, !0)
                },
                mceTablePasteRowAfter: function(e) {
                    e.pasteRows(C)
                },
                mceSplitColsBefore: function(e) {
                    e.splitCols(!0)
                },
                mceSplitColsAfter: function(e) {
                    e.splitCols(!1)
                },
                mceTableDelete: function(e) {
                    w && w.clearBars(), e.deleteTable()
                }
            }, function(t, n) {
                o.addCommand(n, function() {
                    var n = new e(o);
                    n && (t(n), o.execCommand("mceRepaint"), N.cellSelection.clear())
                })
            }), u({
                mceInsertTable: k.table,
                mceTableProps: function() {
                    k.table(!0)
                },
                mceTableRowProps: k.row,
                mceTableCellProps: k.cell
            }, function(e, t) {
                o.addCommand(t, function(t, n) {
                    e(n)
                })
            }), h(), b(), o.settings.table_tab_navigation !== !1 && o.on("keydown", function(t) {
                var n, r, i;
                9 == t.keyCode && (n = o.dom.getParent(o.selection.getStart(), "th,td"), n && (t.preventDefault(), r = new e(o), i = t.shiftKey ? -1 : 1, o.undoManager.transact(function() {
                    !r.moveRelIdx(n, i) && i > 0 && (r.insertRow(), r.refresh(), r.moveRelIdx(n, i))
                })))
            }), N.insertTable = l, N.setClipboardRows = x, N.getClipboardRows = y
        }
        var u = o.each;
        l.add("table", c)
    })
}(window);;
! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e(t.echarts = {})
}(this, function(t) {
    "use strict";

    function e(t, e) {
        "createCanvas" === t && (Ox = null), kx[t] = e
    }

    function i(t) {
        if (null == t || "object" != typeof t) return t;
        var e = t,
            n = Mx.call(t);
        if ("[object Array]" === n) {
            if (!N(t)) {
                e = [];
                for (var o = 0, a = t.length; o < a; o++) e[o] = i(t[o])
            }
        } else if (Sx[n]) {
            if (!N(t)) {
                var r = t.constructor;
                if (t.constructor.from) e = r.from(t);
                else {
                    e = new r(t.length);
                    for (var o = 0, a = t.length; o < a; o++) e[o] = i(t[o])
                }
            }
        } else if (!bx[n] && !N(t) && !M(t)) {
            e = {};
            for (var s in t) t.hasOwnProperty(s) && (e[s] = i(t[s]))
        }
        return e
    }

    function n(t, e, o) {
        if (!w(e) || !w(t)) return o ? i(e) : t;
        for (var a in e)
            if (e.hasOwnProperty(a)) {
                var r = t[a],
                    s = e[a];
                !w(s) || !w(r) || y(s) || y(r) || M(s) || M(r) || b(s) || b(r) || N(s) || N(r) ? !o && a in t || (t[a] = i(e[a], !0)) : n(r, s, o)
            } return t
    }

    function o(t, e) {
        for (var i = t[0], o = 1, a = t.length; o < a; o++) i = n(i, t[o], e);
        return i
    }

    function a(t, e) {
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
        return t
    }

    function r(t, e, i) {
        for (var n in e) e.hasOwnProperty(n) && (i ? null != e[n] : null == t[n]) && (t[n] = e[n]);
        return t
    }

    function s() {
        return Ox || (Ox = Px().getContext("2d")), Ox
    }

    function l(t, e) {
        if (t) {
            if (t.indexOf) return t.indexOf(e);
            for (var i = 0, n = t.length; i < n; i++)
                if (t[i] === e) return i
        }
        return -1
    }

    function h(t, e) {
        function i() {}
        var n = t.prototype;
        i.prototype = e.prototype, t.prototype = new i;
        for (var o in n) t.prototype[o] = n[o];
        t.prototype.constructor = t, t.superClass = e
    }

    function u(t, e, i) {
        r(t = "prototype" in t ? t.prototype : t, e = "prototype" in e ? e.prototype : e, i)
    }

    function c(t) {
        if (t) return "string" != typeof t && "number" == typeof t.length
    }

    function d(t, e, i) {
        if (t && e)
            if (t.forEach && t.forEach === Tx) t.forEach(e, i);
            else if (t.length === +t.length)
            for (var n = 0, o = t.length; n < o; n++) e.call(i, t[n], n, t);
        else
            for (var a in t) t.hasOwnProperty(a) && e.call(i, t[a], a, t)
    }

    function f(t, e, i) {
        if (t && e) {
            if (t.map && t.map === Cx) return t.map(e, i);
            for (var n = [], o = 0, a = t.length; o < a; o++) n.push(e.call(i, t[o], o, t));
            return n
        }
    }

    function p(t, e, i, n) {
        if (t && e) {
            if (t.reduce && t.reduce === Lx) return t.reduce(e, i, n);
            for (var o = 0, a = t.length; o < a; o++) i = e.call(n, i, t[o], o, t);
            return i
        }
    }

    function g(t, e, i) {
        if (t && e) {
            if (t.filter && t.filter === Ax) return t.filter(e, i);
            for (var n = [], o = 0, a = t.length; o < a; o++) e.call(i, t[o], o, t) && n.push(t[o]);
            return n
        }
    }

    function m(t, e) {
        var i = Dx.call(arguments, 2);
        return function() {
            return t.apply(e, i.concat(Dx.call(arguments)))
        }
    }

    function v(t) {
        var e = Dx.call(arguments, 1);
        return function() {
            return t.apply(this, e.concat(Dx.call(arguments)))
        }
    }

    function y(t) {
        return "[object Array]" === Mx.call(t)
    }

    function x(t) {
        return "function" == typeof t
    }

    function _(t) {
        return "[object String]" === Mx.call(t)
    }

    function w(t) {
        var e = typeof t;
        return "function" === e || !!t && "object" == e
    }

    function b(t) {
        return !!bx[Mx.call(t)]
    }

    function S(t) {
        return !!Sx[Mx.call(t)]
    }

    function M(t) {
        return "object" == typeof t && "number" == typeof t.nodeType && "object" == typeof t.ownerDocument
    }

    function I(t) {
        return t !== t
    }

    function T(t) {
        for (var e = 0, i = arguments.length; e < i; e++)
            if (null != arguments[e]) return arguments[e]
    }

    function A(t, e) {
        return null != t ? t : e
    }

    function D(t, e, i) {
        return null != t ? t : null != e ? e : i
    }

    function C() {
        return Function.call.apply(Dx, arguments)
    }

    function L(t) {
        if ("number" == typeof t) return [t, t, t, t];
        var e = t.length;
        return 2 === e ? [t[0], t[1], t[0], t[1]] : 3 === e ? [t[0], t[1], t[2], t[1]] : t
    }

    function k(t, e) {
        if (!t) throw new Error(e)
    }

    function P(t) {
        return null == t ? null : "function" == typeof t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
    }

    function O(t) {
        t[Nx] = !0
    }

    function N(t) {
        return t[Nx]
    }

    function E(t) {
        function e(t, e) {
            i ? n.set(t, e) : n.set(e, t)
        }
        var i = y(t),
            n = this;
        t instanceof E ? t.each(e) : t && d(t, e)
    }

    function z(t) {
        return new E(t)
    }

    function R(t, e) {
        for (var i = new t.constructor(t.length + e.length), n = 0; n < t.length; n++) i[n] = t[n];
        var o = t.length;
        for (n = 0; n < e.length; n++) i[n + o] = e[n];
        return i
    }

    function B() {}

    function V(t, e) {
        var i = new zx(2);
        return null == t && (t = 0), null == e && (e = 0), i[0] = t, i[1] = e, i
    }

    function G(t, e) {
        return t[0] = e[0], t[1] = e[1], t
    }

    function W(t) {
        var e = new zx(2);
        return e[0] = t[0], e[1] = t[1], e
    }

    function F(t, e, i) {
        return t[0] = e, t[1] = i, t
    }

    function H(t, e, i) {
        return t[0] = e[0] + i[0], t[1] = e[1] + i[1], t
    }

    function Z(t, e, i, n) {
        return t[0] = e[0] + i[0] * n, t[1] = e[1] + i[1] * n, t
    }

    function U(t, e, i) {
        return t[0] = e[0] - i[0], t[1] = e[1] - i[1], t
    }

    function j(t) {
        return Math.sqrt(X(t))
    }

    function X(t) {
        return t[0] * t[0] + t[1] * t[1]
    }

    function Y(t, e, i) {
        return t[0] = e[0] * i, t[1] = e[1] * i, t
    }

    function q(t, e) {
        var i = j(e);
        return 0 === i ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / i, t[1] = e[1] / i), t
    }

    function $(t, e) {
        return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]))
    }

    function K(t, e) {
        return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])
    }

    function J(t, e, i, n) {
        return t[0] = e[0] + n * (i[0] - e[0]), t[1] = e[1] + n * (i[1] - e[1]), t
    }

    function Q(t, e, i) {
        var n = e[0],
            o = e[1];
        return t[0] = i[0] * n + i[2] * o + i[4], t[1] = i[1] * n + i[3] * o + i[5], t
    }

    function tt(t, e, i) {
        return t[0] = Math.min(e[0], i[0]), t[1] = Math.min(e[1], i[1]), t
    }

    function et(t, e, i) {
        return t[0] = Math.max(e[0], i[0]), t[1] = Math.max(e[1], i[1]), t
    }

    function it() {
        this.on("mousedown", this._dragStart, this), this.on("mousemove", this._drag, this), this.on("mouseup", this._dragEnd, this), this.on("globalout", this._dragEnd, this)
    }

    function nt(t, e) {
        return {
            target: t,
            topTarget: e && e.topTarget
        }
    }

    function ot(t, e, i) {
        return {
            type: t,
            event: i,
            target: e.target,
            topTarget: e.topTarget,
            cancelBubble: !1,
            offsetX: i.zrX,
            offsetY: i.zrY,
            gestureEvent: i.gestureEvent,
            pinchX: i.pinchX,
            pinchY: i.pinchY,
            pinchScale: i.pinchScale,
            wheelDelta: i.zrDelta,
            zrByTouch: i.zrByTouch,
            which: i.which
        }
    }

    function at() {}

    function rt(t, e, i) {
        if (t[t.rectHover ? "rectContain" : "contain"](e, i)) {
            for (var n, o = t; o;) {
                if (o.clipPath && !o.clipPath.contain(e, i)) return !1;
                o.silent && (n = !0), o = o.parent
            }
            return !n || Zx
        }
        return !1
    }

    function st() {
        var t = new Xx(6);
        return lt(t), t
    }

    function lt(t) {
        return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t
    }

    function ht(t, e) {
        return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t
    }

    function ut(t, e, i) {
        var n = e[0] * i[0] + e[2] * i[1],
            o = e[1] * i[0] + e[3] * i[1],
            a = e[0] * i[2] + e[2] * i[3],
            r = e[1] * i[2] + e[3] * i[3],
            s = e[0] * i[4] + e[2] * i[5] + e[4],
            l = e[1] * i[4] + e[3] * i[5] + e[5];
        return t[0] = n, t[1] = o, t[2] = a, t[3] = r, t[4] = s, t[5] = l, t
    }

    function ct(t, e, i) {
        return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4] + i[0], t[5] = e[5] + i[1], t
    }

    function dt(t, e, i) {
        var n = e[0],
            o = e[2],
            a = e[4],
            r = e[1],
            s = e[3],
            l = e[5],
            h = Math.sin(i),
            u = Math.cos(i);
        return t[0] = n * u + r * h, t[1] = -n * h + r * u, t[2] = o * u + s * h, t[3] = -o * h + u * s, t[4] = u * a + h * l, t[5] = u * l - h * a, t
    }

    function ft(t, e, i) {
        var n = i[0],
            o = i[1];
        return t[0] = e[0] * n, t[1] = e[1] * o, t[2] = e[2] * n, t[3] = e[3] * o, t[4] = e[4] * n, t[5] = e[5] * o, t
    }

    function pt(t, e) {
        var i = e[0],
            n = e[2],
            o = e[4],
            a = e[1],
            r = e[3],
            s = e[5],
            l = i * r - a * n;
        return l ? (l = 1 / l, t[0] = r * l, t[1] = -a * l, t[2] = -n * l, t[3] = i * l, t[4] = (n * s - r * o) * l, t[5] = (a * o - i * s) * l, t) : null
    }

    function gt(t) {
        var e = st();
        return ht(e, t), e
    }

    function mt(t) {
        return t > $x || t < -$x
    }

    function vt(t) {
        this._target = t.target, this._life = t.life || 1e3, this._delay = t.delay || 0, this._initialized = !1, this.loop = null != t.loop && t.loop, this.gap = t.gap || 0, this.easing = t.easing || "Linear", this.onframe = t.onframe, this.ondestroy = t.ondestroy, this.onrestart = t.onrestart, this._pausedTime = 0, this._paused = !1
    }

    function yt(t) {
        return (t = Math.round(t)) < 0 ? 0 : t > 255 ? 255 : t
    }

    function xt(t) {
        return (t = Math.round(t)) < 0 ? 0 : t > 360 ? 360 : t
    }

    function _t(t) {
        return t < 0 ? 0 : t > 1 ? 1 : t
    }

    function wt(t) {
        return yt(t.length && "%" === t.charAt(t.length - 1) ? parseFloat(t) / 100 * 255 : parseInt(t, 10))
    }

    function bt(t) {
        return _t(t.length && "%" === t.charAt(t.length - 1) ? parseFloat(t) / 100 : parseFloat(t))
    }

    function St(t, e, i) {
        return i < 0 ? i += 1 : i > 1 && (i -= 1), 6 * i < 1 ? t + (e - t) * i * 6 : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
    }

    function Mt(t, e, i) {
        return t + (e - t) * i
    }

    function It(t, e, i, n, o) {
        return t[0] = e, t[1] = i, t[2] = n, t[3] = o, t
    }

    function Tt(t, e) {
        return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t
    }

    function At(t, e) {
        l_ && Tt(l_, e), l_ = s_.put(t, l_ || e.slice())
    }

    function Dt(t, e) {
        if (t) {
            e = e || [];
            var i = s_.get(t);
            if (i) return Tt(e, i);
            var n = (t += "").replace(/ /g, "").toLowerCase();
            if (n in r_) return Tt(e, r_[n]), At(t, e), e;
            if ("#" !== n.charAt(0)) {
                var o = n.indexOf("("),
                    a = n.indexOf(")");
                if (-1 !== o && a + 1 === n.length) {
                    var r = n.substr(0, o),
                        s = n.substr(o + 1, a - (o + 1)).split(","),
                        l = 1;
                    switch (r) {
                        case "rgba":
                            if (4 !== s.length) return void It(e, 0, 0, 0, 1);
                            l = bt(s.pop());
                        case "rgb":
                            return 3 !== s.length ? void It(e, 0, 0, 0, 1) : (It(e, wt(s[0]), wt(s[1]), wt(s[2]), l), At(t, e), e);
                        case "hsla":
                            return 4 !== s.length ? void It(e, 0, 0, 0, 1) : (s[3] = bt(s[3]), Ct(s, e), At(t, e), e);
                        case "hsl":
                            return 3 !== s.length ? void It(e, 0, 0, 0, 1) : (Ct(s, e), At(t, e), e);
                        default:
                            return
                    }
                }
                It(e, 0, 0, 0, 1)
            } else {
                if (4 === n.length) return (h = parseInt(n.substr(1), 16)) >= 0 && h <= 4095 ? (It(e, (3840 & h) >> 4 | (3840 & h) >> 8, 240 & h | (240 & h) >> 4, 15 & h | (15 & h) << 4, 1), At(t, e), e) : void It(e, 0, 0, 0, 1);
                if (7 === n.length) {
                    var h = parseInt(n.substr(1), 16);
                    return h >= 0 && h <= 16777215 ? (It(e, (16711680 & h) >> 16, (65280 & h) >> 8, 255 & h, 1), At(t, e), e) : void It(e, 0, 0, 0, 1)
                }
            }
        }
    }

    function Ct(t, e) {
        var i = (parseFloat(t[0]) % 360 + 360) % 360 / 360,
            n = bt(t[1]),
            o = bt(t[2]),
            a = o <= .5 ? o * (n + 1) : o + n - o * n,
            r = 2 * o - a;
        return e = e || [], It(e, yt(255 * St(r, a, i + 1 / 3)), yt(255 * St(r, a, i)), yt(255 * St(r, a, i - 1 / 3)), 1), 4 === t.length && (e[3] = t[3]), e
    }

    function Lt(t) {
        if (t) {
            var e, i, n = t[0] / 255,
                o = t[1] / 255,
                a = t[2] / 255,
                r = Math.min(n, o, a),
                s = Math.max(n, o, a),
                l = s - r,
                h = (s + r) / 2;
            if (0 === l) e = 0, i = 0;
            else {
                i = h < .5 ? l / (s + r) : l / (2 - s - r);
                var u = ((s - n) / 6 + l / 2) / l,
                    c = ((s - o) / 6 + l / 2) / l,
                    d = ((s - a) / 6 + l / 2) / l;
                n === s ? e = d - c : o === s ? e = 1 / 3 + u - d : a === s && (e = 2 / 3 + c - u), e < 0 && (e += 1), e > 1 && (e -= 1)
            }
            var f = [360 * e, i, h];
            return null != t[3] && f.push(t[3]), f
        }
    }

    function kt(t, e) {
        var i = Dt(t);
        if (i) {
            for (var n = 0; n < 3; n++) i[n] = e < 0 ? i[n] * (1 - e) | 0 : (255 - i[n]) * e + i[n] | 0;
            return Rt(i, 4 === i.length ? "rgba" : "rgb")
        }
    }

    function Pt(t) {
        var e = Dt(t);
        if (e) return ((1 << 24) + (e[0] << 16) + (e[1] << 8) + +e[2]).toString(16).slice(1)
    }

    function Ot(t, e, i) {
        if (e && e.length && t >= 0 && t <= 1) {
            i = i || [];
            var n = t * (e.length - 1),
                o = Math.floor(n),
                a = Math.ceil(n),
                r = e[o],
                s = e[a],
                l = n - o;
            return i[0] = yt(Mt(r[0], s[0], l)), i[1] = yt(Mt(r[1], s[1], l)), i[2] = yt(Mt(r[2], s[2], l)), i[3] = _t(Mt(r[3], s[3], l)), i
        }
    }

    function Nt(t, e, i) {
        if (e && e.length && t >= 0 && t <= 1) {
            var n = t * (e.length - 1),
                o = Math.floor(n),
                a = Math.ceil(n),
                r = Dt(e[o]),
                s = Dt(e[a]),
                l = n - o,
                h = Rt([yt(Mt(r[0], s[0], l)), yt(Mt(r[1], s[1], l)), yt(Mt(r[2], s[2], l)), _t(Mt(r[3], s[3], l))], "rgba");
            return i ? {
                color: h,
                leftIndex: o,
                rightIndex: a,
                value: n
            } : h
        }
    }

    function Et(t, e, i, n) {
        if (t = Dt(t)) return t = Lt(t), null != e && (t[0] = xt(e)), null != i && (t[1] = bt(i)), null != n && (t[2] = bt(n)), Rt(Ct(t), "rgba")
    }

    function zt(t, e) {
        if ((t = Dt(t)) && null != e) return t[3] = _t(e), Rt(t, "rgba")
    }

    function Rt(t, e) {
        if (t && t.length) {
            var i = t[0] + "," + t[1] + "," + t[2];
            return "rgba" !== e && "hsva" !== e && "hsla" !== e || (i += "," + t[3]), e + "(" + i + ")"
        }
    }

    function Bt(t, e) {
        return t[e]
    }

    function Vt(t, e, i) {
        t[e] = i
    }

    function Gt(t, e, i) {
        return (e - t) * i + t
    }

    function Wt(t, e, i) {
        return i > .5 ? e : t
    }

    function Ft(t, e, i, n, o) {
        var a = t.length;
        if (1 == o)
            for (s = 0; s < a; s++) n[s] = Gt(t[s], e[s], i);
        else
            for (var r = a && t[0].length, s = 0; s < a; s++)
                for (var l = 0; l < r; l++) n[s][l] = Gt(t[s][l], e[s][l], i)
    }

    function Ht(t, e, i) {
        var n = t.length,
            o = e.length;
        if (n !== o)
            if (n > o) t.length = o;
            else
                for (r = n; r < o; r++) t.push(1 === i ? e[r] : d_.call(e[r]));
        for (var a = t[0] && t[0].length, r = 0; r < t.length; r++)
            if (1 === i) isNaN(t[r]) && (t[r] = e[r]);
            else
                for (var s = 0; s < a; s++) isNaN(t[r][s]) && (t[r][s] = e[r][s])
    }

    function Zt(t, e, i) {
        if (t === e) return !0;
        var n = t.length;
        if (n !== e.length) return !1;
        if (1 === i) {
            for (a = 0; a < n; a++)
                if (t[a] !== e[a]) return !1
        } else
            for (var o = t[0].length, a = 0; a < n; a++)
                for (var r = 0; r < o; r++)
                    if (t[a][r] !== e[a][r]) return !1;
        return !0
    }

    function Ut(t, e, i, n, o, a, r, s, l) {
        var h = t.length;
        if (1 == l)
            for (c = 0; c < h; c++) s[c] = jt(t[c], e[c], i[c], n[c], o, a, r);
        else
            for (var u = t[0].length, c = 0; c < h; c++)
                for (var d = 0; d < u; d++) s[c][d] = jt(t[c][d], e[c][d], i[c][d], n[c][d], o, a, r)
    }

    function jt(t, e, i, n, o, a, r) {
        var s = .5 * (i - t),
            l = .5 * (n - e);
        return (2 * (e - i) + s + l) * r + (-3 * (e - i) - 2 * s - l) * a + s * o + e
    }

    function Xt(t) {
        if (c(t)) {
            var e = t.length;
            if (c(t[0])) {
                for (var i = [], n = 0; n < e; n++) i.push(d_.call(t[n]));
                return i
            }
            return d_.call(t)
        }
        return t
    }

    function Yt(t) {
        return t[0] = Math.floor(t[0]), t[1] = Math.floor(t[1]), t[2] = Math.floor(t[2]), "rgba(" + t.join(",") + ")"
    }

    function qt(t) {
        var e = t[t.length - 1].value;
        return c(e && e[0]) ? 2 : 1
    }

    function $t(t, e, i, n, o, a) {
        var r = t._getter,
            s = t._setter,
            l = "spline" === e,
            h = n.length;
        if (h) {
            var u, d = c(n[0].value),
                f = !1,
                p = !1,
                g = d ? qt(n) : 0;
            n.sort(function(t, e) {
                return t.time - e.time
            }), u = n[h - 1].time;
            for (var m = [], v = [], y = n[0].value, x = !0, _ = 0; _ < h; _++) {
                m.push(n[_].time / u);
                var w = n[_].value;
                if (d && Zt(w, y, g) || !d && w === y || (x = !1), y = w, "string" == typeof w) {
                    var b = Dt(w);
                    b ? (w = b, f = !0) : p = !0
                }
                v.push(w)
            }
            if (a || !x) {
                for (var S = v[h - 1], _ = 0; _ < h - 1; _++) d ? Ht(v[_], S, g) : !isNaN(v[_]) || isNaN(S) || p || f || (v[_] = S);
                d && Ht(r(t._target, o), S, g);
                var M, I, T, A, D, C, L = 0,
                    k = 0;
                if (f) var P = [0, 0, 0, 0];
                var O = new vt({
                    target: t._target,
                    life: u,
                    loop: t._loop,
                    delay: t._delay,
                    onframe: function(t, e) {
                        var i;
                        if (e < 0) i = 0;
                        else if (e < k) {
                            for (i = M = Math.min(L + 1, h - 1); i >= 0 && !(m[i] <= e); i--);
                            i = Math.min(i, h - 2)
                        } else {
                            for (i = L; i < h && !(m[i] > e); i++);
                            i = Math.min(i - 1, h - 2)
                        }
                        L = i, k = e;
                        var n = m[i + 1] - m[i];
                        if (0 !== n)
                            if (I = (e - m[i]) / n, l)
                                if (A = v[i], T = v[0 === i ? i : i - 1], D = v[i > h - 2 ? h - 1 : i + 1], C = v[i > h - 3 ? h - 1 : i + 2], d) Ut(T, A, D, C, I, I * I, I * I * I, r(t, o), g);
                                else {
                                    if (f) a = Ut(T, A, D, C, I, I * I, I * I * I, P, 1), a = Yt(P);
                                    else {
                                        if (p) return Wt(A, D, I);
                                        a = jt(T, A, D, C, I, I * I, I * I * I)
                                    }
                                    s(t, o, a)
                                }
                        else if (d) Ft(v[i], v[i + 1], I, r(t, o), g);
                        else {
                            var a;
                            if (f) Ft(v[i], v[i + 1], I, P, 1), a = Yt(P);
                            else {
                                if (p) return Wt(v[i], v[i + 1], I);
                                a = Gt(v[i], v[i + 1], I)
                            }
                            s(t, o, a)
                        }
                    },
                    ondestroy: i
                });
                return e && "spline" !== e && (O.easing = e), O
            }
        }
    }

    function Kt(t, e, i, n) {
        i < 0 && (t += i, i = -i), n < 0 && (e += n, n = -n), this.x = t, this.y = e, this.width = i, this.height = n
    }

    function Jt(t) {
        for (var e = 0; t >= M_;) e |= 1 & t, t >>= 1;
        return t + e
    }

    function Qt(t, e, i, n) {
        var o = e + 1;
        if (o === i) return 1;
        if (n(t[o++], t[e]) < 0) {
            for (; o < i && n(t[o], t[o - 1]) < 0;) o++;
            te(t, e, o)
        } else
            for (; o < i && n(t[o], t[o - 1]) >= 0;) o++;
        return o - e
    }

    function te(t, e, i) {
        for (i--; e < i;) {
            var n = t[e];
            t[e++] = t[i], t[i--] = n
        }
    }

    function ee(t, e, i, n, o) {
        for (n === e && n++; n < i; n++) {
            for (var a, r = t[n], s = e, l = n; s < l;) o(r, t[a = s + l >>> 1]) < 0 ? l = a : s = a + 1;
            var h = n - s;
            switch (h) {
                case 3:
                    t[s + 3] = t[s + 2];
                case 2:
                    t[s + 2] = t[s + 1];
                case 1:
                    t[s + 1] = t[s];
                    break;
                default:
                    for (; h > 0;) t[s + h] = t[s + h - 1], h--
            }
            t[s] = r
        }
    }

    function ie(t, e, i, n, o, a) {
        var r = 0,
            s = 0,
            l = 1;
        if (a(t, e[i + o]) > 0) {
            for (s = n - o; l < s && a(t, e[i + o + l]) > 0;) r = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s), r += o, l += o
        } else {
            for (s = o + 1; l < s && a(t, e[i + o - l]) <= 0;) r = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s);
            var h = r;
            r = o - l, l = o - h
        }
        for (r++; r < l;) {
            var u = r + (l - r >>> 1);
            a(t, e[i + u]) > 0 ? r = u + 1 : l = u
        }
        return l
    }

    function ne(t, e, i, n, o, a) {
        var r = 0,
            s = 0,
            l = 1;
        if (a(t, e[i + o]) < 0) {
            for (s = o + 1; l < s && a(t, e[i + o - l]) < 0;) r = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s);
            var h = r;
            r = o - l, l = o - h
        } else {
            for (s = n - o; l < s && a(t, e[i + o + l]) >= 0;) r = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s), r += o, l += o
        }
        for (r++; r < l;) {
            var u = r + (l - r >>> 1);
            a(t, e[i + u]) < 0 ? l = u : r = u + 1
        }
        return l
    }

    function oe(t, e) {
        function i(i) {
            var s = a[i],
                h = r[i],
                u = a[i + 1],
                c = r[i + 1];
            r[i] = h + c, i === l - 3 && (a[i + 1] = a[i + 2], r[i + 1] = r[i + 2]), l--;
            var d = ne(t[u], t, s, h, 0, e);
            s += d, 0 !== (h -= d) && 0 !== (c = ie(t[s + h - 1], t, u, c, c - 1, e)) && (h <= c ? n(s, h, u, c) : o(s, h, u, c))
        }

        function n(i, n, o, a) {
            var r = 0;
            for (r = 0; r < n; r++) h[r] = t[i + r];
            var l = 0,
                u = o,
                c = i;
            if (t[c++] = t[u++], 0 != --a)
                if (1 !== n) {
                    for (var d, f, p, g = s;;) {
                        d = 0, f = 0, p = !1;
                        do {
                            if (e(t[u], h[l]) < 0) {
                                if (t[c++] = t[u++], f++, d = 0, 0 == --a) {
                                    p = !0;
                                    break
                                }
                            } else if (t[c++] = h[l++], d++, f = 0, 1 == --n) {
                                p = !0;
                                break
                            }
                        } while ((d | f) < g);
                        if (p) break;
                        do {
                            if (0 !== (d = ne(t[u], h, l, n, 0, e))) {
                                for (r = 0; r < d; r++) t[c + r] = h[l + r];
                                if (c += d, l += d, (n -= d) <= 1) {
                                    p = !0;
                                    break
                                }
                            }
                            if (t[c++] = t[u++], 0 == --a) {
                                p = !0;
                                break
                            }
                            if (0 !== (f = ie(h[l], t, u, a, 0, e))) {
                                for (r = 0; r < f; r++) t[c + r] = t[u + r];
                                if (c += f, u += f, 0 === (a -= f)) {
                                    p = !0;
                                    break
                                }
                            }
                            if (t[c++] = h[l++], 1 == --n) {
                                p = !0;
                                break
                            }
                            g--
                        } while (d >= I_ || f >= I_);
                        if (p) break;
                        g < 0 && (g = 0), g += 2
                    }
                    if ((s = g) < 1 && (s = 1), 1 === n) {
                        for (r = 0; r < a; r++) t[c + r] = t[u + r];
                        t[c + a] = h[l]
                    } else {
                        if (0 === n) throw new Error;
                        for (r = 0; r < n; r++) t[c + r] = h[l + r]
                    }
                } else {
                    for (r = 0; r < a; r++) t[c + r] = t[u + r];
                    t[c + a] = h[l]
                }
            else
                for (r = 0; r < n; r++) t[c + r] = h[l + r]
        }

        function o(i, n, o, a) {
            var r = 0;
            for (r = 0; r < a; r++) h[r] = t[o + r];
            var l = i + n - 1,
                u = a - 1,
                c = o + a - 1,
                d = 0,
                f = 0;
            if (t[c--] = t[l--], 0 != --n)
                if (1 !== a) {
                    for (var p = s;;) {
                        var g = 0,
                            m = 0,
                            v = !1;
                        do {
                            if (e(h[u], t[l]) < 0) {
                                if (t[c--] = t[l--], g++, m = 0, 0 == --n) {
                                    v = !0;
                                    break
                                }
                            } else if (t[c--] = h[u--], m++, g = 0, 1 == --a) {
                                v = !0;
                                break
                            }
                        } while ((g | m) < p);
                        if (v) break;
                        do {
                            if (0 != (g = n - ne(h[u], t, i, n, n - 1, e))) {
                                for (n -= g, f = (c -= g) + 1, d = (l -= g) + 1, r = g - 1; r >= 0; r--) t[f + r] = t[d + r];
                                if (0 === n) {
                                    v = !0;
                                    break
                                }
                            }
                            if (t[c--] = h[u--], 1 == --a) {
                                v = !0;
                                break
                            }
                            if (0 != (m = a - ie(t[l], h, 0, a, a - 1, e))) {
                                for (a -= m, f = (c -= m) + 1, d = (u -= m) + 1, r = 0; r < m; r++) t[f + r] = h[d + r];
                                if (a <= 1) {
                                    v = !0;
                                    break
                                }
                            }
                            if (t[c--] = t[l--], 0 == --n) {
                                v = !0;
                                break
                            }
                            p--
                        } while (g >= I_ || m >= I_);
                        if (v) break;
                        p < 0 && (p = 0), p += 2
                    }
                    if ((s = p) < 1 && (s = 1), 1 === a) {
                        for (f = (c -= n) + 1, d = (l -= n) + 1, r = n - 1; r >= 0; r--) t[f + r] = t[d + r];
                        t[c] = h[u]
                    } else {
                        if (0 === a) throw new Error;
                        for (d = c - (a - 1), r = 0; r < a; r++) t[d + r] = h[r]
                    }
                } else {
                    for (f = (c -= n) + 1, d = (l -= n) + 1, r = n - 1; r >= 0; r--) t[f + r] = t[d + r];
                    t[c] = h[u]
                }
            else
                for (d = c - (a - 1), r = 0; r < a; r++) t[d + r] = h[r]
        }
        var a, r, s = I_,
            l = 0,
            h = [];
        a = [], r = [], this.mergeRuns = function() {
            for (; l > 1;) {
                var t = l - 2;
                if (t >= 1 && r[t - 1] <= r[t] + r[t + 1] || t >= 2 && r[t - 2] <= r[t] + r[t - 1]) r[t - 1] < r[t + 1] && t--;
                else if (r[t] > r[t + 1]) break;
                i(t)
            }
        }, this.forceMergeRuns = function() {
            for (; l > 1;) {
                var t = l - 2;
                t > 0 && r[t - 1] < r[t + 1] && t--, i(t)
            }
        }, this.pushRun = function(t, e) {
            a[l] = t, r[l] = e, l += 1
        }
    }

    function ae(t, e, i, n) {
        i || (i = 0), n || (n = t.length);
        var o = n - i;
        if (!(o < 2)) {
            var a = 0;
            if (o < M_) return a = Qt(t, i, n, e), void ee(t, i, n, i + a, e);
            var r = new oe(t, e),
                s = Jt(o);
            do {
                if ((a = Qt(t, i, n, e)) < s) {
                    var l = o;
                    l > s && (l = s), ee(t, i, i + l, i + a, e), a = l
                }
                r.pushRun(i, a), r.mergeRuns(), o -= a, i += a
            } while (0 !== o);
            r.forceMergeRuns()
        }
    }

    function re(t, e) {
        return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel
    }

    function se(t, e, i) {
        var n = null == e.x ? 0 : e.x,
            o = null == e.x2 ? 1 : e.x2,
            a = null == e.y ? 0 : e.y,
            r = null == e.y2 ? 0 : e.y2;
        return e.global || (n = n * i.width + i.x, o = o * i.width + i.x, a = a * i.height + i.y, r = r * i.height + i.y), t.createLinearGradient(n, a, o, r)
    }

    function le(t, e, i) {
        var n = i.width,
            o = i.height,
            a = Math.min(n, o),
            r = null == e.x ? .5 : e.x,
            s = null == e.y ? .5 : e.y,
            l = null == e.r ? .5 : e.r;
        return e.global || (r = r * n + i.x, s = s * o + i.y, l *= a), t.createRadialGradient(r, s, 0, r, s, l)
    }

    function he() {
        return !1
    }

    function ue(t, e, i) {
        var n = Px(),
            o = e.getWidth(),
            a = e.getHeight(),
            r = n.style;
        return r && (r.position = "absolute", r.left = 0, r.top = 0, r.width = o + "px", r.height = a + "px", n.setAttribute("data-zr-dom-id", t)), n.width = o * i, n.height = a * i, n
    }

    function ce(t) {
        if ("string" == typeof t) {
            var e = R_.get(t);
            return e && e.image
        }
        return t
    }

    function de(t, e, i, n, o) {
        if (t) {
            if ("string" == typeof t) {
                if (e && e.__zrImageSrc === t || !i) return e;
                var a = R_.get(t),
                    r = {
                        hostEl: i,
                        cb: n,
                        cbPayload: o
                    };
                return a ? !pe(e = a.image) && a.pending.push(r) : (!e && (e = new Image), e.onload = fe, R_.put(t, e.__cachedImgObj = {
                    image: e,
                    pending: [r]
                }), e.src = e.__zrImageSrc = t), e
            }
            return t
        }
        return e
    }

    function fe() {
        var t = this.__cachedImgObj;
        this.onload = this.__cachedImgObj = null;
        for (var e = 0; e < t.pending.length; e++) {
            var i = t.pending[e],
                n = i.cb;
            n && n(this, i.cbPayload), i.hostEl.dirty()
        }
        t.pending.length = 0
    }

    function pe(t) {
        return t && t.width && t.height
    }

    function ge(t, e) {
        var i = t + ":" + (e = e || F_);
        if (B_[i]) return B_[i];
        for (var n = (t + "").split("\n"), o = 0, a = 0, r = n.length; a < r; a++) o = Math.max(Ae(n[a], e).width, o);
        return V_ > G_ && (V_ = 0, B_ = {}), V_++, B_[i] = o, o
    }

    function me(t, e, i, n, o, a, r) {
        return a ? ye(t, e, i, n, o, a, r) : ve(t, e, i, n, o, r)
    }

    function ve(t, e, i, n, o, a) {
        var r = De(t, e, o, a),
            s = ge(t, e);
        o && (s += o[1] + o[3]);
        var l = r.outerHeight,
            h = new Kt(xe(0, s, i), _e(0, l, n), s, l);
        return h.lineHeight = r.lineHeight, h
    }

    function ye(t, e, i, n, o, a, r) {
        var s = Ce(t, {
                rich: a,
                truncate: r,
                font: e,
                textAlign: i,
                textPadding: o
            }),
            l = s.outerWidth,
            h = s.outerHeight;
        return new Kt(xe(0, l, i), _e(0, h, n), l, h)
    }

    function xe(t, e, i) {
        return "right" === i ? t -= e : "center" === i && (t -= e / 2), t
    }

    function _e(t, e, i) {
        return "middle" === i ? t -= e / 2 : "bottom" === i && (t -= e), t
    }

    function we(t, e, i) {
        var n = e.x,
            o = e.y,
            a = e.height,
            r = e.width,
            s = a / 2,
            l = "left",
            h = "top";
        switch (t) {
            case "left":
                n -= i, o += s, l = "right", h = "middle";
                break;
            case "right":
                n += i + r, o += s, h = "middle";
                break;
            case "top":
                n += r / 2, o -= i, l = "center", h = "bottom";
                break;
            case "bottom":
                n += r / 2, o += a + i, l = "center";
                break;
            case "inside":
                n += r / 2, o += s, l = "center", h = "middle";
                break;
            case "insideLeft":
                n += i, o += s, h = "middle";
                break;
            case "insideRight":
                n += r - i, o += s, l = "right", h = "middle";
                break;
            case "insideTop":
                n += r / 2, o += i, l = "center";
                break;
            case "insideBottom":
                n += r / 2, o += a - i, l = "center", h = "bottom";
                break;
            case "insideTopLeft":
                n += i, o += i;
                break;
            case "insideTopRight":
                n += r - i, o += i, l = "right";
                break;
            case "insideBottomLeft":
                n += i, o += a - i, h = "bottom";
                break;
            case "insideBottomRight":
                n += r - i, o += a - i, l = "right", h = "bottom"
        }
        return {
            x: n,
            y: o,
            textAlign: l,
            textVerticalAlign: h
        }
    }

    function be(t, e, i, n, o) {
        if (!e) return "";
        var a = (t + "").split("\n");
        o = Se(e, i, n, o);
        for (var r = 0, s = a.length; r < s; r++) a[r] = Me(a[r], o);
        return a.join("\n")
    }

    function Se(t, e, i, n) {
        (n = a({}, n)).font = e;
        var i = A(i, "...");
        n.maxIterations = A(n.maxIterations, 2);
        var o = n.minChar = A(n.minChar, 0);
        n.cnCharWidth = ge("国", e);
        var r = n.ascCharWidth = ge("a", e);
        n.placeholder = A(n.placeholder, "");
        for (var s = t = Math.max(0, t - 1), l = 0; l < o && s >= r; l++) s -= r;
        var h = ge(i);
        return h > s && (i = "", h = 0), s = t - h, n.ellipsis = i, n.ellipsisWidth = h, n.contentWidth = s, n.containerWidth = t, n
    }

    function Me(t, e) {
        var i = e.containerWidth,
            n = e.font,
            o = e.contentWidth;
        if (!i) return "";
        var a = ge(t, n);
        if (a <= i) return t;
        for (var r = 0;; r++) {
            if (a <= o || r >= e.maxIterations) {
                t += e.ellipsis;
                break
            }
            var s = 0 === r ? Ie(t, o, e.ascCharWidth, e.cnCharWidth) : a > 0 ? Math.floor(t.length * o / a) : 0;
            a = ge(t = t.substr(0, s), n)
        }
        return "" === t && (t = e.placeholder), t
    }

    function Ie(t, e, i, n) {
        for (var o = 0, a = 0, r = t.length; a < r && o < e; a++) {
            var s = t.charCodeAt(a);
            o += 0 <= s && s <= 127 ? i : n
        }
        return a
    }

    function Te(t) {
        return ge("国", t)
    }

    function Ae(t, e) {
        return H_.measureText(t, e)
    }

    function De(t, e, i, n) {
        null != t && (t += "");
        var o = Te(e),
            a = t ? t.split("\n") : [],
            r = a.length * o,
            s = r;
        if (i && (s += i[0] + i[2]), t && n) {
            var l = n.outerHeight,
                h = n.outerWidth;
            if (null != l && s > l) t = "", a = [];
            else if (null != h)
                for (var u = Se(h - (i ? i[1] + i[3] : 0), e, n.ellipsis, {
                        minChar: n.minChar,
                        placeholder: n.placeholder
                    }), c = 0, d = a.length; c < d; c++) a[c] = Me(a[c], u)
        }
        return {
            lines: a,
            height: r,
            outerHeight: s,
            lineHeight: o
        }
    }

    function Ce(t, e) {
        var i = {
            lines: [],
            width: 0,
            height: 0
        };
        if (null != t && (t += ""), !t) return i;
        for (var n, o = W_.lastIndex = 0; null != (n = W_.exec(t));) {
            var a = n.index;
            a > o && Le(i, t.substring(o, a)), Le(i, n[2], n[1]), o = W_.lastIndex
        }
        o < t.length && Le(i, t.substring(o, t.length));
        var r = i.lines,
            s = 0,
            l = 0,
            h = [],
            u = e.textPadding,
            c = e.truncate,
            d = c && c.outerWidth,
            f = c && c.outerHeight;
        u && (null != d && (d -= u[1] + u[3]), null != f && (f -= u[0] + u[2]));
        for (L = 0; L < r.length; L++) {
            for (var p = r[L], g = 0, m = 0, v = 0; v < p.tokens.length; v++) {
                var y = (k = p.tokens[v]).styleName && e.rich[k.styleName] || {},
                    x = k.textPadding = y.textPadding,
                    _ = k.font = y.font || e.font,
                    w = k.textHeight = A(y.textHeight, Te(_));
                if (x && (w += x[0] + x[2]), k.height = w, k.lineHeight = D(y.textLineHeight, e.textLineHeight, w), k.textAlign = y && y.textAlign || e.textAlign, k.textVerticalAlign = y && y.textVerticalAlign || "middle", null != f && s + k.lineHeight > f) return {
                    lines: [],
                    width: 0,
                    height: 0
                };
                k.textWidth = ge(k.text, _);
                var b = y.textWidth,
                    S = null == b || "auto" === b;
                if ("string" == typeof b && "%" === b.charAt(b.length - 1)) k.percentWidth = b, h.push(k), b = 0;
                else {
                    if (S) {
                        b = k.textWidth;
                        var M = y.textBackgroundColor,
                            I = M && M.image;
                        I && pe(I = ce(I)) && (b = Math.max(b, I.width * w / I.height))
                    }
                    var T = x ? x[1] + x[3] : 0;
                    b += T;
                    var C = null != d ? d - m : null;
                    null != C && C < b && (!S || C < T ? (k.text = "", k.textWidth = b = 0) : (k.text = be(k.text, C - T, _, c.ellipsis, {
                        minChar: c.minChar
                    }), k.textWidth = ge(k.text, _), b = k.textWidth + T))
                }
                m += k.width = b, y && (g = Math.max(g, k.lineHeight))
            }
            p.width = m, p.lineHeight = g, s += g, l = Math.max(l, m)
        }
        i.outerWidth = i.width = A(e.textWidth, l), i.outerHeight = i.height = A(e.textHeight, s), u && (i.outerWidth += u[1] + u[3], i.outerHeight += u[0] + u[2]);
        for (var L = 0; L < h.length; L++) {
            var k = h[L],
                P = k.percentWidth;
            k.width = parseInt(P, 10) / 100 * l
        }
        return i
    }

    function Le(t, e, i) {
        for (var n = "" === e, o = e.split("\n"), a = t.lines, r = 0; r < o.length; r++) {
            var s = o[r],
                l = {
                    styleName: i,
                    text: s,
                    isLineHolder: !s && !n
                };
            if (r) a.push({
                tokens: [l]
            });
            else {
                var h = (a[a.length - 1] || (a[0] = {
                        tokens: []
                    })).tokens,
                    u = h.length;
                1 === u && h[0].isLineHolder ? h[0] = l : (s || !u || n) && h.push(l)
            }
        }
    }

    function ke(t) {
        var e = (t.fontSize || t.fontFamily) && [t.fontStyle, t.fontWeight, (t.fontSize || 12) + "px", t.fontFamily || "sans-serif"].join(" ");
        return e && P(e) || t.textFont || t.font
    }

    function Pe(t, e) {
        var i, n, o, a, r = e.x,
            s = e.y,
            l = e.width,
            h = e.height,
            u = e.r;
        l < 0 && (r += l, l = -l), h < 0 && (s += h, h = -h), "number" == typeof u ? i = n = o = a = u : u instanceof Array ? 1 === u.length ? i = n = o = a = u[0] : 2 === u.length ? (i = o = u[0], n = a = u[1]) : 3 === u.length ? (i = u[0], n = a = u[1], o = u[2]) : (i = u[0], n = u[1], o = u[2], a = u[3]) : i = n = o = a = 0;
        var c;
        i + n > l && (i *= l / (c = i + n), n *= l / c), o + a > l && (o *= l / (c = o + a), a *= l / c), n + o > h && (n *= h / (c = n + o), o *= h / c), i + a > h && (i *= h / (c = i + a), a *= h / c), t.moveTo(r + i, s), t.lineTo(r + l - n, s), 0 !== n && t.quadraticCurveTo(r + l, s, r + l, s + n), t.lineTo(r + l, s + h - o), 0 !== o && t.quadraticCurveTo(r + l, s + h, r + l - o, s + h), t.lineTo(r + a, s + h), 0 !== a && t.quadraticCurveTo(r, s + h, r, s + h - a), t.lineTo(r, s + i), 0 !== i && t.quadraticCurveTo(r, s, r + i, s)
    }

    function Oe(t) {
        return Ne(t), d(t.rich, Ne), t
    }

    function Ne(t) {
        if (t) {
            t.font = ke(t);
            var e = t.textAlign;
            "middle" === e && (e = "center"), t.textAlign = null == e || Z_[e] ? e : "left";
            var i = t.textVerticalAlign || t.textBaseline;
            "center" === i && (i = "middle"), t.textVerticalAlign = null == i || U_[i] ? i : "top", t.textPadding && (t.textPadding = L(t.textPadding))
        }
    }

    function Ee(t, e, i, n, o) {
        n.rich ? Re(t, e, i, n, o) : ze(t, e, i, n, o)
    }

    function ze(t, e, i, n, o) {
        var a = Ue(e, "font", n.font || F_),
            r = n.textPadding,
            s = t.__textCotentBlock;
        s && !t.__dirty || (s = t.__textCotentBlock = De(i, a, r, n.truncate));
        var l = s.outerHeight,
            h = s.lines,
            u = s.lineHeight,
            c = Ze(l, n, o),
            d = c.baseX,
            f = c.baseY,
            p = c.textAlign,
            g = c.textVerticalAlign;
        Ve(e, n, o, d, f);
        var m = _e(f, l, g),
            v = d,
            y = m,
            x = We(n);
        if (x || r) {
            var _ = ge(i, a);
            r && (_ += r[1] + r[3]);
            var w = xe(d, _, p);
            x && Fe(t, e, n, w, m, _, l), r && (v = qe(d, p, r), y += r[0])
        }
        Ue(e, "textAlign", p || "left"), Ue(e, "textBaseline", "middle"), Ue(e, "shadowBlur", n.textShadowBlur || 0), Ue(e, "shadowColor", n.textShadowColor || "transparent"), Ue(e, "shadowOffsetX", n.textShadowOffsetX || 0), Ue(e, "shadowOffsetY", n.textShadowOffsetY || 0), y += u / 2;
        var b = n.textStrokeWidth,
            S = je(n.textStroke, b),
            M = Xe(n.textFill);
        S && (Ue(e, "lineWidth", b), Ue(e, "strokeStyle", S)), M && Ue(e, "fillStyle", M);
        for (var I = 0; I < h.length; I++) S && e.strokeText(h[I], v, y), M && e.fillText(h[I], v, y), y += u
    }

    function Re(t, e, i, n, o) {
        var a = t.__textCotentBlock;
        a && !t.__dirty || (a = t.__textCotentBlock = Ce(i, n)), Be(t, e, a, n, o)
    }

    function Be(t, e, i, n, o) {
        var a = i.width,
            r = i.outerWidth,
            s = i.outerHeight,
            l = n.textPadding,
            h = Ze(s, n, o),
            u = h.baseX,
            c = h.baseY,
            d = h.textAlign,
            f = h.textVerticalAlign;
        Ve(e, n, o, u, c);
        var p = xe(u, r, d),
            g = _e(c, s, f),
            m = p,
            v = g;
        l && (m += l[3], v += l[0]);
        var y = m + a;
        We(n) && Fe(t, e, n, p, g, r, s);
        for (var x = 0; x < i.lines.length; x++) {
            for (var _, w = i.lines[x], b = w.tokens, S = b.length, M = w.lineHeight, I = w.width, T = 0, A = m, D = y, C = S - 1; T < S && (!(_ = b[T]).textAlign || "left" === _.textAlign);) Ge(t, e, _, n, M, v, A, "left"), I -= _.width, A += _.width, T++;
            for (; C >= 0 && "right" === (_ = b[C]).textAlign;) Ge(t, e, _, n, M, v, D, "right"), I -= _.width, D -= _.width, C--;
            for (A += (a - (A - m) - (y - D) - I) / 2; T <= C;) Ge(t, e, _ = b[T], n, M, v, A + _.width / 2, "center"), A += _.width, T++;
            v += M
        }
    }

    function Ve(t, e, i, n, o) {
        if (i && e.textRotation) {
            var a = e.textOrigin;
            "center" === a ? (n = i.width / 2 + i.x, o = i.height / 2 + i.y) : a && (n = a[0] + i.x, o = a[1] + i.y), t.translate(n, o), t.rotate(-e.textRotation), t.translate(-n, -o)
        }
    }

    function Ge(t, e, i, n, o, a, r, s) {
        var l = n.rich[i.styleName] || {},
            h = i.textVerticalAlign,
            u = a + o / 2;
        "top" === h ? u = a + i.height / 2 : "bottom" === h && (u = a + o - i.height / 2), !i.isLineHolder && We(l) && Fe(t, e, l, "right" === s ? r - i.width : "center" === s ? r - i.width / 2 : r, u - i.height / 2, i.width, i.height);
        var c = i.textPadding;
        c && (r = qe(r, s, c), u -= i.height / 2 - c[2] - i.textHeight / 2), Ue(e, "shadowBlur", D(l.textShadowBlur, n.textShadowBlur, 0)), Ue(e, "shadowColor", l.textShadowColor || n.textShadowColor || "transparent"), Ue(e, "shadowOffsetX", D(l.textShadowOffsetX, n.textShadowOffsetX, 0)), Ue(e, "shadowOffsetY", D(l.textShadowOffsetY, n.textShadowOffsetY, 0)), Ue(e, "textAlign", s), Ue(e, "textBaseline", "middle"), Ue(e, "font", i.font || F_);
        var d = je(l.textStroke || n.textStroke, p),
            f = Xe(l.textFill || n.textFill),
            p = A(l.textStrokeWidth, n.textStrokeWidth);
        d && (Ue(e, "lineWidth", p), Ue(e, "strokeStyle", d), e.strokeText(i.text, r, u)), f && (Ue(e, "fillStyle", f), e.fillText(i.text, r, u))
    }

    function We(t) {
        return t.textBackgroundColor || t.textBorderWidth && t.textBorderColor
    }

    function Fe(t, e, i, n, o, a, r) {
        var s = i.textBackgroundColor,
            l = i.textBorderWidth,
            h = i.textBorderColor,
            u = _(s);
        if (Ue(e, "shadowBlur", i.textBoxShadowBlur || 0), Ue(e, "shadowColor", i.textBoxShadowColor || "transparent"), Ue(e, "shadowOffsetX", i.textBoxShadowOffsetX || 0), Ue(e, "shadowOffsetY", i.textBoxShadowOffsetY || 0), u || l && h) {
            e.beginPath();
            var c = i.textBorderRadius;
            c ? Pe(e, {
                x: n,
                y: o,
                width: a,
                height: r,
                r: c
            }) : e.rect(n, o, a, r), e.closePath()
        }
        if (u) Ue(e, "fillStyle", s), e.fill();
        else if (w(s)) {
            var d = s.image;
            (d = de(d, null, t, He, s)) && pe(d) && e.drawImage(d, n, o, a, r)
        }
        l && h && (Ue(e, "lineWidth", l), Ue(e, "strokeStyle", h), e.stroke())
    }

    function He(t, e) {
        e.image = t
    }

    function Ze(t, e, i) {
        var n = e.x || 0,
            o = e.y || 0,
            a = e.textAlign,
            r = e.textVerticalAlign;
        if (i) {
            var s = e.textPosition;
            if (s instanceof Array) n = i.x + Ye(s[0], i.width), o = i.y + Ye(s[1], i.height);
            else {
                var l = we(s, i, e.textDistance);
                n = l.x, o = l.y, a = a || l.textAlign, r = r || l.textVerticalAlign
            }
            var h = e.textOffset;
            h && (n += h[0], o += h[1])
        }
        return {
            baseX: n,
            baseY: o,
            textAlign: a,
            textVerticalAlign: r
        }
    }

    function Ue(t, e, i) {
        return t[e] = D_(t, e, i), t[e]
    }

    function je(t, e) {
        return null == t || e <= 0 || "transparent" === t || "none" === t ? null : t.image || t.colorStops ? "#000" : t
    }

    function Xe(t) {
        return null == t || "none" === t ? null : t.image || t.colorStops ? "#000" : t
    }

    function Ye(t, e) {
        return "string" == typeof t ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t
    }

    function qe(t, e, i) {
        return "right" === e ? t - i[1] : "center" === e ? t + i[3] / 2 - i[1] / 2 : t + i[3]
    }

    function $e(t, e) {
        return null != t && (t || e.textBackgroundColor || e.textBorderWidth && e.textBorderColor || e.textPadding)
    }

    function Ke(t) {
        t = t || {}, x_.call(this, t);
        for (var e in t) t.hasOwnProperty(e) && "style" !== e && (this[e] = t[e]);
        this.style = new L_(t.style, this), this._rect = null, this.__clipPaths = []
    }

    function Je(t) {
        Ke.call(this, t)
    }

    function Qe(t) {
        return parseInt(t, 10)
    }

    function ti(t) {
        return !!t && (!!t.__builtin__ || "function" == typeof t.resize && "function" == typeof t.refresh)
    }

    function ei(t, e, i) {
        return Y_.copy(t.getBoundingRect()), t.transform && Y_.applyTransform(t.transform), q_.width = e, q_.height = i, !Y_.intersect(q_)
    }

    function ii(t, e) {
        if (t == e) return !1;
        if (!t || !e || t.length !== e.length) return !0;
        for (var i = 0; i < t.length; i++)
            if (t[i] !== e[i]) return !0
    }

    function ni(t, e) {
        for (var i = 0; i < t.length; i++) {
            var n = t[i];
            n.setTransform(e), e.beginPath(), n.buildPath(e, n.shape), e.clip(), n.restoreTransform(e)
        }
    }

    function oi(t, e) {
        var i = document.createElement("div");
        return i.style.cssText = ["position:relative", "overflow:hidden", "width:" + t + "px", "height:" + e + "px", "padding:0", "margin:0", "border-width:0"].join(";") + ";", i
    }

    function ai(t) {
        return t.getBoundingClientRect ? t.getBoundingClientRect() : {
            left: 0,
            top: 0
        }
    }

    function ri(t, e, i, n) {
        return i = i || {}, n || !_x.canvasSupported ? si(t, e, i) : _x.browser.firefox && null != e.layerX && e.layerX !== e.offsetX ? (i.zrX = e.layerX, i.zrY = e.layerY) : null != e.offsetX ? (i.zrX = e.offsetX, i.zrY = e.offsetY) : si(t, e, i), i
    }

    function si(t, e, i) {
        var n = ai(t);
        i.zrX = e.clientX - n.left, i.zrY = e.clientY - n.top
    }

    function li(t, e, i) {
        if (null != (e = e || window.event).zrX) return e;
        var n = e.type;
        if (n && n.indexOf("touch") >= 0) {
            var o = "touchend" != n ? e.targetTouches[0] : e.changedTouches[0];
            o && ri(t, o, e, i)
        } else ri(t, e, e, i), e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;
        var a = e.button;
        return null == e.which && void 0 !== a && J_.test(e.type) && (e.which = 1 & a ? 1 : 2 & a ? 3 : 4 & a ? 2 : 0), e
    }

    function hi(t, e, i) {
        K_ ? t.addEventListener(e, i) : t.attachEvent("on" + e, i)
    }

    function ui(t, e, i) {
        K_ ? t.removeEventListener(e, i) : t.detachEvent("on" + e, i)
    }

    function ci(t) {
        return t.which > 1
    }

    function di(t) {
        var e = t[1][0] - t[0][0],
            i = t[1][1] - t[0][1];
        return Math.sqrt(e * e + i * i)
    }

    function fi(t) {
        return [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2]
    }

    function pi(t) {
        return "mousewheel" === t && _x.browser.firefox ? "DOMMouseScroll" : t
    }

    function gi(t, e, i) {
        var n = t._gestureMgr;
        "start" === i && n.clear();
        var o = n.recognize(e, t.handler.findHover(e.zrX, e.zrY, null).target, t.dom);
        if ("end" === i && n.clear(), o) {
            var a = o.type;
            e.gestureEvent = a, t.handler.dispatchToElement({
                target: o.target
            }, a, o.event)
        }
    }

    function mi(t) {
        t._touching = !0, clearTimeout(t._touchTimer), t._touchTimer = setTimeout(function() {
            t._touching = !1
        }, 700)
    }

    function vi(t) {
        var e = t.pointerType;
        return "pen" === e || "touch" === e
    }

    function yi(t) {
        function e(t, e) {
            return function() {
                if (!e._touching) return t.apply(e, arguments)
            }
        }
        d(ow, function(e) {
            t._handlers[e] = m(sw[e], t)
        }), d(rw, function(e) {
            t._handlers[e] = m(sw[e], t)
        }), d(nw, function(i) {
            t._handlers[i] = e(sw[i], t)
        })
    }

    function xi(t) {
        function e(e, i) {
            d(e, function(e) {
                hi(t, pi(e), i._handlers[e])
            }, i)
        }
        Hx.call(this), this.dom = t, this._touching = !1, this._touchTimer, this._gestureMgr = new ew, this._handlers = {}, yi(this), _x.pointerEventsSupported ? e(rw, this) : (_x.touchEventsSupported && e(ow, this), e(nw, this))
    }

    function _i(t, e) {
        var i = new dw(yx(), t, e);
        return cw[i.id] = i, i
    }

    function wi(t, e) {
        uw[t] = e
    }

    function bi(t) {
        delete cw[t]
    }

    function Si(t) {
        return t instanceof Array ? t : null == t ? [] : [t]
    }

    function Mi(t, e, i) {
        if (t) {
            t[e] = t[e] || {}, t.emphasis = t.emphasis || {}, t.emphasis[e] = t.emphasis[e] || {};
            for (var n = 0, o = i.length; n < o; n++) {
                var a = i[n];
                !t.emphasis[e].hasOwnProperty(a) && t[e].hasOwnProperty(a) && (t.emphasis[e][a] = t[e][a])
            }
        }
    }

    function Ii(t) {
        return !gw(t) || mw(t) || t instanceof Date ? t : t.value
    }

    function Ti(t) {
        return gw(t) && !(t instanceof Array)
    }

    function Ai(t, e) {
        e = (e || []).slice();
        var i = f(t || [], function(t, e) {
            return {
                exist: t
            }
        });
        return pw(e, function(t, n) {
            if (gw(t)) {
                for (o = 0; o < i.length; o++)
                    if (!i[o].option && null != t.id && i[o].exist.id === t.id + "") return i[o].option = t, void(e[n] = null);
                for (var o = 0; o < i.length; o++) {
                    var a = i[o].exist;
                    if (!(i[o].option || null != a.id && null != t.id || null == t.name || Ci(t) || Ci(a) || a.name !== t.name + "")) return i[o].option = t, void(e[n] = null)
                }
            }
        }), pw(e, function(t, e) {
            if (gw(t)) {
                for (var n = 0; n < i.length; n++) {
                    var o = i[n].exist;
                    if (!i[n].option && !Ci(o) && null == t.id) {
                        i[n].option = t;
                        break
                    }
                }
                n >= i.length && i.push({
                    option: t
                })
            }
        }), i
    }

    function Di(t) {
        var e = z();
        pw(t, function(t, i) {
            var n = t.exist;
            n && e.set(n.id, t)
        }), pw(t, function(t, i) {
            var n = t.option;
            k(!n || null == n.id || !e.get(n.id) || e.get(n.id) === t, "id duplicates: " + (n && n.id)), n && null != n.id && e.set(n.id, t), !t.keyInfo && (t.keyInfo = {})
        }), pw(t, function(t, i) {
            var n = t.exist,
                o = t.option,
                a = t.keyInfo;
            if (gw(o)) {
                if (a.name = null != o.name ? o.name + "" : n ? n.name : vw, n) a.id = n.id;
                else if (null != o.id) a.id = o.id + "";
                else {
                    var r = 0;
                    do {
                        a.id = "\0" + a.name + "\0" + r++
                    } while (e.get(a.id))
                }
                e.set(a.id, t)
            }
        })
    }

    function Ci(t) {
        return gw(t) && t.id && 0 === (t.id + "").indexOf("\0_ec_\0")
    }

    function Li(t, e) {
        function i(t, e, i) {
            for (var n = 0, o = t.length; n < o; n++)
                for (var a = t[n].seriesId, r = Si(t[n].dataIndex), s = i && i[a], l = 0, h = r.length; l < h; l++) {
                    var u = r[l];
                    s && s[u] ? s[u] = null : (e[a] || (e[a] = {}))[u] = 1
                }
        }

        function n(t, e) {
            var i = [];
            for (var o in t)
                if (t.hasOwnProperty(o) && null != t[o])
                    if (e) i.push(+o);
                    else {
                        var a = n(t[o], !0);
                        a.length && i.push({
                            seriesId: o,
                            dataIndex: a
                        })
                    } return i
        }
        var o = {},
            a = {};
        return i(t || [], o), i(e || [], a, o), [n(o), n(a)]
    }

    function ki(t, e) {
        return null != e.dataIndexInside ? e.dataIndexInside : null != e.dataIndex ? y(e.dataIndex) ? f(e.dataIndex, function(e) {
            return t.indexOfRawIndex(e)
        }) : t.indexOfRawIndex(e.dataIndex) : null != e.name ? y(e.name) ? f(e.name, function(e) {
            return t.indexOfName(e)
        }) : t.indexOfName(e.name) : void 0
    }

    function Pi() {
        var t = "__\0ec_inner_" + xw++ + "_" + Math.random().toFixed(5);
        return function(e) {
            return e[t] || (e[t] = {})
        }
    }

    function Oi(t, e, i) {
        if (_(e)) {
            var n = {};
            n[e + "Index"] = 0, e = n
        }
        var o = i && i.defaultMainType;
        !o || Ni(e, o + "Index") || Ni(e, o + "Id") || Ni(e, o + "Name") || (e[o + "Index"] = 0);
        var a = {};
        return pw(e, function(n, o) {
            var n = e[o];
            if ("dataIndex" !== o && "dataIndexInside" !== o) {
                var r = o.match(/^(\w+)(Index|Id|Name)$/) || [],
                    s = r[1],
                    h = (r[2] || "").toLowerCase();
                if (!(!s || !h || null == n || "index" === h && "none" === n || i && i.includeMainTypes && l(i.includeMainTypes, s) < 0)) {
                    var u = {
                        mainType: s
                    };
                    "index" === h && "all" === n || (u[h] = n);
                    var c = t.queryComponents(u);
                    a[s + "Models"] = c, a[s + "Model"] = c[0]
                }
            } else a[o] = n
        }), a
    }

    function Ni(t, e) {
        return t && t.hasOwnProperty(e)
    }

    function Ei(t, e, i) {
        t.setAttribute ? t.setAttribute(e, i) : t[e] = i
    }

    function zi(t, e) {
        return t.getAttribute ? t.getAttribute(e) : t[e]
    }

    function Ri(t) {
        var e = {
            main: "",
            sub: ""
        };
        return t && (t = t.split(_w), e.main = t[0] || "", e.sub = t[1] || ""), e
    }

    function Bi(t) {
        k(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t), 'componentType "' + t + '" illegal')
    }

    function Vi(t, e) {
        t.$constructor = t, t.extend = function(t) {
            var e = this,
                i = function() {
                    t.$constructor ? t.$constructor.apply(this, arguments) : e.apply(this, arguments)
                };
            return a(i.prototype, t), i.extend = this.extend, i.superCall = Wi, i.superApply = Fi, h(i, this), i.superClass = e, i
        }
    }

    function Gi(t) {
        var e = ["__\0is_clz", bw++, Math.random().toFixed(3)].join("_");
        t.prototype[e] = !0, t.isInstance = function(t) {
            return !(!t || !t[e])
        }
    }

    function Wi(t, e) {
        var i = C(arguments, 2);
        return this.superClass.prototype[e].apply(t, i)
    }

    function Fi(t, e, i) {
        return this.superClass.prototype[e].apply(t, i)
    }

    function Hi(t, e) {
        function i(t) {
            var e = n[t.main];
            return e && e[ww] || ((e = n[t.main] = {})[ww] = !0), e
        }
        e = e || {};
        var n = {};
        if (t.registerClass = function(t, e) {
                return e && (Bi(e), (e = Ri(e)).sub ? e.sub !== ww && (i(e)[e.sub] = t) : n[e.main] = t), t
            }, t.getClass = function(t, e, i) {
                var o = n[t];
                if (o && o[ww] && (o = e ? o[e] : null), i && !o) throw new Error(e ? "Component " + t + "." + (e || "") + " not exists. Load it first." : t + ".type should be specified.");
                return o
            }, t.getClassesByMainType = function(t) {
                t = Ri(t);
                var e = [],
                    i = n[t.main];
                return i && i[ww] ? d(i, function(t, i) {
                    i !== ww && e.push(t)
                }) : e.push(i), e
            }, t.hasClass = function(t) {
                return t = Ri(t), !!n[t.main]
            }, t.getAllClassMainTypes = function() {
                var t = [];
                return d(n, function(e, i) {
                    t.push(i)
                }), t
            }, t.hasSubTypes = function(t) {
                t = Ri(t);
                var e = n[t.main];
                return e && e[ww]
            }, t.parseClassType = Ri, e.registerWhenExtend) {
            var o = t.extend;
            o && (t.extend = function(e) {
                var i = o.call(this, e);
                return t.registerClass(i, e.type)
            })
        }
        return t
    }

    function Zi(t) {
        return t > -Lw && t < Lw
    }

    function Ui(t) {
        return t > Lw || t < -Lw
    }

    function ji(t, e, i, n, o) {
        var a = 1 - o;
        return a * a * (a * t + 3 * o * e) + o * o * (o * n + 3 * a * i)
    }

    function Xi(t, e, i, n, o) {
        var a = 1 - o;
        return 3 * (((e - t) * a + 2 * (i - e) * o) * a + (n - i) * o * o)
    }

    function Yi(t, e, i, n, o, a) {
        var r = n + 3 * (e - i) - t,
            s = 3 * (i - 2 * e + t),
            l = 3 * (e - t),
            h = t - o,
            u = s * s - 3 * r * l,
            c = s * l - 9 * r * h,
            d = l * l - 3 * s * h,
            f = 0;
        if (Zi(u) && Zi(c)) Zi(s) ? a[0] = 0 : (M = -l / s) >= 0 && M <= 1 && (a[f++] = M);
        else {
            var p = c * c - 4 * u * d;
            if (Zi(p)) {
                var g = c / u,
                    m = -g / 2;
                (M = -s / r + g) >= 0 && M <= 1 && (a[f++] = M), m >= 0 && m <= 1 && (a[f++] = m)
            } else if (p > 0) {
                var v = Cw(p),
                    y = u * s + 1.5 * r * (-c + v),
                    x = u * s + 1.5 * r * (-c - v);
                (M = (-s - ((y = y < 0 ? -Dw(-y, Ow) : Dw(y, Ow)) + (x = x < 0 ? -Dw(-x, Ow) : Dw(x, Ow)))) / (3 * r)) >= 0 && M <= 1 && (a[f++] = M)
            } else {
                var _ = (2 * u * s - 3 * r * c) / (2 * Cw(u * u * u)),
                    w = Math.acos(_) / 3,
                    b = Cw(u),
                    S = Math.cos(w),
                    M = (-s - 2 * b * S) / (3 * r),
                    m = (-s + b * (S + Pw * Math.sin(w))) / (3 * r),
                    I = (-s + b * (S - Pw * Math.sin(w))) / (3 * r);
                M >= 0 && M <= 1 && (a[f++] = M), m >= 0 && m <= 1 && (a[f++] = m), I >= 0 && I <= 1 && (a[f++] = I)
            }
        }
        return f
    }

    function qi(t, e, i, n, o) {
        var a = 6 * i - 12 * e + 6 * t,
            r = 9 * e + 3 * n - 3 * t - 9 * i,
            s = 3 * e - 3 * t,
            l = 0;
        if (Zi(r)) Ui(a) && (c = -s / a) >= 0 && c <= 1 && (o[l++] = c);
        else {
            var h = a * a - 4 * r * s;
            if (Zi(h)) o[0] = -a / (2 * r);
            else if (h > 0) {
                var u = Cw(h),
                    c = (-a + u) / (2 * r),
                    d = (-a - u) / (2 * r);
                c >= 0 && c <= 1 && (o[l++] = c), d >= 0 && d <= 1 && (o[l++] = d)
            }
        }
        return l
    }

    function $i(t, e, i, n, o, a) {
        var r = (e - t) * o + t,
            s = (i - e) * o + e,
            l = (n - i) * o + i,
            h = (s - r) * o + r,
            u = (l - s) * o + s,
            c = (u - h) * o + h;
        a[0] = t, a[1] = r, a[2] = h, a[3] = c, a[4] = c, a[5] = u, a[6] = l, a[7] = n
    }

    function Ki(t, e, i, n, o, a, r, s, l, h, u) {
        var c, d, f, p, g, m = .005,
            v = 1 / 0;
        Nw[0] = l, Nw[1] = h;
        for (var y = 0; y < 1; y += .05) Ew[0] = ji(t, i, o, r, y), Ew[1] = ji(e, n, a, s, y), (p = Gx(Nw, Ew)) < v && (c = y, v = p);
        v = 1 / 0;
        for (var x = 0; x < 32 && !(m < kw); x++) d = c - m, f = c + m, Ew[0] = ji(t, i, o, r, d), Ew[1] = ji(e, n, a, s, d), p = Gx(Ew, Nw), d >= 0 && p < v ? (c = d, v = p) : (zw[0] = ji(t, i, o, r, f), zw[1] = ji(e, n, a, s, f), g = Gx(zw, Nw), f <= 1 && g < v ? (c = f, v = g) : m *= .5);
        return u && (u[0] = ji(t, i, o, r, c), u[1] = ji(e, n, a, s, c)), Cw(v)
    }

    function Ji(t, e, i, n) {
        var o = 1 - n;
        return o * (o * t + 2 * n * e) + n * n * i
    }

    function Qi(t, e, i, n) {
        return 2 * ((1 - n) * (e - t) + n * (i - e))
    }

    function tn(t, e, i, n, o) {
        var a = t - 2 * e + i,
            r = 2 * (e - t),
            s = t - n,
            l = 0;
        if (Zi(a)) Ui(r) && (c = -s / r) >= 0 && c <= 1 && (o[l++] = c);
        else {
            var h = r * r - 4 * a * s;
            if (Zi(h))(c = -r / (2 * a)) >= 0 && c <= 1 && (o[l++] = c);
            else if (h > 0) {
                var u = Cw(h),
                    c = (-r + u) / (2 * a),
                    d = (-r - u) / (2 * a);
                c >= 0 && c <= 1 && (o[l++] = c), d >= 0 && d <= 1 && (o[l++] = d)
            }
        }
        return l
    }

    function en(t, e, i) {
        var n = t + i - 2 * e;
        return 0 === n ? .5 : (t - e) / n
    }

    function nn(t, e, i, n, o) {
        var a = (e - t) * n + t,
            r = (i - e) * n + e,
            s = (r - a) * n + a;
        o[0] = t, o[1] = a, o[2] = s, o[3] = s, o[4] = r, o[5] = i
    }

    function on(t, e, i, n, o, a, r, s, l) {
        var h, u = .005,
            c = 1 / 0;
        Nw[0] = r, Nw[1] = s;
        for (var d = 0; d < 1; d += .05) Ew[0] = Ji(t, i, o, d), Ew[1] = Ji(e, n, a, d), (m = Gx(Nw, Ew)) < c && (h = d, c = m);
        c = 1 / 0;
        for (var f = 0; f < 32 && !(u < kw); f++) {
            var p = h - u,
                g = h + u;
            Ew[0] = Ji(t, i, o, p), Ew[1] = Ji(e, n, a, p);
            var m = Gx(Ew, Nw);
            if (p >= 0 && m < c) h = p, c = m;
            else {
                zw[0] = Ji(t, i, o, g), zw[1] = Ji(e, n, a, g);
                var v = Gx(zw, Nw);
                g <= 1 && v < c ? (h = g, c = v) : u *= .5
            }
        }
        return l && (l[0] = Ji(t, i, o, h), l[1] = Ji(e, n, a, h)), Cw(c)
    }

    function an(t, e, i) {
        if (0 !== t.length) {
            var n, o = t[0],
                a = o[0],
                r = o[0],
                s = o[1],
                l = o[1];
            for (n = 1; n < t.length; n++) o = t[n], a = Rw(a, o[0]), r = Bw(r, o[0]), s = Rw(s, o[1]), l = Bw(l, o[1]);
            e[0] = a, e[1] = s, i[0] = r, i[1] = l
        }
    }

    function rn(t, e, i, n, o, a) {
        o[0] = Rw(t, i), o[1] = Rw(e, n), a[0] = Bw(t, i), a[1] = Bw(e, n)
    }

    function sn(t, e, i, n, o, a, r, s, l, h) {
        var u, c = qi,
            d = ji,
            f = c(t, i, o, r, Uw);
        for (l[0] = 1 / 0, l[1] = 1 / 0, h[0] = -1 / 0, h[1] = -1 / 0, u = 0; u < f; u++) {
            var p = d(t, i, o, r, Uw[u]);
            l[0] = Rw(p, l[0]), h[0] = Bw(p, h[0])
        }
        for (f = c(e, n, a, s, jw), u = 0; u < f; u++) {
            var g = d(e, n, a, s, jw[u]);
            l[1] = Rw(g, l[1]), h[1] = Bw(g, h[1])
        }
        l[0] = Rw(t, l[0]), h[0] = Bw(t, h[0]), l[0] = Rw(r, l[0]), h[0] = Bw(r, h[0]), l[1] = Rw(e, l[1]), h[1] = Bw(e, h[1]), l[1] = Rw(s, l[1]), h[1] = Bw(s, h[1])
    }

    function ln(t, e, i, n, o, a, r, s) {
        var l = en,
            h = Ji,
            u = Bw(Rw(l(t, i, o), 1), 0),
            c = Bw(Rw(l(e, n, a), 1), 0),
            d = h(t, i, o, u),
            f = h(e, n, a, c);
        r[0] = Rw(t, o, d), r[1] = Rw(e, a, f), s[0] = Bw(t, o, d), s[1] = Bw(e, a, f)
    }

    function hn(t, e, i, n, o, a, r, s, l) {
        var h = tt,
            u = et,
            c = Math.abs(o - a);
        if (c % Ww < 1e-4 && c > 1e-4) return s[0] = t - i, s[1] = e - n, l[0] = t + i, void(l[1] = e + n);
        if (Fw[0] = Gw(o) * i + t, Fw[1] = Vw(o) * n + e, Hw[0] = Gw(a) * i + t, Hw[1] = Vw(a) * n + e, h(s, Fw, Hw), u(l, Fw, Hw), (o %= Ww) < 0 && (o += Ww), (a %= Ww) < 0 && (a += Ww), o > a && !r ? a += Ww : o < a && r && (o += Ww), r) {
            var d = a;
            a = o, o = d
        }
        for (var f = 0; f < a; f += Math.PI / 2) f > o && (Zw[0] = Gw(f) * i + t, Zw[1] = Vw(f) * n + e, h(s, Zw, s), u(l, Zw, l))
    }

    function un(t, e, i, n, o, a, r) {
        if (0 === o) return !1;
        var s = o,
            l = 0,
            h = t;
        if (r > e + s && r > n + s || r < e - s && r < n - s || a > t + s && a > i + s || a < t - s && a < i - s) return !1;
        if (t === i) return Math.abs(a - t) <= s / 2;
        var u = (l = (e - n) / (t - i)) * a - r + (h = (t * n - i * e) / (t - i));
        return u * u / (l * l + 1) <= s / 2 * s / 2
    }

    function cn(t, e, i, n, o, a, r, s, l, h, u) {
        if (0 === l) return !1;
        var c = l;
        return !(u > e + c && u > n + c && u > a + c && u > s + c || u < e - c && u < n - c && u < a - c && u < s - c || h > t + c && h > i + c && h > o + c && h > r + c || h < t - c && h < i - c && h < o - c && h < r - c) && Ki(t, e, i, n, o, a, r, s, h, u, null) <= c / 2
    }

    function dn(t, e, i, n, o, a, r, s, l) {
        if (0 === r) return !1;
        var h = r;
        return !(l > e + h && l > n + h && l > a + h || l < e - h && l < n - h && l < a - h || s > t + h && s > i + h && s > o + h || s < t - h && s < i - h && s < o - h) && on(t, e, i, n, o, a, s, l, null) <= h / 2
    }

    function fn(t) {
        return (t %= rb) < 0 && (t += rb), t
    }

    function pn(t, e, i, n, o, a, r, s, l) {
        if (0 === r) return !1;
        var h = r;
        s -= t, l -= e;
        var u = Math.sqrt(s * s + l * l);
        if (u - h > i || u + h < i) return !1;
        if (Math.abs(n - o) % sb < 1e-4) return !0;
        if (a) {
            var c = n;
            n = fn(o), o = fn(c)
        } else n = fn(n), o = fn(o);
        n > o && (o += sb);
        var d = Math.atan2(l, s);
        return d < 0 && (d += sb), d >= n && d <= o || d + sb >= n && d + sb <= o
    }

    function gn(t, e, i, n, o, a) {
        if (a > e && a > n || a < e && a < n) return 0;
        if (n === e) return 0;
        var r = n < e ? 1 : -1,
            s = (a - e) / (n - e);
        return 1 !== s && 0 !== s || (r = n < e ? .5 : -.5), s * (i - t) + t > o ? r : 0
    }

    function mn(t, e) {
        return Math.abs(t - e) < ub
    }

    function vn() {
        var t = db[0];
        db[0] = db[1], db[1] = t
    }

    function yn(t, e, i, n, o, a, r, s, l, h) {
        if (h > e && h > n && h > a && h > s || h < e && h < n && h < a && h < s) return 0;
        var u = Yi(e, n, a, s, h, cb);
        if (0 === u) return 0;
        for (var c, d, f = 0, p = -1, g = 0; g < u; g++) {
            var m = cb[g],
                v = 0 === m || 1 === m ? .5 : 1;
            ji(t, i, o, r, m) < l || (p < 0 && (p = qi(e, n, a, s, db), db[1] < db[0] && p > 1 && vn(), c = ji(e, n, a, s, db[0]), p > 1 && (d = ji(e, n, a, s, db[1]))), 2 == p ? m < db[0] ? f += c < e ? v : -v : m < db[1] ? f += d < c ? v : -v : f += s < d ? v : -v : m < db[0] ? f += c < e ? v : -v : f += s < c ? v : -v)
        }
        return f
    }

    function xn(t, e, i, n, o, a, r, s) {
        if (s > e && s > n && s > a || s < e && s < n && s < a) return 0;
        var l = tn(e, n, a, s, cb);
        if (0 === l) return 0;
        var h = en(e, n, a);
        if (h >= 0 && h <= 1) {
            for (var u = 0, c = Ji(e, n, a, h), d = 0; d < l; d++) {
                f = 0 === cb[d] || 1 === cb[d] ? .5 : 1;
                (p = Ji(t, i, o, cb[d])) < r || (cb[d] < h ? u += c < e ? f : -f : u += a < c ? f : -f)
            }
            return u
        }
        var f = 0 === cb[0] || 1 === cb[0] ? .5 : 1,
            p = Ji(t, i, o, cb[0]);
        return p < r ? 0 : a < e ? f : -f
    }

    function _n(t, e, i, n, o, a, r, s) {
        if ((s -= e) > i || s < -i) return 0;
        h = Math.sqrt(i * i - s * s);
        cb[0] = -h, cb[1] = h;
        var l = Math.abs(n - o);
        if (l < 1e-4) return 0;
        if (l % hb < 1e-4) {
            n = 0, o = hb;
            p = a ? 1 : -1;
            return r >= cb[0] + t && r <= cb[1] + t ? p : 0
        }
        if (a) {
            var h = n;
            n = fn(o), o = fn(h)
        } else n = fn(n), o = fn(o);
        n > o && (o += hb);
        for (var u = 0, c = 0; c < 2; c++) {
            var d = cb[c];
            if (d + t > r) {
                var f = Math.atan2(s, d),
                    p = a ? 1 : -1;
                f < 0 && (f = hb + f), (f >= n && f <= o || f + hb >= n && f + hb <= o) && (f > Math.PI / 2 && f < 1.5 * Math.PI && (p = -p), u += p)
            }
        }
        return u
    }

    function wn(t, e, i, n, o) {
        for (var a = 0, r = 0, s = 0, l = 0, h = 0, u = 0; u < t.length;) {
            var c = t[u++];
            switch (c === lb.M && u > 1 && (i || (a += gn(r, s, l, h, n, o))), 1 == u && (l = r = t[u], h = s = t[u + 1]), c) {
                case lb.M:
                    r = l = t[u++], s = h = t[u++];
                    break;
                case lb.L:
                    if (i) {
                        if (un(r, s, t[u], t[u + 1], e, n, o)) return !0
                    } else a += gn(r, s, t[u], t[u + 1], n, o) || 0;
                    r = t[u++], s = t[u++];
                    break;
                case lb.C:
                    if (i) {
                        if (cn(r, s, t[u++], t[u++], t[u++], t[u++], t[u], t[u + 1], e, n, o)) return !0
                    } else a += yn(r, s, t[u++], t[u++], t[u++], t[u++], t[u], t[u + 1], n, o) || 0;
                    r = t[u++], s = t[u++];
                    break;
                case lb.Q:
                    if (i) {
                        if (dn(r, s, t[u++], t[u++], t[u], t[u + 1], e, n, o)) return !0
                    } else a += xn(r, s, t[u++], t[u++], t[u], t[u + 1], n, o) || 0;
                    r = t[u++], s = t[u++];
                    break;
                case lb.A:
                    var d = t[u++],
                        f = t[u++],
                        p = t[u++],
                        g = t[u++],
                        m = t[u++],
                        v = t[u++],
                        y = (t[u++], 1 - t[u++]),
                        x = Math.cos(m) * p + d,
                        _ = Math.sin(m) * g + f;
                    u > 1 ? a += gn(r, s, x, _, n, o) : (l = x, h = _);
                    var w = (n - d) * g / p + d;
                    if (i) {
                        if (pn(d, f, g, m, m + v, y, e, w, o)) return !0
                    } else a += _n(d, f, g, m, m + v, y, w, o);
                    r = Math.cos(m + v) * p + d, s = Math.sin(m + v) * g + f;
                    break;
                case lb.R:
                    l = r = t[u++], h = s = t[u++];
                    var x = l + t[u++],
                        _ = h + t[u++];
                    if (i) {
                        if (un(l, h, x, h, e, n, o) || un(x, h, x, _, e, n, o) || un(x, _, l, _, e, n, o) || un(l, _, l, h, e, n, o)) return !0
                    } else a += gn(x, h, x, _, n, o), a += gn(l, _, l, h, n, o);
                    break;
                case lb.Z:
                    if (i) {
                        if (un(r, s, l, h, e, n, o)) return !0
                    } else a += gn(r, s, l, h, n, o);
                    r = l, s = h
            }
        }
        return i || mn(s, h) || (a += gn(r, s, l, h, n, o) || 0), 0 !== a
    }

    function bn(t, e, i) {
        return wn(t, 0, !1, e, i)
    }

    function Sn(t, e, i, n) {
        return wn(t, e, !0, i, n)
    }

    function Mn(t) {
        Ke.call(this, t), this.path = null
    }

    function In(t, e, i, n, o, a, r, s, l, h, u) {
        var c = l * (Ib / 180),
            d = Mb(c) * (t - i) / 2 + Sb(c) * (e - n) / 2,
            f = -1 * Sb(c) * (t - i) / 2 + Mb(c) * (e - n) / 2,
            p = d * d / (r * r) + f * f / (s * s);
        p > 1 && (r *= bb(p), s *= bb(p));
        var g = (o === a ? -1 : 1) * bb((r * r * (s * s) - r * r * (f * f) - s * s * (d * d)) / (r * r * (f * f) + s * s * (d * d))) || 0,
            m = g * r * f / s,
            v = g * -s * d / r,
            y = (t + i) / 2 + Mb(c) * m - Sb(c) * v,
            x = (e + n) / 2 + Sb(c) * m + Mb(c) * v,
            _ = Db([1, 0], [(d - m) / r, (f - v) / s]),
            w = [(d - m) / r, (f - v) / s],
            b = [(-1 * d - m) / r, (-1 * f - v) / s],
            S = Db(w, b);
        Ab(w, b) <= -1 && (S = Ib), Ab(w, b) >= 1 && (S = 0), 0 === a && S > 0 && (S -= 2 * Ib), 1 === a && S < 0 && (S += 2 * Ib), u.addData(h, y, x, r, s, _, S, c, a)
    }

    function Tn(t) {
        if (!t) return [];
        var e, i = t.replace(/-/g, " -").replace(/  /g, " ").replace(/ /g, ",").replace(/,,/g, ",");
        for (e = 0; e < wb.length; e++) i = i.replace(new RegExp(wb[e], "g"), "|" + wb[e]);
        var n, o = i.split("|"),
            a = 0,
            r = 0,
            s = new ab,
            l = ab.CMD;
        for (e = 1; e < o.length; e++) {
            var h, u = o[e],
                c = u.charAt(0),
                d = 0,
                f = u.slice(1).replace(/e,-/g, "e-").split(",");
            f.length > 0 && "" === f[0] && f.shift();
            for (var p = 0; p < f.length; p++) f[p] = parseFloat(f[p]);
            for (; d < f.length && !isNaN(f[d]) && !isNaN(f[0]);) {
                var g, m, v, y, x, _, w, b = a,
                    S = r;
                switch (c) {
                    case "l":
                        a += f[d++], r += f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "L":
                        a = f[d++], r = f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "m":
                        a += f[d++], r += f[d++], h = l.M, s.addData(h, a, r), c = "l";
                        break;
                    case "M":
                        a = f[d++], r = f[d++], h = l.M, s.addData(h, a, r), c = "L";
                        break;
                    case "h":
                        a += f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "H":
                        a = f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "v":
                        r += f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "V":
                        r = f[d++], h = l.L, s.addData(h, a, r);
                        break;
                    case "C":
                        h = l.C, s.addData(h, f[d++], f[d++], f[d++], f[d++], f[d++], f[d++]), a = f[d - 2], r = f[d - 1];
                        break;
                    case "c":
                        h = l.C, s.addData(h, f[d++] + a, f[d++] + r, f[d++] + a, f[d++] + r, f[d++] + a, f[d++] + r), a += f[d - 2], r += f[d - 1];
                        break;
                    case "S":
                        g = a, m = r;
                        var M = s.len(),
                            I = s.data;
                        n === l.C && (g += a - I[M - 4], m += r - I[M - 3]), h = l.C, b = f[d++], S = f[d++], a = f[d++], r = f[d++], s.addData(h, g, m, b, S, a, r);
                        break;
                    case "s":
                        g = a, m = r;
                        var M = s.len(),
                            I = s.data;
                        n === l.C && (g += a - I[M - 4], m += r - I[M - 3]), h = l.C, b = a + f[d++], S = r + f[d++], a += f[d++], r += f[d++], s.addData(h, g, m, b, S, a, r);
                        break;
                    case "Q":
                        b = f[d++], S = f[d++], a = f[d++], r = f[d++], h = l.Q, s.addData(h, b, S, a, r);
                        break;
                    case "q":
                        b = f[d++] + a, S = f[d++] + r, a += f[d++], r += f[d++], h = l.Q, s.addData(h, b, S, a, r);
                        break;
                    case "T":
                        g = a, m = r;
                        var M = s.len(),
                            I = s.data;
                        n === l.Q && (g += a - I[M - 4], m += r - I[M - 3]), a = f[d++], r = f[d++], h = l.Q, s.addData(h, g, m, a, r);
                        break;
                    case "t":
                        g = a, m = r;
                        var M = s.len(),
                            I = s.data;
                        n === l.Q && (g += a - I[M - 4], m += r - I[M - 3]), a += f[d++], r += f[d++], h = l.Q, s.addData(h, g, m, a, r);
                        break;
                    case "A":
                        v = f[d++], y = f[d++], x = f[d++], _ = f[d++], w = f[d++], In(b = a, S = r, a = f[d++], r = f[d++], _, w, v, y, x, h = l.A, s);
                        break;
                    case "a":
                        v = f[d++], y = f[d++], x = f[d++], _ = f[d++], w = f[d++], In(b = a, S = r, a += f[d++], r += f[d++], _, w, v, y, x, h = l.A, s)
                }
            }
            "z" !== c && "Z" !== c || (h = l.Z, s.addData(h)), n = h
        }
        return s.toStatic(), s
    }

    function An(t, e) {
        var i = Tn(t);
        return e = e || {}, e.buildPath = function(t) {
            if (t.setData) t.setData(i.data), (e = t.getContext()) && t.rebuildPath(e);
            else {
                var e = t;
                i.rebuildPath(e)
            }
        }, e.applyTransform = function(t) {
            _b(i, t), this.dirty(!0)
        }, e
    }

    function Dn(t, e) {
        return new Mn(An(t, e))
    }

    function Cn(t, e) {
        return Mn.extend(An(t, e))
    }

    function Ln(t, e, i, n, o, a, r) {
        var s = .5 * (i - t),
            l = .5 * (n - e);
        return (2 * (e - i) + s + l) * r + (-3 * (e - i) - 2 * s - l) * a + s * o + e
    }

    function kn(t, e, i) {
        var n = e.points,
            o = e.smooth;
        if (n && n.length >= 2) {
            if (o && "spline" !== o) {
                var a = zb(n, o, i, e.smoothConstraint);
                t.moveTo(n[0][0], n[0][1]);
                for (var r = n.length, s = 0; s < (i ? r : r - 1); s++) {
                    var l = a[2 * s],
                        h = a[2 * s + 1],
                        u = n[(s + 1) % r];
                    t.bezierCurveTo(l[0], l[1], h[0], h[1], u[0], u[1])
                }
            } else {
                "spline" === o && (n = Eb(n, i)), t.moveTo(n[0][0], n[0][1]);
                for (var s = 1, c = n.length; s < c; s++) t.lineTo(n[s][0], n[s][1])
            }
            i && t.closePath()
        }
    }

    function Pn(t, e, i) {
        var n = t.cpx2,
            o = t.cpy2;
        return null === n || null === o ? [(i ? Xi : ji)(t.x1, t.cpx1, t.cpx2, t.x2, e), (i ? Xi : ji)(t.y1, t.cpy1, t.cpy2, t.y2, e)] : [(i ? Qi : Ji)(t.x1, t.cpx1, t.x2, e), (i ? Qi : Ji)(t.y1, t.cpy1, t.y2, e)]
    }

    function On(t) {
        Ke.call(this, t), this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.notClear = !0
    }

    function Nn(t) {
        return Mn.extend(t)
    }

    function En(t, e, i, n) {
        var o = Dn(t, e),
            a = o.getBoundingRect();
        return i && ("center" === n && (i = Rn(i, a)), Bn(o, i)), o
    }

    function zn(t, e, i) {
        var n = new Je({
            style: {
                image: t,
                x: e.x,
                y: e.y,
                width: e.width,
                height: e.height
            },
            onload: function(t) {
                if ("center" === i) {
                    var o = {
                        width: t.width,
                        height: t.height
                    };
                    n.setStyle(Rn(e, o))
                }
            }
        });
        return n
    }

    function Rn(t, e) {
        var i, n = e.width / e.height,
            o = t.height * n;
        return i = o <= t.width ? t.height : (o = t.width) / n, {
            x: t.x + t.width / 2 - o / 2,
            y: t.y + t.height / 2 - i / 2,
            width: o,
            height: i
        }
    }

    function Bn(t, e) {
        if (t.applyTransform) {
            var i = t.getBoundingRect().calculateTransform(e);
            t.applyTransform(i)
        }
    }

    function Vn(t) {
        var e = t.shape,
            i = t.style.lineWidth;
        return qb(2 * e.x1) === qb(2 * e.x2) && (e.x1 = e.x2 = Wn(e.x1, i, !0)), qb(2 * e.y1) === qb(2 * e.y2) && (e.y1 = e.y2 = Wn(e.y1, i, !0)), t
    }

    function Gn(t) {
        var e = t.shape,
            i = t.style.lineWidth,
            n = e.x,
            o = e.y,
            a = e.width,
            r = e.height;
        return e.x = Wn(e.x, i, !0), e.y = Wn(e.y, i, !0), e.width = Math.max(Wn(n + a, i, !1) - e.x, 0 === a ? 0 : 1), e.height = Math.max(Wn(o + r, i, !1) - e.y, 0 === r ? 0 : 1), t
    }

    function Wn(t, e, i) {
        var n = qb(2 * t);
        return (n + qb(e)) % 2 == 0 ? n / 2 : (n + (i ? 1 : -1)) / 2
    }

    function Fn(t) {
        return null != t && "none" != t
    }

    function Hn(t) {
        return "string" == typeof t ? kt(t, -.1) : t
    }

    function Zn(t) {
        if (t.__hoverStlDirty) {
            var e = t.style.stroke,
                i = t.style.fill,
                n = t.__hoverStl;
            n.fill = n.fill || (Fn(i) ? Hn(i) : null), n.stroke = n.stroke || (Fn(e) ? Hn(e) : null);
            var o = {};
            for (var a in n) null != n[a] && (o[a] = t.style[a]);
            t.__normalStl = o, t.__hoverStlDirty = !1
        }
    }

    function Un(t) {
        if (!t.__isHover) {
            if (Zn(t), t.useHoverLayer) t.__zr && t.__zr.addHover(t, t.__hoverStl);
            else {
                var e = t.style,
                    i = e.insideRollbackOpt;
                i && lo(e), e.extendFrom(t.__hoverStl), i && (so(e, e.insideOriginalTextPosition, i), null == e.textFill && (e.textFill = i.autoColor)), t.dirty(!1), t.z2 += 1
            }
            t.__isHover = !0
        }
    }

    function jn(t) {
        if (t.__isHover) {
            var e = t.__normalStl;
            t.useHoverLayer ? t.__zr && t.__zr.removeHover(t) : (e && t.setStyle(e), t.z2 -= 1), t.__isHover = !1
        }
    }

    function Xn(t) {
        "group" === t.type ? t.traverse(function(t) {
            "group" !== t.type && Un(t)
        }) : Un(t)
    }

    function Yn(t) {
        "group" === t.type ? t.traverse(function(t) {
            "group" !== t.type && jn(t)
        }) : jn(t)
    }

    function qn(t, e) {
        t.__hoverStl = t.hoverStyle || e || {}, t.__hoverStlDirty = !0, t.__isHover && Zn(t)
    }

    function $n(t) {
        this.__hoverSilentOnTouch && t.zrByTouch || !this.__isEmphasis && Xn(this)
    }

    function Kn(t) {
        this.__hoverSilentOnTouch && t.zrByTouch || !this.__isEmphasis && Yn(this)
    }

    function Jn() {
        this.__isEmphasis = !0, Xn(this)
    }

    function Qn() {
        this.__isEmphasis = !1, Yn(this)
    }

    function to(t, e, i) {
        t.__hoverSilentOnTouch = i && i.hoverSilentOnTouch, "group" === t.type ? t.traverse(function(t) {
            "group" !== t.type && qn(t, e)
        }) : qn(t, e), t.on("mouseover", $n).on("mouseout", Kn), t.on("emphasis", Jn).on("normal", Qn)
    }

    function eo(t, e, i, n, o, a, r) {
        var s, l = (o = o || Jb).labelFetcher,
            h = o.labelDataIndex,
            u = o.labelDimIndex,
            c = i.getShallow("show"),
            d = n.getShallow("show");
        (c || d) && (l && (s = l.getFormattedLabel(h, "normal", null, u)), null == s && (s = x(o.defaultText) ? o.defaultText(h, o) : o.defaultText));
        var f = c ? s : null,
            p = d ? A(l ? l.getFormattedLabel(h, "emphasis", null, u) : null, s) : null;
        null == f && null == p || (io(t, i, a, o), io(e, n, r, o, !0)), t.text = f, e.text = p
    }

    function io(t, e, i, n, o) {
        return no(t, e, n, o), i && a(t, i), t.host && t.host.dirty && t.host.dirty(!1), t
    }

    function no(t, e, i, n) {
        if ((i = i || Jb).isRectText) {
            var o = e.getShallow("position") || (n ? null : "inside");
            "outside" === o && (o = "top"), t.textPosition = o, t.textOffset = e.getShallow("offset");
            var a = e.getShallow("rotate");
            null != a && (a *= Math.PI / 180), t.textRotation = a, t.textDistance = A(e.getShallow("distance"), n ? null : 5)
        }
        var r, s = e.ecModel,
            l = s && s.option.textStyle,
            h = oo(e);
        if (h) {
            r = {};
            for (var u in h)
                if (h.hasOwnProperty(u)) {
                    var c = e.getModel(["rich", u]);
                    ao(r[u] = {}, c, l, i, n)
                }
        }
        return t.rich = r, ao(t, e, l, i, n, !0), i.forceRich && !i.textStyle && (i.textStyle = {}), t
    }

    function oo(t) {
        for (var e; t && t !== t.ecModel;) {
            var i = (t.option || Jb).rich;
            if (i) {
                e = e || {};
                for (var n in i) i.hasOwnProperty(n) && (e[n] = 1)
            }
            t = t.parentModel
        }
        return e
    }

    function ao(t, e, i, n, o, a) {
        if (i = !o && i || Jb, t.textFill = ro(e.getShallow("color"), n) || i.color, t.textStroke = ro(e.getShallow("textBorderColor"), n) || i.textBorderColor, t.textStrokeWidth = A(e.getShallow("textBorderWidth"), i.textBorderWidth), !o) {
            if (a) {
                var r = t.textPosition;
                t.insideRollback = so(t, r, n), t.insideOriginalTextPosition = r, t.insideRollbackOpt = n
            }
            null == t.textFill && (t.textFill = n.autoColor)
        }
        t.fontStyle = e.getShallow("fontStyle") || i.fontStyle, t.fontWeight = e.getShallow("fontWeight") || i.fontWeight, t.fontSize = e.getShallow("fontSize") || i.fontSize, t.fontFamily = e.getShallow("fontFamily") || i.fontFamily, t.textAlign = e.getShallow("align"), t.textVerticalAlign = e.getShallow("verticalAlign") || e.getShallow("baseline"), t.textLineHeight = e.getShallow("lineHeight"), t.textWidth = e.getShallow("width"), t.textHeight = e.getShallow("height"), t.textTag = e.getShallow("tag"), a && n.disableBox || (t.textBackgroundColor = ro(e.getShallow("backgroundColor"), n), t.textPadding = e.getShallow("padding"), t.textBorderColor = ro(e.getShallow("borderColor"), n), t.textBorderWidth = e.getShallow("borderWidth"), t.textBorderRadius = e.getShallow("borderRadius"), t.textBoxShadowColor = e.getShallow("shadowColor"), t.textBoxShadowBlur = e.getShallow("shadowBlur"), t.textBoxShadowOffsetX = e.getShallow("shadowOffsetX"), t.textBoxShadowOffsetY = e.getShallow("shadowOffsetY")), t.textShadowColor = e.getShallow("textShadowColor") || i.textShadowColor, t.textShadowBlur = e.getShallow("textShadowBlur") || i.textShadowBlur, t.textShadowOffsetX = e.getShallow("textShadowOffsetX") || i.textShadowOffsetX, t.textShadowOffsetY = e.getShallow("textShadowOffsetY") || i.textShadowOffsetY
    }

    function ro(t, e) {
        return "auto" !== t ? t : e && e.autoColor ? e.autoColor : null
    }

    function so(t, e, i) {
        var n, o = i.useInsideStyle;
        return null == t.textFill && !1 !== o && (!0 === o || i.isRectText && e && "string" == typeof e && e.indexOf("inside") >= 0) && (n = {
            textFill: null,
            textStroke: t.textStroke,
            textStrokeWidth: t.textStrokeWidth
        }, t.textFill = "#fff", null == t.textStroke && (t.textStroke = i.autoColor, null == t.textStrokeWidth && (t.textStrokeWidth = 2))), n
    }

    function lo(t) {
        var e = t.insideRollback;
        e && (t.textFill = e.textFill, t.textStroke = e.textStroke, t.textStrokeWidth = e.textStrokeWidth)
    }

    function ho(t, e) {
        var i = e || e.getModel("textStyle");
        return P([t.fontStyle || i && i.getShallow("fontStyle") || "", t.fontWeight || i && i.getShallow("fontWeight") || "", (t.fontSize || i && i.getShallow("fontSize") || 12) + "px", t.fontFamily || i && i.getShallow("fontFamily") || "sans-serif"].join(" "))
    }

    function uo(t, e, i, n, o, a) {
        if ("function" == typeof o && (a = o, o = null), n && n.isAnimationEnabled()) {
            var r = t ? "Update" : "",
                s = n.getShallow("animationDuration" + r),
                l = n.getShallow("animationEasing" + r),
                h = n.getShallow("animationDelay" + r);
            "function" == typeof h && (h = h(o, n.getAnimationDelayParams ? n.getAnimationDelayParams(e, o) : null)), "function" == typeof s && (s = s(o)), s > 0 ? e.animateTo(i, s, h || 0, l, a, !!a) : (e.stopAnimation(), e.attr(i), a && a())
        } else e.stopAnimation(), e.attr(i), a && a()
    }

    function co(t, e, i, n, o) {
        uo(!0, t, e, i, n, o)
    }

    function fo(t, e, i, n, o) {
        uo(!1, t, e, i, n, o)
    }

    function po(t, e) {
        for (var i = lt([]); t && t !== e;) ut(i, t.getLocalTransform(), i), t = t.parent;
        return i
    }

    function go(t, e, i) {
        return e && !c(e) && (e = Kx.getLocalTransform(e)), i && (e = pt([], e)), Q([], t, e)
    }

    function mo(t, e, i) {
        var n = 0 === e[4] || 0 === e[5] || 0 === e[0] ? 1 : Math.abs(2 * e[4] / e[0]),
            o = 0 === e[4] || 0 === e[5] || 0 === e[2] ? 1 : Math.abs(2 * e[4] / e[2]),
            a = ["left" === t ? -n : "right" === t ? n : 0, "top" === t ? -o : "bottom" === t ? o : 0];
        return a = go(a, e, i), Math.abs(a[0]) > Math.abs(a[1]) ? a[0] > 0 ? "right" : "left" : a[1] > 0 ? "bottom" : "top"
    }

    function vo(t, e, i, n) {
        function o(t) {
            var e = {
                position: W(t.position),
                rotation: t.rotation
            };
            return t.shape && (e.shape = a({}, t.shape)), e
        }
        if (t && e) {
            var r = function(t) {
                var e = {};
                return t.traverse(function(t) {
                    !t.isGroup && t.anid && (e[t.anid] = t)
                }), e
            }(t);
            e.traverse(function(t) {
                if (!t.isGroup && t.anid) {
                    var e = r[t.anid];
                    if (e) {
                        var n = o(t);
                        t.attr(o(e)), co(t, n, i, t.dataIndex)
                    }
                }
            })
        }
    }

    function yo(t, e) {
        return f(t, function(t) {
            var i = t[0];
            i = $b(i, e.x), i = Kb(i, e.x + e.width);
            var n = t[1];
            return n = $b(n, e.y), n = Kb(n, e.y + e.height), [i, n]
        })
    }

    function xo(t, e, i) {
        var n = (e = a({
            rectHover: !0
        }, e)).style = {
            strokeNoScale: !0
        };
        if (i = i || {
                x: -1,
                y: -1,
                width: 2,
                height: 2
            }, t) return 0 === t.indexOf("image://") ? (n.image = t.slice(8), r(n, i), new Je(e)) : En(t.replace("path://", ""), e, i, "center")
    }

    function _o(t, e, i) {
        this.parentModel = e, this.ecModel = i, this.option = t
    }

    function wo(t, e, i) {
        for (var n = 0; n < e.length && (!e[n] || null != (t = t && "object" == typeof t ? t[e[n]] : null)); n++);
        return null == t && i && (t = i.get(e)), t
    }

    function bo(t, e) {
        var i = rS(t).getParent;
        return i ? i.call(t, e) : t.parentModel
    }

    function So(t) {
        return [t || "", sS++, Math.random().toFixed(5)].join("_")
    }

    function Mo(t) {
        return t.replace(/^\s+/, "").replace(/\s+$/, "")
    }

    function Io(t, e, i, n) {
        var o = e[1] - e[0],
            a = i[1] - i[0];
        if (0 === o) return 0 === a ? i[0] : (i[0] + i[1]) / 2;
        if (n)
            if (o > 0) {
                if (t <= e[0]) return i[0];
                if (t >= e[1]) return i[1]
            } else {
                if (t >= e[0]) return i[0];
                if (t <= e[1]) return i[1]
            }
        else {
            if (t === e[0]) return i[0];
            if (t === e[1]) return i[1]
        }
        return (t - e[0]) / o * a + i[0]
    }

    function To(t, e) {
        switch (t) {
            case "center":
            case "middle":
                t = "50%";
                break;
            case "left":
            case "top":
                t = "0%";
                break;
            case "right":
            case "bottom":
                t = "100%"
        }
        return "string" == typeof t ? Mo(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : null == t ? NaN : +t
    }

    function Ao(t, e, i) {
        return null == e && (e = 10), e = Math.min(Math.max(0, e), 20), t = (+t).toFixed(e), i ? t : +t
    }

    function Do(t) {
        return t.sort(function(t, e) {
            return t - e
        }), t
    }

    function Co(t) {
        if (t = +t, isNaN(t)) return 0;
        for (var e = 1, i = 0; Math.round(t * e) / e !== t;) e *= 10, i++;
        return i
    }

    function Lo(t) {
        var e = t.toString(),
            i = e.indexOf("e");
        if (i > 0) {
            var n = +e.slice(i + 1);
            return n < 0 ? -n : 0
        }
        var o = e.indexOf(".");
        return o < 0 ? 0 : e.length - 1 - o
    }

    function ko(t, e) {
        var i = Math.log,
            n = Math.LN10,
            o = Math.floor(i(t[1] - t[0]) / n),
            a = Math.round(i(Math.abs(e[1] - e[0])) / n),
            r = Math.min(Math.max(-o + a, 0), 20);
        return isFinite(r) ? r : 20
    }

    function Po(t, e, i) {
        if (!t[e]) return 0;
        var n = p(t, function(t, e) {
            return t + (isNaN(e) ? 0 : e)
        }, 0);
        if (0 === n) return 0;
        for (var o = Math.pow(10, i), a = f(t, function(t) {
                return (isNaN(t) ? 0 : t) / n * o * 100
            }), r = 100 * o, s = f(a, function(t) {
                return Math.floor(t)
            }), l = p(s, function(t, e) {
                return t + e
            }, 0), h = f(a, function(t, e) {
                return t - s[e]
            }); l < r;) {
            for (var u = Number.NEGATIVE_INFINITY, c = null, d = 0, g = h.length; d < g; ++d) h[d] > u && (u = h[d], c = d);
            ++s[c], h[c] = 0, ++l
        }
        return s[e] / o
    }

    function Oo(t) {
        var e = 2 * Math.PI;
        return (t % e + e) % e
    }

    function No(t) {
        return t > -lS && t < lS
    }

    function Eo(t) {
        if (t instanceof Date) return t;
        if ("string" == typeof t) {
            var e = uS.exec(t);
            if (!e) return new Date(NaN);
            if (e[8]) {
                var i = +e[4] || 0;
                return "Z" !== e[8].toUpperCase() && (i -= e[8].slice(0, 3)), new Date(Date.UTC(+e[1], +(e[2] || 1) - 1, +e[3] || 1, i, +(e[5] || 0), +e[6] || 0, +e[7] || 0))
            }
            return new Date(+e[1], +(e[2] || 1) - 1, +e[3] || 1, +e[4] || 0, +(e[5] || 0), +e[6] || 0, +e[7] || 0)
        }
        return null == t ? new Date(NaN) : new Date(Math.round(t))
    }

    function zo(t) {
        return Math.pow(10, Ro(t))
    }

    function Ro(t) {
        return Math.floor(Math.log(t) / Math.LN10)
    }

    function Bo(t, e) {
        var i, n = Ro(t),
            o = Math.pow(10, n),
            a = t / o;
        return i = e ? a < 1.5 ? 1 : a < 2.5 ? 2 : a < 4 ? 3 : a < 7 ? 5 : 10 : a < 1 ? 1 : a < 2 ? 2 : a < 3 ? 3 : a < 5 ? 5 : 10, t = i * o, n >= -20 ? +t.toFixed(n < 0 ? -n : 0) : t
    }

    function Vo(t) {
        function e(t, i, n) {
            return t.interval[n] < i.interval[n] || t.interval[n] === i.interval[n] && (t.close[n] - i.close[n] == (n ? -1 : 1) || !n && e(t, i, 1))
        }
        t.sort(function(t, i) {
            return e(t, i, 0) ? -1 : 1
        });
        for (var i = -1 / 0, n = 1, o = 0; o < t.length;) {
            for (var a = t[o].interval, r = t[o].close, s = 0; s < 2; s++) a[s] <= i && (a[s] = i, r[s] = s ? 1 : 1 - n), i = a[s], n = r[s];
            a[0] === a[1] && r[0] * r[1] != 1 ? t.splice(o, 1) : o++
        }
        return t
    }

    function Go(t) {
        return t - parseFloat(t) >= 0
    }

    function Wo(t) {
        return isNaN(t) ? "-" : (t = (t + "").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (t.length > 1 ? "." + t[1] : "")
    }

    function Fo(t, e) {
        return t = (t || "").toLowerCase().replace(/-(.)/g, function(t, e) {
            return e.toUpperCase()
        }), e && t && (t = t.charAt(0).toUpperCase() + t.slice(1)), t
    }

    function Ho(t) {
        return String(t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
    }

    function Zo(t, e, i) {
        y(e) || (e = [e]);
        var n = e.length;
        if (!n) return "";
        for (var o = e[0].$vars || [], a = 0; a < o.length; a++) {
            var r = fS[a];
            t = t.replace(pS(r), pS(r, 0))
        }
        for (var s = 0; s < n; s++)
            for (var l = 0; l < o.length; l++) {
                var h = e[s][o[l]];
                t = t.replace(pS(fS[l], s), i ? Ho(h) : h)
            }
        return t
    }

    function Uo(t, e, i) {
        return d(e, function(e, n) {
            t = t.replace("{" + n + "}", i ? Ho(e) : e)
        }), t
    }

    function jo(t, e) {
        var i = (t = _(t) ? {
                color: t,
                extraCssText: e
            } : t || {}).color,
            n = t.type,
            e = t.extraCssText;
        return i ? "subItem" === n ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + Ho(i) + ";" + (e || "") + '"></span>' : '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + Ho(i) + ";" + (e || "") + '"></span>' : ""
    }

    function Xo(t, e, i) {
        "week" !== t && "month" !== t && "quarter" !== t && "half-year" !== t && "year" !== t || (t = "MM-dd\nyyyy");
        var n = Eo(e),
            o = i ? "UTC" : "",
            a = n["get" + o + "FullYear"](),
            r = n["get" + o + "Month"]() + 1,
            s = n["get" + o + "Date"](),
            l = n["get" + o + "Hours"](),
            h = n["get" + o + "Minutes"](),
            u = n["get" + o + "Seconds"]();
        return t = t.replace("MM", gS(r)).replace("M", r).replace("yyyy", a).replace("yy", a % 100).replace("dd", gS(s)).replace("d", s).replace("hh", gS(l)).replace("h", l).replace("mm", gS(h)).replace("m", h).replace("ss", gS(u)).replace("s", u)
    }

    function Yo(t) {
        return t ? t.charAt(0).toUpperCase() + t.substr(1) : t
    }

    function qo(t, e, i, n, o) {
        var a = 0,
            r = 0;
        null == n && (n = 1 / 0), null == o && (o = 1 / 0);
        var s = 0;
        e.eachChild(function(l, h) {
            var u, c, d = l.position,
                f = l.getBoundingRect(),
                p = e.childAt(h + 1),
                g = p && p.getBoundingRect();
            if ("horizontal" === t) {
                var m = f.width + (g ? -g.x + f.x : 0);
                (u = a + m) > n || l.newline ? (a = 0, u = m, r += s + i, s = f.height) : s = Math.max(s, f.height)
            } else {
                var v = f.height + (g ? -g.y + f.y : 0);
                (c = r + v) > o || l.newline ? (a += s + i, r = 0, c = v, s = f.width) : s = Math.max(s, f.width)
            }
            l.newline || (d[0] = a, d[1] = r, "horizontal" === t ? a = u + i : r = c + i)
        })
    }

    function $o(t, e, i) {
        var n = e.width,
            o = e.height,
            a = To(t.x, n),
            r = To(t.y, o),
            s = To(t.x2, n),
            l = To(t.y2, o);
        return (isNaN(a) || isNaN(parseFloat(t.x))) && (a = 0), (isNaN(s) || isNaN(parseFloat(t.x2))) && (s = n), (isNaN(r) || isNaN(parseFloat(t.y))) && (r = 0), (isNaN(l) || isNaN(parseFloat(t.y2))) && (l = o), i = dS(i || 0), {
            width: Math.max(s - a - i[1] - i[3], 0),
            height: Math.max(l - r - i[0] - i[2], 0)
        }
    }

    function Ko(t, e, i) {
        i = dS(i || 0);
        var n = e.width,
            o = e.height,
            a = To(t.left, n),
            r = To(t.top, o),
            s = To(t.right, n),
            l = To(t.bottom, o),
            h = To(t.width, n),
            u = To(t.height, o),
            c = i[2] + i[0],
            d = i[1] + i[3],
            f = t.aspect;
        switch (isNaN(h) && (h = n - s - d - a), isNaN(u) && (u = o - l - c - r), null != f && (isNaN(h) && isNaN(u) && (f > n / o ? h = .8 * n : u = .8 * o), isNaN(h) && (h = f * u), isNaN(u) && (u = h / f)), isNaN(a) && (a = n - s - h - d), isNaN(r) && (r = o - l - u - c), t.left || t.right) {
            case "center":
                a = n / 2 - h / 2 - i[3];
                break;
            case "right":
                a = n - h - d
        }
        switch (t.top || t.bottom) {
            case "middle":
            case "center":
                r = o / 2 - u / 2 - i[0];
                break;
            case "bottom":
                r = o - u - c
        }
        a = a || 0, r = r || 0, isNaN(h) && (h = n - d - a - (s || 0)), isNaN(u) && (u = o - c - r - (l || 0));
        var p = new Kt(a + i[3], r + i[0], h, u);
        return p.margin = i, p
    }

    function Jo(t, e, i, n, o) {
        var a = !o || !o.hv || o.hv[0],
            s = !o || !o.hv || o.hv[1],
            l = o && o.boundingMode || "all";
        if (a || s) {
            var h;
            if ("raw" === l) h = "group" === t.type ? new Kt(0, 0, +e.width || 0, +e.height || 0) : t.getBoundingRect();
            else if (h = t.getBoundingRect(), t.needLocalTransform()) {
                var u = t.getLocalTransform();
                (h = h.clone()).applyTransform(u)
            }
            e = Ko(r({
                width: h.width,
                height: h.height
            }, e), i, n);
            var c = t.position,
                d = a ? e.x - h.x : 0,
                f = s ? e.y - h.y : 0;
            t.attr("position", "raw" === l ? [d, f] : [c[0] + d, c[1] + f])
        }
    }

    function Qo(t, e) {
        return null != t[wS[e][0]] || null != t[wS[e][1]] && null != t[wS[e][2]]
    }

    function ta(t, e, i) {
        function n(i, n) {
            var r = {},
                l = 0,
                h = {},
                u = 0;
            if (xS(i, function(e) {
                    h[e] = t[e]
                }), xS(i, function(t) {
                    o(e, t) && (r[t] = h[t] = e[t]), a(r, t) && l++, a(h, t) && u++
                }), s[n]) return a(e, i[1]) ? h[i[2]] = null : a(e, i[2]) && (h[i[1]] = null), h;
            if (2 !== u && l) {
                if (l >= 2) return r;
                for (var c = 0; c < i.length; c++) {
                    var d = i[c];
                    if (!o(r, d) && o(t, d)) {
                        r[d] = t[d];
                        break
                    }
                }
                return r
            }
            return h
        }

        function o(t, e) {
            return t.hasOwnProperty(e)
        }

        function a(t, e) {
            return null != t[e] && "auto" !== t[e]
        }

        function r(t, e, i) {
            xS(t, function(t) {
                e[t] = i[t]
            })
        }!w(i) && (i = {});
        var s = i.ignoreSize;
        !y(s) && (s = [s, s]);
        var l = n(wS[0], 0),
            h = n(wS[1], 1);
        r(wS[0], t, l), r(wS[1], t, h)
    }

    function ea(t) {
        return ia({}, t)
    }

    function ia(t, e) {
        return e && t && xS(_S, function(i) {
            e.hasOwnProperty(i) && (t[i] = e[i])
        }), t
    }

    function na(t, e) {
        for (var i = t.length, n = 0; n < i; n++)
            if (t[n].length > e) return t[n];
        return t[i - 1]
    }

    function oa(t) {
        var e = t.get("coordinateSystem"),
            i = {
                coordSysName: e,
                coordSysDims: [],
                axisMap: z(),
                categoryAxisMap: z()
            },
            n = LS[e];
        if (n) return n(t, i, i.axisMap, i.categoryAxisMap), i
    }

    function aa(t) {
        return "category" === t.get("type")
    }

    function ra(t) {
        this.fromDataset = t.fromDataset, this.data = t.data || (t.sourceFormat === NS ? {} : []), this.sourceFormat = t.sourceFormat || ES, this.seriesLayoutBy = t.seriesLayoutBy || RS, this.dimensionsDefine = t.dimensionsDefine, this.encodeDefine = t.encodeDefine && z(t.encodeDefine), this.startIndex = t.startIndex || 0, this.dimensionsDetectCount = t.dimensionsDetectCount
    }

    function sa(t) {
        var e = t.option.source,
            i = ES;
        if (S(e)) i = zS;
        else if (y(e))
            for (var n = 0, o = e.length; n < o; n++) {
                var a = e[n];
                if (null != a) {
                    if (y(a)) {
                        i = PS;
                        break
                    }
                    if (w(a)) {
                        i = OS;
                        break
                    }
                }
            } else if (w(e)) {
                for (var r in e)
                    if (e.hasOwnProperty(r) && c(e[r])) {
                        i = NS;
                        break
                    }
            } else if (null != e) throw new Error("Invalid data");
        VS(t).sourceFormat = i
    }

    function la(t) {
        return VS(t).source
    }

    function ha(t) {
        VS(t).datasetMap = z()
    }

    function ua(t) {
        var e = t.option,
            i = e.data,
            n = S(i) ? zS : kS,
            o = !1,
            a = e.seriesLayoutBy,
            r = e.sourceHeader,
            s = e.dimensions,
            l = ma(t);
        if (l) {
            var h = l.option;
            i = h.source, n = VS(l).sourceFormat, o = !0, a = a || h.seriesLayoutBy, null == r && (r = h.sourceHeader), s = s || h.dimensions
        }
        var u = ca(i, n, a, r, s),
            c = e.encode;
        !c && l && (c = ga(t, l, i, n, a, u)), VS(t).source = new ra({
            data: i,
            fromDataset: o,
            seriesLayoutBy: a,
            sourceFormat: n,
            dimensionsDefine: u.dimensionsDefine,
            startIndex: u.startIndex,
            dimensionsDetectCount: u.dimensionsDetectCount,
            encodeDefine: c
        })
    }

    function ca(t, e, i, n, o) {
        if (!t) return {
            dimensionsDefine: da(o)
        };
        var a, r, s;
        if (e === PS) "auto" === n || null == n ? fa(function(t) {
            null != t && "-" !== t && (_(t) ? null == r && (r = 1) : r = 0)
        }, i, t, 10) : r = n ? 1 : 0, o || 1 !== r || (o = [], fa(function(t, e) {
            o[e] = null != t ? t : ""
        }, i, t)), a = o ? o.length : i === BS ? t.length : t[0] ? t[0].length : null;
        else if (e === OS) o || (o = pa(t), s = !0);
        else if (e === NS) o || (o = [], s = !0, d(t, function(t, e) {
            o.push(e)
        }));
        else if (e === kS) {
            var l = Ii(t[0]);
            a = y(l) && l.length || 1
        }
        var h;
        return s && d(o, function(t, e) {
            "name" === (w(t) ? t.name : t) && (h = e)
        }), {
            startIndex: r,
            dimensionsDefine: da(o),
            dimensionsDetectCount: a,
            potentialNameDimIndex: h
        }
    }

    function da(t) {
        if (t) {
            var e = z();
            return f(t, function(t, i) {
                if (null == (t = a({}, w(t) ? t : {
                        name: t
                    })).name) return t;
                t.name += "", null == t.displayName && (t.displayName = t.name);
                var n = e.get(t.name);
                return n ? t.name += "-" + n.count++ : e.set(t.name, {
                    count: 1
                }), t
            })
        }
    }

    function fa(t, e, i, n) {
        if (null == n && (n = 1 / 0), e === BS)
            for (a = 0; a < i.length && a < n; a++) t(i[a] ? i[a][0] : null, a);
        else
            for (var o = i[0] || [], a = 0; a < o.length && a < n; a++) t(o[a], a)
    }

    function pa(t) {
        for (var e, i = 0; i < t.length && !(e = t[i++]););
        if (e) {
            var n = [];
            return d(e, function(t, e) {
                n.push(e)
            }), n
        }
    }

    function ga(t, e, i, n, o, a) {
        var r = oa(t),
            s = {},
            l = [],
            h = [],
            u = t.subType,
            c = z(["pie", "map", "funnel"]),
            f = z(["line", "bar", "pictorialBar", "scatter", "effectScatter", "candlestick", "boxplot"]);
        if (r && null != f.get(u)) {
            var p = t.ecModel,
                g = VS(p).datasetMap,
                m = e.uid + "_" + o,
                v = g.get(m) || g.set(m, {
                    categoryWayDim: 1,
                    valueWayDim: 0
                });
            d(r.coordSysDims, function(t) {
                if (null == r.firstCategoryDimIndex) {
                    e = v.valueWayDim++;
                    s[t] = e, h.push(e)
                } else if (r.categoryAxisMap.get(t)) s[t] = 0, l.push(0);
                else {
                    var e = v.categoryWayDim++;
                    s[t] = e, h.push(e)
                }
            })
        } else if (null != c.get(u)) {
            for (var y, x = 0; x < 5 && null == y; x++) ya(i, n, o, a.dimensionsDefine, a.startIndex, x) || (y = x);
            if (null != y) {
                s.value = y;
                var _ = a.potentialNameDimIndex || Math.max(y - 1, 0);
                h.push(_), l.push(_)
            }
        }
        return l.length && (s.itemName = l), h.length && (s.seriesName = h), s
    }

    function ma(t) {
        var e = t.option;
        if (!e.data) return t.ecModel.getComponent("dataset", e.datasetIndex || 0)
    }

    function va(t, e) {
        return ya(t.data, t.sourceFormat, t.seriesLayoutBy, t.dimensionsDefine, t.startIndex, e)
    }

    function ya(t, e, i, n, o, a) {
        function r(t) {
            return (null == t || !isFinite(t) || "" === t) && (!(!_(t) || "-" === t) || void 0)
        }
        var s;
        if (S(t)) return !1;
        var l;
        if (n && (l = w(l = n[a]) ? l.name : l), e === PS)
            if (i === BS) {
                for (var h = t[a], u = 0; u < (h || []).length && u < 5; u++)
                    if (null != (s = r(h[o + u]))) return s
            } else
                for (u = 0; u < t.length && u < 5; u++) {
                    var c = t[o + u];
                    if (c && null != (s = r(c[a]))) return s
                } else if (e === OS) {
                    if (!l) return;
                    for (u = 0; u < t.length && u < 5; u++)
                        if ((d = t[u]) && null != (s = r(d[l]))) return s
                } else if (e === NS) {
            if (!l) return;
            if (!(h = t[l]) || S(h)) return !1;
            for (u = 0; u < h.length && u < 5; u++)
                if (null != (s = r(h[u]))) return s
        } else if (e === kS)
            for (u = 0; u < t.length && u < 5; u++) {
                var d = t[u],
                    f = Ii(d);
                if (!y(f)) return !1;
                if (null != (s = r(f[a]))) return s
            }
        return !1
    }

    function xa(t, e) {
        if (e) {
            var i = e.seiresIndex,
                n = e.seriesId,
                o = e.seriesName;
            return null != i && t.componentIndex !== i || null != n && t.id !== n || null != o && t.name !== o
        }
    }

    function _a(t, e) {
        d(e, function(e, o) {
            IS.hasClass(o) || ("object" == typeof e ? t[o] = t[o] ? n(t[o], e, !1) : i(e) : null == t[o] && (t[o] = e))
        })
    }

    function wa(t) {
        t = t, this.option = {}, this.option[GS] = 1, this._componentsMap = z({
            series: []
        }), this._seriesIndices, this._seriesIndicesMap, _a(t, this._theme.option), n(t, AS, !1), this.mergeOption(t)
    }

    function ba(t, e) {
        y(e) || (e = e ? [e] : []);
        var i = {};
        return d(e, function(e) {
            i[e] = (t.get(e) || []).slice()
        }), i
    }

    function Sa(t, e, i) {
        return e.type ? e.type : i ? i.subType : IS.determineSubType(t, e)
    }

    function Ma(t, e) {
        t._seriesIndicesMap = z(t._seriesIndices = f(e, function(t) {
            return t.componentIndex
        }) || [])
    }

    function Ia(t, e) {
        return e.hasOwnProperty("subType") ? g(t, function(t) {
            return t.subType === e.subType
        }) : t
    }

    function Ta(t) {
        d(FS, function(e) {
            this[e] = m(t[e], t)
        }, this)
    }

    function Aa() {
        this._coordinateSystems = []
    }

    function Da(t) {
        this._api = t, this._timelineOptions = [], this._mediaList = [], this._mediaDefault, this._currentMediaIndices = [], this._optionBackup, this._newBaseOption
    }

    function Ca(t, e, i) {
        var n, o, a = [],
            r = [],
            s = t.timeline;
        if (t.baseOption && (o = t.baseOption), (s || t.options) && (o = o || {}, a = (t.options || []).slice()), t.media) {
            o = o || {};
            var l = t.media;
            ZS(l, function(t) {
                t && t.option && (t.query ? r.push(t) : n || (n = t))
            })
        }
        return o || (o = t), o.timeline || (o.timeline = s), ZS([o].concat(a).concat(f(r, function(t) {
            return t.option
        })), function(t) {
            ZS(e, function(e) {
                e(t, i)
            })
        }), {
            baseOption: o,
            timelineOptions: a,
            mediaDefault: n,
            mediaList: r
        }
    }

    function La(t, e, i) {
        var n = {
                width: e,
                height: i,
                aspectratio: e / i
            },
            o = !0;
        return d(t, function(t, e) {
            var i = e.match(YS);
            if (i && i[1] && i[2]) {
                var a = i[1],
                    r = i[2].toLowerCase();
                ka(n[r], t, a) || (o = !1)
            }
        }), o
    }

    function ka(t, e, i) {
        return "min" === i ? t >= e : "max" === i ? t <= e : t === e
    }

    function Pa(t, e) {
        return t.join(",") === e.join(",")
    }

    function Oa(t, e) {
        ZS(e = e || {}, function(e, i) {
            if (null != e) {
                var n = t[i];
                if (IS.hasClass(i)) {
                    e = Si(e);
                    var o = Ai(n = Si(n), e);
                    t[i] = jS(o, function(t) {
                        return t.option && t.exist ? XS(t.exist, t.option, !0) : t.exist || t.option
                    })
                } else t[i] = XS(n, e, !0)
            }
        })
    }

    function Na(t) {
        var e = t && t.itemStyle;
        if (e)
            for (var i = 0, o = KS.length; i < o; i++) {
                var a = KS[i],
                    r = e.normal,
                    s = e.emphasis;
                r && r[a] && (t[a] = t[a] || {}, t[a].normal ? n(t[a].normal, r[a]) : t[a].normal = r[a], r[a] = null), s && s[a] && (t[a] = t[a] || {}, t[a].emphasis ? n(t[a].emphasis, s[a]) : t[a].emphasis = s[a], s[a] = null)
            }
    }

    function Ea(t, e, i) {
        if (t && t[e] && (t[e].normal || t[e].emphasis)) {
            var n = t[e].normal,
                o = t[e].emphasis;
            n && (i ? (t[e].normal = t[e].emphasis = null, r(t[e], n)) : t[e] = n), o && (t.emphasis = t.emphasis || {}, t.emphasis[e] = o)
        }
    }

    function za(t) {
        Ea(t, "itemStyle"), Ea(t, "lineStyle"), Ea(t, "areaStyle"), Ea(t, "label"), Ea(t, "labelLine"), Ea(t, "upperLabel"), Ea(t, "edgeLabel")
    }

    function Ra(t) {
        var e = $S(t) && t.textStyle;
        if (e)
            for (var i = 0, n = yw.length; i < n; i++) {
                var o = yw[i];
                e.hasOwnProperty(o) && (t[o] = e[o])
            }
    }

    function Ba(t) {
        t && (za(t), Ra(t.label), t.emphasis && Ra(t.emphasis.label))
    }

    function Va(t) {
        if ($S(t)) {
            Na(t), za(t), Ra(t.label), Ra(t.upperLabel), Ra(t.edgeLabel), t.emphasis && (Ra(t.emphasis.label), Ra(t.emphasis.upperLabel), Ra(t.emphasis.edgeLabel));
            var e = t.markPoint;
            e && (Na(e), Ba(e));
            var i = t.markLine;
            i && (Na(i), Ba(i));
            var n = t.markArea;
            n && Ba(n);
            var o = t.data;
            if ("graph" === t.type) {
                o = o || t.nodes;
                var a = t.links || t.edges;
                if (a && !S(a))
                    for (s = 0; s < a.length; s++) Ba(a[s]);
                d(t.categories, function(t) {
                    za(t)
                })
            }
            if (o && !S(o))
                for (s = 0; s < o.length; s++) Ba(o[s]);
            if ((e = t.markPoint) && e.data)
                for (var r = e.data, s = 0; s < r.length; s++) Ba(r[s]);
            if ((i = t.markLine) && i.data)
                for (var l = i.data, s = 0; s < l.length; s++) y(l[s]) ? (Ba(l[s][0]), Ba(l[s][1])) : Ba(l[s]);
            "gauge" === t.type ? (Ra(t, "axisLabel"), Ra(t, "title"), Ra(t, "detail")) : "treemap" === t.type && (Ea(t.breadcrumb, "itemStyle"), d(t.levels, function(t) {
                za(t)
            }))
        }
    }

    function Ga(t) {
        return y(t) ? t : t ? [t] : []
    }

    function Wa(t) {
        return (y(t) ? t[0] : t) || {}
    }

    function Fa(t, e) {
        e = e.split(",");
        for (var i = t, n = 0; n < e.length && null != (i = i && i[e[n]]); n++);
        return i
    }

    function Ha(t, e, i, n) {
        e = e.split(",");
        for (var o, a = t, r = 0; r < e.length - 1; r++) null == a[o = e[r]] && (a[o] = {}), a = a[o];
        (n || null == a[e[r]]) && (a[e[r]] = i)
    }

    function Za(t) {
        d(QS, function(e) {
            e[0] in t && !(e[1] in t) && (t[e[1]] = t[e[0]])
        })
    }

    function Ua(t, e) {
        ra.isInstance(t) || (t = ra.seriesDataToSource(t)), this._source = t;
        var i = this._data = t.data,
            n = t.sourceFormat;
        n === zS && (this._offset = 0, this._dimSize = e, this._data = i), a(this, nM[n === PS ? n + "_" + t.seriesLayoutBy : n])
    }

    function ja() {
        return this._data.length
    }

    function Xa(t) {
        return this._data[t]
    }

    function Ya(t) {
        for (var e = 0; e < t.length; e++) this._data.push(t[e])
    }

    function qa(t, e, i, n) {
        return null != i ? t[i] : t
    }

    function $a(t, e, i, n) {
        return Ka(t[n], this._dimensionInfos[e])
    }

    function Ka(t, e) {
        var i = e && e.type;
        if ("ordinal" === i) {
            var n = e && e.ordinalMeta;
            return n ? n.parseAndCollect(t) : t
        }
        return "time" === i && "number" != typeof t && null != t && "-" !== t && (t = +Eo(t)), null == t || "" === t ? NaN : +t
    }

    function Ja(t, e, i) {
        if (t) {
            var n = t.getRawDataItem(e);
            if (null != n) {
                var o, a, r = t.getProvider().getSource().sourceFormat,
                    s = t.getDimensionInfo(i);
                return s && (o = s.name, a = s.index), oM[r](n, e, a, o)
            }
        }
    }

    function Qa(t, e, i) {
        if (t) {
            var n = t.getProvider().getSource().sourceFormat;
            if (n === kS || n === OS) {
                var o = t.getRawDataItem(e);
                return n !== kS || w(o) || (o = null), o ? o[i] : void 0
            }
        }
    }

    function tr(t) {
        return new er(t)
    }

    function er(t) {
        t = t || {}, this._reset = t.reset, this._plan = t.plan, this._count = t.count, this._onDirty = t.onDirty, this._dirty = !0, this.context
    }

    function ir(t, e) {
        t._dueIndex = t._outputDueEnd = t._dueEnd = 0, t._settedOutputEnd = null, t._progress = !e && t._reset && t._reset(t.context);
        var i = t._downstream;
        i && i.dirty()
    }

    function nr(t) {
        var e = t.name;
        vw === e && (t.name = or(t) || e)
    }

    function or(t) {
        var e = t.getRawData(),
            i = [];
        return d(e.mapDimension("seriesName", !0), function(t) {
            var n = e.getDimensionInfo(t);
            n.displayName && i.push(n.displayName)
        }), i.join(" ")
    }

    function ar(t) {
        return t.model.getRawData().count()
    }

    function rr(t) {
        var e = t.model;
        return e.setData(e.getRawData().cloneShallow()), sr
    }

    function sr(t, e) {
        t.end > e.outputData.count() && e.model.getRawData().cloneShallow(e.outputData)
    }

    function lr(t, e) {
        d(t.CHANGABLE_METHODS, function(i) {
            t.wrapMethod(i, v(hr, e))
        })
    }

    function hr(t) {
        var e = ur(t);
        e && e.setOutputEnd(this.count())
    }

    function ur(t) {
        var e = (t.ecModel || {}).scheduler,
            i = e && e.getPipeline(t.uid);
        if (i) {
            var n = i.currentTask;
            if (n) {
                var o = n.agentStubMap;
                o && (n = o.get(t.uid))
            }
            return n
        }
    }

    function cr() {
        this.group = new S_, this.uid = So("viewChart"), this.renderTask = tr({
            plan: pr,
            reset: gr
        }), this.renderTask.context = {
            view: this
        }
    }

    function dr(t, e) {
        if (t && (t.trigger(e), "group" === t.type))
            for (var i = 0; i < t.childCount(); i++) dr(t.childAt(i), e)
    }

    function fr(t, e, i) {
        var n = ki(t, e);
        null != n ? d(Si(n), function(e) {
            dr(t.getItemGraphicEl(e), i)
        }) : t.eachItemGraphicEl(function(t) {
            dr(t, i)
        })
    }

    function pr(t) {
        return gM(t.model)
    }

    function gr(t) {
        var e = t.model,
            i = t.ecModel,
            n = t.api,
            o = t.payload,
            a = e.pipelineContext.incrementalRender,
            r = t.view,
            s = o && pM(o).updateMethod;
        return r[a && r.incrementalPrepareRender ? "incrementalPrepareRender" : s && r[s] ? s : "render"](e, i, n, o), a ? mr : null
    }

    function mr(t, e) {
        e.view.incrementalRender(t, e.model, e.ecModel, e.api, e.payload)
    }

    function vr(t, e, i) {
        function n() {
            u = (new Date).getTime(), c = null, t.apply(r, s || [])
        }
        var o, a, r, s, l, h = 0,
            u = 0,
            c = null;
        e = e || 0;
        var d = function() {
            o = (new Date).getTime(), r = this, s = arguments;
            var t = l || e,
                d = l || i;
            l = null, a = o - (d ? h : u) - t, clearTimeout(c), d ? c = setTimeout(n, t) : a >= 0 ? n() : c = setTimeout(n, -a), h = o
        };
        return d.clear = function() {
            c && (clearTimeout(c), c = null)
        }, d.debounceNextCall = function(t) {
            l = t
        }, d
    }

    function yr(t, e, i, n) {
        var o = t[e];
        if (o) {
            var a = o[vM] || o,
                r = o[xM];
            if (o[yM] !== i || r !== n) {
                if (null == i || !n) return t[e] = a;
                (o = t[e] = vr(a, i, "debounce" === n))[vM] = a, o[xM] = n, o[yM] = i
            }
            return o
        }
    }

    function xr(t, e) {
        var i = t[e];
        i && i[vM] && (t[e] = i[vM])
    }

    function _r(t, e) {
        this.ecInstance = t, this.api = e, this.unfinished, this._stageTaskMap = z()
    }

    function wr(t, e, i, n, o) {
        function a(t, e) {
            return t.setDirty && (!t.dirtyMap || t.dirtyMap.get(e.__pipeline.id))
        }
        o = o || {};
        var r;
        d(e, function(e, s) {
            if (!o.visualType || o.visualType === e.visualType) {
                var l = t._stageTaskMap.get(e.uid),
                    h = l.seriesTaskMap,
                    u = l.overallTask;
                if (u) {
                    var c, d = u.agentStubMap;
                    d.each(function(t) {
                        a(o, t) && (t.dirty(), c = !0)
                    }), c && u.dirty(), IM(u, n);
                    var f = t.getPerformArgs(u, o.block);
                    d.each(function(t) {
                        t.perform(f)
                    }), r |= u.perform(f)
                } else h && h.each(function(s, l) {
                    a(o, s) && s.dirty();
                    var h = t.getPerformArgs(s, o.block);
                    h.skip = !e.performRawSeries && i.isSeriesFiltered(s.context.model), IM(s, n), r |= s.perform(h)
                })
            }
        }), t.unfinished |= r
    }

    function br(t, e, i, n, o) {
        function a(i) {
            var a = i.uid,
                s = r.get(a) || r.set(a, tr({
                    plan: Dr,
                    reset: Cr,
                    count: kr
                }));
            s.context = {
                model: i,
                ecModel: n,
                api: o,
                useClearVisual: e.isVisual && !e.isLayout,
                plan: e.plan,
                reset: e.reset,
                scheduler: t
            }, Pr(t, i, s)
        }
        var r = i.seriesTaskMap || (i.seriesTaskMap = z()),
            s = e.seriesType,
            l = e.getTargetSeries;
        e.createOnAllSeries ? n.eachRawSeries(a) : s ? n.eachRawSeriesByType(s, a) : l && l(n, o).each(a);
        var h = t._pipelineMap;
        r.each(function(t, e) {
            h.get(e) || (t.dispose(), r.removeKey(e))
        })
    }

    function Sr(t, e, i, n, o) {
        function a(e) {
            var i = e.uid,
                n = s.get(i) || s.set(i, tr({
                    reset: Ir,
                    onDirty: Ar
                }));
            n.context = {
                model: e,
                overallProgress: u,
                isOverallFilter: c
            }, n.agent = r, n.__block = u, Pr(t, e, n)
        }
        var r = i.overallTask = i.overallTask || tr({
            reset: Mr
        });
        r.context = {
            ecModel: n,
            api: o,
            overallReset: e.overallReset,
            scheduler: t
        };
        var s = r.agentStubMap = r.agentStubMap || z(),
            l = e.seriesType,
            h = e.getTargetSeries,
            u = !0,
            c = e.isOverallFilter;
        l ? n.eachRawSeriesByType(l, a) : h ? h(n, o).each(a) : (u = !1, d(n.getSeries(), a));
        var f = t._pipelineMap;
        s.each(function(t, e) {
            f.get(e) || (t.dispose(), s.removeKey(e))
        })
    }

    function Mr(t) {
        t.overallReset(t.ecModel, t.api, t.payload)
    }

    function Ir(t, e) {
        return t.overallProgress && Tr
    }

    function Tr() {
        this.agent.dirty(), this.getDownstream().dirty()
    }

    function Ar() {
        this.agent && this.agent.dirty()
    }

    function Dr(t) {
        return t.plan && t.plan(t.model, t.ecModel, t.api, t.payload)
    }

    function Cr(t) {
        if (t.useClearVisual && t.data.clearAllVisual(), (t.resetDefines = Si(t.reset(t.model, t.ecModel, t.api, t.payload))).length) return Lr
    }

    function Lr(t, e) {
        for (var i = e.data, n = e.resetDefines, o = 0; o < n.length; o++) {
            var a = n[o];
            if (a && a.dataEach)
                for (var r = t.start; r < t.end; r++) a.dataEach(i, r);
            else a && a.progress && a.progress(t, i)
        }
    }

    function kr(t) {
        return t.data.count()
    }

    function Pr(t, e, i) {
        var n = e.uid,
            o = t._pipelineMap.get(n);
        !o.head && (o.head = i), o.tail && o.tail.pipe(i), o.tail = i, i.__idxInPipeline = o.count++, i.__pipeline = o
    }

    function Or(t) {
        TM = null;
        try {
            t(AM, DM)
        } catch (t) {}
        return TM
    }

    function Nr(t, e) {
        for (var i in e.prototype) t[i] = B
    }

    function Er(t) {
        return function(e, i, n) {
            e = e && e.toLowerCase(), Hx.prototype[t].call(this, e, i, n)
        }
    }

    function zr() {
        Hx.call(this)
    }

    function Rr(t, e, n) {
        function o(t, e) {
            return t.__prio - e.__prio
        }
        n = n || {}, "string" == typeof e && (e = eI[e]), this.id, this.group, this._dom = t;
        var a = this._zr = _i(t, {
            renderer: n.renderer || "canvas",
            devicePixelRatio: n.devicePixelRatio,
            width: n.width,
            height: n.height
        });
        this._throttledZrFlush = vr(m(a.flush, a), 17), (e = i(e)) && eM(e, !0), this._theme = e, this._chartsViews = [], this._chartsMap = {}, this._componentsViews = [], this._componentsMap = {}, this._coordSysMgr = new Aa;
        var r = this._api = is(this);
        this._scheduler = new _r(this, r), Hx.call(this), this._messageCenter = new zr, this._initEvents(), this.resize = m(this.resize, this), this._pendingActions = [], ae(tI, o), ae(KM, o), a.animation.on("frame", this._onframe, this), O(this)
    }

    function Br(t, e, i) {
        var n, o = this._model,
            a = this._coordSysMgr.getCoordinateSystems();
        e = Oi(o, e);
        for (var r = 0; r < a.length; r++) {
            var s = a[r];
            if (s[t] && null != (n = s[t](o, e, i))) return n
        }
    }

    function Vr(t) {
        var e = t._model,
            i = t._scheduler;
        i.restorePipelines(e), i.prepareStageTasks(KM), i.prepareStageTasks(tI), jr(t, "component", e, i), jr(t, "chart", e, i), i.plan()
    }

    function Gr(t, e, i, n, o) {
        function a(n) {
            n && n.__alive && n[e] && n[e](n.__model, r, t._api, i)
        }
        var r = t._model;
        if (n) {
            var s = {};
            s[n + "Id"] = i[n + "Id"], s[n + "Index"] = i[n + "Index"], s[n + "Name"] = i[n + "Name"];
            var l = {
                mainType: n,
                query: s
            };
            o && (l.subType = o), r && r.eachComponent(l, function(e, i) {
                a(t["series" === n ? "_chartsMap" : "_componentsMap"][e.__viewId])
            }, t)
        } else NM(t._componentsViews.concat(t._chartsViews), a)
    }

    function Wr(t, e, i) {
        t[HM] = !0, e && Vr(t), XM.update.call(t), t[HM] = !1, Zr.call(t, i), Ur.call(t, i)
    }

    function Fr(t, e) {
        var i = t._chartsMap,
            n = t._scheduler;
        e.eachSeries(function(t) {
            n.updateStreamModes(t, i[t.__viewId])
        })
    }

    function Hr(t, e) {
        var i = t.type,
            n = t.escapeConnect,
            o = qM[i],
            s = o.actionInfo,
            l = (s.update || "update").split(":"),
            h = l.pop();
        l = null != l[0] && RM(l[0]), this[HM] = !0;
        var u = [t],
            c = !1;
        t.batch && (c = !0, u = f(t.batch, function(e) {
            return e = r(a({}, e), t), e.batch = null, e
        }));
        var d, p = [],
            g = "highlight" === i || "downplay" === i;
        NM(u, function(t) {
            d = o.action(t, this._model, this._api), (d = d || a({}, t)).type = s.event || d.type, p.push(d), g ? Gr(this, h, t, "series") : l && Gr(this, h, t, l.main, l.sub)
        }, this), "none" === h || g || l || (this[ZM] ? (Vr(this), XM.update.call(this, t), this[ZM] = !1) : XM[h].call(this, t)), d = c ? {
            type: s.event || i,
            escapeConnect: n,
            batch: p
        } : p[0], this[HM] = !1, !e && this._messageCenter.trigger(d.type, d)
    }

    function Zr(t) {
        for (var e = this._pendingActions; e.length;) {
            var i = e.shift();
            Hr.call(this, i, t)
        }
    }

    function Ur(t) {
        !t && this.trigger("updated")
    }

    function jr(t, e, i, n) {
        function o(t) {
            var e = "_ec_" + t.id + "_" + t.type,
                o = s[e];
            if (!o) {
                var u = RM(t.type);
                (o = new(a ? cM.getClass(u.main, u.sub) : cr.getClass(u.sub))).init(i, h), s[e] = o, r.push(o), l.add(o.group)
            }
            t.__viewId = o.__id = e, o.__alive = !0, o.__model = t, o.group.__ecComponentInfo = {
                mainType: t.mainType,
                index: t.componentIndex
            }, !a && n.prepareView(o, t, i, h)
        }
        for (var a = "component" === e, r = a ? t._componentsViews : t._chartsViews, s = a ? t._componentsMap : t._chartsMap, l = t._zr, h = t._api, u = 0; u < r.length; u++) r[u].__alive = !1;
        a ? i.eachComponent(function(t, e) {
            "series" !== t && o(e)
        }) : i.eachSeries(o);
        for (u = 0; u < r.length;) {
            var c = r[u];
            c.__alive ? u++ : (!a && c.renderTask.dispose(), l.remove(c.group), c.dispose(i, h), r.splice(u, 1), delete s[c.__id], c.__id = c.group.__ecComponentInfo = null)
        }
    }

    function Xr(t) {
        var e = {};
        t.eachSeries(function(t) {
            var i = t.get("stack"),
                n = t.getData();
            if (i && "list" === n.type) {
                var o = e[i];
                e.hasOwnProperty(i) && o && (n.stackedOn = o), e[i] = n
            }
        })
    }

    function Yr(t) {
        t.clearColorPalette(), t.eachSeries(function(t) {
            t.clearColorPalette()
        })
    }

    function qr(t, e, i, n) {
        $r(t, e, i, n), NM(t._chartsViews, function(t) {
            t.__alive = !1
        }), Kr(t, e, i, n), NM(t._chartsViews, function(t) {
            t.__alive || t.remove(e, i)
        })
    }

    function $r(t, e, i, n, o) {
        NM(o || t._componentsViews, function(t) {
            var o = t.__model;
            t.render(o, e, i, n), es(o, t)
        })
    }

    function Kr(t, e, i, n, o) {
        var a, r = t._scheduler;
        e.eachSeries(function(e) {
            var i = t._chartsMap[e.__viewId];
            i.__alive = !0;
            var s = i.renderTask;
            r.updatePayload(s, n), o && o.get(e.uid) && s.dirty(), a |= s.perform(r.getPerformArgs(s)), i.group.silent = !!e.get("silent"), es(e, i), ts(e, i)
        }), r.unfinished |= a, Qr(t._zr, e), bM(t._zr.dom, e)
    }

    function Jr(t, e) {
        NM(QM, function(i) {
            i(t, e)
        })
    }

    function Qr(t, e) {
        var i = t.storage,
            n = 0;
        i.traverse(function(t) {
            t.isGroup || n++
        }), n > e.get("hoverLayerThreshold") && !_x.node && i.traverse(function(t) {
            t.isGroup || (t.useHoverLayer = !0)
        })
    }

    function ts(t, e) {
        var i = t.get("blendMode") || null;
        e.group.traverse(function(t) {
            t.isGroup || t.style.blend !== i && t.setStyle("blend", i), t.eachPendingDisplayable && t.eachPendingDisplayable(function(t) {
                t.setStyle("blend", i)
            })
        })
    }

    function es(t, e) {
        var i = t.get("z"),
            n = t.get("zlevel");
        e.group.traverse(function(t) {
            "group" !== t.type && (null != i && (t.z = i), null != n && (t.zlevel = n))
        })
    }

    function is(t) {
        var e = t._coordSysMgr;
        return a(new Ta(t), {
            getCoordinateSystems: m(e.getCoordinateSystems, e),
            getComponentByElement: function(e) {
                for (; e;) {
                    var i = e.__ecComponentInfo;
                    if (null != i) return t._model.getComponent(i.mainType, i.index);
                    e = e.parent
                }
            }
        })
    }

    function ns(t) {
        function e(t, e) {
            for (var n = 0; n < t.length; n++) t[n][i] = e
        }
        var i = "__connectUpdateStatus";
        NM($M, function(n, o) {
            t._messageCenter.on(o, function(n) {
                if (oI[t.group] && 0 !== t[i]) {
                    if (n && n.escapeConnect) return;
                    var o = t.makeActionFromEvent(n),
                        a = [];
                    NM(nI, function(e) {
                        e !== t && e.group === t.group && a.push(e)
                    }), e(a, 0), NM(a, function(t) {
                        1 !== t[i] && t.dispatchAction(o)
                    }), e(a, 2)
                }
            })
        })
    }

    function os(t) {
        oI[t] = !1
    }

    function as(t) {
        return nI[zi(t, sI)]
    }

    function rs(t, e) {
        eI[t] = e
    }

    function ss(t) {
        JM.push(t)
    }

    function ls(t, e) {
        fs(KM, t, e, VM)
    }

    function hs(t, e, i) {
        "function" == typeof e && (i = e, e = "");
        var n = zM(t) ? t.type : [t, t = {
            event: e
        }][0];
        t.event = (t.event || n).toLowerCase(), e = t.event, OM(UM.test(n) && UM.test(e)), qM[n] || (qM[n] = {
            action: i,
            actionInfo: t
        }), $M[e] = n
    }

    function us(t, e) {
        Aa.register(t, e)
    }

    function cs(t, e) {
        fs(tI, t, e, GM, "layout")
    }

    function ds(t, e) {
        fs(tI, t, e, WM, "visual")
    }

    function fs(t, e, i, n, o) {
        (EM(e) || zM(e)) && (i = e, e = n);
        var a = _r.wrapStageHandler(i, o);
        return a.__prio = e, a.__raw = i, t.push(a), a
    }

    function ps(t, e) {
        iI[t] = e
    }

    function gs(t) {
        return IS.extend(t)
    }

    function ms(t) {
        return cM.extend(t)
    }

    function vs(t) {
        return uM.extend(t)
    }

    function ys(t) {
        return cr.extend(t)
    }

    function xs(t) {
        return lI[t]
    }

    function _s(t) {
        return t
    }

    function ws(t, e, i, n, o) {
        this._old = t, this._new = e, this._oldKeyGetter = i || _s, this._newKeyGetter = n || _s, this.context = o
    }

    function bs(t, e, i, n, o) {
        for (var a = 0; a < t.length; a++) {
            var r = "_ec_" + o[n](t[a], a),
                s = e[r];
            null == s ? (i.push(r), e[r] = a) : (s.length || (e[r] = s = [s]), s.push(a))
        }
    }

    function Ss(t) {
        var e = {},
            i = e.encode = {},
            n = e.coordDimMap = z(),
            o = [];
        d(t.dimensions, function(e) {
            var a = t.getDimensionInfo(e),
                r = a.coordDim;
            if (r) {
                var s = i[r];
                i.hasOwnProperty(r) || (s = i[r] = []), s[a.coordDimIndex] = e, a.isSysCoord && Is(a.type) && (o[0] = e), n.set(r, 1)
            }
            cI.each(function(t, e) {
                var n = i[e];
                i.hasOwnProperty(e) || (n = i[e] = []);
                var o = a.otherDims[e];
                null != o && !1 !== o && (n[o] = a.name)
            })
        });
        var a = [];
        n.each(function(t, e) {
            a = a.concat(i[e])
        }), e.dataDimsOnCoord = a;
        var r = i.label;
        r && r.length && (o = r.slice());
        var s = o.slice(),
            l = i.tooltip;
        return l && l.length && (s = l.slice()), i.defaultedLabel = o, i.defaultedTooltip = s, e
    }

    function Ms(t) {
        return "category" === t ? "ordinal" : "time" === t ? "time" : "float"
    }

    function Is(t) {
        return !("ordinal" === t || "time" === t)
    }

    function Ts(t) {
        var e = typeof pI.Uint32Array === fI ? Array : pI.Uint32Array,
            i = typeof pI.Uint16Array === fI ? Array : pI.Uint16Array;
        return t._rawCount > 65535 ? e : i
    }

    function As(t) {
        var e = t.constructor;
        return e === Array ? t.slice() : new e(t)
    }

    function Ds(t, e) {
        d(vI.concat(e.__wrappedMethods || []), function(i) {
            e.hasOwnProperty(i) && (t[i] = e[i])
        }), t.__wrappedMethods = e.__wrappedMethods
    }

    function Cs(t) {
        return t
    }

    function Ls(t) {
        return t < this._count && t >= 0 ? this._indices[t] : -1
    }

    function ks(t, e) {
        var i = t._idList[e];
        return null == i && (i = t._getIdFromStore(e)), null == i && (i = gI + e), i
    }

    function Ps(t) {
        return y(t) || (t = [t]), t
    }

    function Os(t, e) {
        var i = t.dimensions,
            n = new yI(f(i, t.getDimensionInfo, t), t.hostModel);
        Ds(n, t);
        for (var o = n._storage = {}, a = t._storage, r = 0; r < i.length; r++) {
            var s = i[r];
            a[s] && (o[s] = l(e, s) >= 0 ? Ns(a[s]) : a[s])
        }
        return n
    }

    function Ns(t) {
        for (var e = new Array(t.length), i = 0; i < t.length; i++) e[i] = As(t[i]);
        return e
    }

    function Es(t, e, n) {
        function o(t, e, i) {
            null != cI.get(e) ? t.otherDims[e] = i : (t.coordDim = e, t.coordDimIndex = i, u.set(e, !0))
        }
        ra.isInstance(e) || (e = ra.seriesDataToSource(e)), n = n || {}, t = (t || []).slice();
        for (var s = (n.dimsDef || []).slice(), l = z(n.encodeDef), h = z(), u = z(), c = [], f = zs(e, t, s, n.dimCount), p = 0; p < f; p++) {
            var g = s[p] = a({}, w(s[p]) ? s[p] : {
                    name: s[p]
                }),
                m = g.name,
                v = c[p] = {
                    otherDims: {}
                };
            null != m && null == h.get(m) && (v.name = v.displayName = m, h.set(m, p)), null != g.type && (v.type = g.type), null != g.displayName && (v.displayName = g.displayName)
        }
        l.each(function(t, e) {
            t = Si(t).slice();
            var i = l.set(e, []);
            d(t, function(t, n) {
                _(t) && (t = h.get(t)), null != t && t < f && (i[n] = t, o(c[t], e, n))
            })
        });
        var y = 0;
        d(t, function(t, e) {
            var n, t, a, s;
            if (_(t)) n = t, t = {};
            else {
                n = t.name;
                var h = t.ordinalMeta;
                t.ordinalMeta = null, (t = i(t)).ordinalMeta = h, a = t.dimsDef, s = t.otherDims, t.name = t.coordDim = t.coordDimIndex = t.dimsDef = t.otherDims = null
            }
            var u = Si(l.get(n));
            if (!u.length)
                for (var f = 0; f < (a && a.length || 1); f++) {
                    for (; y < c.length && null != c[y].coordDim;) y++;
                    y < c.length && u.push(y++)
                }
            d(u, function(e, i) {
                var l = c[e];
                o(r(l, t), n, i), null == l.name && a && (l.name = l.displayName = a[i]), l.isSysCoord = !0, s && r(l.otherDims, s)
            })
        });
        for (var x = n.extraPrefix || "value", b = 0; b < f; b++) null == (v = c[b] = c[b] || {}).coordDim && (v.coordDim = Rs(x, u, n.extraFromZero), v.coordDimIndex = 0, v.isExtraCoord = !0), null == v.name && (v.name = Rs(v.coordDim, h)), null == v.type && va(e, b, v.name) && (v.type = "ordinal");
        return c
    }

    function zs(t, e, i, n) {
        return null == n && (n = Math.max(t.dimensionsDetectCount || 1, e.length, i.length), d(e, function(t) {
            var e = t.dimsDef;
            e && (n = Math.max(n, e.length))
        })), n
    }

    function Rs(t, e, i) {
        if (i || null != e.get(t)) {
            for (var n = 0; null != e.get(t + n);) n++;
            t += n
        }
        return e.set(t, !0), t
    }

    function Bs(t, e) {
        ra.isInstance(t) || (t = ra.seriesDataToSource(t));
        var i, n = e.get("coordinateSystem"),
            o = Aa.get(n),
            a = oa(e);
        a && (i = f(a.coordSysDims, function(t) {
            var e = {
                    name: t
                },
                i = a.axisMap.get(t);
            if (i) {
                var n = i.get("type");
                e.type = Ms(n), e.stackable = Vs(n)
            }
            return e
        })), i || (i = o && (o.getDimensionsInfo ? o.getDimensionsInfo() : o.dimensions.slice()) || ["x", "y"]);
        var r, s, l = wI(t, {
            coordDimensions: i
        });
        a && d(l, function(t, e) {
            var i = t.coordDim,
                n = a.categoryAxisMap.get(i);
            n && (null == r && (r = e), t.ordinalMeta = n.getOrdinalMeta()), null != t.otherDims.itemName && (s = !0)
        }), s || null == r || (l[r].otherDims.itemName = 0);
        var h = new yI(l, e),
            u = null != r && Gs(t) ? function(t, e, i, n) {
                return n === r ? i : this.defaultDimValueGetter(t, e, i, n)
            } : null;
        return h.hasItemOption = !1, h.initData(t, null, u), h
    }

    function Vs(t) {
        return "category" !== t && "time" !== t
    }

    function Gs(t) {
        if (t.sourceFormat === kS) {
            var e = Ws(t.data || []);
            return null != e && !y(Ii(e))
        }
    }

    function Ws(t) {
        for (var e = 0; e < t.length && null == t[e];) e++;
        return t[e]
    }

    function Fs(t) {
        this._setting = t || {}, this._extent = [1 / 0, -1 / 0], this._interval = 0, this.init && this.init.apply(this, arguments)
    }

    function Hs(t) {
        this.categories = t.categories || [], this._needCollect = t.needCollect, this._deduplication = t.deduplication, this._map
    }

    function Zs(t) {
        return t._map || (t._map = z(t.categories))
    }

    function Us(t) {
        return w(t) && null != t.value ? t.value : t + ""
    }

    function js(t, e, i, n) {
        var o = {},
            a = t[1] - t[0],
            r = o.interval = Bo(a / e, !0);
        null != i && r < i && (r = o.interval = i), null != n && r > n && (r = o.interval = n);
        var s = o.intervalPrecision = Xs(r);
        return qs(o.niceTickExtent = [II(Math.ceil(t[0] / r) * r, s), II(Math.floor(t[1] / r) * r, s)], t), o
    }

    function Xs(t) {
        return Lo(t) + 2
    }

    function Ys(t, e, i) {
        t[e] = Math.max(Math.min(t[e], i[1]), i[0])
    }

    function qs(t, e) {
        !isFinite(t[0]) && (t[0] = e[0]), !isFinite(t[1]) && (t[1] = e[1]), Ys(t, 0, e), Ys(t, 1, e), t[0] > t[1] && (t[0] = t[1])
    }

    function $s(t, e, i, n) {
        var o = [];
        if (!t) return o;
        e[0] < i[0] && o.push(e[0]);
        for (var a = i[0]; a <= i[1] && (o.push(a), (a = II(a + t, n)) !== o[o.length - 1]);)
            if (o.length > 1e4) return [];
        return e[1] > (o.length ? o[o.length - 1] : i[1]) && o.push(e[1]), o
    }

    function Ks(t) {
        return t.get("stack") || DI + t.seriesIndex
    }

    function Js(t) {
        return t.dim + t.index
    }

    function Qs(t, e) {
        var i = [],
            n = t.axis;
        if ("category" === n.type) {
            for (var o = n.getBandWidth(), a = 0; a < t.count; a++) i.push(r({
                bandWidth: o,
                axisKey: "axis0",
                stackId: DI + a
            }, t));
            for (var s = el(i, e), l = [], a = 0; a < t.count; a++) {
                var h = s.axis0[DI + a];
                h.offsetCenter = h.offset + h.width / 2, l.push(h)
            }
            return l
        }
    }

    function tl(t, e) {
        return el(f(t, function(t) {
            var e = t.getData(),
                i = t.coordinateSystem.getBaseAxis(),
                n = i.getExtent(),
                o = "category" === i.type ? i.getBandWidth() : Math.abs(n[1] - n[0]) / e.count();
            return {
                bandWidth: o,
                barWidth: To(t.get("barWidth"), o),
                barMaxWidth: To(t.get("barMaxWidth"), o),
                barGap: t.get("barGap"),
                barCategoryGap: t.get("barCategoryGap"),
                axisKey: Js(i),
                stackId: Ks(t)
            }
        }), e)
    }

    function el(t, e) {
        var i = {};
        d(t, function(t, e) {
            var n = t.axisKey,
                o = t.bandWidth,
                a = i[n] || {
                    bandWidth: o,
                    remainedWidth: o,
                    autoWidthCount: 0,
                    categoryGap: "20%",
                    gap: "30%",
                    stacks: {}
                },
                r = a.stacks;
            i[n] = a;
            var s = t.stackId;
            r[s] || a.autoWidthCount++, r[s] = r[s] || {
                width: 0,
                maxWidth: 0
            };
            var l = t.barWidth;
            l && !r[s].width && (r[s].width = l, l = Math.min(a.remainedWidth, l), a.remainedWidth -= l);
            var h = t.barMaxWidth;
            h && (r[s].maxWidth = h);
            var u = t.barGap;
            null != u && (a.gap = u);
            var c = t.barCategoryGap;
            null != c && (a.categoryGap = c)
        });
        var n = {};
        return d(i, function(t, e) {
            n[e] = {};
            var i = t.stacks,
                o = t.bandWidth,
                a = To(t.categoryGap, o),
                r = To(t.gap, 1),
                s = t.remainedWidth,
                l = t.autoWidthCount,
                h = (s - a) / (l + (l - 1) * r);
            h = Math.max(h, 0), d(i, function(t, e) {
                var i = t.maxWidth;
                i && i < h && (i = Math.min(i, s), t.width && (i = Math.min(i, t.width)), s -= i, t.width = i, l--)
            }), h = (s - a) / (l + (l - 1) * r), h = Math.max(h, 0);
            var u, c = 0;
            d(i, function(t, e) {
                t.width || (t.width = h), u = t, c += t.width * (1 + r)
            }), u && (c -= u.width * r);
            var f = -c / 2;
            d(i, function(t, i) {
                n[e][i] = n[e][i] || {
                    offset: f,
                    width: t.width
                }, f += t.width * (1 + r)
            })
        }), n
    }

    function il(t, e, i) {
        var n = tl(g(e.getSeriesByType(t), function(t) {
                return !e.isSeriesFiltered(t) && t.coordinateSystem && "cartesian2d" === t.coordinateSystem.type
            })),
            o = {},
            a = {};
        e.eachSeriesByType(t, function(t) {
            if ("cartesian2d" === t.coordinateSystem.type) {
                var e = t.getData(),
                    i = t.coordinateSystem,
                    r = i.getBaseAxis(),
                    s = Ks(t),
                    l = n[Js(r)][s],
                    h = l.offset,
                    u = l.width,
                    c = i.getOtherAxis(r),
                    d = t.get("barMinHeight") || 0,
                    f = r.onZero ? c.toGlobalCoord(c.dataToCoord(0)) : c.getGlobalExtent()[0],
                    p = [e.mapDimension("x"), e.mapDimension("y")],
                    g = e.mapArray(p, function(t, e) {
                        return i.dataToPoint([t, e])
                    }, !0);
                o[s] = o[s] || [], a[s] = a[s] || [], e.setLayout({
                    offset: h,
                    size: u
                }), e.each(e.mapDimension(c.dim), function(t, i) {
                    if (!isNaN(t)) {
                        o[s][i] || (o[s][i] = {
                            p: f,
                            n: f
                        }, a[s][i] = {
                            p: f,
                            n: f
                        });
                        var n, r, l, p, m = t >= 0 ? "p" : "n",
                            v = g[i],
                            y = o[s][i][m],
                            x = a[s][i][m];
                        c.isHorizontal() ? (n = y, r = v[1] + h, l = v[0] - x, p = u, a[s][i][m] += l, Math.abs(l) < d && (l = (l < 0 ? -1 : 1) * d), o[s][i][m] += l) : (n = v[0] + h, r = y, l = u, p = v[1] - x, a[s][i][m] += p, Math.abs(p) < d && (p = (p <= 0 ? -1 : 1) * d), o[s][i][m] += p), e.setItemLayout(i, {
                            x: n,
                            y: r,
                            width: l,
                            height: p
                        })
                    }
                }, !0)
            }
        }, this)
    }

    function nl(t, e) {
        return BI(t, RI(e))
    }

    function ol(t, e) {
        var i, n, o, a = t.type,
            r = e.getMin(),
            s = e.getMax(),
            l = null != r,
            h = null != s,
            u = t.getExtent();
        "ordinal" === a ? i = e.getCategories().length : (y(n = e.get("boundaryGap")) || (n = [n || 0, n || 0]), "boolean" == typeof n[0] && (n = [0, 0]), n[0] = To(n[0], 1), n[1] = To(n[1], 1), o = u[1] - u[0] || Math.abs(u[0])), null == r && (r = "ordinal" === a ? i ? 0 : NaN : u[0] - n[0] * o), null == s && (s = "ordinal" === a ? i ? i - 1 : NaN : u[1] + n[1] * o), "dataMin" === r ? r = u[0] : "function" == typeof r && (r = r({
            min: u[0],
            max: u[1]
        })), "dataMax" === s ? s = u[1] : "function" == typeof s && (s = s({
            min: u[0],
            max: u[1]
        })), (null == r || !isFinite(r)) && (r = NaN), (null == s || !isFinite(s)) && (s = NaN), t.setBlank(I(r) || I(s)), e.getNeedCrossZero() && (r > 0 && s > 0 && !l && (r = 0), r < 0 && s < 0 && !h && (s = 0));
        var c = e.ecModel;
        if (c) {
            var d = g(c.getSeriesByType("bar"), function(t) {
                return t.getBaseAxis() === e.axis
            }).length > 0;
            if (("time" === a || "interval" === a) && d) {
                var f = al(r, s, e);
                r = f.min, s = f.max
            }
        }
        return [r, s]
    }

    function al(t, e, i) {
        var n = i.ecModel,
            o = i.axis.getExtent(),
            a = o[1] - o[0],
            r = tl(g(n.getSeriesByType("bar"), function(t) {
                return !n.isSeriesFiltered(t) && t.coordinateSystem && "cartesian2d" === t.coordinateSystem.type
            }))[i.axis.dim + i.axis.index];
        if (void 0 === r) return {
            min: t,
            max: e
        };
        var s = 1 / 0;
        d(r, function(t) {
            s = Math.min(t.offset, s)
        });
        var l = -1 / 0;
        d(r, function(t) {
            l = Math.max(t.offset + t.width, l)
        });
        var h = Math.abs(s) + l,
            u = e - t,
            c = u / (1 - (s + l) / a) - u;
        return e += c * (l / h), t -= c * (s / h), {
            min: t,
            max: e
        }
    }

    function rl(t, e) {
        var i = ol(t, e),
            n = null != e.getMin(),
            o = null != e.getMax(),
            a = e.get("splitNumber");
        "log" === t.type && (t.base = e.get("logBase"));
        var r = t.type;
        t.setExtent(i[0], i[1]), t.niceExtent({
            splitNumber: a,
            fixMin: n,
            fixMax: o,
            minInterval: "interval" === r || "time" === r ? e.get("minInterval") : null,
            maxInterval: "interval" === r || "time" === r ? e.get("maxInterval") : null
        });
        var s = e.get("interval");
        null != s && t.setInterval && t.setInterval(s)
    }

    function sl(t, e) {
        if (e = e || t.get("type")) switch (e) {
            case "category":
                return new MI(t.getOrdinalMeta ? t.getOrdinalMeta() : t.getCategories(), [1 / 0, -1 / 0]);
            case "value":
                return new AI;
            default:
                return (Fs.getClass(e) || AI).create(t)
        }
    }

    function ll(t, e, i, n, o) {
        var a, r = 0,
            s = 0,
            l = (n - o) / 180 * Math.PI,
            h = 1;
        e.length > 40 && (h = Math.floor(e.length / 40));
        for (var u = 0; u < t.length; u += h) {
            var c = t[u],
                d = me(e[u], i, "center", "top");
            d.x += c * Math.cos(l), d.y += c * Math.sin(l), d.width *= 1.3, d.height *= 1.3, a ? a.intersect(d) ? (s++, r = Math.max(r, s)) : (a.union(d), s = 0) : a = d.clone()
        }
        return 0 === r && h > 1 ? h : (r + 1) * h - 1
    }

    function hl(t, e) {
        var i = t.scale,
            n = i.getTicksLabels(),
            o = i.getTicks();
        return "string" == typeof e ? (e = function(t) {
            return function(e) {
                return t.replace("{value}", null != e ? e : "")
            }
        }(e), f(n, e)) : "function" == typeof e ? f(o, function(i, n) {
            return e(ul(t, i), n)
        }, this) : n
    }

    function ul(t, e) {
        return "category" === t.type ? t.scale.getLabel(e) : e
    }

    function cl(t, e) {
        if ("image" !== this.type) {
            var i = this.style,
                n = this.shape;
            n && "line" === n.symbolType ? i.stroke = t : this.__isEmptyBrush ? (i.stroke = t, i.fill = e || "#fff") : (i.fill && (i.fill = t), i.stroke && (i.stroke = t)), this.dirty(!1)
        }
    }

    function dl(t, e, i, n, o, a, r) {
        var s = 0 === t.indexOf("empty");
        s && (t = t.substr(5, 1).toLowerCase() + t.substr(6));
        var l;
        return l = 0 === t.indexOf("image://") ? zn(t.slice(8), new Kt(e, i, n, o), r ? "center" : "cover") : 0 === t.indexOf("path://") ? En(t.slice(7), {}, new Kt(e, i, n, o), r ? "center" : "cover") : new KI({
            shape: {
                symbolType: t,
                x: e,
                y: i,
                width: n,
                height: o
            }
        }), l.__isEmptyBrush = s, l.setColor = cl, l.setColor(a), l
    }

    function fl(t, e) {
        return Math.abs(t - e) < QI
    }

    function pl(t, e, i) {
        var n = 0,
            o = t[0];
        if (!o) return !1;
        for (var a = 1; a < t.length; a++) {
            var r = t[a];
            n += gn(o[0], o[1], r[0], r[1], e, i), o = r
        }
        var s = t[0];
        return fl(o[0], s[0]) && fl(o[1], s[1]) || (n += gn(o[0], o[1], s[0], s[1], e, i)), 0 !== n
    }

    function gl(t, e, i) {
        if (this.name = t, this.geometries = e, i) i = [i[0], i[1]];
        else {
            var n = this.getBoundingRect();
            i = [n.x + n.width / 2, n.y + n.height / 2]
        }
        this.center = i
    }

    function ml(t) {
        if (!t.UTF8Encoding) return t;
        var e = t.UTF8Scale;
        null == e && (e = 1024);
        for (var i = t.features, n = 0; n < i.length; n++)
            for (var o = i[n].geometry, a = o.coordinates, r = o.encodeOffsets, s = 0; s < a.length; s++) {
                var l = a[s];
                if ("Polygon" === o.type) a[s] = vl(l, r[s], e);
                else if ("MultiPolygon" === o.type)
                    for (var h = 0; h < l.length; h++) {
                        var u = l[h];
                        l[h] = vl(u, r[s][h], e)
                    }
            }
        return t.UTF8Encoding = !1, t
    }

    function vl(t, e, i) {
        for (var n = [], o = e[0], a = e[1], r = 0; r < t.length; r += 2) {
            var s = t.charCodeAt(r) - 64,
                l = t.charCodeAt(r + 1) - 64;
            s = s >> 1 ^ -(1 & s), l = l >> 1 ^ -(1 & l), o = s += o, a = l += a, n.push([s / i, l / i])
        }
        return n
    }

    function yl(t, e) {
        var i = (t[1] - t[0]) / e / 2;
        t[0] += i, t[1] -= i
    }

    function xl(t, e) {
        var i = t.mapDimension("defaultedLabel", !0),
            n = i.length;
        if (1 === n) return Ja(t, e, i[0]);
        if (n) {
            for (var o = [], a = 0; a < i.length; a++) {
                var r = Ja(t, e, i[a]);
                o.push(r)
            }
            return o.join(" ")
        }
    }

    function _l(t, e) {
        var i = t.getItemVisual(e, "symbolSize");
        return i instanceof Array ? i.slice() : [+i, +i]
    }

    function wl(t) {
        return [t[0] / 2, t[1] / 2]
    }

    function bl(t, e, i) {
        S_.call(this), this.updateData(t, e, i)
    }

    function Sl(t, e) {
        this.parent.drift(t, e)
    }

    function Ml(t) {
        this.group = new S_, this._symbolCtor = t || bl
    }

    function Il(t, e, i, n) {
        return e && !isNaN(e[0]) && !isNaN(e[1]) && !(n && n(i)) && "none" !== t.getItemVisual(i, "symbol")
    }

    function Tl(t) {
        var e = t.hostModel;
        return {
            itemStyle: e.getModel("itemStyle").getItemStyle(["color"]),
            hoverItemStyle: e.getModel("emphasis.itemStyle").getItemStyle(),
            symbolRotate: e.get("symbolRotate"),
            symbolOffset: e.get("symbolOffset"),
            hoverAnimation: e.get("hoverAnimation"),
            labelModel: e.getModel("label"),
            hoverLabelModel: e.getModel("emphasis.label"),
            cursorStyle: e.get("cursor")
        }
    }

    function Al(t) {
        return t >= 0 ? 1 : -1
    }

    function Dl(t, e, i) {
        for (var n, o = t.getBaseAxis(), a = t.getOtherAxis(o), r = o.onZero ? 0 : a.scale.getExtent()[0], s = a.dim, l = "x" === s || "radius" === s ? 1 : 0, h = e.stackedOn, u = e.get(s, i); h && Al(h.get(s, i)) === Al(u);) {
            n = h;
            break
        }
        var c = [];
        return c[l] = e.get(o.dim, i), c[1 - l] = n ? n.get(s, i, !0) : r, t.dataToPoint(c)
    }

    function Cl(t, e) {
        var i = [];
        return e.diff(t).add(function(t) {
            i.push({
                cmd: "+",
                idx: t
            })
        }).update(function(t, e) {
            i.push({
                cmd: "=",
                idx: e,
                idx1: t
            })
        }).remove(function(t) {
            i.push({
                cmd: "-",
                idx: t
            })
        }).execute(), i
    }

    function Ll(t) {
        return isNaN(t[0]) || isNaN(t[1])
    }

    function kl(t, e, i, n, o, a, r, s, l, h, u) {
        for (var c = 0, d = i, f = 0; f < n; f++) {
            var p = e[d];
            if (d >= o || d < 0) break;
            if (Ll(p)) {
                if (u) {
                    d += a;
                    continue
                }
                break
            }
            if (d === i) t[a > 0 ? "moveTo" : "lineTo"](p[0], p[1]), mT(yT, p);
            else if (l > 0) {
                var g = d + a,
                    m = e[g];
                if (u)
                    for (; m && Ll(e[g]);) m = e[g += a];
                var v = .5,
                    y = e[c];
                if (!(m = e[g]) || Ll(m)) mT(xT, p);
                else {
                    Ll(m) && !u && (m = p), U(vT, m, y);
                    var x, _;
                    if ("x" === h || "y" === h) {
                        var w = "x" === h ? 0 : 1;
                        x = Math.abs(p[w] - y[w]), _ = Math.abs(p[w] - m[w])
                    } else x = Vx(p, y), _ = Vx(p, m);
                    gT(xT, p, vT, -l * (1 - (v = _ / (_ + x))))
                }
                fT(yT, yT, s), pT(yT, yT, r), fT(xT, xT, s), pT(xT, xT, r), t.bezierCurveTo(yT[0], yT[1], xT[0], xT[1], p[0], p[1]), gT(yT, p, vT, l * v)
            } else t.lineTo(p[0], p[1]);
            c = d, d += a
        }
        return f
    }

    function Pl(t, e) {
        var i = [1 / 0, 1 / 0],
            n = [-1 / 0, -1 / 0];
        if (e)
            for (var o = 0; o < t.length; o++) {
                var a = t[o];
                a[0] < i[0] && (i[0] = a[0]), a[1] < i[1] && (i[1] = a[1]), a[0] > n[0] && (n[0] = a[0]), a[1] > n[1] && (n[1] = a[1])
            }
        return {
            min: e ? i : n,
            max: e ? n : i
        }
    }

    function Ol(t, e) {
        if (t.length === e.length) {
            for (var i = 0; i < t.length; i++) {
                var n = t[i],
                    o = e[i];
                if (n[0] !== o[0] || n[1] !== o[1]) return
            }
            return !0
        }
    }

    function Nl(t) {
        return "number" == typeof t ? t : t ? .3 : 0
    }

    function El(t) {
        var e = t.getGlobalExtent();
        if (t.onBand) {
            var i = t.getBandWidth() / 2 - 1,
                n = e[1] > e[0] ? 1 : -1;
            e[0] += n * i, e[1] -= n * i
        }
        return e
    }

    function zl(t) {
        return t >= 0 ? 1 : -1
    }

    function Rl(t, e, i, n) {
        var o = e.getBaseAxis(),
            a = e.getOtherAxis(o),
            r = 0,
            s = a.scale.getExtent();
        "start" === n ? r = s[0] : "end" === n ? r = s[1] : (s = a.scale.getExtent())[0] > 0 ? r = s[0] : s[1] < 0 && (r = s[1]);
        var l = a.dim,
            h = "x" === l || "radius" === l ? 1 : 0,
            u = i.mapDimension(l);
        return i.mapArray(u ? [u] : [], function(t, n) {
            for (var a, s = i.stackedOn; s && zl(s.get(u, n)) === zl(t);) {
                a = s;
                break
            }
            var l = [];
            return l[h] = i.get(o.dim, n), l[1 - h] = a ? a.get(u, n, !0) : r, e.dataToPoint(l)
        }, !0)
    }

    function Bl(t, e, i) {
        var n = El(t.getAxis("x")),
            o = El(t.getAxis("y")),
            a = t.getBaseAxis().isHorizontal(),
            r = Math.min(n[0], n[1]),
            s = Math.min(o[0], o[1]),
            l = Math.max(n[0], n[1]) - r,
            h = Math.max(o[0], o[1]) - s,
            u = i.get("lineStyle.width") || 2,
            c = i.get("clipOverflow") ? u / 2 : Math.max(l, h);
        a ? (s -= c, h += 2 * c) : (r -= c, l += 2 * c);
        var d = new Vb({
            shape: {
                x: r,
                y: s,
                width: l,
                height: h
            }
        });
        return e && (d.shape[a ? "width" : "height"] = 0, fo(d, {
            shape: {
                width: l,
                height: h
            }
        }, i)), d
    }

    function Vl(t, e, i) {
        var n = t.getAngleAxis(),
            o = t.getRadiusAxis().getExtent(),
            a = n.getExtent(),
            r = Math.PI / 180,
            s = new Ob({
                shape: {
                    cx: t.cx,
                    cy: t.cy,
                    r0: o[0],
                    r: o[1],
                    startAngle: -a[0] * r,
                    endAngle: -a[1] * r,
                    clockwise: n.inverse
                }
            });
        return e && (s.shape.endAngle = -a[0] * r, fo(s, {
            shape: {
                endAngle: -a[1] * r
            }
        }, i)), s
    }

    function Gl(t, e, i) {
        return "polar" === t.type ? Vl(t, e, i) : Bl(t, e, i)
    }

    function Wl(t, e, i) {
        for (var n = e.getBaseAxis(), o = "x" === n.dim || "radius" === n.dim ? 0 : 1, a = [], r = 0; r < t.length - 1; r++) {
            var s = t[r + 1],
                l = t[r];
            a.push(l);
            var h = [];
            switch (i) {
                case "end":
                    h[o] = s[o], h[1 - o] = l[1 - o], a.push(h);
                    break;
                case "middle":
                    var u = (l[o] + s[o]) / 2,
                        c = [];
                    h[o] = c[o] = u, h[1 - o] = l[1 - o], c[1 - o] = s[1 - o], a.push(h), a.push(c);
                    break;
                default:
                    h[o] = l[o], h[1 - o] = s[1 - o], a.push(h)
            }
        }
        return t[r] && a.push(t[r]), a
    }

    function Fl(t, e) {
        var i = t.getVisual("visualMeta");
        if (i && i.length && t.count()) {
            for (var n, o = i.length - 1; o >= 0; o--)
                if (i[o].dimension < 2) {
                    n = i[o];
                    break
                } if (n && "cartesian2d" === e.type) {
                var a = n.dimension,
                    r = t.dimensions[a],
                    s = e.getAxis(r),
                    l = f(n.stops, function(t) {
                        return {
                            coord: s.toGlobalCoord(s.dataToCoord(t.value)),
                            color: t.color
                        }
                    }),
                    h = l.length,
                    u = n.outerColors.slice();
                h && l[0].coord > l[h - 1].coord && (l.reverse(), u.reverse());
                var c = l[0].coord - 10,
                    p = l[h - 1].coord + 10,
                    g = p - c;
                if (g < .001) return "transparent";
                d(l, function(t) {
                    t.offset = (t.coord - c) / g
                }), l.push({
                    offset: h ? l[h - 1].offset : .5,
                    color: u[1] || "transparent"
                }), l.unshift({
                    offset: h ? l[0].offset : .5,
                    color: u[0] || "transparent"
                });
                var m = new jb(0, 0, 0, 0, l, !0);
                return m[r] = c, m[r + "2"] = p, m
            }
        }
    }

    function Hl(t) {
        return this._axes[t]
    }

    function Zl(t) {
        TT.call(this, t)
    }

    function Ul(t, e) {
        return e.type || (e.data ? "category" : "value")
    }

    function jl(t, e, i) {
        return t.getCoordSysModel() === e
    }

    function Xl(t, e) {
        var i = e * Math.PI / 180,
            n = t.plain(),
            o = n.width,
            a = n.height,
            r = o * Math.cos(i) + a * Math.sin(i),
            s = o * Math.sin(i) + a * Math.cos(i);
        return new Kt(n.x, n.y, r, s)
    }

    function Yl(t) {
        var e, i = t.model,
            n = i.get("axisLabel.show") ? i.getFormattedLabels() : [],
            o = i.getModel("axisLabel"),
            a = 1,
            r = n.length;
        r > 40 && (a = Math.ceil(r / 40));
        for (var s = 0; s < r; s += a)
            if (!t.isLabelIgnored(s)) {
                var l = Xl(o.getTextRect(n[s]), o.get("rotate") || 0);
                e ? e.union(l) : e = l
            } return e
    }

    function ql(t, e, i) {
        this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this._initCartesian(t, e, i), this.model = t
    }

    function $l(t, e, i) {
        var n = t[e];
        if (i.onZero) {
            var o = i.onZeroAxisIndex;
            if (null == o) {
                for (var a in n)
                    if (n.hasOwnProperty(a)) {
                        var r = n[a];
                        if (r && !Kl(r)) {
                            o = +a;
                            break
                        }
                    } null == o && (i.onZero = !1), i.onZeroAxisIndex = o
            } else(r = n[o]) && Kl(r) && (i.onZero = !1)
        }
    }

    function Kl(t) {
        return "category" === t.type || "time" === t.type || !ET(t)
    }

    function Jl(t, e) {
        var i = t.getExtent(),
            n = i[0] + i[1];
        t.toGlobalCoord = "x" === t.dim ? function(t) {
            return t + e
        } : function(t) {
            return n - t + e
        }, t.toLocalCoord = "x" === t.dim ? function(t) {
            return t - e
        } : function(t) {
            return n - t + e
        }
    }

    function Ql(t, e) {
        return f(BT, function(e) {
            return t.getReferringComponents(e)[0]
        })
    }

    function th(t) {
        return "cartesian2d" === t.get("coordinateSystem")
    }

    function eh(t) {
        var e = {
            componentType: t.mainType
        };
        return e[t.mainType + "Index"] = t.componentIndex, e
    }

    function ih(t, e, i, n) {
        var o, a, r = Oo(i - t.rotation),
            s = n[0] > n[1],
            l = "start" === e && !s || "start" !== e && s;
        return No(r - VT / 2) ? (a = l ? "bottom" : "top", o = "center") : No(r - 1.5 * VT) ? (a = l ? "top" : "bottom", o = "center") : (a = "middle", o = r < 1.5 * VT && r > VT / 2 ? l ? "left" : "right" : l ? "right" : "left"), {
            rotation: r,
            textAlign: o,
            textVerticalAlign: a
        }
    }

    function nh(t) {
        var e = t.get("tooltip");
        return t.get("silent") || !(t.get("triggerEvent") || e && e.show)
    }

    function oh(t, e, i) {
        var n = t.get("axisLabel.showMinLabel"),
            o = t.get("axisLabel.showMaxLabel");
        e = e || [], i = i || [];
        var a = e[0],
            r = e[1],
            s = e[e.length - 1],
            l = e[e.length - 2],
            h = i[0],
            u = i[1],
            c = i[i.length - 1],
            d = i[i.length - 2];
        !1 === n ? (ah(a), ah(h)) : rh(a, r) && (n ? (ah(r), ah(u)) : (ah(a), ah(h))), !1 === o ? (ah(s), ah(c)) : rh(l, s) && (o ? (ah(l), ah(d)) : (ah(s), ah(c)))
    }

    function ah(t) {
        t && (t.ignore = !0)
    }

    function rh(t, e, i) {
        var n = t && t.getBoundingRect().clone(),
            o = e && e.getBoundingRect().clone();
        if (n && o) {
            var a = lt([]);
            return dt(a, a, -t.rotation), n.applyTransform(ut([], a, t.getLocalTransform())), o.applyTransform(ut([], a, e.getLocalTransform())), n.intersect(o)
        }
    }

    function sh(t) {
        return "middle" === t || "center" === t
    }

    function lh(t, e, i) {
        var n = e.axis;
        if (e.get("axisTick.show") && !n.scale.isBlank()) {
            for (var o = e.getModel("axisTick"), a = o.getModel("lineStyle"), s = o.get("length"), l = ZT(o, i.labelInterval), h = n.getTicksCoords(o.get("alignWithLabel")), u = n.scale.getTicks(), c = e.get("axisLabel.showMinLabel"), d = e.get("axisLabel.showMaxLabel"), f = [], p = [], g = t._transform, m = [], v = h.length, y = 0; y < v; y++)
                if (!HT(n, y, l, v, c, d)) {
                    var x = h[y];
                    f[0] = x, f[1] = 0, p[0] = x, p[1] = i.tickDirection * s, g && (Q(f, f, g), Q(p, p, g));
                    var _ = new Gb(Vn({
                        anid: "tick_" + u[y],
                        shape: {
                            x1: f[0],
                            y1: f[1],
                            x2: p[0],
                            y2: p[1]
                        },
                        style: r(a.getLineStyle(), {
                            stroke: e.get("axisLine.lineStyle.color")
                        }),
                        z2: 2,
                        silent: !0
                    }));
                    t.group.add(_), m.push(_)
                } return m
        }
    }

    function hh(t, e, i) {
        var n = e.axis;
        if (T(i.axisLabelShow, e.get("axisLabel.show")) && !n.scale.isBlank()) {
            var o = e.getModel("axisLabel"),
                a = o.get("margin"),
                r = n.scale.getTicks(),
                s = e.getFormattedLabels(),
                l = (T(i.labelRotate, o.get("rotate")) || 0) * VT / 180,
                h = FT(i.rotation, l, i.labelDirection),
                u = e.getCategories(),
                c = [],
                f = nh(e),
                p = e.get("triggerEvent"),
                g = e.get("axisLabel.showMinLabel"),
                m = e.get("axisLabel.showMaxLabel");
            return d(r, function(l, d) {
                if (!HT(n, d, i.labelInterval, r.length, g, m)) {
                    var v = o;
                    u && u[l] && u[l].textStyle && (v = new _o(u[l].textStyle, o, e.ecModel));
                    var y = v.getTextColor() || e.get("axisLine.lineStyle.color"),
                        x = [n.dataToCoord(l), i.labelOffset + i.labelDirection * a],
                        _ = n.scale.getLabel(l),
                        w = new Cb({
                            anid: "label_" + l,
                            position: x,
                            rotation: h.rotation,
                            silent: f,
                            z2: 10
                        });
                    io(w.style, v, {
                        text: s[d],
                        textAlign: v.getShallow("align", !0) || h.textAlign,
                        textVerticalAlign: v.getShallow("verticalAlign", !0) || v.getShallow("baseline", !0) || h.textVerticalAlign,
                        textFill: "function" == typeof y ? y("category" === n.type ? _ : "value" === n.type ? l + "" : l, d) : y
                    }), p && (w.eventData = eh(e), w.eventData.targetType = "axisLabel", w.eventData.value = _), t._dumbGroup.add(w), w.updateTransform(), c.push(w), t.group.add(w), w.decomposeTransform()
                }
            }), c
        }
    }

    function uh(t, e) {
        var i = {
            axesInfo: {},
            seriesInvolved: !1,
            coordSysAxesInfo: {},
            coordSysMap: {}
        };
        return ch(i, t, e), i.seriesInvolved && fh(i, t), i
    }

    function ch(t, e, i) {
        var n = e.getComponent("tooltip"),
            o = e.getComponent("axisPointer"),
            a = o.get("link", !0) || [],
            r = [];
        UT(i.getCoordinateSystems(), function(i) {
            function s(n, s, l) {
                var c = l.model.getModel("axisPointer", o),
                    d = c.get("show");
                if (d && ("auto" !== d || n || xh(c))) {
                    null == s && (s = c.get("triggerTooltip"));
                    var f = (c = n ? dh(l, u, o, e, n, s) : c).get("snap"),
                        p = _h(l.model),
                        g = s || f || "category" === l.type,
                        m = t.axesInfo[p] = {
                            key: p,
                            axis: l,
                            coordSys: i,
                            axisPointerModel: c,
                            triggerTooltip: s,
                            involveSeries: g,
                            snap: f,
                            useHandle: xh(c),
                            seriesModels: []
                        };
                    h[p] = m, t.seriesInvolved |= g;
                    var v = ph(a, l);
                    if (null != v) {
                        var y = r[v] || (r[v] = {
                            axesInfo: {}
                        });
                        y.axesInfo[p] = m, y.mapper = a[v].mapper, m.linkGroup = y
                    }
                }
            }
            if (i.axisPointerEnabled) {
                var l = _h(i.model),
                    h = t.coordSysAxesInfo[l] = {};
                t.coordSysMap[l] = i;
                var u = i.model.getModel("tooltip", n);
                if (UT(i.getAxes(), jT(s, !1, null)), i.getTooltipAxes && n && u.get("show")) {
                    var c = "axis" === u.get("trigger"),
                        d = "cross" === u.get("axisPointer.type"),
                        f = i.getTooltipAxes(u.get("axisPointer.axis"));
                    (c || d) && UT(f.baseAxes, jT(s, !d || "cross", c)), d && UT(f.otherAxes, jT(s, "cross", !1))
                }
            }
        })
    }

    function dh(t, e, n, o, a, s) {
        var l = e.getModel("axisPointer"),
            h = {};
        UT(["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], function(t) {
            h[t] = i(l.get(t))
        }), h.snap = "category" !== t.type && !!s, "cross" === l.get("type") && (h.type = "line");
        var u = h.label || (h.label = {});
        if (null == u.show && (u.show = !1), "cross" === a && (u.show = !0, !s)) {
            var c = h.lineStyle = l.get("crossStyle");
            c && r(u, c.textStyle)
        }
        return t.model.getModel("axisPointer", new _o(h, n, o))
    }

    function fh(t, e) {
        e.eachSeries(function(e) {
            var i = e.coordinateSystem,
                n = e.get("tooltip.trigger", !0),
                o = e.get("tooltip.show", !0);
            i && "none" !== n && !1 !== n && "item" !== n && !1 !== o && !1 !== e.get("axisPointer.show", !0) && UT(t.coordSysAxesInfo[_h(i.model)], function(t) {
                var n = t.axis;
                i.getAxis(n.dim) === n && (t.seriesModels.push(e), null == t.seriesDataCount && (t.seriesDataCount = 0), t.seriesDataCount += e.getData().count())
            })
        }, this)
    }

    function ph(t, e) {
        for (var i = e.model, n = e.dim, o = 0; o < t.length; o++) {
            var a = t[o] || {};
            if (gh(a[n + "AxisId"], i.id) || gh(a[n + "AxisIndex"], i.componentIndex) || gh(a[n + "AxisName"], i.name)) return o
        }
    }

    function gh(t, e) {
        return "all" === t || y(t) && l(t, e) >= 0 || t === e
    }

    function mh(t) {
        var e = vh(t);
        if (e) {
            var i = e.axisPointerModel,
                n = e.axis.scale,
                o = i.option,
                a = i.get("status"),
                r = i.get("value");
            null != r && (r = n.parse(r));
            var s = xh(i);
            null == a && (o.status = s ? "show" : "hide");
            var l = n.getExtent().slice();
            l[0] > l[1] && l.reverse(), (null == r || r > l[1]) && (r = l[1]), r < l[0] && (r = l[0]), o.value = r, s && (o.status = e.axis.scale.isBlank() ? "hide" : "show")
        }
    }

    function vh(t) {
        var e = (t.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
        return e && e.axesInfo[_h(t)]
    }

    function yh(t) {
        var e = vh(t);
        return e && e.axisPointerModel
    }

    function xh(t) {
        return !!t.get("handle.show")
    }

    function _h(t) {
        return t.type + "||" + t.id
    }

    function wh(t, e, i, n, o, a) {
        var r = XT.getAxisPointerClass(t.axisPointerClass);
        if (r) {
            var s = yh(e);
            s ? (t._axisPointer || (t._axisPointer = new r)).render(e, s, n, a) : bh(t, n)
        }
    }

    function bh(t, e, i) {
        var n = t._axisPointer;
        n && n.dispose(e, i), t._axisPointer = null
    }

    function Sh(t, e, i) {
        i = i || {};
        var n = t.coordinateSystem,
            o = e.axis,
            a = {},
            r = o.position,
            s = o.onZero ? "onZero" : r,
            l = o.dim,
            h = n.getRect(),
            u = [h.x, h.x + h.width, h.y, h.y + h.height],
            c = {
                left: 0,
                right: 1,
                top: 0,
                bottom: 1,
                onZero: 2
            },
            d = e.get("offset") || 0,
            f = "x" === l ? [u[2] - d, u[3] + d] : [u[0] - d, u[1] + d];
        if (o.onZero) {
            var p = n.getAxis("x" === l ? "y" : "x", o.onZeroAxisIndex),
                g = p.toGlobalCoord(p.dataToCoord(0));
            f[c.onZero] = Math.max(Math.min(g, f[1]), f[0])
        }
        a.position = ["y" === l ? f[c[s]] : u[0], "x" === l ? f[c[s]] : u[3]], a.rotation = Math.PI / 2 * ("x" === l ? 0 : 1);
        var m = {
            top: -1,
            bottom: 1,
            left: -1,
            right: 1
        };
        a.labelDirection = a.tickDirection = a.nameDirection = m[r], a.labelOffset = o.onZero ? f[c[r]] - f[c.onZero] : 0, e.get("axisTick.inside") && (a.tickDirection = -a.tickDirection), T(i.labelInside, e.get("axisLabel.inside")) && (a.labelDirection = -a.labelDirection);
        var v = e.get("axisLabel.rotate");
        return a.labelRotate = "top" === s ? -v : v, a.labelInterval = o.getLabelInterval(), a.z2 = 1, a
    }

    function Mh(t, e, i, n, o, a, r) {
        eo(t, e, i.getModel("label"), i.getModel("emphasis.label"), {
            labelFetcher: o,
            labelDataIndex: a,
            defaultText: xl(o.getData(), a),
            isRectText: !0,
            autoColor: n
        }), Ih(t), Ih(e)
    }

    function Ih(t, e) {
        "outside" === t.textPosition && (t.textPosition = e)
    }

    function Th(t, e, i) {
        i.style.text = null, co(i, {
            shape: {
                width: 0
            }
        }, e, t, function() {
            i.parent && i.parent.remove(i)
        })
    }

    function Ah(t, e, i) {
        i.style.text = null, co(i, {
            shape: {
                r: i.shape.r0
            }
        }, e, t, function() {
            i.parent && i.parent.remove(i)
        })
    }

    function Dh(t, e, i, n, o, a, s, l) {
        var h = e.getItemVisual(i, "color"),
            u = e.getItemVisual(i, "opacity"),
            c = n.getModel("itemStyle"),
            d = n.getModel("emphasis.itemStyle").getBarItemStyle();
        l || t.setShape("r", c.get("barBorderRadius") || 0), t.useStyle(r({
            fill: h,
            opacity: u
        }, c.getBarItemStyle()));
        var f = n.getShallow("cursor");
        f && t.attr("cursor", f);
        var p = s ? o.height > 0 ? "bottom" : "top" : o.width > 0 ? "left" : "right";
        l || Mh(t.style, d, n, h, a, i, p), to(t, d)
    }

    function Ch(t, e) {
        var i = t.get(nA) || 0;
        return Math.min(i, Math.abs(e.width), Math.abs(e.height))
    }

    function Lh(t, e, i, n) {
        var o = e.getData(),
            a = this.dataIndex,
            r = o.getName(a),
            s = e.get("selectedOffset");
        n.dispatchAction({
            type: "pieToggleSelect",
            from: t,
            name: r,
            seriesId: e.id
        }), o.each(function(t) {
            kh(o.getItemGraphicEl(t), o.getItemLayout(t), e.isSelected(o.getName(t)), s, i)
        })
    }

    function kh(t, e, i, n, o) {
        var a = (e.startAngle + e.endAngle) / 2,
            r = Math.cos(a),
            s = Math.sin(a),
            l = i ? n : 0,
            h = [r * l, s * l];
        o ? t.animate().when(200, {
            position: h
        }).start("bounceOut") : t.attr("position", h)
    }

    function Ph(t, e) {
        function i() {
            a.ignore = a.hoverIgnore, r.ignore = r.hoverIgnore
        }

        function n() {
            a.ignore = a.normalIgnore, r.ignore = r.normalIgnore
        }
        S_.call(this);
        var o = new Ob({
                z2: 2
            }),
            a = new Bb,
            r = new Cb;
        this.add(o), this.add(a), this.add(r), this.updateData(t, e, !0), this.on("emphasis", i).on("normal", n).on("mouseover", i).on("mouseout", n)
    }

    function Oh(t, e, i, n, o, a, r) {
        function s(e, i) {
            for (var n = e; n >= 0 && (t[n].y -= i, !(n > 0 && t[n].y > t[n - 1].y + t[n - 1].height)); n--);
        }

        function l(t, e, i, n, o, a) {
            for (var r = e ? Number.MAX_VALUE : 0, s = 0, l = t.length; s < l; s++)
                if ("center" !== t[s].position) {
                    var h = Math.abs(t[s].y - n),
                        u = t[s].len,
                        c = t[s].len2,
                        d = h < o + u ? Math.sqrt((o + u + c) * (o + u + c) - h * h) : Math.abs(t[s].x - i);
                    e && d >= r && (d = r - 10), !e && d <= r && (d = r + 10), t[s].x = i + d * a, r = d
                }
        }
        t.sort(function(t, e) {
            return t.y - e.y
        });
        for (var h, u = 0, c = t.length, d = [], f = [], p = 0; p < c; p++)(h = t[p].y - u) < 0 && function(e, i, n, o) {
            for (var a = e; a < i; a++)
                if (t[a].y += n, a > e && a + 1 < i && t[a + 1].y > t[a].y + t[a].height) return void s(a, n / 2);
            s(i - 1, n / 2)
        }(p, c, -h), u = t[p].y + t[p].height;
        r - u < 0 && s(c - 1, u - r);
        for (p = 0; p < c; p++) t[p].y >= i ? f.push(t[p]) : d.push(t[p]);
        l(d, !1, e, i, n, o), l(f, !0, e, i, n, o)
    }

    function Nh(t, e, i, n, o, a) {
        for (var r = [], s = [], l = 0; l < t.length; l++) t[l].x < e ? r.push(t[l]) : s.push(t[l]);
        Oh(s, e, i, n, 1, o, a), Oh(r, e, i, n, -1, o, a);
        for (l = 0; l < t.length; l++) {
            var h = t[l].linePoints;
            if (h) {
                var u = h[1][0] - h[2][0];
                t[l].x < e ? h[2][0] = t[l].x + 3 : h[2][0] = t[l].x - 3, h[1][1] = h[2][1] = t[l].y, h[1][0] = h[2][0] + u
            }
        }
    }

    function Eh() {
        this.group = new S_
    }

    function zh(t, e, i) {
        nT.call(this, t, e, i), this.type = "value", this.angle = 0, this.name = "", this.model
    }

    function Rh(t, e, i) {
        this._model = t, this.dimensions = [], this._indicatorAxes = f(t.getIndicatorModels(), function(t, e) {
            var i = "indicator_" + e,
                n = new zh(i, new AI);
            return n.name = t.get("name"), n.model = t, t.axis = n, this.dimensions.push(i), n
        }, this), this.resize(t, i), this.cx, this.cy, this.r, this.startAngle
    }

    function Bh(t, e) {
        return r({
            show: e
        }, t)
    }

    function Vh(t) {
        return y(t) || (t = [+t, +t]), t
    }

    function Gh(t, e, i) {
        Hh(t)[e] = i
    }

    function Wh(t, e, i) {
        var n = Hh(t);
        n[e] === i && (n[e] = null)
    }

    function Fh(t, e) {
        return !!Hh(t)[e]
    }

    function Hh(t) {
        return t[bA] || (t[bA] = {})
    }

    function Zh(t) {
        this.pointerChecker, this._zr = t, this._opt = {};
        var e = m,
            n = e(Uh, this),
            o = e(jh, this),
            a = e(Xh, this),
            s = e(Yh, this),
            l = e(qh, this);
        Hx.call(this), this.setPointerChecker = function(t) {
            this.pointerChecker = t
        }, this.enable = function(e, h) {
            this.disable(), this._opt = r(i(h) || {}, {
                zoomOnMouseWheel: !0,
                moveOnMouseMove: !0,
                preventDefaultMouseMove: !0
            }), null == e && (e = !0), !0 !== e && "move" !== e && "pan" !== e || (t.on("mousedown", n), t.on("mousemove", o), t.on("mouseup", a)), !0 !== e && "scale" !== e && "zoom" !== e || (t.on("mousewheel", s), t.on("pinch", l))
        }, this.disable = function() {
            t.off("mousedown", n), t.off("mousemove", o), t.off("mouseup", a), t.off("mousewheel", s), t.off("pinch", l)
        }, this.dispose = this.disable, this.isDragging = function() {
            return this._dragging
        }, this.isPinching = function() {
            return this._pinching
        }
    }

    function Uh(t) {
        if (!(ci(t) || t.target && t.target.draggable)) {
            var e = t.offsetX,
                i = t.offsetY;
            this.pointerChecker && this.pointerChecker(t, e, i) && (this._x = e, this._y = i, this._dragging = !0)
        }
    }

    function jh(t) {
        if (!ci(t) && Kh(this, "moveOnMouseMove", t) && this._dragging && "pinch" !== t.gestureEvent && !Fh(this._zr, "globalPan")) {
            var e = t.offsetX,
                i = t.offsetY,
                n = this._x,
                o = this._y,
                a = e - n,
                r = i - o;
            this._x = e, this._y = i, this._opt.preventDefaultMouseMove && Q_(t.event), this.trigger("pan", a, r, n, o, e, i)
        }
    }

    function Xh(t) {
        ci(t) || (this._dragging = !1)
    }

    function Yh(t) {
        if (Kh(this, "zoomOnMouseWheel", t) && 0 !== t.wheelDelta) {
            var e = t.wheelDelta > 0 ? 1.1 : 1 / 1.1;
            $h.call(this, t, e, t.offsetX, t.offsetY)
        }
    }

    function qh(t) {
        if (!Fh(this._zr, "globalPan")) {
            var e = t.pinchScale > 1 ? 1.1 : 1 / 1.1;
            $h.call(this, t, e, t.pinchX, t.pinchY)
        }
    }

    function $h(t, e, i, n) {
        this.pointerChecker && this.pointerChecker(t, i, n) && (Q_(t.event), this.trigger("zoom", e, i, n))
    }

    function Kh(t, e, i) {
        var n = t._opt[e];
        return n && (!_(n) || i.event[n + "Key"])
    }

    function Jh(t, e, i) {
        var n = t.target,
            o = n.position;
        o[0] += e, o[1] += i, n.dirty()
    }

    function Qh(t, e, i, n) {
        var o = t.target,
            a = t.zoomLimit,
            r = o.position,
            s = o.scale,
            l = t.zoom = t.zoom || 1;
        if (l *= e, a) {
            var h = a.min || 0,
                u = a.max || 1 / 0;
            l = Math.max(Math.min(u, l), h)
        }
        var c = l / t.zoom;
        t.zoom = l, r[0] -= (i - r[0]) * (c - 1), r[1] -= (n - r[1]) * (c - 1), s[0] *= c, s[1] *= c, o.dirty()
    }

    function tu(t, e, i) {
        var n = e.getComponentByElement(t.topTarget),
            o = n && n.coordinateSystem;
        return n && n !== i && !SA[n.mainType] && o && o.model !== i
    }

    function eu(t, e) {
        var i = t.getItemStyle(),
            n = t.get("areaColor");
        return null != n && (i.fill = n), i
    }

    function iu(t, e, i, n, o) {
        i.off("click"), i.off("mousedown"), e.get("selectedMode") && (i.on("mousedown", function() {
            t._mouseDownFlag = !0
        }), i.on("click", function(a) {
            if (t._mouseDownFlag) {
                t._mouseDownFlag = !1;
                for (var r = a.target; !r.__regions;) r = r.parent;
                if (r) {
                    var s = {
                        type: ("geo" === e.mainType ? "geo" : "map") + "ToggleSelect",
                        batch: f(r.__regions, function(t) {
                            return {
                                name: t.name,
                                from: o.uid
                            }
                        })
                    };
                    s[e.mainType + "Id"] = e.id, n.dispatchAction(s), nu(e, i)
                }
            }
        }))
    }

    function nu(t, e) {
        e.eachChild(function(e) {
            d(e.__regions, function(i) {
                e.trigger(t.isSelected(i.name) ? "emphasis" : "normal")
            })
        })
    }

    function ou(t, e) {
        var i = new S_;
        this._controller = new Zh(t.getZr()), this._controllerHost = {
            target: e ? i : null
        }, this.group = i, this._updateGroup = e, this._mouseDownFlag
    }

    function au(t, e, i) {
        var n = t.getZoom(),
            o = t.getCenter(),
            a = e.zoom,
            r = t.dataToPoint(o);
        if (null != e.dx && null != e.dy) {
            r[0] -= e.dx, r[1] -= e.dy;
            o = t.pointToData(r);
            t.setCenter(o)
        }
        if (null != a) {
            if (i) {
                var s = i.min || 0,
                    l = i.max || 1 / 0;
                a = Math.max(Math.min(n * a, l), s) / n
            }
            t.scale[0] *= a, t.scale[1] *= a;
            var h = t.position,
                u = (e.originX - h[0]) * (a - 1),
                c = (e.originY - h[1]) * (a - 1);
            h[0] -= u, h[1] -= c, t.updateTransform();
            o = t.pointToData(r);
            t.setCenter(o), t.setZoom(a * n)
        }
        return {
            center: t.getCenter(),
            zoom: t.getZoom()
        }
    }

    function ru() {
        Kx.call(this)
    }

    function su(t) {
        this.name = t, this.zoomLimit, Kx.call(this), this._roamTransformable = new ru, this._rawTransformable = new ru, this._center, this._zoom
    }

    function lu(t, e, i, n) {
        var o = i.seriesModel,
            a = o ? o.coordinateSystem : null;
        return a === this ? a[t](n) : null
    }

    function hu(t, e, i, n, o) {
        su.call(this, t), this.map = e, this._nameCoordMap = z(), this.loadGeoJson(i, n, o)
    }

    function uu(t, e, i, n) {
        var o = i.geoModel,
            a = i.seriesModel,
            r = o ? o.coordinateSystem : a ? a.coordinateSystem || (a.getReferringComponents("geo")[0] || {}).coordinateSystem : null;
        return r === this ? r[t](n) : null
    }

    function cu(t, e) {
        var i = t.get("boundingCoords");
        if (null != i) {
            var n = i[0],
                o = i[1];
            isNaN(n[0]) || isNaN(n[1]) || isNaN(o[0]) || isNaN(o[1]) || this.setBoundingRect(n[0], n[1], o[0] - n[0], o[1] - n[1])
        }
        var a, r = this.getBoundingRect(),
            s = t.get("layoutCenter"),
            l = t.get("layoutSize"),
            h = e.getWidth(),
            u = e.getHeight(),
            c = t.get("aspectScale") || .75,
            d = r.width / r.height * c,
            f = !1;
        s && l && (s = [To(s[0], h), To(s[1], u)], l = To(l, Math.min(h, u)), isNaN(s[0]) || isNaN(s[1]) || isNaN(l) || (f = !0));
        if (f) {
            var p = {};
            d > 1 ? (p.width = l, p.height = l / d) : (p.height = l, p.width = l * d), p.y = s[1] - p.height / 2, p.x = s[0] - p.width / 2
        } else(a = t.getBoxLayoutParams()).aspect = d, p = Ko(a, {
            width: h,
            height: u
        });
        this.setViewRect(p.x, p.y, p.width, p.height), this.setCenter(t.get("center")), this.setZoom(t.get("zoom"))
    }

    function du(t, e) {
        d(e.get("geoCoord"), function(e, i) {
            t.addGeoCoord(i, e)
        })
    }

    function fu(t, e) {
        var i = {};
        return d(t, function(t) {
            t.each(t.mapDimension("value"), function(e, n) {
                var o = "ec-" + t.getName(n);
                i[o] = i[o] || [], isNaN(e) || i[o].push(e)
            })
        }), t[0].map(t[0].mapDimension("value"), function(n, o) {
            for (var a = "ec-" + t[0].getName(o), r = 0, s = 1 / 0, l = -1 / 0, h = i[a].length, u = 0; u < h; u++) s = Math.min(s, i[a][u]), l = Math.max(l, i[a][u]), r += i[a][u];
            var c;
            return c = "min" === e ? s : "max" === e ? l : "average" === e ? r / h : r, 0 === h ? NaN : c
        })
    }

    function pu(t) {
        var e = t.mainData,
            i = t.datas;
        i || (i = {
            main: e
        }, t.datasAttr = {
            main: "data"
        }), t.datas = t.mainData = null, _u(e, i, t), NA(i, function(i) {
            NA(e.TRANSFERABLE_METHODS, function(e) {
                i.wrapMethod(e, v(gu, t))
            })
        }), e.wrapMethod("cloneShallow", v(vu, t)), NA(e.CHANGABLE_METHODS, function(i) {
            e.wrapMethod(i, v(mu, t))
        }), k(i[e.dataType] === e)
    }

    function gu(t, e) {
        if (xu(this)) {
            var i = a({}, this[EA]);
            i[this.dataType] = e, _u(e, i, t)
        } else wu(e, this.dataType, this[zA], t);
        return e
    }

    function mu(t, e) {
        return t.struct && t.struct.update(this), e
    }

    function vu(t, e) {
        return NA(e[EA], function(i, n) {
            i !== e && wu(i.cloneShallow(), n, e, t)
        }), e
    }

    function yu(t) {
        var e = this[zA];
        return null == t || null == e ? e : e[EA][t]
    }

    function xu(t) {
        return t[zA] === t
    }

    function _u(t, e, i) {
        t[EA] = {}, NA(e, function(e, n) {
            wu(e, n, t, i)
        })
    }

    function wu(t, e, i, n) {
        i[EA][e] = t, t[zA] = i, t.dataType = e, n.struct && (t[n.structAttr] = n.struct, n.struct[n.datasAttr[e]] = t), t.getLinkedData = yu
    }

    function bu(t, e, i) {
        this.root, this.data, this._nodes = [], this.hostModel = t, this.levelModels = f(e || [], function(e) {
            return new _o(e, t, t.ecModel)
        }), this.leavesModel = new _o(i || {}, t, t.ecModel)
    }

    function Su(t, e) {
        var i = e.children;
        t.parentNode !== e && (i.push(t), t.parentNode = e)
    }

    function Mu(t) {
        t.hierNode = {
            defaultAncestor: null,
            ancestor: t,
            prelim: 0,
            modifier: 0,
            change: 0,
            shift: 0,
            i: 0,
            thread: null
        };
        for (var e, i, n = [t]; e = n.pop();)
            if (i = e.children, e.isExpand && i.length)
                for (var o = i.length - 1; o >= 0; o--) {
                    var a = i[o];
                    a.hierNode = {
                        defaultAncestor: null,
                        ancestor: a,
                        prelim: 0,
                        modifier: 0,
                        change: 0,
                        shift: 0,
                        i: o,
                        thread: null
                    }, n.push(a)
                }
    }

    function Iu(t, e) {
        var i = t.isExpand ? t.children : [],
            n = t.parentNode.children,
            o = t.hierNode.i ? n[t.hierNode.i - 1] : null;
        if (i.length) {
            Lu(t);
            var a = (i[0].hierNode.prelim + i[i.length - 1].hierNode.prelim) / 2;
            o ? (t.hierNode.prelim = o.hierNode.prelim + e(t, o), t.hierNode.modifier = t.hierNode.prelim - a) : t.hierNode.prelim = a
        } else o && (t.hierNode.prelim = o.hierNode.prelim + e(t, o));
        t.parentNode.hierNode.defaultAncestor = ku(t, o, t.parentNode.hierNode.defaultAncestor || n[0], e)
    }

    function Tu(t) {
        var e = t.hierNode.prelim + t.parentNode.hierNode.modifier;
        t.setLayout({
            x: e
        }, !0), t.hierNode.modifier += t.parentNode.hierNode.modifier
    }

    function Au(t) {
        return arguments.length ? t : zu
    }

    function Du(t, e) {
        var i = {};
        return t -= Math.PI / 2, i.x = e * Math.cos(t), i.y = e * Math.sin(t), i
    }

    function Cu(t, e) {
        return Ko(t.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        })
    }

    function Lu(t) {
        for (var e = t.children, i = e.length, n = 0, o = 0; --i >= 0;) {
            var a = e[i];
            a.hierNode.prelim += n, a.hierNode.modifier += n, o += a.hierNode.change, n += a.hierNode.shift + o
        }
    }

    function ku(t, e, i, n) {
        if (e) {
            for (var o = t, a = t, r = a.parentNode.children[0], s = e, l = o.hierNode.modifier, h = a.hierNode.modifier, u = r.hierNode.modifier, c = s.hierNode.modifier; s = Pu(s), a = Ou(a), s && a;) {
                o = Pu(o), r = Ou(r), o.hierNode.ancestor = t;
                var d = s.hierNode.prelim + c - a.hierNode.prelim - h + n(s, a);
                d > 0 && (Eu(Nu(s, t, i), t, d), h += d, l += d), c += s.hierNode.modifier, h += a.hierNode.modifier, l += o.hierNode.modifier, u += r.hierNode.modifier
            }
            s && !Pu(o) && (o.hierNode.thread = s, o.hierNode.modifier += c - l), a && !Ou(r) && (r.hierNode.thread = a, r.hierNode.modifier += h - u, i = t)
        }
        return i
    }

    function Pu(t) {
        var e = t.children;
        return e.length && t.isExpand ? e[e.length - 1] : t.hierNode.thread
    }

    function Ou(t) {
        var e = t.children;
        return e.length && t.isExpand ? e[0] : t.hierNode.thread
    }

    function Nu(t, e, i) {
        return t.hierNode.ancestor.parentNode === e.parentNode ? t.hierNode.ancestor : i
    }

    function Eu(t, e, i) {
        var n = i / (e.hierNode.i - t.hierNode.i);
        e.hierNode.change -= n, e.hierNode.shift += i, e.hierNode.modifier += i, e.hierNode.prelim += i, t.hierNode.change += n
    }

    function zu(t, e) {
        return t.parentNode === e.parentNode ? 1 : 2
    }

    function Ru(t, e) {
        var i = t.getItemLayout(e);
        return i && !isNaN(i.x) && !isNaN(i.y) && "none" !== t.getItemVisual(e, "symbol")
    }

    function Bu(t, e, i) {
        return i.itemModel = e, i.itemStyle = e.getModel("itemStyle").getItemStyle(), i.hoverItemStyle = e.getModel("emphasis.itemStyle").getItemStyle(), i.lineStyle = e.getModel("lineStyle").getLineStyle(), i.labelModel = e.getModel("label"), i.hoverLabelModel = e.getModel("emphasis.label"), !1 === t.isExpand && 0 !== t.children.length ? i.symbolInnerColor = i.itemStyle.fill : i.symbolInnerColor = "#fff", i
    }

    function Vu(t, e, i, n, o, a) {
        var s = !i,
            l = t.tree.getNodeByDataIndex(e),
            a = Bu(l, l.getModel(), a),
            h = t.tree.root,
            u = l.parentNode === h ? l : l.parentNode || l,
            c = t.getItemGraphicEl(u.dataIndex),
            d = u.getLayout(),
            f = c ? {
                x: c.position[0],
                y: c.position[1],
                rawX: c.__radialOldRawX,
                rawY: c.__radialOldRawY
            } : d,
            p = l.getLayout();
        s ? (i = new bl(t, e, a)).attr("position", [f.x, f.y]) : i.updateData(t, e, a), i.__radialOldRawX = i.__radialRawX, i.__radialOldRawY = i.__radialRawY, i.__radialRawX = p.rawX, i.__radialRawY = p.rawY, n.add(i), t.setItemGraphicEl(e, i), co(i, {
            position: [p.x, p.y]
        }, o);
        var g = i.getSymbolPath();
        if ("radial" === a.layout) {
            var m, v, y = h.children[0],
                x = y.getLayout(),
                _ = y.children.length;
            if (p.x === x.x && !0 === l.isExpand) {
                var w = {};
                w.x = (y.children[0].getLayout().x + y.children[_ - 1].getLayout().x) / 2, w.y = (y.children[0].getLayout().y + y.children[_ - 1].getLayout().y) / 2, (m = Math.atan2(w.y - x.y, w.x - x.x)) < 0 && (m = 2 * Math.PI + m), (v = w.x < x.x) && (m -= Math.PI)
            } else(m = Math.atan2(p.y - x.y, p.x - x.x)) < 0 && (m = 2 * Math.PI + m), 0 === l.children.length || 0 !== l.children.length && !1 === l.isExpand ? (v = p.x < x.x) && (m -= Math.PI) : (v = p.x > x.x) || (m -= Math.PI);
            var b = v ? "left" : "right";
            g.setStyle({
                textPosition: b,
                textRotation: -m,
                textOrigin: "center",
                verticalAlign: "middle"
            })
        }
        if (l.parentNode && l.parentNode !== h) {
            var S = i.__edge;
            S || (S = i.__edge = new Fb({
                shape: Wu(a, f, f),
                style: r({
                    opacity: 0
                }, a.lineStyle)
            })), co(S, {
                shape: Wu(a, d, p),
                style: {
                    opacity: 1
                }
            }, o), n.add(S)
        }
    }

    function Gu(t, e, i, n, o, a) {
        for (var r, s = t.tree.getNodeByDataIndex(e), l = t.tree.root, a = Bu(s, s.getModel(), a), h = s.parentNode === l ? s : s.parentNode || s; null == (r = h.getLayout());) h = h.parentNode === l ? h : h.parentNode || h;
        co(i, {
            position: [r.x + 1, r.y + 1]
        }, o, function() {
            n.remove(i), t.setItemGraphicEl(e, null)
        }), i.fadeOut(null, {
            keepLabel: !0
        });
        var u = i.__edge;
        u && co(u, {
            shape: Wu(a, r, r),
            style: {
                opacity: 0
            }
        }, o, function() {
            n.remove(u)
        })
    }

    function Wu(t, e, i) {
        var n, o, a, r, s = t.orient;
        if ("radial" === t.layout) {
            var l = e.rawX,
                h = e.rawY,
                u = i.rawX,
                c = i.rawY,
                d = Du(l, h),
                f = Du(l, h + (c - h) * t.curvature),
                p = Du(u, c + (h - c) * t.curvature),
                g = Du(u, c);
            return {
                x1: d.x,
                y1: d.y,
                x2: g.x,
                y2: g.y,
                cpx1: f.x,
                cpy1: f.y,
                cpx2: p.x,
                cpy2: p.y
            }
        }
        var l = e.x,
            h = e.y,
            u = i.x,
            c = i.y;
        return "horizontal" === s && (n = l + (u - l) * t.curvature, o = h, a = u + (l - u) * t.curvature, r = c), "vertical" === s && (n = l, o = h + (c - h) * t.curvature, a = u, r = c + (h - c) * t.curvature), {
            x1: l,
            y1: h,
            x2: u,
            y2: c,
            cpx1: n,
            cpy1: o,
            cpx2: a,
            cpy2: r
        }
    }

    function Fu(t, e, i) {
        for (var n, o = [t], a = []; n = o.pop();)
            if (a.push(n), n.isExpand) {
                var r = n.children;
                if (r.length)
                    for (var s = 0; s < r.length; s++) o.push(r[s])
            } for (; n = a.pop();) e(n, i)
    }

    function Hu(t, e) {
        for (var i, n = [t]; i = n.pop();)
            if (e(i), i.isExpand) {
                var o = i.children;
                if (o.length)
                    for (var a = o.length - 1; a >= 0; a--) n.push(o[a])
            }
    }

    function Zu(t, e, i) {
        if (t && l(e, t.type) >= 0) {
            var n = i.getData().tree.root,
                o = t.targetNode;
            if (o && n.contains(o)) return {
                node: o
            };
            var a = t.targetNodeId;
            if (null != a && (o = n.getNodeById(a))) return {
                node: o
            }
        }
    }

    function Uu(t) {
        for (var e = []; t;)(t = t.parentNode) && e.push(t);
        return e.reverse()
    }

    function ju(t, e) {
        return l(Uu(t), e) >= 0
    }

    function Xu(t, e) {
        for (var i = []; t;) {
            var n = t.dataIndex;
            i.push({
                name: t.name,
                dataIndex: n,
                value: e.getRawValue(n)
            }), t = t.parentNode
        }
        return i.reverse(), i
    }

    function Yu(t) {
        var e = 0;
        d(t.children, function(t) {
            Yu(t);
            var i = t.value;
            y(i) && (i = i[0]), e += i
        });
        var i = t.value;
        y(i) && (i = i[0]), (null == i || isNaN(i)) && (i = e), i < 0 && (i = 0), y(t.value) ? t.value[0] = i : t.value = i
    }

    function qu(t, e) {
        var i = e.get("color");
        if (i) {
            var n;
            return d(t = t || [], function(t) {
                var e = new _o(t),
                    i = e.get("color");
                (e.get("itemStyle.color") || i && "none" !== i) && (n = !0)
            }), n || ((t[0] || (t[0] = {})).color = i.slice()), t
        }
    }

    function $u(t) {
        this.group = new S_, t.add(this.group)
    }

    function Ku(t, e, i, n, o, a) {
        var r = [
            [o ? t : t - VA, e],
            [t + i, e],
            [t + i, e + n],
            [o ? t : t - VA, e + n]
        ];
        return !a && r.splice(2, 0, [t + i + VA, e + n / 2]), !o && r.push([t, e + n / 2]), r
    }

    function Ju(t, e, i) {
        t.eventData = {
            componentType: "series",
            componentSubType: "treemap",
            seriesIndex: e.componentIndex,
            seriesName: e.name,
            seriesType: "treemap",
            selfType: "breadcrumb",
            nodeData: {
                dataIndex: i && i.dataIndex,
                name: i && i.name
            },
            treePathInfo: i && Xu(i, e)
        }
    }

    function Qu() {
        var t, e = [],
            i = {};
        return {
            add: function(t, n, o, a, r) {
                return _(a) && (r = a, a = 0), !i[t.id] && (i[t.id] = 1, e.push({
                    el: t,
                    target: n,
                    time: o,
                    delay: a,
                    easing: r
                }), !0)
            },
            done: function(e) {
                return t = e, this
            },
            start: function() {
                for (var n = e.length, o = 0, a = e.length; o < a; o++) {
                    var r = e[o];
                    r.el.animateTo(r.target, r.time, r.delay, r.easing, function() {
                        --n || (e.length = 0, i = {}, t && t())
                    })
                }
                return this
            }
        }
    }

    function tc(t, e, n, o, r, s, l, h, u, c) {
        function d(t, e) {
            w ? !t.invisible && s.push(t) : (e(), t.__tmWillVisible || (t.invisible = !1))
        }

        function f(e, n, o, a, r, s) {
            var h = l.getModel(),
                u = T(t.getFormattedLabel(l.dataIndex, "normal", null, null, s ? "upperLabel" : "label"), h.get("name"));
            if (!s && v.isLeafRoot) {
                var c = t.get("drillDownIcon", !0);
                u = c ? c + " " + u : u
            }
            var d = h.getModel(s ? jA : ZA),
                f = h.getModel(s ? XA : UA),
                p = d.getShallow("show");
            eo(e, n, d, f, {
                defaultText: p ? u : null,
                autoColor: o,
                isRectText: !0
            }), s && (e.textRect = i(s)), e.truncate = p && d.get("ellipsis") ? {
                outerWidth: a,
                outerHeight: r,
                minChar: 2
            } : null
        }

        function p(t, i, o, a) {
            var s = null != S && n[t][S],
                l = r[t];
            return s ? (n[t][S] = null, g(l, s, t)) : w || ((s = new i({
                z: ec(o, a)
            })).__tmDepth = o, s.__tmStorageName = t, m(l, s, t)), e[t][b] = s
        }

        function g(t, e, i) {
            (t[b] = {}).old = "nodeGroup" === i ? e.position.slice() : a({}, e.shape)
        }

        function m(t, e, i) {
            var n = t[b] = {},
                a = l.parentNode;
            if (a && (!o || "drillDown" === o.direction)) {
                var s = 0,
                    h = 0,
                    u = r.background[a.getRawIndex()];
                !o && u && u.old && (s = u.old.width, h = u.old.height), n.old = "nodeGroup" === i ? [0, h] : {
                    x: s,
                    y: h,
                    width: 0,
                    height: 0
                }
            }
            n.fadein = "nodeGroup" !== i
        }
        if (l) {
            var v = l.getLayout();
            if (v && v.isInView) {
                var y = v.width,
                    x = v.height,
                    _ = v.borderWidth,
                    w = v.invisible,
                    b = l.getRawIndex(),
                    S = h && h.getRawIndex(),
                    M = l.viewChildren,
                    I = v.upperHeight,
                    A = M && M.length,
                    D = l.getModel("itemStyle"),
                    C = l.getModel("emphasis.itemStyle"),
                    L = p("nodeGroup", WA);
                if (L) {
                    if (u.add(L), L.attr("position", [v.x || 0, v.y || 0]), L.__tmNodeWidth = y, L.__tmNodeHeight = x, v.isAboveViewRoot) return L;
                    var k = p("background", FA, c, qA);
                    if (k && function(e, i, n) {
                            i.dataIndex = l.dataIndex, i.seriesIndex = t.seriesIndex, i.setShape({
                                x: 0,
                                y: 0,
                                width: y,
                                height: x
                            });
                            var o = l.getVisual("borderColor", !0),
                                a = C.get("borderColor");
                            d(i, function() {
                                var t = JA(D);
                                t.fill = o;
                                var e = KA(C);
                                if (e.fill = a, n) {
                                    var r = y - 2 * _;
                                    f(t, e, o, r, I, {
                                        x: _,
                                        y: 0,
                                        width: r,
                                        height: I
                                    })
                                } else t.text = e.text = null;
                                i.setStyle(t), to(i, e)
                            }), e.add(i)
                        }(L, k, A && v.upperHeight), !A) {
                        var P = p("content", FA, c, $A);
                        P && function(e, i) {
                            i.dataIndex = l.dataIndex, i.seriesIndex = t.seriesIndex;
                            var n = Math.max(y - 2 * _, 0),
                                o = Math.max(x - 2 * _, 0);
                            i.culling = !0, i.setShape({
                                x: _,
                                y: _,
                                width: n,
                                height: o
                            });
                            var a = l.getVisual("color", !0);
                            d(i, function() {
                                var t = JA(D);
                                t.fill = a;
                                var e = KA(C);
                                f(t, e, a, n, o), i.setStyle(t), to(i, e)
                            }), e.add(i)
                        }(L, P)
                    }
                    return L
                }
            }
        }
    }

    function ec(t, e) {
        var i = t * YA + e;
        return (i - 1) / i
    }

    function ic(t) {
        var e = t.pieceList;
        t.hasSpecialVisual = !1, d(e, function(e, i) {
            e.originIndex = i, null != e.visual && (t.hasSpecialVisual = !0)
        })
    }

    function nc(t) {
        var e = t.categories,
            i = t.visual,
            n = t.categoryMap = {};
        if (eD(e, function(t, e) {
                n[t] = e
            }), !y(i)) {
            var o = [];
            w(i) ? eD(i, function(t, e) {
                var i = n[e];
                o[null != i ? i : nD] = t
            }) : o[nD] = i, i = dc(t, o)
        }
        for (var a = e.length - 1; a >= 0; a--) null == i[a] && (delete n[e[a]], e.pop())
    }

    function oc(t, e) {
        var i = t.visual,
            n = [];
        w(i) ? eD(i, function(t) {
            n.push(t)
        }) : null != i && n.push(i);
        var o = {
            color: 1,
            symbol: 1
        };
        e || 1 !== n.length || o.hasOwnProperty(t.type) || (n[1] = n[0]), dc(t, n)
    }

    function ac(t) {
        return {
            applyVisual: function(e, i, n) {
                e = this.mapValueToVisual(e), n("color", t(i("color"), e))
            },
            _doMap: uc([0, 1])
        }
    }

    function rc(t) {
        var e = this.option.visual;
        return e[Math.round(Io(t, [0, 1], [0, e.length - 1], !0))] || {}
    }

    function sc(t) {
        return function(e, i, n) {
            n(t, this.mapValueToVisual(e))
        }
    }

    function lc(t) {
        var e = this.option.visual;
        return e[this.option.loop && t !== nD ? t % e.length : t]
    }

    function hc() {
        return this.option.visual[0]
    }

    function uc(t) {
        return {
            linear: function(e) {
                return Io(e, t, this.option.visual, !0)
            },
            category: lc,
            piecewise: function(e, i) {
                var n = cc.call(this, i);
                return null == n && (n = Io(e, t, this.option.visual, !0)), n
            },
            fixed: hc
        }
    }

    function cc(t) {
        var e = this.option,
            i = e.pieceList;
        if (e.hasSpecialVisual) {
            var n = i[oD.findPieceIndex(t, i)];
            if (n && n.visual) return n.visual[this.type]
        }
    }

    function dc(t, e) {
        return t.visual = e, "color" === t.type && (t.parsedVisual = f(e, function(t) {
            return Dt(t)
        })), e
    }

    function fc(t, e, i) {
        return t ? e <= i : e < i
    }

    function pc(t, e, i, n, o, a) {
        var r = t.getModel(),
            s = t.getLayout();
        if (s && !s.invisible && s.isInView) {
            var l, h = t.getModel(lD),
                u = gc(h, e, i[t.depth], n),
                c = h.get("borderColor"),
                f = h.get("borderColorSaturation");
            null != f && (c = vc(f, l = mc(u))), t.setVisual("borderColor", c);
            var p = t.viewChildren;
            if (p && p.length) {
                var g = xc(t, r, s, h, u, p);
                d(p, function(t, e) {
                    (t.depth >= o.length || t === o[t.depth]) && pc(t, wc(r, u, t, e, g, a), i, n, o, a)
                })
            } else l = mc(u), t.setVisual("color", l)
        }
    }

    function gc(t, e, i, n) {
        var o = a({}, e);
        return d(["color", "colorAlpha", "colorSaturation"], function(a) {
            var r = t.get(a, !0);
            null == r && i && (r = i[a]), null == r && (r = e[a]), null == r && (r = n.get(a)), null != r && (o[a] = r)
        }), o
    }

    function mc(t) {
        var e = yc(t, "color");
        if (e) {
            var i = yc(t, "colorAlpha"),
                n = yc(t, "colorSaturation");
            return n && (e = Et(e, null, null, n)), i && (e = zt(e, i)), e
        }
    }

    function vc(t, e) {
        return null != e ? Et(e, null, null, t) : null
    }

    function yc(t, e) {
        var i = t[e];
        if (null != i && "none" !== i) return i
    }

    function xc(t, e, i, n, o, a) {
        if (a && a.length) {
            var r = _c(e, "color") || null != o.color && "none" !== o.color && (_c(e, "colorAlpha") || _c(e, "colorSaturation"));
            if (r) {
                var s = e.get("visualMin"),
                    l = e.get("visualMax"),
                    h = i.dataExtent.slice();
                null != s && s < h[0] && (h[0] = s), null != l && l > h[1] && (h[1] = l);
                var u = e.get("colorMappingBy"),
                    c = {
                        type: r.name,
                        dataExtent: h,
                        visual: r.range
                    };
                "color" !== c.type || "index" !== u && "id" !== u ? c.mappingMethod = "linear" : (c.mappingMethod = "category", c.loop = !0);
                var d = new oD(c);
                return d.__drColorMappingBy = u, d
            }
        }
    }

    function _c(t, e) {
        var i = t.get(e);
        return sD(i) && i.length ? {
            name: e,
            range: i
        } : null
    }

    function wc(t, e, i, n, o, r) {
        var s = a({}, e);
        if (o) {
            var l = o.type,
                h = "color" === l && o.__drColorMappingBy,
                u = "index" === h ? n : "id" === h ? r.mapIdToIndex(i.getId()) : i.getValue(t.get("visualDimension"));
            s[l] = o.mapValueToVisual(u)
        }
        return s
    }

    function bc(t, e, i, n) {
        var o, a;
        if (!t.isRemoved()) {
            var r = t.getLayout();
            o = r.width, a = r.height;
            var s = (f = t.getModel()).get(pD),
                l = f.get(gD) / 2,
                h = Pc(f),
                u = Math.max(s, h),
                c = s - l,
                d = u - l,
                f = t.getModel();
            t.setLayout({
                borderWidth: s,
                upperHeight: u,
                upperLabelHeight: h
            }, !0);
            var p = (o = uD(o - 2 * c, 0)) * (a = uD(a - c - d, 0)),
                g = Sc(t, f, p, e, i, n);
            if (g.length) {
                var m = {
                        x: c,
                        y: d,
                        width: o,
                        height: a
                    },
                    v = cD(o, a),
                    y = 1 / 0,
                    x = [];
                x.area = 0;
                for (var _ = 0, w = g.length; _ < w;) {
                    var b = g[_];
                    x.push(b), x.area += b.getLayout().area;
                    var S = Ac(x, v, e.squareRatio);
                    S <= y ? (_++, y = S) : (x.area -= x.pop().getLayout().area, Dc(x, v, m, l, !1), v = cD(m.width, m.height), x.length = x.area = 0, y = 1 / 0)
                }
                if (x.length && Dc(x, v, m, l, !0), !i) {
                    var M = f.get("childrenVisibleMin");
                    null != M && p < M && (i = !0)
                }
                for (var _ = 0, w = g.length; _ < w; _++) bc(g[_], e, i, n + 1)
            }
        }
    }

    function Sc(t, e, i, n, o, a) {
        var r = t.children || [],
            s = n.sort;
        "asc" !== s && "desc" !== s && (s = null);
        var l = null != n.leafDepth && n.leafDepth <= a;
        if (o && !l) return t.viewChildren = [];
        Ic(r = g(r, function(t) {
            return !t.isRemoved()
        }), s);
        var h = Tc(e, r, s);
        if (0 === h.sum) return t.viewChildren = [];
        if (h.sum = Mc(e, i, h.sum, s, r), 0 === h.sum) return t.viewChildren = [];
        for (var u = 0, c = r.length; u < c; u++) {
            var d = r[u].getValue() / h.sum * i;
            r[u].setLayout({
                area: d
            })
        }
        return l && (r.length && t.setLayout({
            isLeafRoot: !0
        }, !0), r.length = 0), t.viewChildren = r, t.setLayout({
            dataExtent: h.dataExtent
        }, !0), r
    }

    function Mc(t, e, i, n, o) {
        if (!n) return i;
        for (var a = t.get("visibleMin"), r = o.length, s = r, l = r - 1; l >= 0; l--) {
            var h = o["asc" === n ? r - l - 1 : l].getValue();
            h / i * e < a && (s = l, i -= h)
        }
        return "asc" === n ? o.splice(0, r - s) : o.splice(s, r - s), i
    }

    function Ic(t, e) {
        return e && t.sort(function(t, i) {
            var n = "asc" === e ? t.getValue() - i.getValue() : i.getValue() - t.getValue();
            return 0 === n ? "asc" === e ? t.dataIndex - i.dataIndex : i.dataIndex - t.dataIndex : n
        }), t
    }

    function Tc(t, e, i) {
        for (var n = 0, o = 0, a = e.length; o < a; o++) n += e[o].getValue();
        var r = t.get("visualDimension");
        if (e && e.length)
            if ("value" === r && i) s = [e[e.length - 1].getValue(), e[0].getValue()], "asc" === i && s.reverse();
            else {
                var s = [1 / 0, -1 / 0];
                fD(e, function(t) {
                    var e = t.getValue(r);
                    e < s[0] && (s[0] = e), e > s[1] && (s[1] = e)
                })
            }
        else s = [NaN, NaN];
        return {
            sum: n,
            dataExtent: s
        }
    }

    function Ac(t, e, i) {
        for (var n, o = 0, a = 1 / 0, r = 0, s = t.length; r < s; r++)(n = t[r].getLayout().area) && (n < a && (a = n), n > o && (o = n));
        var l = t.area * t.area,
            h = e * e * i;
        return l ? uD(h * o / l, l / (h * a)) : 1 / 0
    }

    function Dc(t, e, i, n, o) {
        var a = e === i.width ? 0 : 1,
            r = 1 - a,
            s = ["x", "y"],
            l = ["width", "height"],
            h = i[s[a]],
            u = e ? t.area / e : 0;
        (o || u > i[l[r]]) && (u = i[l[r]]);
        for (var c = 0, d = t.length; c < d; c++) {
            var f = t[c],
                p = {},
                g = u ? f.getLayout().area / u : 0,
                m = p[l[r]] = uD(u - 2 * n, 0),
                v = i[s[a]] + i[l[a]] - h,
                y = c === d - 1 || v < g ? v : g,
                x = p[l[a]] = uD(y - 2 * n, 0);
            p[s[r]] = i[s[r]] + cD(n, m / 2), p[s[a]] = h + cD(n, x / 2), h += y, f.setLayout(p, !0)
        }
        i[s[r]] += u, i[l[r]] -= u
    }

    function Cc(t, e, i, n, o) {
        var a = (e || {}).node,
            r = [n, o];
        if (!a || a === i) return r;
        for (var s, l = n * o, h = l * t.option.zoomToNodeRatio; s = a.parentNode;) {
            for (var u = 0, c = s.children, d = 0, f = c.length; d < f; d++) u += c[d].getValue();
            var p = a.getValue();
            if (0 === p) return r;
            h *= u / p;
            var g = s.getModel(),
                m = g.get(pD);
            (h += 4 * m * m + (3 * m + Math.max(m, Pc(g))) * Math.pow(h, .5)) > hS && (h = hS), a = s
        }
        h < l && (h = l);
        var v = Math.pow(h / l, .5);
        return [n * v, o * v]
    }

    function Lc(t, e, i) {
        if (e) return {
            x: e.x,
            y: e.y
        };
        var n = {
            x: 0,
            y: 0
        };
        if (!i) return n;
        var o = i.node,
            a = o.getLayout();
        if (!a) return n;
        for (var r = [a.width / 2, a.height / 2], s = o; s;) {
            var l = s.getLayout();
            r[0] += l.x, r[1] += l.y, s = s.parentNode
        }
        return {
            x: t.width / 2 - r[0],
            y: t.height / 2 - r[1]
        }
    }

    function kc(t, e, i, n, o) {
        var a = t.getLayout(),
            r = i[o],
            s = r && r === t;
        if (!(r && !s || o === i.length && t !== n)) {
            t.setLayout({
                isInView: !0,
                invisible: !s && !e.intersect(a),
                isAboveViewRoot: s
            }, !0);
            var l = new Kt(e.x - a.x, e.y - a.y, e.width, e.height);
            fD(t.viewChildren || [], function(t) {
                kc(t, l, i, n, o + 1)
            })
        }
    }

    function Pc(t) {
        return t.get(mD) ? t.get(vD) : 0
    }

    function Oc(t) {
        return "_EC_" + t
    }

    function Nc(t, e) {
        this.id = null == t ? "" : t, this.inEdges = [], this.outEdges = [], this.edges = [], this.hostGraph, this.dataIndex = null == e ? -1 : e
    }

    function Ec(t, e, i) {
        this.node1 = t, this.node2 = e, this.dataIndex = null == i ? -1 : i
    }

    function zc(t) {
        return isNaN(+t.cpx1) || isNaN(+t.cpy1)
    }

    function Rc(t) {
        return "_" + t + "Type"
    }

    function Bc(t, e, i) {
        var n = e.getItemVisual(i, "color"),
            o = e.getItemVisual(i, t),
            a = e.getItemVisual(i, t + "Size");
        if (o && "none" !== o) {
            y(a) || (a = [a, a]);
            var r = dl(o, -a[0] / 2, -a[1] / 2, a[0], a[1], n);
            return r.name = t, r
        }
    }

    function Vc(t) {
        var e = new TD({
            name: "line"
        });
        return Gc(e.shape, t), e
    }

    function Gc(t, e) {
        var i = e[0],
            n = e[1],
            o = e[2];
        t.x1 = i[0], t.y1 = i[1], t.x2 = n[0], t.y2 = n[1], t.percent = 1, o ? (t.cpx1 = o[0], t.cpy1 = o[1]) : (t.cpx1 = NaN, t.cpy1 = NaN)
    }

    function Wc(t, e, i) {
        S_.call(this), this._createLine(t, e, i)
    }

    function Fc(t) {
        this._ctor = t || Wc, this.group = new S_
    }

    function Hc(t, e, i, n) {
        if (Xc(e.getItemLayout(i))) {
            var o = new t._ctor(e, i, n);
            e.setItemGraphicEl(i, o), t.group.add(o)
        }
    }

    function Zc(t, e, i, n, o, a) {
        var r = e.getItemGraphicEl(n);
        Xc(i.getItemLayout(o)) ? (r ? r.updateData(i, o, a) : r = new t._ctor(i, o, a), i.setItemGraphicEl(o, r), t.group.add(r)) : t.group.remove(r)
    }

    function Uc(t) {
        var e = t.hostModel;
        return {
            lineStyle: e.getModel("lineStyle").getLineStyle(),
            hoverLineStyle: e.getModel("emphasis.lineStyle").getLineStyle(),
            labelModel: e.getModel("label"),
            hoverLabelModel: e.getModel("emphasis.label")
        }
    }

    function jc(t) {
        return isNaN(t[0]) || isNaN(t[1])
    }

    function Xc(t) {
        return !jc(t[0]) && !jc(t[1])
    }

    function Yc(t, e, i) {
        for (var n, o = t[0], a = t[1], r = t[2], s = 1 / 0, l = i * i, h = .1, u = .1; u <= .9; u += .1) LD[0] = OD(o[0], a[0], r[0], u), LD[1] = OD(o[1], a[1], r[1], u), (f = ED(ND(LD, e) - l)) < s && (s = f, n = u);
        for (var c = 0; c < 32; c++) {
            var d = n + h;
            kD[0] = OD(o[0], a[0], r[0], n), kD[1] = OD(o[1], a[1], r[1], n), PD[0] = OD(o[0], a[0], r[0], d), PD[1] = OD(o[1], a[1], r[1], d);
            var f = ND(kD, e) - l;
            if (ED(f) < .01) break;
            var p = ND(PD, e) - l;
            h /= 2, f < 0 ? p >= 0 ? n += h : n -= h : p >= 0 ? n -= h : n += h
        }
        return n
    }

    function qc(t, e) {
        return t.getVisual("opacity") || t.getModel().get(e)
    }

    function $c(t, e, i) {
        var n = t.getGraphicEl(),
            o = qc(t, e);
        null != i && (null == o && (o = 1), o *= i), n.downplay && n.downplay(), n.traverse(function(t) {
            "group" !== t.type && t.setStyle("opacity", o)
        })
    }

    function Kc(t, e) {
        var i = qc(t, e),
            n = t.getGraphicEl();
        n.highlight && n.highlight(), n.traverse(function(t) {
            "group" !== t.type && t.setStyle("opacity", i)
        })
    }

    function Jc(t) {
        return t instanceof Array || (t = [t, t]), t
    }

    function Qc(t) {
        var e = t.coordinateSystem;
        if (!e || "view" === e.type) {
            var i = t.getGraph();
            i.eachNode(function(t) {
                var e = t.getModel();
                t.setLayout([+e.get("x"), +e.get("y")])
            }), td(i)
        }
    }

    function td(t) {
        t.eachEdge(function(t) {
            var e = t.getModel().get("lineStyle.curveness") || 0,
                i = W(t.node1.getLayout()),
                n = W(t.node2.getLayout()),
                o = [i, n]; + e && o.push([(i[0] + n[0]) / 2 - (i[1] - n[1]) * e, (i[1] + n[1]) / 2 - (n[0] - i[0]) * e]), t.setLayout(o)
        })
    }

    function ed(t) {
        var e = t.coordinateSystem;
        if (!e || "view" === e.type) {
            var i = e.getBoundingRect(),
                n = t.getData(),
                o = n.graph,
                a = 0,
                r = n.getSum("value"),
                s = 2 * Math.PI / (r || n.count()),
                l = i.width / 2 + i.x,
                h = i.height / 2 + i.y,
                u = Math.min(i.width, i.height) / 2;
            o.eachNode(function(t) {
                var e = t.getValue("value");
                a += s * (r ? e : 1) / 2, t.setLayout([u * Math.cos(a) + l, u * Math.sin(a) + h]), a += s * (r ? e : 1) / 2
            }), n.setLayout({
                cx: l,
                cy: h
            }), o.eachEdge(function(t) {
                var e, i = t.getModel().get("lineStyle.curveness") || 0,
                    n = W(t.node1.getLayout()),
                    o = W(t.node2.getLayout()),
                    a = (n[0] + o[0]) / 2,
                    r = (n[1] + o[1]) / 2; + i && (e = [l * (i *= 3) + a * (1 - i), h * i + r * (1 - i)]), t.setLayout([n, o, e])
            })
        }
    }

    function id(t, e, i) {
        for (var n = i.rect, o = n.width, a = n.height, r = [n.x + o / 2, n.y + a / 2], s = null == i.gravity ? .1 : i.gravity, l = 0; l < t.length; l++) {
            var h = t[l];
            h.p || (h.p = V(o * (Math.random() - .5) + r[0], a * (Math.random() - .5) + r[1])), h.pp = W(h.p), h.edges = null
        }
        var u = .6;
        return {
            warmUp: function() {
                u = .5
            },
            setFixed: function(e) {
                t[e].fixed = !0
            },
            setUnfixed: function(e) {
                t[e].fixed = !1
            },
            step: function(i) {
                for (var n = [], o = t.length, a = 0; a < e.length; a++) {
                    var l = e[a],
                        h = l.n1;
                    U(n, (p = l.n2).p, h.p);
                    var c = j(n) - l.d,
                        d = p.w / (h.w + p.w);
                    isNaN(d) && (d = 0), q(n, n), !h.fixed && VD(h.p, h.p, n, d * c * u), !p.fixed && VD(p.p, p.p, n, -(1 - d) * c * u)
                }
                for (a = 0; a < o; a++)(v = t[a]).fixed || (U(n, r, v.p), VD(v.p, v.p, n, s * u));
                for (a = 0; a < o; a++)
                    for (var h = t[a], f = a + 1; f < o; f++) {
                        var p = t[f];
                        U(n, p.p, h.p), 0 === (c = j(n)) && (F(n, Math.random() - .5, Math.random() - .5), c = 1);
                        var g = (h.rep + p.rep) / c / c;
                        !h.fixed && VD(h.pp, h.pp, n, g), !p.fixed && VD(p.pp, p.pp, n, -g)
                    }
                for (var m = [], a = 0; a < o; a++) {
                    var v = t[a];
                    v.fixed || (U(m, v.p, v.pp), VD(v.p, v.p, m, u), G(v.pp, v.p))
                }
                u *= .992, i && i(t, e, u < .01)
            }
        }
    }

    function nd(t, e, i) {
        var n = t.getBoxLayoutParams();
        return n.aspect = i, Ko(n, {
            width: e.getWidth(),
            height: e.getHeight()
        })
    }

    function od(t, e) {
        var i = t.get("center"),
            n = e.getWidth(),
            o = e.getHeight(),
            a = Math.min(n, o);
        return {
            cx: To(i[0], e.getWidth()),
            cy: To(i[1], e.getHeight()),
            r: To(t.get("radius"), a / 2)
        }
    }

    function ad(t, e) {
        return e && ("string" == typeof e ? t = e.replace("{value}", null != t ? t : "") : "function" == typeof e && (t = e(t))), t
    }

    function rd(t, e) {
        function i() {
            a.ignore = a.hoverIgnore, r.ignore = r.hoverIgnore
        }

        function n() {
            a.ignore = a.normalIgnore, r.ignore = r.normalIgnore
        }
        S_.call(this);
        var o = new Rb,
            a = new Bb,
            r = new Cb;
        this.add(o), this.add(a), this.add(r), this.updateData(t, e, !0), this.on("emphasis", i).on("normal", n).on("mouseover", i).on("mouseout", n)
    }

    function sd(t, e) {
        return Ko(t.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        })
    }

    function ld(t, e) {
        for (var i = t.mapDimension("value"), n = t.mapArray(i, function(t) {
                return t
            }), o = [], a = "ascending" === e, r = 0, s = t.count(); r < s; r++) o[r] = r;
        return "function" == typeof e ? o.sort(e) : "none" !== e && o.sort(function(t, e) {
            return a ? n[t] - n[e] : n[e] - n[t]
        }), o
    }

    function hd(t) {
        t.each(function(e) {
            var i, n, o, a, r = t.getItemModel(e),
                s = r.getModel("label").get("position"),
                l = r.getModel("labelLine"),
                h = t.getItemLayout(e),
                u = h.points,
                c = "inner" === s || "inside" === s || "center" === s;
            if (c) i = "center", a = [
                [n = (u[0][0] + u[1][0] + u[2][0] + u[3][0]) / 4, o = (u[0][1] + u[1][1] + u[2][1] + u[3][1]) / 4],
                [n, o]
            ];
            else {
                var d, f, p, g = l.get("length");
                "left" === s ? (d = (u[3][0] + u[0][0]) / 2, f = (u[3][1] + u[0][1]) / 2, n = (p = d - g) - 5, i = "right") : (d = (u[1][0] + u[2][0]) / 2, f = (u[1][1] + u[2][1]) / 2, n = (p = d + g) + 5, i = "left");
                var m = f;
                a = [
                    [d, f],
                    [p, m]
                ], o = m
            }
            h.label = {
                linePoints: a,
                x: n,
                y: o,
                verticalAlign: "middle",
                textAlign: i,
                inside: c
            }
        })
    }

    function ud(t) {
        if (!t.parallel) {
            var e = !1;
            d(t.series, function(t) {
                t && "parallel" === t.type && (e = !0)
            }), e && (t.parallel = [{}])
        }
    }

    function cd(t) {
        d(Si(t.parallelAxis), function(e) {
            if (w(e)) {
                var i = e.parallelIndex || 0,
                    o = Si(t.parallel)[i];
                o && o.parallelAxisDefault && n(e, o.parallelAxisDefault, !1)
            }
        })
    }

    function dd(t, e) {
        var i = t[e] - t[1 - e];
        return {
            span: Math.abs(i),
            sign: i > 0 ? -1 : i < 0 ? 1 : e ? -1 : 1
        }
    }

    function fd(t, e) {
        return Math.min(e[1], Math.max(e[0], t))
    }

    function pd(t, e, i) {
        this._axesMap = z(), this._axesLayout = {}, this.dimensions = t.dimensions, this._rect, this._model = t, this._init(t, e, i)
    }

    function gd(t, e) {
        return YD(qD(t, e[0]), e[1])
    }

    function md(t, e) {
        var i = e.layoutLength / (e.axisCount - 1);
        return {
            position: i * t,
            axisNameAvailableWidth: i,
            axisLabelShow: !0
        }
    }

    function vd(t, e) {
        var i, n, o = e.layoutLength,
            a = e.axisExpandWidth,
            r = e.axisCount,
            s = e.axisCollapseWidth,
            l = e.winInnerIndices,
            h = s,
            u = !1;
        return t < l[0] ? (i = t * s, n = s) : t <= l[1] ? (i = e.axisExpandWindow0Pos + t * a - e.axisExpandWindow[0], h = a, u = !0) : (i = o - (r - 1 - t) * s, n = s), {
            position: i,
            axisNameAvailableWidth: h,
            axisLabelShow: u,
            nameTruncateMaxWidth: n
        }
    }

    function yd(t) {
        Hx.call(this), this._zr = t, this.group = new S_, this._brushType, this._brushOption, this._panels, this._track = [], this._dragging, this._covers = [], this._creatingCover, this._creatingPanel, this._enableGlobalPan, this._uid = "brushController_" + gC++, this._handlers = {}, nC(mC, function(t, e) {
            this._handlers[e] = m(t, this)
        }, this)
    }

    function xd(t, e) {
        var o = t._zr;
        t._enableGlobalPan || Gh(o, cC, t._uid), nC(t._handlers, function(t, e) {
            o.on(e, t)
        }), t._brushType = e.brushType, t._brushOption = n(i(pC), e, !0)
    }

    function _d(t) {
        var e = t._zr;
        Wh(e, cC, t._uid), nC(t._handlers, function(t, i) {
            e.off(i, t)
        }), t._brushType = t._brushOption = null
    }

    function wd(t, e) {
        var i = vC[e.brushType].createCover(t, e);
        return i.__brushOption = e, Md(i, e), t.group.add(i), i
    }

    function bd(t, e) {
        var i = Td(e);
        return i.endCreating && (i.endCreating(t, e), Md(e, e.__brushOption)), e
    }

    function Sd(t, e) {
        var i = e.__brushOption;
        Td(e).updateCoverShape(t, e, i.range, i)
    }

    function Md(t, e) {
        var i = e.z;
        null == i && (i = lC), t.traverse(function(t) {
            t.z = i, t.z2 = i
        })
    }

    function Id(t, e) {
        Td(e).updateCommon(t, e), Sd(t, e)
    }

    function Td(t) {
        return vC[t.__brushOption.brushType]
    }

    function Ad(t, e, i) {
        var n = t._panels;
        if (!n) return !0;
        var o, a = t._transform;
        return nC(n, function(t) {
            t.isTargetByCursor(e, i, a) && (o = t)
        }), o
    }

    function Dd(t, e) {
        var i = t._panels;
        if (!i) return !0;
        var n = e.__brushOption.panelId;
        return null == n || i[n]
    }

    function Cd(t) {
        var e = t._covers,
            i = e.length;
        return nC(e, function(e) {
            t.group.remove(e)
        }, t), e.length = 0, !!i
    }

    function Ld(t, e) {
        var n = oC(t._covers, function(t) {
            var e = t.__brushOption,
                n = i(e.range);
            return {
                brushType: e.brushType,
                panelId: e.panelId,
                range: n
            }
        });
        t.trigger("brush", n, {
            isEnd: !!e.isEnd,
            removeOnClick: !!e.removeOnClick
        })
    }

    function kd(t) {
        var e = t._track;
        if (!e.length) return !1;
        var i = e[e.length - 1],
            n = e[0],
            o = i[0] - n[0],
            a = i[1] - n[1];
        return sC(o * o + a * a, .5) > hC
    }

    function Pd(t) {
        var e = t.length - 1;
        return e < 0 && (e = 0), [t[0], t[e]]
    }

    function Od(t, e, i, n) {
        var o = new S_;
        return o.add(new Vb({
            name: "main",
            style: Rd(i),
            silent: !0,
            draggable: !0,
            cursor: "move",
            drift: iC(t, e, o, "nswe"),
            ondragend: iC(Ld, e, {
                isEnd: !0
            })
        })), nC(n, function(i) {
            o.add(new Vb({
                name: i,
                style: {
                    opacity: 0
                },
                draggable: !0,
                silent: !0,
                invisible: !0,
                drift: iC(t, e, o, i),
                ondragend: iC(Ld, e, {
                    isEnd: !0
                })
            }))
        }), o
    }

    function Nd(t, e, i, n) {
        var o = n.brushStyle.lineWidth || 0,
            a = rC(o, uC),
            r = i[0][0],
            s = i[1][0],
            l = r - o / 2,
            h = s - o / 2,
            u = i[0][1],
            c = i[1][1],
            d = u - a + o / 2,
            f = c - a + o / 2,
            p = u - r,
            g = c - s,
            m = p + o,
            v = g + o;
        zd(t, e, "main", r, s, p, g), n.transformable && (zd(t, e, "w", l, h, a, v), zd(t, e, "e", d, h, a, v), zd(t, e, "n", l, h, m, a), zd(t, e, "s", l, f, m, a), zd(t, e, "nw", l, h, a, a), zd(t, e, "ne", d, h, a, a), zd(t, e, "sw", l, f, a, a), zd(t, e, "se", d, f, a, a))
    }

    function Ed(t, e) {
        var i = e.__brushOption,
            n = i.transformable,
            o = e.childAt(0);
        o.useStyle(Rd(i)), o.attr({
            silent: !n,
            cursor: n ? "move" : "default"
        }), nC(["w", "e", "n", "s", "se", "sw", "ne", "nw"], function(i) {
            var o = e.childOfName(i),
                a = Gd(t, i);
            o && o.attr({
                silent: !n,
                invisible: !n,
                cursor: n ? fC[a] + "-resize" : null
            })
        })
    }

    function zd(t, e, i, n, o, a, r) {
        var s = e.childOfName(i);
        s && s.setShape(Ud(Zd(t, e, [
            [n, o],
            [n + a, o + r]
        ])))
    }

    function Rd(t) {
        return r({
            strokeNoScale: !0
        }, t.brushStyle)
    }

    function Bd(t, e, i, n) {
        var o = [aC(t, i), aC(e, n)],
            a = [rC(t, i), rC(e, n)];
        return [
            [o[0], a[0]],
            [o[1], a[1]]
        ]
    }

    function Vd(t) {
        return po(t.group)
    }

    function Gd(t, e) {
        if (e.length > 1) return ("e" === (n = [Gd(t, (e = e.split(""))[0]), Gd(t, e[1])])[0] || "w" === n[0]) && n.reverse(), n.join("");
        var i = {
                left: "w",
                right: "e",
                top: "n",
                bottom: "s"
            },
            n = mo({
                w: "left",
                e: "right",
                n: "top",
                s: "bottom"
            } [e], Vd(t));
        return i[n]
    }

    function Wd(t, e, i, n, o, a, r, s) {
        var l = n.__brushOption,
            h = t(l.range),
            u = Hd(i, a, r);
        nC(o.split(""), function(t) {
            var e = dC[t];
            h[e[0]][e[1]] += u[e[0]]
        }), l.range = e(Bd(h[0][0], h[1][0], h[0][1], h[1][1])), Id(i, n), Ld(i, {
            isEnd: !1
        })
    }

    function Fd(t, e, i, n, o) {
        var a = e.__brushOption.range,
            r = Hd(t, i, n);
        nC(a, function(t) {
            t[0] += r[0], t[1] += r[1]
        }), Id(t, e), Ld(t, {
            isEnd: !1
        })
    }

    function Hd(t, e, i) {
        var n = t.group,
            o = n.transformCoordToLocal(e, i),
            a = n.transformCoordToLocal(0, 0);
        return [o[0] - a[0], o[1] - a[1]]
    }

    function Zd(t, e, n) {
        var o = Dd(t, e);
        return o && !0 !== o ? o.clipPath(n, t._transform) : i(n)
    }

    function Ud(t) {
        var e = aC(t[0][0], t[1][0]),
            i = aC(t[0][1], t[1][1]);
        return {
            x: e,
            y: i,
            width: rC(t[0][0], t[1][0]) - e,
            height: rC(t[0][1], t[1][1]) - i
        }
    }

    function jd(t, e, i) {
        if (t._brushType) {
            var n = t._zr,
                o = t._covers,
                a = Ad(t, e, i);
            if (!t._dragging)
                for (var r = 0; r < o.length; r++) {
                    var s = o[r].__brushOption;
                    if (a && (!0 === a || s.panelId === a.panelId) && vC[s.brushType].contain(o[r], i[0], i[1])) return
                }
            a && n.setCursorStyle("crosshair")
        }
    }

    function Xd(t) {
        var e = t.event;
        e.preventDefault && e.preventDefault()
    }

    function Yd(t, e, i) {
        return t.childOfName("main").contain(e, i)
    }

    function qd(t, e, n, o) {
        var a, r = t._creatingCover,
            s = t._creatingPanel,
            l = t._brushOption;
        if (t._track.push(n.slice()), kd(t) || r) {
            if (s && !r) {
                "single" === l.brushMode && Cd(t);
                var h = i(l);
                h.brushType = $d(h.brushType, s), h.panelId = !0 === s ? null : s.panelId, r = t._creatingCover = wd(t, h), t._covers.push(r)
            }
            if (r) {
                var u = vC[$d(t._brushType, s)];
                r.__brushOption.range = u.getCreatingRange(Zd(t, r, t._track)), o && (bd(t, r), u.updateCommon(t, r)), Sd(t, r), a = {
                    isEnd: o
                }
            }
        } else o && "single" === l.brushMode && l.removeOnClick && Ad(t, e, n) && Cd(t) && (a = {
            isEnd: o,
            removeOnClick: !0
        });
        return a
    }

    function $d(t, e) {
        return "auto" === t ? e.defaultBrushType : t
    }

    function Kd(t) {
        if (this._dragging) {
            Xd(t);
            var e = qd(this, t, this.group.transformCoordToLocal(t.offsetX, t.offsetY), !0);
            this._dragging = !1, this._track = [], this._creatingCover = null, e && Ld(this, e)
        }
    }

    function Jd(t) {
        return {
            createCover: function(e, i) {
                return Od(iC(Wd, function(e) {
                    var i = [e, [0, 100]];
                    return t && i.reverse(), i
                }, function(e) {
                    return e[t]
                }), e, i, [
                    ["w", "e"],
                    ["n", "s"]
                ][t])
            },
            getCreatingRange: function(e) {
                var i = Pd(e);
                return [aC(i[0][t], i[1][t]), rC(i[0][t], i[1][t])]
            },
            updateCoverShape: function(e, i, n, o) {
                var a, r = Dd(e, i);
                if (!0 !== r && r.getLinearBrushOtherExtent) a = r.getLinearBrushOtherExtent(t, e._transform);
                else {
                    var s = e._zr;
                    a = [0, [s.getWidth(), s.getHeight()][1 - t]]
                }
                var l = [n, a];
                t && l.reverse(), Nd(e, i, l, o)
            },
            updateCommon: Ed,
            contain: Yd
        }
    }

    function Qd(t) {
        return t = nf(t),
            function(e, i) {
                return yo(e, t)
            }
    }

    function tf(t, e) {
        return t = nf(t),
            function(i) {
                var n = null != e ? e : i,
                    o = n ? t.width : t.height,
                    a = n ? t.x : t.y;
                return [a, a + (o || 0)]
            }
    }

    function ef(t, e, i) {
        return t = nf(t),
            function(n, o, a) {
                return t.contain(o[0], o[1]) && !tu(n, e, i)
            }
    }

    function nf(t) {
        return Kt.create(t)
    }

    function of (t, e, i) {
        return i && "axisAreaSelect" === i.type && e.findComponents({
            mainType: "parallelAxis",
            query: i
        })[0] === t
    }

    function af(t) {
        var e = t.axis;
        return f(t.activeIntervals, function(t) {
            return {
                brushType: "lineX",
                panelId: "pl",
                range: [e.dataToCoord(t[0], !0), e.dataToCoord(t[1], !0)]
            }
        })
    }

    function rf(t, e) {
        return e.getComponent("parallel", t.get("parallelIndex"))
    }

    function sf(t, e) {
        var i = t._model;
        return i.get("axisExpandable") && i.get("axisExpandTriggerOn") === e
    }

    function lf(t, e) {
        if (!t.encodeDefine) {
            var i = e.ecModel.getComponent("parallel", e.get("parallelIndex"));
            if (i) {
                var n = t.encodeDefine = z();
                d(i.dimensions, function(t) {
                    var e = hf(t);
                    n.set(t, e)
                })
            }
        }
    }

    function hf(t) {
        return +t.replace("dim", "")
    }

    function uf(t, e, i) {
        var n = t.model,
            o = t.getRect(),
            a = new Vb({
                shape: {
                    x: o.x,
                    y: o.y,
                    width: o.width,
                    height: o.height
                }
            }),
            r = "horizontal" === n.get("layout") ? "width" : "height";
        return a.setShape(r, 0), fo(a, {
            shape: {
                width: o.width,
                height: o.height
            }
        }, e, i), a
    }

    function cf(t, e, i, n) {
        for (var o = [], a = 0; a < i.length; a++) {
            var r = i[a],
                s = t.get(t.mapDimension(r), e);
            pf(s, n.getAxis(r).type) || o.push(n.dataToPoint(s, r))
        }
        return o
    }

    function df(t, e, i, n, o) {
        var a = cf(t, i, n, o),
            r = new Bb({
                shape: {
                    points: a
                },
                silent: !0,
                z2: 10
            });
        e.add(r), t.setItemGraphicEl(i, r)
    }

    function ff(t, e) {
        var i = t.hostModel.getModel("lineStyle"),
            n = i.getLineStyle();
        t.eachItemGraphicEl(function(o, r) {
            if (t.hasItemOption) {
                var s = t.getItemModel(r).getModel("lineStyle", i);
                n = s.getLineStyle(["color", "stroke"])
            }
            o.useStyle(a(n, {
                fill: null,
                stroke: t.getItemVisual(r, "color"),
                opacity: t.getItemVisual(r, "opacity")
            })), o.shape.smooth = e
        })
    }

    function pf(t, e) {
        return "category" === e ? null == t : null == t || isNaN(t)
    }

    function gf(t, e, i) {
        var n = new Vb({
            shape: {
                x: t.x - 10,
                y: t.y - 10,
                width: 0,
                height: t.height + 20
            }
        });
        return fo(n, {
            shape: {
                width: t.width + 20,
                height: t.height + 20
            }
        }, e, i), n
    }

    function mf() {
        function t(e, n) {
            if (n >= i.length) return e;
            for (var o = -1, a = e.length, r = i[n++], s = {}, l = {}; ++o < a;) {
                var h = r(e[o]),
                    u = l[h];
                u ? u.push(e[o]) : l[h] = [e[o]]
            }
            return d(l, function(e, i) {
                s[i] = t(e, n)
            }), s
        }

        function e(t, o) {
            if (o >= i.length) return t;
            var a = [],
                r = n[o++];
            return d(t, function(t, i) {
                a.push({
                    key: i,
                    values: e(t, o)
                })
            }), r ? a.sort(function(t, e) {
                return r(t.key, e.key)
            }) : a
        }
        var i = [],
            n = [];
        return {
            key: function(t) {
                return i.push(t), this
            },
            sortKeys: function(t) {
                return n[i.length - 1] = t, this
            },
            entries: function(i) {
                return e(t(i, 0), 0)
            }
        }
    }

    function vf(t, e) {
        return Ko(t.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        })
    }

    function yf(t, e, i, n, o, a, r) {
        _f(t, i, o), Sf(t, e, a, n, r), Lf(t)
    }

    function xf(t) {
        d(t, function(t) {
            var e = Of(t.outEdges, Rf),
                i = Of(t.inEdges, Rf),
                n = Math.max(e, i);
            t.setLayout({
                value: n
            }, !0)
        })
    }

    function _f(t, e, i) {
        for (var n = t, o = null, a = 0; n.length;) {
            o = [];
            for (var r = 0, s = n.length; r < s; r++) {
                var l = n[r];
                l.setLayout({
                    x: a
                }, !0), l.setLayout({
                    dx: e
                }, !0);
                for (var h = 0, u = l.outEdges.length; h < u; h++) o.push(l.outEdges[h].node2)
            }
            n = o, ++a
        }
        wf(t, a), bf(t, (i - e) / (a - 1))
    }

    function wf(t, e) {
        d(t, function(t) {
            t.outEdges.length || t.setLayout({
                x: e - 1
            }, !0)
        })
    }

    function bf(t, e) {
        d(t, function(t) {
            var i = t.getLayout().x * e;
            t.setLayout({
                x: i
            }, !0)
        })
    }

    function Sf(t, e, i, n, o) {
        var a = mf().key(function(t) {
            return t.getLayout().x
        }).sortKeys(zf).entries(t).map(function(t) {
            return t.values
        });
        Mf(t, a, e, i, n), If(a, n, i);
        for (var r = 1; o > 0; o--) Tf(a, r *= .99), If(a, n, i), Df(a, r), If(a, n, i)
    }

    function Mf(t, e, i, n, o) {
        var a = [];
        d(e, function(t) {
            var e = t.length,
                i = 0;
            d(t, function(t) {
                i += t.getLayout().value
            });
            var r = (n - (e - 1) * o) / i;
            a.push(r)
        }), a.sort(function(t, e) {
            return t - e
        });
        var r = a[0];
        d(e, function(t) {
            d(t, function(t, e) {
                t.setLayout({
                    y: e
                }, !0);
                var i = t.getLayout().value * r;
                t.setLayout({
                    dy: i
                }, !0)
            })
        }), d(i, function(t) {
            var e = +t.getValue() * r;
            t.setLayout({
                dy: e
            }, !0)
        })
    }

    function If(t, e, i) {
        d(t, function(t) {
            var n, o, a, r = 0,
                s = t.length;
            for (t.sort(Ef), a = 0; a < s; a++) {
                if (n = t[a], (o = r - n.getLayout().y) > 0) {
                    l = n.getLayout().y + o;
                    n.setLayout({
                        y: l
                    }, !0)
                }
                r = n.getLayout().y + n.getLayout().dy + e
            }
            if ((o = r - e - i) > 0) {
                var l = n.getLayout().y - o;
                for (n.setLayout({
                        y: l
                    }, !0), r = n.getLayout().y, a = s - 2; a >= 0; --a)(o = (n = t[a]).getLayout().y + n.getLayout().dy + e - r) > 0 && (l = n.getLayout().y - o, n.setLayout({
                    y: l
                }, !0)), r = n.getLayout().y
            }
        })
    }

    function Tf(t, e) {
        d(t.slice().reverse(), function(t) {
            d(t, function(t) {
                if (t.outEdges.length) {
                    var i = Of(t.outEdges, Af) / Of(t.outEdges, Rf),
                        n = t.getLayout().y + (i - Nf(t)) * e;
                    t.setLayout({
                        y: n
                    }, !0)
                }
            })
        })
    }

    function Af(t) {
        return Nf(t.node2) * t.getValue()
    }

    function Df(t, e) {
        d(t, function(t) {
            d(t, function(t) {
                if (t.inEdges.length) {
                    var i = Of(t.inEdges, Cf) / Of(t.inEdges, Rf),
                        n = t.getLayout().y + (i - Nf(t)) * e;
                    t.setLayout({
                        y: n
                    }, !0)
                }
            })
        })
    }

    function Cf(t) {
        return Nf(t.node1) * t.getValue()
    }

    function Lf(t) {
        d(t, function(t) {
            t.outEdges.sort(kf), t.inEdges.sort(Pf)
        }), d(t, function(t) {
            var e = 0,
                i = 0;
            d(t.outEdges, function(t) {
                t.setLayout({
                    sy: e
                }, !0), e += t.getLayout().dy
            }), d(t.inEdges, function(t) {
                t.setLayout({
                    ty: i
                }, !0), i += t.getLayout().dy
            })
        })
    }

    function kf(t, e) {
        return t.node2.getLayout().y - e.node2.getLayout().y
    }

    function Pf(t, e) {
        return t.node1.getLayout().y - e.node1.getLayout().y
    }

    function Of(t, e) {
        for (var i = 0, n = t.length, o = -1; ++o < n;) {
            var a = +e.call(t, t[o], o);
            isNaN(a) || (i += a)
        }
        return i
    }

    function Nf(t) {
        return t.getLayout().y + t.getLayout().dy / 2
    }

    function Ef(t, e) {
        return t.getLayout().y - e.getLayout().y
    }

    function zf(t, e) {
        return t < e ? -1 : t > e ? 1 : t === e ? 0 : NaN
    }

    function Rf(t) {
        return t.getValue()
    }

    function Bf(t, e, i, n) {
        S_.call(this), this.bodyIndex, this.whiskerIndex, this.styleUpdater = i, this._createContent(t, e, n), this.updateData(t, e, n), this._seriesModel
    }

    function Vf(t, e, i) {
        return f(t, function(t) {
            return t = t.slice(), t[e] = i.initBaseline, t
        })
    }

    function Gf(t) {
        var e = {};
        return d(t, function(t, i) {
            e["ends" + i] = t
        }), e
    }

    function Wf(t) {
        this.group = new S_, this.styleUpdater = t
    }

    function Ff(t, e, i) {
        var n = e.getItemModel(i),
            o = n.getModel(CC),
            a = e.getItemVisual(i, "color"),
            r = o.getItemStyle(["borderColor"]),
            s = t.childAt(t.whiskerIndex);
        s.style.set(r), s.style.stroke = a, s.dirty();
        var l = t.childAt(t.bodyIndex);
        l.style.set(r), l.style.stroke = a, l.dirty(), to(t, n.getModel(LC).getItemStyle())
    }

    function Hf(t) {
        var e = [],
            i = [];
        return t.eachSeriesByType("boxplot", function(t) {
            var n = t.getBaseAxis(),
                o = l(i, n);
            o < 0 && (o = i.length, i[o] = n, e[o] = {
                axis: n,
                seriesModels: []
            }), e[o].seriesModels.push(t)
        }), e
    }

    function Zf(t) {
        var e, i, n = t.axis,
            o = t.seriesModels,
            a = o.length,
            r = t.boxWidthList = [],
            s = t.boxOffsetList = [],
            l = [];
        if ("category" === n.type) i = n.getBandWidth();
        else {
            var h = 0;
            PC(o, function(t) {
                h = Math.max(h, t.getData().count())
            }), e = n.getExtent(), Math.abs(e[1] - e[0])
        }
        PC(o, function(t) {
            var e = t.get("boxWidth");
            y(e) || (e = [e, e]), l.push([To(e[0], i) || 0, To(e[1], i) || 0])
        });
        var u = .8 * i - 2,
            c = u / a * .3,
            d = (u - c * (a - 1)) / a,
            f = d / 2 - u / 2;
        PC(o, function(t, e) {
            s.push(f), f += c + d, r.push(Math.min(Math.max(d, l[e][0]), l[e][1]))
        })
    }

    function Uf(t, e, i) {
        var n, o = t.coordinateSystem,
            a = t.getData(),
            r = i / 2,
            s = t.get("layout"),
            l = "horizontal" === s ? 0 : 1,
            h = 1 - l,
            u = ["x", "y"],
            c = [];
        d(a.dimensions, function(t) {
            var e = a.getDimensionInfo(t).coordDim;
            e === u[h] ? c.push(t) : e === u[l] && (n = t)
        }), null == n || c.length < 5 || a.each([n].concat(c), function() {
            function t(t) {
                var i = [];
                i[l] = d, i[h] = t;
                var n;
                return isNaN(d) || isNaN(t) ? n = [NaN, NaN] : (n = o.dataToPoint(i))[l] += e, n
            }

            function i(t, e) {
                var i = t.slice(),
                    n = t.slice();
                i[l] += r, n[l] -= r, e ? y.push(i, n) : y.push(n, i)
            }

            function n(t) {
                var e = [t.slice(), t.slice()];
                e[0][l] -= r, e[1][l] += r, v.push(e)
            }
            var u = arguments,
                d = u[0],
                f = u[c.length + 1],
                p = t(u[3]),
                g = t(u[1]),
                m = t(u[5]),
                v = [
                    [g, t(u[2])],
                    [m, t(u[4])]
                ];
            n(g), n(m), n(p);
            var y = [];
            i(v[0][1], 0), i(v[1][1], 1), a.setItemLayout(f, {
                chartLayout: s,
                initBaseline: p[h],
                median: p,
                bodyEnds: y,
                whiskerEnds: v
            })
        })
    }

    function jf(t, e, i) {
        var n = e.getItemModel(i),
            o = n.getModel(OC),
            a = e.getItemVisual(i, "color"),
            r = e.getItemVisual(i, "borderColor") || a,
            s = o.getItemStyle(["color", "color0", "borderColor", "borderColor0"]),
            l = t.childAt(t.whiskerIndex);
        l.useStyle(s), l.style.stroke = r;
        var h = t.childAt(t.bodyIndex);
        h.useStyle(s), h.style.fill = a, h.style.stroke = r, to(t, n.getModel(NC).getItemStyle())
    }

    function Xf(t, e) {
        var i, n = t.getBaseAxis(),
            o = "category" === n.type ? n.getBandWidth() : (i = n.getExtent(), Math.abs(i[1] - i[0]) / e.count()),
            a = To(VC(t.get("barMaxWidth"), o), o),
            r = To(VC(t.get("barMinWidth"), 1), o),
            s = t.get("barWidth");
        return null != s ? To(s, o) : Math.max(Math.min(o / 2, a), r)
    }

    function Yf(t) {
        return y(t) || (t = [+t, +t]), t
    }

    function qf(t, e) {
        t.eachChild(function(t) {
            t.attr({
                z: e.z,
                zlevel: e.zlevel,
                style: {
                    stroke: "stroke" === e.brushType ? e.color : null,
                    fill: "fill" === e.brushType ? e.color : null
                }
            })
        })
    }

    function $f(t, e) {
        S_.call(this);
        var i = new bl(t, e),
            n = new S_;
        this.add(i), this.add(n), n.beforeUpdate = function() {
            this.attr(i.getScale())
        }, this.updateData(t, e)
    }

    function Kf(t) {
        var e = t.data;
        e && e[0] && e[0][0] && e[0][0].coord && (t.data = f(e, function(t) {
            var e = {
                coords: [t[0].coord, t[1].coord]
            };
            return t[0].name && (e.fromName = t[0].name), t[1].name && (e.toName = t[1].name), o([e, t[0], t[1]])
        }))
    }

    function Jf(t, e, i) {
        S_.call(this), this.add(this.createLine(t, e, i)), this._updateEffectSymbol(t, e)
    }

    function Qf(t, e, i) {
        S_.call(this), this._createPolyline(t, e, i)
    }

    function tp(t, e, i) {
        Jf.call(this, t, e, i), this._lastFrame = 0, this._lastFramePercent = 0
    }

    function ep() {
        this.group = new S_
    }

    function ip(t) {
        return t instanceof Array || (t = [t, t]), t
    }

    function np() {
        var t = Px();
        this.canvas = t, this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = {}
    }

    function op(t, e, i) {
        var n = t[1] - t[0],
            o = (e = f(e, function(e) {
                return {
                    interval: [(e.interval[0] - t[0]) / n, (e.interval[1] - t[0]) / n]
                }
            })).length,
            a = 0;
        return function(t) {
            for (n = a; n < o; n++)
                if ((r = e[n].interval)[0] <= t && t <= r[1]) {
                    a = n;
                    break
                } if (n === o)
                for (var n = a - 1; n >= 0; n--) {
                    var r = e[n].interval;
                    if (r[0] <= t && t <= r[1]) {
                        a = n;
                        break
                    }
                }
            return n >= 0 && n < o && i[n]
        }
    }

    function ap(t, e) {
        var i = t[1] - t[0];
        return e = [(e[0] - t[0]) / i, (e[1] - t[0]) / i],
            function(t) {
                return t >= e[0] && t <= e[1]
            }
    }

    function rp(t) {
        var e = t.dimensions;
        return "lng" === e[0] && "lat" === e[1]
    }

    function sp(t, e, i, n) {
        var o = t.getItemLayout(e),
            a = i.get("symbolRepeat"),
            r = i.get("symbolClip"),
            s = i.get("symbolPosition") || "start",
            l = (i.get("symbolRotate") || 0) * Math.PI / 180 || 0,
            h = i.get("symbolPatternSize") || 2,
            u = i.isAnimationEnabled(),
            c = {
                dataIndex: e,
                layout: o,
                itemModel: i,
                symbolType: t.getItemVisual(e, "symbol") || "circle",
                color: t.getItemVisual(e, "color"),
                symbolClip: r,
                symbolRepeat: a,
                symbolRepeatDirection: i.get("symbolRepeatDirection"),
                symbolPatternSize: h,
                rotation: l,
                animationModel: u ? i : null,
                hoverAnimation: u && i.get("hoverAnimation"),
                z2: i.getShallow("z", !0) || 0
            };
        lp(i, a, o, n, c), up(t, e, o, a, r, c.boundingLength, c.pxSign, h, n, c), cp(i, c.symbolScale, l, n, c);
        var d = c.symbolSize,
            f = i.get("symbolOffset");
        return y(f) && (f = [To(f[0], d[0]), To(f[1], d[1])]), dp(i, d, o, a, r, f, s, c.valueLineWidth, c.boundingLength, c.repeatCutLength, n, c), c
    }

    function lp(t, e, i, n, o) {
        var a, r = n.valueDim,
            s = t.get("symbolBoundingData"),
            l = n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),
            h = l.toGlobalCoord(l.dataToCoord(0)),
            u = 1 - +(i[r.wh] <= 0);
        if (y(s)) {
            var c = [hp(l, s[0]) - h, hp(l, s[1]) - h];
            c[1] < c[0] && c.reverse(), a = c[u]
        } else a = null != s ? hp(l, s) - h : e ? n.coordSysExtent[r.index][u] - h : i[r.wh];
        o.boundingLength = a, e && (o.repeatCutLength = i[r.wh]), o.pxSign = a > 0 ? 1 : a < 0 ? -1 : 0
    }

    function hp(t, e) {
        return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))
    }

    function up(t, e, i, n, o, a, r, s, l, h) {
        var u = l.valueDim,
            c = l.categoryDim,
            d = Math.abs(i[c.wh]),
            f = t.getItemVisual(e, "symbolSize");
        y(f) ? f = f.slice() : (null == f && (f = "100%"), f = [f, f]), f[c.index] = To(f[c.index], d), f[u.index] = To(f[u.index], n ? d : Math.abs(a)), h.symbolSize = f, (h.symbolScale = [f[0] / s, f[1] / s])[u.index] *= (l.isHorizontal ? -1 : 1) * r
    }

    function cp(t, e, i, n, o) {
        var a = t.get(tL) || 0;
        a && (iL.attr({
            scale: e.slice(),
            rotation: i
        }), iL.updateTransform(), a /= iL.getLineScale(), a *= e[n.valueDim.index]), o.valueLineWidth = a
    }

    function dp(t, e, i, n, o, r, s, l, h, u, c, d) {
        var f = c.categoryDim,
            p = c.valueDim,
            g = d.pxSign,
            m = Math.max(e[p.index] + l, 0),
            v = m;
        if (n) {
            var y = Math.abs(h),
                x = T(t.get("symbolMargin"), "15%") + "",
                _ = !1;
            x.lastIndexOf("!") === x.length - 1 && (_ = !0, x = x.slice(0, x.length - 1)), x = To(x, e[p.index]);
            var w = Math.max(m + 2 * x, 0),
                b = _ ? 0 : 2 * x,
                S = Go(n),
                M = S ? n : Cp((y + b) / w);
            w = m + 2 * (x = (y - M * m) / 2 / (_ ? M : M - 1)), b = _ ? 0 : 2 * x, S || "fixed" === n || (M = u ? Cp((Math.abs(u) + b) / w) : 0), v = M * w - b, d.repeatTimes = M, d.symbolMargin = x
        }
        var I = g * (v / 2),
            A = d.pathPosition = [];
        A[f.index] = i[f.wh] / 2, A[p.index] = "start" === s ? I : "end" === s ? h - I : h / 2, r && (A[0] += r[0], A[1] += r[1]);
        var D = d.bundlePosition = [];
        D[f.index] = i[f.xy], D[p.index] = i[p.xy];
        var C = d.barRectShape = a({}, i);
        C[p.wh] = g * Math.max(Math.abs(i[p.wh]), Math.abs(A[p.index] + I)), C[f.wh] = i[f.wh];
        var L = d.clipShape = {};
        L[f.xy] = -i[f.xy], L[f.wh] = c.ecSize[f.wh], L[p.xy] = 0, L[p.wh] = i[p.wh]
    }

    function fp(t) {
        var e = t.symbolPatternSize,
            i = dl(t.symbolType, -e / 2, -e / 2, e, e, t.color);
        return i.attr({
            culling: !0
        }), "image" !== i.type && i.setStyle({
            strokeNoScale: !0
        }), i
    }

    function pp(t, e, i, n) {
        function o(t) {
            var e = l.slice(),
                n = i.pxSign,
                o = t;
            return ("start" === i.symbolRepeatDirection ? n > 0 : n < 0) && (o = u - 1 - t), e[h.index] = d * (o - u / 2 + .5) + l[h.index], {
                position: e,
                scale: i.symbolScale.slice(),
                rotation: i.rotation
            }
        }
        var a = t.__pictorialBundle,
            r = i.symbolSize,
            s = i.valueLineWidth,
            l = i.pathPosition,
            h = e.valueDim,
            u = i.repeatTimes || 0,
            c = 0,
            d = r[e.valueDim.index] + s + 2 * i.symbolMargin;
        for (Tp(t, function(t) {
                t.__pictorialAnimationIndex = c, t.__pictorialRepeatTimes = u, c < u ? Ap(t, null, o(c), i, n) : Ap(t, null, {
                    scale: [0, 0]
                }, i, n, function() {
                    a.remove(t)
                }), wp(t, i), c++
            }); c < u; c++) {
            var f = fp(i);
            f.__pictorialAnimationIndex = c, f.__pictorialRepeatTimes = u, a.add(f);
            var p = o(c);
            Ap(f, {
                position: p.position,
                scale: [0, 0]
            }, {
                scale: p.scale,
                rotation: p.rotation
            }, i, n), f.on("mouseover", function() {
                Tp(t, function(t) {
                    t.trigger("emphasis")
                })
            }).on("mouseout", function() {
                Tp(t, function(t) {
                    t.trigger("normal")
                })
            }), wp(f, i)
        }
    }

    function gp(t, e, i, n) {
        var o = t.__pictorialBundle,
            a = t.__pictorialMainPath;
        a ? Ap(a, null, {
            position: i.pathPosition.slice(),
            scale: i.symbolScale.slice(),
            rotation: i.rotation
        }, i, n) : (a = t.__pictorialMainPath = fp(i), o.add(a), Ap(a, {
            position: i.pathPosition.slice(),
            scale: [0, 0],
            rotation: i.rotation
        }, {
            scale: i.symbolScale.slice()
        }, i, n), a.on("mouseover", function() {
            this.trigger("emphasis")
        }).on("mouseout", function() {
            this.trigger("normal")
        })), wp(a, i)
    }

    function mp(t, e, i) {
        var n = a({}, e.barRectShape),
            o = t.__pictorialBarRect;
        o ? Ap(o, null, {
            shape: n
        }, e, i) : (o = t.__pictorialBarRect = new Vb({
            z2: 2,
            shape: n,
            silent: !0,
            style: {
                stroke: "transparent",
                fill: "transparent",
                lineWidth: 0
            }
        }), t.add(o))
    }

    function vp(t, e, i, n) {
        if (i.symbolClip) {
            var o = t.__pictorialClipPath,
                r = a({}, i.clipShape),
                s = e.valueDim,
                l = i.animationModel,
                h = i.dataIndex;
            if (o) co(o, {
                shape: r
            }, l, h);
            else {
                r[s.wh] = 0, o = new Vb({
                    shape: r
                }), t.__pictorialBundle.setClipPath(o), t.__pictorialClipPath = o;
                var u = {};
                u[s.wh] = i.clipShape[s.wh], tS[n ? "updateProps" : "initProps"](o, {
                    shape: u
                }, l, h)
            }
        }
    }

    function yp(t, e) {
        var i = t.getItemModel(e);
        return i.getAnimationDelayParams = xp, i.isAnimationEnabled = _p, i
    }

    function xp(t) {
        return {
            index: t.__pictorialAnimationIndex,
            count: t.__pictorialRepeatTimes
        }
    }

    function _p() {
        return this.parentModel.isAnimationEnabled() && !!this.getShallow("animation")
    }

    function wp(t, e) {
        t.off("emphasis").off("normal");
        var i = e.symbolScale.slice();
        e.hoverAnimation && t.on("emphasis", function() {
            this.animateTo({
                scale: [1.1 * i[0], 1.1 * i[1]]
            }, 400, "elasticOut")
        }).on("normal", function() {
            this.animateTo({
                scale: i.slice()
            }, 400, "elasticOut")
        })
    }

    function bp(t, e, i, n) {
        var o = new S_,
            a = new S_;
        return o.add(a), o.__pictorialBundle = a, a.attr("position", i.bundlePosition.slice()), i.symbolRepeat ? pp(o, e, i) : gp(o, e, i), mp(o, i, n), vp(o, e, i, n), o.__pictorialShapeStr = Ip(t, i), o.__pictorialSymbolMeta = i, o
    }

    function Sp(t, e, i) {
        var n = i.animationModel,
            o = i.dataIndex;
        co(t.__pictorialBundle, {
            position: i.bundlePosition.slice()
        }, n, o), i.symbolRepeat ? pp(t, e, i, !0) : gp(t, e, i, !0), mp(t, i, !0), vp(t, e, i, !0)
    }

    function Mp(t, e, i, n) {
        var o = n.__pictorialBarRect;
        o && (o.style.text = null);
        var a = [];
        Tp(n, function(t) {
            a.push(t)
        }), n.__pictorialMainPath && a.push(n.__pictorialMainPath), n.__pictorialClipPath && (i = null), d(a, function(t) {
            co(t, {
                scale: [0, 0]
            }, i, e, function() {
                n.parent && n.parent.remove(n)
            })
        }), t.setItemGraphicEl(e, null)
    }

    function Ip(t, e) {
        return [t.getItemVisual(e.dataIndex, "symbol") || "none", !!e.symbolRepeat, !!e.symbolClip].join(":")
    }

    function Tp(t, e, i) {
        d(t.__pictorialBundle.children(), function(n) {
            n !== t.__pictorialBarRect && e.call(i, n)
        })
    }

    function Ap(t, e, i, n, o, a) {
        e && t.attr(e), n.symbolClip && !o ? i && t.attr(i) : i && tS[o ? "updateProps" : "initProps"](t, i, n.animationModel, n.dataIndex, a)
    }

    function Dp(t, e, i) {
        var n = i.color,
            o = i.dataIndex,
            a = i.itemModel,
            s = a.getModel("itemStyle").getItemStyle(["color"]),
            l = a.getModel("emphasis.itemStyle").getItemStyle(),
            h = a.getShallow("cursor");
        Tp(t, function(t) {
            t.setColor(n), t.setStyle(r({
                fill: n,
                opacity: i.opacity
            }, s)), to(t, l), h && (t.cursor = h), t.z2 = i.z2
        });
        var u = {},
            c = e.valueDim.posDesc[+(i.boundingLength > 0)],
            d = t.__pictorialBarRect;
        Mh(d.style, u, a, n, e.seriesModel, o, c), to(d, u)
    }

    function Cp(t) {
        var e = Math.round(t);
        return Math.abs(t - e) < 1e-4 ? e : Math.ceil(t)
    }

    function Lp(t, e, i) {
        this.dimension = "single", this.dimensions = ["single"], this._axis = null, this._rect, this._init(t, e, i), this.model = t
    }

    function kp(t, e) {
        e = e || {};
        var i = t.coordinateSystem,
            n = t.axis,
            o = {},
            a = n.position,
            r = n.orient,
            s = i.getRect(),
            l = [s.x, s.x + s.width, s.y, s.y + s.height],
            h = {
                horizontal: {
                    top: l[2],
                    bottom: l[3]
                },
                vertical: {
                    left: l[0],
                    right: l[1]
                }
            };
        o.position = ["vertical" === r ? h.vertical[a] : l[0], "horizontal" === r ? h.horizontal[a] : l[3]];
        var u = {
            horizontal: 0,
            vertical: 1
        };
        o.rotation = Math.PI / 2 * u[r];
        var c = {
            top: -1,
            bottom: 1,
            right: 1,
            left: -1
        };
        o.labelDirection = o.tickDirection = o.nameDirection = c[a], t.get("axisTick.inside") && (o.tickDirection = -o.tickDirection), T(e.labelInside, t.get("axisLabel.inside")) && (o.labelDirection = -o.labelDirection);
        var d = e.rotate;
        return null == d && (d = t.get("axisLabel.rotate")), o.labelRotation = "top" === a ? -d : d, o.labelInterval = n.getLabelInterval(), o.z2 = 1, o
    }

    function Pp(t, e, i, n, o) {
        var r = t.axis;
        if (!r.scale.isBlank() && r.containData(e))
            if (t.involveSeries) {
                var s = Op(e, t),
                    l = s.payloadBatch,
                    h = s.snapToValue;
                l[0] && null == o.seriesIndex && a(o, l[0]), !n && t.snap && r.containData(h) && null != h && (e = h), i.showPointer(t, e, l, o), i.showTooltip(t, s, h)
            } else i.showPointer(t, e)
    }

    function Op(t, e) {
        var i = e.axis,
            n = i.dim,
            o = t,
            a = [],
            r = Number.MAX_VALUE,
            s = -1;
        return cL(e.seriesModels, function(e, l) {
            var h, u, c = e.getData().mapDimension(n, !0);
            if (e.getAxisTooltipData) {
                var d = e.getAxisTooltipData(c, t, i);
                u = d.dataIndices, h = d.nestestValue
            } else {
                if (!(u = e.getData().indicesOfNearest(c[0], t, !1, "category" === i.type ? .5 : null)).length) return;
                h = e.getData().get(c[0], u[0])
            }
            if (null != h && isFinite(h)) {
                var f = t - h,
                    p = Math.abs(f);
                p <= r && ((p < r || f >= 0 && s < 0) && (r = p, s = f, o = h, a.length = 0), cL(u, function(t) {
                    a.push({
                        seriesIndex: e.seriesIndex,
                        dataIndexInside: t,
                        dataIndex: e.getData().getRawIndex(t)
                    })
                }))
            }
        }), {
            payloadBatch: a,
            snapToValue: o
        }
    }

    function Np(t, e, i, n) {
        t[e.key] = {
            value: i,
            payloadBatch: n
        }
    }

    function Ep(t, e, i, n) {
        var o = i.payloadBatch,
            a = e.axis,
            r = a.model,
            s = e.axisPointerModel;
        if (e.triggerTooltip && o.length) {
            var l = e.coordSys.model,
                h = _h(l),
                u = t.map[h];
            u || (u = t.map[h] = {
                coordSysId: l.id,
                coordSysIndex: l.componentIndex,
                coordSysType: l.type,
                coordSysMainType: l.mainType,
                dataByAxis: []
            }, t.list.push(u)), u.dataByAxis.push({
                axisDim: a.dim,
                axisIndex: r.componentIndex,
                axisType: r.type,
                axisId: r.id,
                value: n,
                valueLabelOpt: {
                    precision: s.get("label.precision"),
                    formatter: s.get("label.formatter")
                },
                seriesDataIndices: o.slice()
            })
        }
    }

    function zp(t, e, i) {
        var n = i.axesInfo = [];
        cL(e, function(e, i) {
            var o = e.axisPointerModel.option,
                a = t[i];
            a ? (!e.useHandle && (o.status = "show"), o.value = a.value, o.seriesDataIndices = (a.payloadBatch || []).slice()) : !e.useHandle && (o.status = "hide"), "show" === o.status && n.push({
                axisDim: e.axis.dim,
                axisIndex: e.axis.model.componentIndex,
                value: o.value
            })
        })
    }

    function Rp(t, e, i, n) {
        if (!Wp(e) && t.list.length) {
            var o = ((t.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
            n({
                type: "showTip",
                escapeConnect: !0,
                x: e[0],
                y: e[1],
                tooltipOption: i.tooltipOption,
                position: i.position,
                dataIndexInside: o.dataIndexInside,
                dataIndex: o.dataIndex,
                seriesIndex: o.seriesIndex,
                dataByCoordSys: t.list
            })
        } else n({
            type: "hideTip"
        })
    }

    function Bp(t, e, i) {
        var n = i.getZr(),
            o = fL(n).axisPointerLastHighlights || {},
            a = fL(n).axisPointerLastHighlights = {};
        cL(t, function(t, e) {
            var i = t.axisPointerModel.option;
            "show" === i.status && cL(i.seriesDataIndices, function(t) {
                var e = t.seriesIndex + " | " + t.dataIndex;
                a[e] = t
            })
        });
        var r = [],
            s = [];
        d(o, function(t, e) {
            !a[e] && s.push(t)
        }), d(a, function(t, e) {
            !o[e] && r.push(t)
        }), s.length && i.dispatchAction({
            type: "downplay",
            escapeConnect: !0,
            batch: s
        }), r.length && i.dispatchAction({
            type: "highlight",
            escapeConnect: !0,
            batch: r
        })
    }

    function Vp(t, e) {
        for (var i = 0; i < (t || []).length; i++) {
            var n = t[i];
            if (e.axis.dim === n.axisDim && e.axis.model.componentIndex === n.axisIndex) return n
        }
    }

    function Gp(t) {
        var e = t.axis.model,
            i = {},
            n = i.axisDim = t.axis.dim;
        return i.axisIndex = i[n + "AxisIndex"] = e.componentIndex, i.axisName = i[n + "AxisName"] = e.name, i.axisId = i[n + "AxisId"] = e.id, i
    }

    function Wp(t) {
        return !t || null == t[0] || isNaN(t[0]) || null == t[1] || isNaN(t[1])
    }

    function Fp(t, e, i) {
        if (!_x.node) {
            var n = e.getZr();
            pL(n).records || (pL(n).records = {}), Hp(n, e), (pL(n).records[t] || (pL(n).records[t] = {})).handler = i
        }
    }

    function Hp(t, e) {
        function i(i, n) {
            t.on(i, function(i) {
                var o = Xp(e);
                gL(pL(t).records, function(t) {
                    t && n(t, i, o.dispatchAction)
                }), Zp(o.pendings, e)
            })
        }
        pL(t).initialized || (pL(t).initialized = !0, i("click", v(jp, "click")), i("mousemove", v(jp, "mousemove")), i("globalout", Up))
    }

    function Zp(t, e) {
        var i, n = t.showTip.length,
            o = t.hideTip.length;
        n ? i = t.showTip[n - 1] : o && (i = t.hideTip[o - 1]), i && (i.dispatchAction = null, e.dispatchAction(i))
    }

    function Up(t, e, i) {
        t.handler("leave", null, i)
    }

    function jp(t, e, i, n) {
        e.handler(t, i, n)
    }

    function Xp(t) {
        var e = {
                showTip: [],
                hideTip: []
            },
            i = function(n) {
                var o = e[n.type];
                o ? o.push(n) : (n.dispatchAction = i, t.dispatchAction(n))
            };
        return {
            dispatchAction: i,
            pendings: e
        }
    }

    function Yp(t, e) {
        if (!_x.node) {
            var i = e.getZr();
            (pL(i).records || {})[t] && (pL(i).records[t] = null)
        }
    }

    function qp() {}

    function $p(t, e, i, n) {
        Kp(vL(i).lastProp, n) || (vL(i).lastProp = n, e ? co(i, n, t) : (i.stopAnimation(), i.attr(n)))
    }

    function Kp(t, e) {
        if (w(t) && w(e)) {
            var i = !0;
            return d(e, function(e, n) {
                i = i && Kp(t[n], e)
            }), !!i
        }
        return t === e
    }

    function Jp(t, e) {
        t[e.get("label.show") ? "show" : "hide"]()
    }

    function Qp(t) {
        return {
            position: t.position.slice(),
            rotation: t.rotation || 0
        }
    }

    function tg(t, e, i) {
        var n = e.get("z"),
            o = e.get("zlevel");
        t && t.traverse(function(t) {
            "group" !== t.type && (null != n && (t.z = n), null != o && (t.zlevel = o), t.silent = i)
        })
    }

    function eg(t) {
        var e, i = t.get("type"),
            n = t.getModel(i + "Style");
        return "line" === i ? (e = n.getLineStyle()).fill = null : "shadow" === i && ((e = n.getAreaStyle()).stroke = null), e
    }

    function ig(t, e, i, n, o) {
        var a = og(i.get("value"), e.axis, e.ecModel, i.get("seriesDataIndices"), {
                precision: i.get("label.precision"),
                formatter: i.get("label.formatter")
            }),
            r = i.getModel("label"),
            s = dS(r.get("padding") || 0),
            l = r.getFont(),
            h = me(a, l),
            u = o.position,
            c = h.width + s[1] + s[3],
            d = h.height + s[0] + s[2],
            f = o.align;
        "right" === f && (u[0] -= c), "center" === f && (u[0] -= c / 2);
        var p = o.verticalAlign;
        "bottom" === p && (u[1] -= d), "middle" === p && (u[1] -= d / 2), ng(u, c, d, n);
        var g = r.get("backgroundColor");
        g && "auto" !== g || (g = e.get("axisLine.lineStyle.color")), t.label = {
            shape: {
                x: 0,
                y: 0,
                width: c,
                height: d,
                r: r.get("borderRadius")
            },
            position: u.slice(),
            style: {
                text: a,
                textFont: l,
                textFill: r.getTextColor(),
                textPosition: "inside",
                fill: g,
                stroke: r.get("borderColor") || "transparent",
                lineWidth: r.get("borderWidth") || 0,
                shadowBlur: r.get("shadowBlur"),
                shadowColor: r.get("shadowColor"),
                shadowOffsetX: r.get("shadowOffsetX"),
                shadowOffsetY: r.get("shadowOffsetY")
            },
            z2: 10
        }
    }

    function ng(t, e, i, n) {
        var o = n.getWidth(),
            a = n.getHeight();
        t[0] = Math.min(t[0] + e, o) - e, t[1] = Math.min(t[1] + i, a) - i, t[0] = Math.max(t[0], 0), t[1] = Math.max(t[1], 0)
    }

    function og(t, e, i, n, o) {
        var a = e.scale.getLabel(t, {
                precision: o.precision
            }),
            r = o.formatter;
        if (r) {
            var s = {
                value: ul(e, t),
                seriesData: []
            };
            d(n, function(t) {
                var e = i.getSeriesByIndex(t.seriesIndex),
                    n = t.dataIndexInside,
                    o = e && e.getDataParams(n);
                o && s.seriesData.push(o)
            }), _(r) ? a = r.replace("{value}", a) : x(r) && (a = r(s))
        }
        return a
    }

    function ag(t, e, i) {
        var n = st();
        return dt(n, n, i.rotation), ct(n, n, i.position), go([t.dataToCoord(e), (i.labelOffset || 0) + (i.labelDirection || 1) * (i.labelMargin || 0)], n)
    }

    function rg(t, e, i, n, o, a) {
        var r = GT.innerTextLayout(i.rotation, 0, i.labelDirection);
        i.labelMargin = o.get("label.margin"), ig(e, n, o, a, {
            position: ag(n.axis, t, i),
            align: r.textAlign,
            verticalAlign: r.textVerticalAlign
        })
    }

    function sg(t, e, i) {
        return i = i || 0, {
            x1: t[i],
            y1: t[1 - i],
            x2: e[i],
            y2: e[1 - i]
        }
    }

    function lg(t, e, i) {
        return i = i || 0, {
            x: t[i],
            y: t[1 - i],
            width: e[i],
            height: e[1 - i]
        }
    }

    function hg(t, e, i, n, o, a) {
        return {
            cx: t,
            cy: e,
            r0: i,
            r: n,
            startAngle: o,
            endAngle: a,
            clockwise: !0
        }
    }

    function ug(t, e) {
        var i = {};
        return i[e.dim + "AxisIndex"] = e.index, t.getCartesian(i)
    }

    function cg(t) {
        return "x" === t.dim ? 0 : 1
    }

    function dg(t) {
        return t.isHorizontal() ? 0 : 1
    }

    function fg(t, e) {
        var i = t.getRect();
        return [i[bL[e]], i[bL[e]] + i[SL[e]]]
    }

    function pg(t, e, i) {
        var n = new Vb({
            shape: {
                x: t.x - 10,
                y: t.y - 10,
                width: 0,
                height: t.height + 20
            }
        });
        return fo(n, {
            shape: {
                width: t.width + 20,
                height: t.height + 20
            }
        }, e, i), n
    }

    function gg(t, e, i) {
        if (t.count())
            for (var n, o = e.coordinateSystem, a = e.getLayerSeries(), r = t.mapDimension("single"), s = t.mapDimension("value"), l = f(a, function(e) {
                    return f(e.indices, function(e) {
                        var i = o.dataToPoint(t.get(r, e));
                        return i[1] = t.get(s, e), i
                    })
                }), h = mg(l), u = h.y0, c = i / h.max, d = a.length, p = a[0].indices.length, g = 0; g < p; ++g) {
                n = u[g] * c, t.setItemLayout(a[0].indices[g], {
                    layerIndex: 0,
                    x: l[0][g][0],
                    y0: n,
                    y: l[0][g][1] * c
                });
                for (var m = 1; m < d; ++m) n += l[m - 1][g][1] * c, t.setItemLayout(a[m].indices[g], {
                    layerIndex: m,
                    x: l[m][g][0],
                    y0: n,
                    y: l[m][g][1] * c
                })
            }
    }

    function mg(t) {
        for (var e = t.length, i = t[0].length, n = [], o = [], a = 0, r = {}, s = 0; s < i; ++s) {
            for (var l = 0, h = 0; l < e; ++l) h += t[l][s][1];
            h > a && (a = h), n.push(h)
        }
        for (var u = 0; u < i; ++u) o[u] = (a - n[u]) / 2;
        a = 0;
        for (var c = 0; c < i; ++c) {
            var d = n[c] + o[c];
            d > a && (a = d)
        }
        return r.y0 = o, r.max = a, r
    }

    function vg(t) {
        var e = 0;
        d(t.children, function(t) {
            vg(t);
            var i = t.value;
            y(i) && (i = i[0]), e += i
        });
        var i = t.value;
        y(i) && (i = i[0]), (null == i || isNaN(i)) && (i = e), i < 0 && (i = 0), y(t.value) ? t.value[0] = i : t.value = i
    }

    function yg(t, e, i) {
        function n() {
            r.ignore = r.hoverIgnore
        }

        function o() {
            r.ignore = r.normalIgnore
        }
        S_.call(this);
        var a = new Ob({
                z2: DL
            }),
            r = new Cb({
                z2: CL,
                silent: t.getModel("label").get("silent")
            });
        this.add(a), this.add(r), this.updateData(!0, t, "normal", e, i), this.on("emphasis", n).on("normal", o).on("mouseover", n).on("mouseout", o)
    }

    function xg(t, e, i) {
        var n = t.getVisual("color");
        0 === t.getVisual("visualMeta").length && (n = null);
        var o = t.getModel("itemStyle").get("color");
        if (o) return o;
        if (n) return n;
        if (0 === t.depth) return i.option.color[0];
        var a = i.option.color.length;
        return o = i.option.color[_g(t) % a]
    }

    function _g(t) {
        for (var e = t; e.depth > 1;) e = e.parentNode;
        return l(t.getAncestors()[0].children, e)
    }

    function wg(t, e, i) {
        return i !== AL.NONE && (i === AL.SELF ? t === e : i === AL.ANCESTOR ? t === e || t.isAncestorOf(e) : t === e || t.isDescendantOf(e))
    }

    function bg(t, e) {
        var i = t.children || [];
        t.children = Sg(i, e), i.length && d(t.children, function(t) {
            bg(t, e)
        })
    }

    function Sg(t, e) {
        if ("function" == typeof e) return t.sort(e);
        var i = "asc" === e;
        return t.sort(function(t, e) {
            var n = (t.getValue() - e.getValue()) * (i ? 1 : -1);
            return 0 === n ? (t.dataIndex - e.dataIndex) * (i ? -1 : 1) : n
        })
    }

    function Mg(t, e) {
        return e = e || [0, 0], f(["x", "y"], function(i, n) {
            var o = this.getAxis(i),
                a = e[n],
                r = t[n] / 2;
            return "category" === o.type ? o.getBandWidth() : Math.abs(o.dataToCoord(a - r) - o.dataToCoord(a + r))
        }, this)
    }

    function Ig(t, e) {
        return e = e || [0, 0], f([0, 1], function(i) {
            var n = e[i],
                o = t[i] / 2,
                a = [],
                r = [];
            return a[i] = n - o, r[i] = n + o, a[1 - i] = r[1 - i] = e[1 - i], Math.abs(this.dataToPoint(a)[i] - this.dataToPoint(r)[i])
        }, this)
    }

    function Tg(t, e) {
        var i = this.getAxis(),
            n = e instanceof Array ? e[0] : e,
            o = (t instanceof Array ? t[0] : t) / 2;
        return "category" === i.type ? i.getBandWidth() : Math.abs(i.dataToCoord(n - o) - i.dataToCoord(n + o))
    }

    function Ag(t, e) {
        return f(["Radius", "Angle"], function(i, n) {
            var o = this["get" + i + "Axis"](),
                a = e[n],
                r = t[n] / 2,
                s = "dataTo" + i,
                l = "category" === o.type ? o.getBandWidth() : Math.abs(o[s](a - r) - o[s](a + r));
            return "Angle" === i && (l = l * Math.PI / 180), l
        }, this)
    }

    function Dg(t) {
        var e, i = t.type;
        if ("path" === i) {
            var n = t.shape;
            (e = En(n.pathData, null, {
                x: n.x || 0,
                y: n.y || 0,
                width: n.width || 0,
                height: n.height || 0
            }, "center")).__customPathData = t.pathData
        } else "image" === i ? (e = new Je({})).__customImagePath = t.style.image : "text" === i ? (e = new Cb({})).__customText = t.style.text : e = new(0, tS[i.charAt(0).toUpperCase() + i.slice(1)]);
        return e.__customGraphicType = i, e.name = t.name, e
    }

    function Cg(t, e, n, o, a, r) {
        var s = {},
            l = n.style || {};
        if (n.shape && (s.shape = i(n.shape)), n.position && (s.position = n.position.slice()), n.scale && (s.scale = n.scale.slice()), n.origin && (s.origin = n.origin.slice()), n.rotation && (s.rotation = n.rotation), "image" === t.type && n.style) {
            h = s.style = {};
            d(["x", "y", "width", "height"], function(e) {
                Lg(e, h, l, t.style, r)
            })
        }
        if ("text" === t.type && n.style) {
            var h = s.style = {};
            d(["x", "y"], function(e) {
                Lg(e, h, l, t.style, r)
            }), !l.hasOwnProperty("textFill") && l.fill && (l.textFill = l.fill), !l.hasOwnProperty("textStroke") && l.stroke && (l.textStroke = l.stroke)
        }
        if ("group" !== t.type && (t.useStyle(l), r)) {
            t.style.opacity = 0;
            var u = l.opacity;
            null == u && (u = 1), fo(t, {
                style: {
                    opacity: u
                }
            }, o, e)
        }
        r ? t.attr(s) : co(t, s, o, e), t.attr({
            z2: n.z2 || 0,
            silent: n.silent
        }), !1 !== n.styleEmphasis && to(t, n.styleEmphasis)
    }

    function Lg(t, e, i, n, o) {
        null == i[t] || o || (e[t] = i[t], i[t] = n[t])
    }

    function kg(t, e, i, n) {
        function o(t) {
            null == t && (t = u), v && (c = e.getItemModel(t), d = c.getModel(zL), f = c.getModel(RL), p = e.getItemVisual(t, "color"), v = !1)
        }
        var s = t.get("renderItem"),
            l = t.coordinateSystem,
            h = {};
        l && (h = l.prepareCustoms ? l.prepareCustoms() : VL[l.type](l));
        var u, c, d, f, p, g = r({
                getWidth: n.getWidth,
                getHeight: n.getHeight,
                getZr: n.getZr,
                getDevicePixelRatio: n.getDevicePixelRatio,
                value: function(t, i) {
                    return null == i && (i = u), e.get(e.getDimension(t || 0), i)
                },
                style: function(i, n) {
                    null == n && (n = u), o(n);
                    var r = c.getModel(NL).getItemStyle();
                    null != p && (r.fill = p);
                    var s = e.getItemVisual(n, "opacity");
                    return null != s && (r.opacity = s), io(r, d, null, {
                        autoColor: p,
                        isRectText: !0
                    }), r.text = d.getShallow("show") ? A(t.getFormattedLabel(n, "normal"), xl(e, n)) : null, i && a(r, i), r
                },
                styleEmphasis: function(i, n) {
                    null == n && (n = u), o(n);
                    var r = c.getModel(EL).getItemStyle();
                    return io(r, f, null, {
                        isRectText: !0
                    }, !0), r.text = f.getShallow("show") ? D(t.getFormattedLabel(n, "emphasis"), t.getFormattedLabel(n, "normal"), xl(e, n)) : null, i && a(r, i), r
                },
                visual: function(t, i) {
                    return null == i && (i = u), e.getItemVisual(i, t)
                },
                barLayout: function(t) {
                    if (l.getBaseAxis) return Qs(r({
                        axis: l.getBaseAxis()
                    }, t), n)
                },
                currentSeriesIndices: function() {
                    return i.getCurrentSeriesIndices()
                },
                font: function(t) {
                    return ho(t, i)
                }
            }, h.api || {}),
            m = {
                context: {},
                seriesId: t.id,
                seriesName: t.name,
                seriesIndex: t.seriesIndex,
                coordSys: h.coordSys,
                dataInsideLength: e.count(),
                encode: Pg(t.getData())
            },
            v = !0;
        return function(t) {
            return u = t, v = !0, s && s(r({
                dataIndexInside: t,
                dataIndex: e.getRawIndex(t)
            }, m), g) || {}
        }
    }

    function Pg(t) {
        var e = {};
        return d(t.dimensions, function(i, n) {
            var o = t.getDimensionInfo(i);
            if (!o.isExtraCoord) {
                var a = o.coordDim;
                (e[a] = e[a] || [])[o.coordDimIndex] = n
            }
        }), e
    }

    function Og(t, e, i, n, o, a) {
        return (t = Ng(t, e, i, n, o, a)) && a.setItemGraphicEl(e, t), t
    }

    function Ng(t, e, i, n, o, a) {
        var r = i.type;
        if (!t || r === t.__customGraphicType || "path" === r && i.pathData === t.__customPathData || "image" === r && i.style.image === t.__customImagePath || "text" === r && i.style.text === t.__customText || (o.remove(t), t = null), null != r) {
            var s = !t;
            if (!t && (t = Dg(i)), Cg(t, e, i, n, a, s), "group" === r) {
                var l = t.children() || [],
                    h = i.children || [];
                if (i.diffChildrenByName) Eg({
                    oldChildren: l,
                    newChildren: h,
                    dataIndex: e,
                    animatableModel: n,
                    group: t,
                    data: a
                });
                else {
                    for (var u = 0; u < h.length; u++) Ng(t.childAt(u), e, h[u], n, t, a);
                    for (; u < l.length; u++) l[u] && t.remove(l[u])
                }
            }
            return o.add(t), t
        }
    }

    function Eg(t) {
        new ws(t.oldChildren, t.newChildren, zg, zg, t).add(Rg).update(Rg).remove(Bg).execute()
    }

    function zg(t, e) {
        var i = t && t.name;
        return null != i ? i : BL + e
    }

    function Rg(t, e) {
        var i = this.context,
            n = null != t ? i.newChildren[t] : null;
        Ng(null != e ? i.oldChildren[e] : null, i.dataIndex, n, i.animatableModel, i.group, i.data)
    }

    function Bg(t) {
        var e = this.context,
            i = e.oldChildren[t];
        i && e.group.remove(i)
    }

    function Vg(t, e, i, n) {
        var o = i.type,
            a = new(0, tS[o.charAt(0).toUpperCase() + o.slice(1)])(i);
        e.add(a), n.set(t, a), a.__ecGraphicId = t
    }

    function Gg(t, e) {
        var i = t && t.parent;
        i && ("group" === t.type && t.traverse(function(t) {
            Gg(t, e)
        }), e.removeKey(t.__ecGraphicId), i.remove(t))
    }

    function Wg(t) {
        return t = a({}, t), d(["id", "parentId", "$action", "hv", "bounding"].concat(_S), function(e) {
            delete t[e]
        }), t
    }

    function Fg(t, e) {
        var i;
        return d(e, function(e) {
            null != t[e] && "auto" !== t[e] && (i = !0)
        }), i
    }

    function Hg(t, e) {
        var i = t.exist;
        if (e.id = t.keyInfo.id, !e.type && i && (e.type = i.type), null == e.parentId) {
            var n = e.parentOption;
            n ? e.parentId = n.id : i && (e.parentId = i.parentId)
        }
        e.parentOption = null
    }

    function Zg(t, e, i) {
        var o = a({}, i),
            r = t[e],
            s = i.$action || "merge";
        "merge" === s ? r ? (n(r, o, !0), ta(r, o, {
            ignoreSize: !0
        }), ia(i, r)) : t[e] = o : "replace" === s ? t[e] = o : "remove" === s && r && (t[e] = null)
    }

    function Ug(t, e) {
        t && (t.hv = e.hv = [Fg(e, ["left", "right"]), Fg(e, ["top", "bottom"])], "group" === t.type && (null == t.width && (t.width = e.width = 0), null == t.height && (t.height = e.height = 0)))
    }

    function jg(t, e, i) {
        var n, o = {},
            a = "toggleSelected" === t;
        return i.eachComponent("legend", function(i) {
            a && null != n ? i[n ? "select" : "unSelect"](e.name) : (i[t](e.name), n = i.isSelected(e.name)), d(i.getData(), function(t) {
                var e = t.get("name");
                if ("\n" !== e && "" !== e) {
                    var n = i.isSelected(e);
                    o.hasOwnProperty(e) ? o[e] = o[e] && n : o[e] = n
                }
            })
        }), {
            name: e.name,
            selected: o
        }
    }

    function Xg(t, e, i) {
        var n = e.getBoxLayoutParams(),
            o = e.get("padding"),
            a = {
                width: i.getWidth(),
                height: i.getHeight()
            },
            r = Ko(n, a, o);
        bS(e.get("orient"), t, e.get("itemGap"), r.width, r.height), Jo(t, n, a, o)
    }

    function Yg(t, e) {
        var i = dS(e.get("padding")),
            n = e.getItemStyle(["color", "opacity"]);
        return n.fill = e.get("backgroundColor"), t = new Vb({
            shape: {
                x: t.x - i[3],
                y: t.y - i[0],
                width: t.width + i[1] + i[3],
                height: t.height + i[0] + i[2],
                r: e.get("borderRadius")
            },
            style: n,
            silent: !0,
            z2: -1
        })
    }

    function qg(t, e) {
        e.dispatchAction({
            type: "legendToggleSelect",
            name: t
        })
    }

    function $g(t, e, i) {
        var n = i.getZr().storage.getDisplayList()[0];
        n && n.useHoverLayer || t.get("legendHoverLink") && i.dispatchAction({
            type: "highlight",
            seriesName: t.name,
            name: e
        })
    }

    function Kg(t, e, i) {
        var n = i.getZr().storage.getDisplayList()[0];
        n && n.useHoverLayer || t.get("legendHoverLink") && i.dispatchAction({
            type: "downplay",
            seriesName: t.name,
            name: e
        })
    }

    function Jg(t, e, i) {
        var n = [1, 1];
        n[t.getOrient().index] = 0, ta(e, i, {
            type: "box",
            ignoreSize: n
        })
    }

    function Qg(t) {
        var e = "left " + t + "s cubic-bezier(0.23, 1, 0.32, 1),top " + t + "s cubic-bezier(0.23, 1, 0.32, 1)";
        return f(QL, function(t) {
            return t + "transition:" + e
        }).join(";")
    }

    function tm(t) {
        var e = [],
            i = t.get("fontSize"),
            n = t.getTextColor();
        return n && e.push("color:" + n), e.push("font:" + t.getFont()), i && e.push("line-height:" + Math.round(3 * i / 2) + "px"), KL(["decoration", "align"], function(i) {
            var n = t.get(i);
            n && e.push("text-" + i + ":" + n)
        }), e.join(";")
    }

    function em(t) {
        var e = [],
            i = t.get("transitionDuration"),
            n = t.get("backgroundColor"),
            o = t.getModel("textStyle"),
            a = t.get("padding");
        return i && e.push(Qg(i)), n && (_x.canvasSupported ? e.push("background-Color:" + n) : (e.push("background-Color:#" + Pt(n)), e.push("filter:alpha(opacity=70)"))), KL(["width", "color", "radius"], function(i) {
            var n = "border-" + i,
                o = JL(n),
                a = t.get(o);
            null != a && e.push(n + ":" + a + ("color" === i ? "" : "px"))
        }), e.push(tm(o)), null != a && e.push("padding:" + dS(a).join("px ") + "px"), e.join(";") + ";"
    }

    function im(t, e) {
        if (_x.wxa) return null;
        var i = document.createElement("div"),
            n = this._zr = e.getZr();
        this.el = i, this._x = e.getWidth() / 2, this._y = e.getHeight() / 2, t.appendChild(i), this._container = t, this._show = !1, this._hideTimeout;
        var o = this;
        i.onmouseenter = function() {
            o._enterable && (clearTimeout(o._hideTimeout), o._show = !0), o._inContent = !0
        }, i.onmousemove = function(e) {
            if (e = e || window.event, !o._enterable) {
                var i = n.handler;
                li(t, e, !0), i.dispatch("mousemove", e)
            }
        }, i.onmouseleave = function() {
            o._enterable && o._show && o.hideLater(o._hideDelay), o._inContent = !1
        }
    }

    function nm(t) {
        for (var e = t.pop(); t.length;) {
            var i = t.pop();
            i && (_o.isInstance(i) && (i = i.get("tooltip", !0)), "string" == typeof i && (i = {
                formatter: i
            }), e = new _o(i, e, e.ecModel))
        }
        return e
    }

    function om(t, e) {
        return t.dispatchAction || m(e.dispatchAction, e)
    }

    function am(t, e, i, n, o, a, r) {
        var s = sm(i),
            l = s.width,
            h = s.height;
        return null != a && (t + l + a > n ? t -= l + a : t += a), null != r && (e + h + r > o ? e -= h + r : e += r), [t, e]
    }

    function rm(t, e, i, n, o) {
        var a = sm(i),
            r = a.width,
            s = a.height;
        return t = Math.min(t + r, n) - r, e = Math.min(e + s, o) - s, t = Math.max(t, 0), e = Math.max(e, 0), [t, e]
    }

    function sm(t) {
        var e = t.clientWidth,
            i = t.clientHeight;
        if (document.defaultView && document.defaultView.getComputedStyle) {
            var n = document.defaultView.getComputedStyle(t);
            n && (e += parseInt(n.paddingLeft, 10) + parseInt(n.paddingRight, 10) + parseInt(n.borderLeftWidth, 10) + parseInt(n.borderRightWidth, 10), i += parseInt(n.paddingTop, 10) + parseInt(n.paddingBottom, 10) + parseInt(n.borderTopWidth, 10) + parseInt(n.borderBottomWidth, 10))
        }
        return {
            width: e,
            height: i
        }
    }

    function lm(t, e, i) {
        var n = i[0],
            o = i[1],
            a = 0,
            r = 0,
            s = e.width,
            l = e.height;
        switch (t) {
            case "inside":
                a = e.x + s / 2 - n / 2, r = e.y + l / 2 - o / 2;
                break;
            case "top":
                a = e.x + s / 2 - n / 2, r = e.y - o - 5;
                break;
            case "bottom":
                a = e.x + s / 2 - n / 2, r = e.y + l + 5;
                break;
            case "left":
                a = e.x - n - 5, r = e.y + l / 2 - o / 2;
                break;
            case "right":
                a = e.x + s + 5, r = e.y + l / 2 - o / 2
        }
        return [a, r]
    }

    function hm(t) {
        return "center" === t || "middle" === t
    }

    function um(t) {
        return t.get("stack") || "__ec_stack_" + t.seriesIndex
    }

    function cm(t) {
        return t.dim
    }

    function dm(t, e) {
        var i = {};
        d(t, function(t, e) {
            var n = t.getData(),
                o = t.coordinateSystem.getBaseAxis(),
                a = o.getExtent(),
                r = "category" === o.type ? o.getBandWidth() : Math.abs(a[1] - a[0]) / n.count(),
                s = i[cm(o)] || {
                    bandWidth: r,
                    remainedWidth: r,
                    autoWidthCount: 0,
                    categoryGap: "20%",
                    gap: "30%",
                    stacks: {}
                },
                l = s.stacks;
            i[cm(o)] = s;
            var h = um(t);
            l[h] || s.autoWidthCount++, l[h] = l[h] || {
                width: 0,
                maxWidth: 0
            };
            var u = To(t.get("barWidth"), r),
                c = To(t.get("barMaxWidth"), r),
                d = t.get("barGap"),
                f = t.get("barCategoryGap");
            u && !l[h].width && (u = Math.min(s.remainedWidth, u), l[h].width = u, s.remainedWidth -= u), c && (l[h].maxWidth = c), null != d && (s.gap = d), null != f && (s.categoryGap = f)
        });
        var n = {};
        return d(i, function(t, e) {
            n[e] = {};
            var i = t.stacks,
                o = t.bandWidth,
                a = To(t.categoryGap, o),
                r = To(t.gap, 1),
                s = t.remainedWidth,
                l = t.autoWidthCount,
                h = (s - a) / (l + (l - 1) * r);
            h = Math.max(h, 0), d(i, function(t, e) {
                var i = t.maxWidth;
                i && i < h && (i = Math.min(i, s), t.width && (i = Math.min(i, t.width)), s -= i, t.width = i, l--)
            }), h = (s - a) / (l + (l - 1) * r), h = Math.max(h, 0);
            var u, c = 0;
            d(i, function(t, e) {
                t.width || (t.width = h), u = t, c += t.width * (1 + r)
            }), u && (c -= u.width * r);
            var f = -c / 2;
            d(i, function(t, i) {
                n[e][i] = n[e][i] || {
                    offset: f,
                    width: t.width
                }, f += t.width * (1 + r)
            })
        }), n
    }

    function fm(t, e) {
        nT.call(this, "radius", t, e), this.type = "category"
    }

    function pm(t, e) {
        e = e || [0, 360], nT.call(this, "angle", t, e), this.type = "category"
    }

    function gm(t, e) {
        return e.type || (e.data ? "category" : "value")
    }

    function mm(t, e, i) {
        var n = e.get("center"),
            o = i.getWidth(),
            a = i.getHeight();
        t.cx = To(n[0], o), t.cy = To(n[1], a);
        var r = t.getRadiusAxis(),
            s = Math.min(o, a) / 2,
            l = To(e.get("radius"), s);
        r.inverse ? r.setExtent(l, 0) : r.setExtent(0, l)
    }

    function vm(t, e) {
        var i = this,
            n = i.getAngleAxis(),
            o = i.getRadiusAxis();
        if (n.scale.setExtent(1 / 0, -1 / 0), o.scale.setExtent(1 / 0, -1 / 0), t.eachSeries(function(t) {
                if (t.coordinateSystem === i) {
                    var e = t.getData();
                    d(e.mapDimension("radius", !0), function(t) {
                        o.scale.unionExtentFromData(e, t)
                    }), d(e.mapDimension("angle", !0), function(t) {
                        n.scale.unionExtentFromData(e, t)
                    })
                }
            }), rl(n.scale, n.model), rl(o.scale, o.model), "category" === n.type && !n.onBand) {
            var a = n.getExtent(),
                r = 360 / n.scale.count();
            n.inverse ? a[1] += r : a[1] -= r, n.setExtent(a[0], a[1])
        }
    }

    function ym(t, e) {
        if (t.type = e.get("type"), t.scale = sl(e), t.onBand = e.get("boundaryGap") && "category" === t.type, t.inverse = e.get("inverse"), "angleAxis" === e.mainType) {
            t.inverse ^= e.get("clockwise");
            var i = e.get("startAngle");
            t.setExtent(i, i + (t.inverse ? -360 : 360))
        }
        e.axis = t, t.model = e
    }

    function xm(t, e, i) {
        e[1] > e[0] && (e = e.slice().reverse());
        var n = t.coordToPoint([e[0], i]),
            o = t.coordToPoint([e[1], i]);
        return {
            x1: n[0],
            y1: n[1],
            x2: o[0],
            y2: o[1]
        }
    }

    function _m(t) {
        return t.getRadiusAxis().inverse ? 0 : 1
    }

    function wm(t, e, i) {
        return {
            position: [t.cx, t.cy],
            rotation: i / 180 * Math.PI,
            labelDirection: -1,
            tickDirection: -1,
            nameDirection: 1,
            labelRotate: e.getModel("axisLabel").get("rotate"),
            z2: 1
        }
    }

    function bm(t, e, i, n, o) {
        var a = e.axis,
            r = a.dataToCoord(t),
            s = n.getAngleAxis().getExtent()[0];
        s = s / 180 * Math.PI;
        var l, h, u, c = n.getRadiusAxis().getExtent();
        if ("radius" === a.dim) {
            var d = st();
            dt(d, d, s), ct(d, d, [n.cx, n.cy]), l = go([r, -o], d);
            var f = e.getModel("axisLabel").get("rotate") || 0,
                p = GT.innerTextLayout(s, f * Math.PI / 180, -1);
            h = p.textAlign, u = p.textVerticalAlign
        } else {
            var g = c[1];
            l = n.coordToPoint([g + o, r]);
            var m = n.cx,
                v = n.cy;
            h = Math.abs(l[0] - m) / g < .3 ? "center" : l[0] > m ? "left" : "right", u = Math.abs(l[1] - v) / g < .3 ? "middle" : l[1] > v ? "top" : "bottom"
        }
        return {
            position: l,
            align: h,
            verticalAlign: u
        }
    }

    function Sm(t, e) {
        e.update = "updateView", hs(e, function(e, i) {
            var n = {};
            return i.eachComponent({
                mainType: "geo",
                query: e
            }, function(i) {
                i[t](e.name), d(i.coordinateSystem.regions, function(t) {
                    n[t.name] = i.isSelected(t.name) || !1
                })
            }), {
                selected: n,
                name: e.name
            }
        })
    }

    function Mm(t) {
        var e = {};
        d(t, function(t) {
            e[t] = 1
        }), t.length = 0, d(e, function(e, i) {
            t.push(i)
        })
    }

    function Im(t) {
        if (t)
            for (var e in t)
                if (t.hasOwnProperty(e)) return !0
    }

    function Tm(t, e, n) {
        function o() {
            var t = function() {};
            return t.prototype.__hidden = t.prototype, new t
        }
        var a = {};
        return pk(e, function(e) {
            var r = a[e] = o();
            pk(t[e], function(t, o) {
                if (oD.isValidType(o)) {
                    var a = {
                        type: o,
                        visual: t
                    };
                    n && n(a, e), r[o] = new oD(a), "opacity" === o && ((a = i(a)).type = "colorAlpha", r.__hidden.__alphaForOpacity = new oD(a))
                }
            })
        }), a
    }

    function Am(t, e, n) {
        var o;
        d(n, function(t) {
            e.hasOwnProperty(t) && Im(e[t]) && (o = !0)
        }), o && d(n, function(n) {
            e.hasOwnProperty(n) && Im(e[n]) ? t[n] = i(e[n]) : delete t[n]
        })
    }

    function Dm(t, e, i, n, o, a) {
        function r(t) {
            return i.getItemVisual(u, t)
        }

        function s(t, e) {
            i.setItemVisual(u, t, e)
        }

        function l(t, l) {
            u = null == a ? t : l;
            var c = i.getRawDataItem(u);
            if (!c || !1 !== c.visualMap)
                for (var d = n.call(o, t), f = e[d], p = h[d], g = 0, m = p.length; g < m; g++) {
                    var v = p[g];
                    f[v] && f[v].applyVisual(t, r, s)
                }
        }
        var h = {};
        d(t, function(t) {
            var i = oD.prepareVisualTypes(e[t]);
            h[t] = i
        });
        var u;
        null == a ? i.each(l, !0) : i.each([a], l, !0)
    }

    function Cm(t, e, i, n) {
        var o = {};
        return d(t, function(t) {
            var i = oD.prepareVisualTypes(e[t]);
            o[t] = i
        }), {
            progress: function(t, a) {
                null != n && (n = a.getDimension(n));
                for (var r = t.start; r < t.end; r++) {
                    var s = a.getRawDataItem(r);
                    if (s && !1 === s.visualMap) return;
                    for (var l = null != n ? a.get(n, r, !0) : r, h = i(l), u = e[h], c = o[h], d = 0, f = c.length; d < f; d++) {
                        var p = c[d];
                        u[p] && u[p].applyVisual(l, function(t) {
                            return a.getItemVisual(r, t)
                        }, function(t, e) {
                            a.setItemVisual(r, t, e)
                        })
                    }
                }
            }
        }
    }

    function Lm(t) {
        var e = ["x", "y"],
            i = ["width", "height"];
        return {
            point: function(e, i, n) {
                if (e) {
                    var o = n.range;
                    return km(e[t], o)
                }
            },
            rect: function(n, o, a) {
                if (n) {
                    var r = a.range,
                        s = [n[e[t]], n[e[t]] + n[i[t]]];
                    return s[1] < s[0] && s.reverse(), km(s[0], r) || km(s[1], r) || km(r[0], s) || km(r[1], s)
                }
            }
        }
    }

    function km(t, e) {
        return e[0] <= t && t <= e[1]
    }

    function Pm(t, e, i, n, o) {
        for (var a = 0, r = o[o.length - 1]; a < o.length; a++) {
            var s = o[a];
            if (Om(t, e, i, n, s[0], s[1], r[0], r[1])) return !0;
            r = s
        }
    }

    function Om(t, e, i, n, o, a, r, s) {
        var l = Em(i - t, o - r, n - e, a - s);
        if (Nm(l)) return !1;
        var h = Em(o - t, o - r, a - e, a - s) / l;
        if (h < 0 || h > 1) return !1;
        var u = Em(i - t, o - t, n - e, a - e) / l;
        return !(u < 0 || u > 1)
    }

    function Nm(t) {
        return t <= 1e-6 && t >= -1e-6
    }

    function Em(t, e, i, n) {
        return t * n - e * i
    }

    function zm(t, e, i) {
        var n = this._targetInfoList = [],
            o = {},
            a = Bm(e, t);
        mk(bk, function(t, e) {
            (!i || !i.include || vk(i.include, e) >= 0) && t(a, n, o)
        })
    }

    function Rm(t) {
        return t[0] > t[1] && t.reverse(), t
    }

    function Bm(t, e) {
        return Oi(t, e, {
            includeMainTypes: _k
        })
    }

    function Vm(t, e, i, n) {
        var o = i.getAxis(["x", "y"][t]),
            a = Rm(f([0, 1], function(t) {
                return e ? o.coordToData(o.toLocalCoord(n[t])) : o.toGlobalCoord(o.dataToCoord(n[t]))
            })),
            r = [];
        return r[t] = a, r[1 - t] = [NaN, NaN], {
            values: a,
            xyMinMax: r
        }
    }

    function Gm(t, e, i, n) {
        return [e[0] - n[t] * i[0], e[1] - n[t] * i[1]]
    }

    function Wm(t, e) {
        var i = Fm(t),
            n = Fm(e),
            o = [i[0] / n[0], i[1] / n[1]];
        return isNaN(o[0]) && (o[0] = 1), isNaN(o[1]) && (o[1] = 1), o
    }

    function Fm(t) {
        return t ? [t[0][1] - t[0][0], t[1][1] - t[1][0]] : [NaN, NaN]
    }

    function Hm(t, e, i, n, o) {
        if (o) {
            var a = t.getZr();
            a[Ck] || (a[Dk] || (a[Dk] = Zm), yr(a, Dk, i, e)(t, n))
        }
    }

    function Zm(t, e) {
        if (!t.isDisposed()) {
            var i = t.getZr();
            i[Ck] = !0, t.dispatchAction({
                type: "brushSelect",
                batch: e
            }), i[Ck] = !1
        }
    }

    function Um(t, e, i, n) {
        for (var o = 0, a = e.length; o < a; o++) {
            var r = e[o];
            if (t[r.brushType](n, i, r.selectors, r)) return !0
        }
    }

    function jm(t) {
        var e = t.brushSelector;
        if (_(e)) {
            var i = [];
            return d(gk, function(t, n) {
                i[n] = function(i, n, o, a) {
                    var r = n.getItemLayout(i);
                    return t[e](r, o, a)
                }
            }), i
        }
        if (x(e)) {
            var n = {};
            return d(gk, function(t, i) {
                n[i] = e
            }), n
        }
        return e
    }

    function Xm(t, e) {
        var i = t.option.seriesIndex;
        return null != i && "all" !== i && (y(i) ? l(i, e) < 0 : e !== i)
    }

    function Ym(t) {
        var e = t.selectors = {};
        return d(gk[t.brushType], function(i, n) {
            e[n] = function(n) {
                return i(n, e, t)
            }
        }), t
    }

    function qm(t) {
        return new Kt(t[0][0], t[1][0], t[0][1] - t[0][0], t[1][1] - t[1][0])
    }

    function $m(t, e) {
        return n({
            brushType: t.brushType,
            brushMode: t.brushMode,
            transformable: t.transformable,
            brushStyle: new _o(t.brushStyle).getItemStyle(),
            removeOnClick: t.removeOnClick,
            z: t.z
        }, e, !0)
    }

    function Km(t, e, i, n) {
        (!n || n.$from !== t.id) && this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())
    }

    function Jm(t, e) {
        Ok[t] = e
    }

    function Qm(t) {
        return Ok[t]
    }

    function tv(t, e, i) {
        this.model = t, this.ecModel = e, this.api = i, this._brushType, this._brushMode
    }

    function ev(t, e, i) {
        this._model = t
    }

    function iv(t, e, i, n) {
        var o = i.calendarModel,
            a = i.seriesModel,
            r = o ? o.coordinateSystem : a ? a.coordinateSystem : null;
        return r === this ? r[t](n) : null
    }

    function nv(t, e) {
        var i = t.cellSize;
        y(i) ? 1 === i.length && (i[1] = i[0]) : i = t.cellSize = [i, i];
        var n = f([0, 1], function(t) {
            return Qo(e, t) && (i[t] = "auto"), null != i[t] && "auto" !== i[t]
        });
        ta(t, e, {
            type: "box",
            ignoreSize: n
        })
    }

    function ov(t) {
        return l(Vk, t) >= 0
    }

    function av(t, e, i) {
        function n(t, e) {
            return l(e.nodes, t) >= 0
        }

        function o(t, n) {
            var o = !1;
            return e(function(e) {
                d(i(t, e) || [], function(t) {
                    n.records[e.name][t] && (o = !0)
                })
            }), o
        }

        function a(t, n) {
            n.nodes.push(t), e(function(e) {
                d(i(t, e) || [], function(t) {
                    n.records[e.name][t] = !0
                })
            })
        }
        return function(i) {
            var r = {
                nodes: [],
                records: {}
            };
            if (e(function(t) {
                    r.records[t.name] = {}
                }), !i) return r;
            a(i, r);
            var s;
            do {
                s = !1, t(function(t) {
                    !n(t, r) && o(t, r) && (a(t, r), s = !0)
                })
            } while (s);
            return r
        }
    }

    function rv(t, e, i) {
        var n = [1 / 0, -1 / 0];
        return Wk(i, function(t) {
            var i = t.getData();
            i && Wk(i.mapDimension(e, !0), function(t) {
                var e = i.getApproximateExtent(t);
                e[0] < n[0] && (n[0] = e[0]), e[1] > n[1] && (n[1] = e[1])
            })
        }), n[1] < n[0] && (n = [NaN, NaN]), sv(t, n), n
    }

    function sv(t, e) {
        var i = t.getAxisModel(),
            n = i.getMin(!0),
            o = "category" === i.get("type"),
            a = o && i.getCategories().length;
        null != n && "dataMin" !== n && "function" != typeof n ? e[0] = n : o && (e[0] = a > 0 ? 0 : NaN);
        var r = i.getMax(!0);
        return null != r && "dataMax" !== r && "function" != typeof r ? e[1] = r : o && (e[1] = a > 0 ? a - 1 : NaN), i.get("scale", !0) || (e[0] > 0 && (e[0] = 0), e[1] < 0 && (e[1] = 0)), e
    }

    function lv(t, e) {
        var i = t.getAxisModel(),
            n = t._percentWindow,
            o = t._valueWindow;
        if (n) {
            var a = ko(o, [0, 500]);
            a = Math.min(a, 20);
            var r = e || 0 === n[0] && 100 === n[1];
            i.setRange(r ? null : +o[0].toFixed(a), r ? null : +o[1].toFixed(a))
        }
    }

    function hv(t) {
        var e = t._minMaxSpan = {},
            i = t._dataZoomModel;
        Wk(["min", "max"], function(n) {
            e[n + "Span"] = i.get(n + "Span");
            var o = i.get(n + "ValueSpan");
            if (null != o && (e[n + "ValueSpan"] = o, null != (o = t.getAxisModel().axis.scale.parse(o)))) {
                var a = t._dataExtent;
                e[n + "Span"] = Io(a[0] + o, a, [0, 100], !0)
            }
        })
    }

    function uv(t) {
        var e = {};
        return Zk(["start", "end", "startValue", "endValue", "throttle"], function(i) {
            t.hasOwnProperty(i) && (e[i] = t[i])
        }), e
    }

    function cv(t, e) {
        var i = t._rangePropMode,
            n = t.get("rangeMode");
        Zk([
            ["start", "startValue"],
            ["end", "endValue"]
        ], function(t, o) {
            var a = null != e[t[0]],
                r = null != e[t[1]];
            a && !r ? i[o] = "percent" : !a && r ? i[o] = "value" : n ? i[o] = n[o] : a && (i[o] = "percent")
        })
    }

    function dv(t) {
        return {
            x: "y",
            y: "x",
            radius: "angle",
            angle: "radius"
        } [t]
    }

    function fv(t) {
        return "vertical" === t ? "ns-resize" : "ew-resize"
    }

    function pv(t, e) {
        var i = yv(t),
            n = e.dataZoomId,
            o = e.coordId;
        d(i, function(t, i) {
            var a = t.dataZoomInfos;
            a[n] && l(e.allCoordIds, o) < 0 && (delete a[n], t.count--)
        }), _v(i);
        var a = i[o];
        a || ((a = i[o] = {
            coordId: o,
            dataZoomInfos: {},
            count: 0
        }).controller = xv(t, a), a.dispatchAction = v(Mv, t)), !a.dataZoomInfos[n] && a.count++, a.dataZoomInfos[n] = e;
        var r = Iv(a.dataZoomInfos);
        a.controller.enable(r.controlType, r.opt), a.controller.setPointerChecker(e.containsPoint), yr(a, "dispatchAction", e.throttleRate, "fixRate")
    }

    function gv(t, e) {
        var i = yv(t);
        d(i, function(t) {
            t.controller.dispose();
            var i = t.dataZoomInfos;
            i[e] && (delete i[e], t.count--)
        }), _v(i)
    }

    function mv(t, e) {
        if (t && "dataZoom" === t.type && t.batch)
            for (var i = 0, n = t.batch.length; i < n; i++)
                if (t.batch[i].dataZoomId === e) return !1;
        return !0
    }

    function vv(t) {
        return t.type + "\0_" + t.id
    }

    function yv(t) {
        var e = t.getZr();
        return e[oP] || (e[oP] = {})
    }

    function xv(t, e) {
        var i = new Zh(t.getZr());
        return i.on("pan", nP(wv, e)), i.on("zoom", nP(bv, e)), i
    }

    function _v(t) {
        d(t, function(e, i) {
            e.count || (e.controller.dispose(), delete t[i])
        })
    }

    function wv(t, e, i, n, o, a, r) {
        Sv(t, function(s) {
            return s.panGetRange(t.controller, e, i, n, o, a, r)
        })
    }

    function bv(t, e, i, n) {
        Sv(t, function(o) {
            return o.zoomGetRange(t.controller, e, i, n)
        })
    }

    function Sv(t, e) {
        var i = [];
        d(t.dataZoomInfos, function(t) {
            var n = e(t);
            !t.disabled && n && i.push({
                dataZoomId: t.dataZoomId,
                start: n[0],
                end: n[1]
            })
        }), t.dispatchAction(i)
    }

    function Mv(t, e) {
        t.dispatchAction({
            type: "dataZoom",
            batch: e
        })
    }

    function Iv(t) {
        var e, i = {},
            n = {
                type_true: 2,
                type_move: 1,
                type_false: 0,
                type_undefined: -1
            };
        return d(t, function(t) {
            var o = !t.disabled && (!t.zoomLock || "move");
            n["type_" + o] > n["type_" + e] && (e = o), a(i, t.roamControllerOpt)
        }), {
            controlType: e,
            opt: i
        }
    }

    function Tv(t, e) {
        return t && t.hasOwnProperty && t.hasOwnProperty(e)
    }

    function Av(t, e, i, n) {
        for (var o = e.targetVisuals[n], a = oD.prepareVisualTypes(o), r = {
                color: t.getData().getVisual("color")
            }, s = 0, l = a.length; s < l; s++) {
            var h = a[s],
                u = o["opacity" === h ? "__alphaForOpacity" : h];
            u && u.applyVisual(i, function(t) {
                return r[t]
            }, function(t, e) {
                r[t] = e
            })
        }
        return r.color
    }

    function Dv(t, e, i) {
        if (i[0] === i[1]) return i.slice();
        for (var n = (i[1] - i[0]) / 200, o = i[0], a = [], r = 0; r <= 200 && o < i[1]; r++) a.push(o), o += n;
        return a.push(i[1]), a
    }

    function Cv(t, e, i) {
        var n = t.option,
            o = n.align;
        if (null != o && "auto" !== o) return o;
        for (var a = {
                width: e.getWidth(),
                height: e.getHeight()
            }, r = "horizontal" === n.orient ? 1 : 0, s = [
                ["left", "right", "width"],
                ["top", "bottom", "height"]
            ], l = s[r], h = [0, null, 10], u = {}, c = 0; c < 3; c++) u[s[1 - r][c]] = h[c], u[l[c]] = 2 === c ? i[0] : n[l[c]];
        var d = [
                ["x", "width", 3],
                ["y", "height", 0]
            ][r],
            f = Ko(u, a, n.padding);
        return l[(f.margin[d[2]] || 0) + f[d[0]] + .5 * f[d[1]] < .5 * a[d[1]] ? 0 : 1]
    }

    function Lv(t) {
        return d(t || [], function(e) {
            null != t.dataIndex && (t.dataIndexInside = t.dataIndex, t.dataIndex = null)
        }), t
    }

    function kv(t, e, i, n) {
        return new Rb({
            shape: {
                points: t
            },
            draggable: !!i,
            cursor: e,
            drift: i,
            onmousemove: function(t) {
                Q_(t.event)
            },
            ondragend: n
        })
    }

    function Pv(t, e) {
        return 0 === t ? [
            [0, 0],
            [e, 0],
            [e, -e]
        ] : [
            [0, 0],
            [e, 0],
            [e, e]
        ]
    }

    function Ov(t, e, i, n) {
        return t ? [
            [0, -TP(e, AP(i, 0))],
            [CP, 0],
            [0, TP(e, AP(n - i, 0))]
        ] : [
            [0, 0],
            [5, -5],
            [5, 5]
        ]
    }

    function Nv(t, e, i) {
        var n = DP / 2,
            o = t.get("hoverLinkDataSize");
        return o && (n = MP(o, e, i, !0) / 2), n
    }

    function Ev(t) {
        var e = t.get("hoverLinkOnHandle");
        return !!(null == e ? t.get("realtime") : e)
    }

    function zv(t) {
        return "vertical" === t ? "ns-resize" : "ew-resize"
    }

    function Rv(t, e) {
        var i = t.inverse;
        ("vertical" === t.orient ? !i : i) && e.reverse()
    }

    function Bv(t) {
        Mi(t, "label", ["show"])
    }

    function Vv(t) {
        return !(isNaN(parseFloat(t.x)) && isNaN(parseFloat(t.y)))
    }

    function Gv(t) {
        return !isNaN(parseFloat(t.x)) && !isNaN(parseFloat(t.y))
    }

    function Wv(t, e, i) {
        var n = -1;
        do {
            n = Math.max(Co(t.get(e, i)), n), t = t.stackedOn
        } while (t);
        return n
    }

    function Fv(t, e, i, n, o, a) {
        var r = [],
            s = Yv(e, n, t),
            l = e.indicesOfNearest(n, s, !0)[0];
        r[o] = e.get(i, l, !0), r[a] = e.get(n, l, !0);
        var h = Wv(e, n, l);
        return (h = Math.min(h, 20)) >= 0 && (r[a] = +r[a].toFixed(h)), r
    }

    function Hv(t, e) {
        var n = t.getData(),
            o = t.coordinateSystem;
        if (e && !Gv(e) && !y(e.coord) && o) {
            var a = o.dimensions,
                r = Zv(e, n, o, t);
            if ((e = i(e)).type && BP[e.type] && r.baseAxis && r.valueAxis) {
                var s = zP(a, r.baseAxis.dim),
                    l = zP(a, r.valueAxis.dim);
                e.coord = BP[e.type](n, r.baseDataDim, r.valueDataDim, s, l), e.value = e.coord[l]
            } else {
                for (var h = [null != e.xAxis ? e.xAxis : e.radiusAxis, null != e.yAxis ? e.yAxis : e.angleAxis], u = 0; u < 2; u++) BP[h[u]] && (h[u] = Yv(n, n.mapDimension(a[u]), h[u]));
                e.coord = h
            }
        }
        return e
    }

    function Zv(t, e, i, n) {
        var o = {};
        return null != t.valueIndex || null != t.valueDim ? (o.valueDataDim = null != t.valueIndex ? e.getDimension(t.valueIndex) : t.valueDim, o.valueAxis = i.getAxis(Uv(n, o.valueDataDim)), o.baseAxis = i.getOtherAxis(o.valueAxis), o.baseDataDim = e.mapDimension(o.baseAxis.dim)) : (o.baseAxis = n.getBaseAxis(), o.valueAxis = i.getOtherAxis(o.baseAxis), o.baseDataDim = e.mapDimension(o.baseAxis.dim), o.valueDataDim = e.mapDimension(o.valueAxis.dim)), o
    }

    function Uv(t, e) {
        var i = t.getData(),
            n = i.dimensions;
        e = i.getDimension(e);
        for (var o = 0; o < n.length; o++) {
            var a = i.getDimensionInfo(n[o]);
            if (a.name === e) return a.coordDim
        }
    }

    function jv(t, e) {
        return !(t && t.containData && e.coord && !Vv(e)) || t.containData(e.coord)
    }

    function Xv(t, e, i, n) {
        return n < 2 ? t.coord && t.coord[n] : t.value
    }

    function Yv(t, e, i) {
        if ("average" === i) {
            var n = 0,
                o = 0;
            return t.each(e, function(t, e) {
                isNaN(t) || (n += t, o++)
            }, !0), n / o
        }
        return t.getDataExtent(e, !0)["max" === i ? 1 : 0]
    }

    function qv(t, e, i) {
        var n = e.coordinateSystem;
        t.each(function(o) {
            var a, r = t.getItemModel(o),
                s = To(r.get("x"), i.getWidth()),
                l = To(r.get("y"), i.getHeight());
            if (isNaN(s) || isNaN(l)) {
                if (e.getMarkerPosition) a = e.getMarkerPosition(t.getValues(t.dimensions, o));
                else if (n) {
                    var h = t.get(n.dimensions[0], o),
                        u = t.get(n.dimensions[1], o);
                    a = n.dataToPoint([h, u])
                }
            } else a = [s, l];
            isNaN(s) || (a[0] = s), isNaN(l) || (a[1] = l), t.setItemLayout(o, a)
        })
    }

    function $v(t, e, i) {
        var n;
        n = t ? f(t && t.dimensions, function(t) {
            return r({
                name: t,
                isSysCoord: !0
            }, e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {})
        }) : [{
            name: "value",
            type: "float",
            isSysCoord: !0
        }];
        var o = new yI(n, i),
            a = f(i.get("data"), v(Hv, e));
        return t && (a = g(a, v(jv, t))), o.initData(a, null, t ? Xv : function(t) {
            return t.value
        }), o
    }

    function Kv(t) {
        return !isNaN(t) && !isFinite(t)
    }

    function Jv(t, e, i, n) {
        var o = 1 - t,
            a = n.dimensions[t];
        return Kv(e[o]) && Kv(i[o]) && e[t] === i[t] && n.getAxis(a).containData(e[t])
    }

    function Qv(t, e) {
        if ("cartesian2d" === t.type) {
            var i = e[0].coord,
                n = e[1].coord;
            if (i && n && (Jv(1, i, n, t) || Jv(0, i, n, t))) return !0
        }
        return jv(t, e[0]) && jv(t, e[1])
    }

    function ty(t, e, i, n, o) {
        var a, r = n.coordinateSystem,
            s = t.getItemModel(e),
            l = To(s.get("x"), o.getWidth()),
            h = To(s.get("y"), o.getHeight());
        if (isNaN(l) || isNaN(h)) {
            if (n.getMarkerPosition) a = n.getMarkerPosition(t.getValues(t.dimensions, e));
            else {
                var u = r.dimensions,
                    c = t.get(u[0], e),
                    d = t.get(u[1], e);
                a = r.dataToPoint([c, d])
            }
            if ("cartesian2d" === r.type) {
                var f = r.getAxis("x"),
                    p = r.getAxis("y"),
                    u = r.dimensions;
                Kv(t.get(u[0], e)) ? a[0] = f.toGlobalCoord(f.getExtent()[i ? 0 : 1]) : Kv(t.get(u[1], e)) && (a[1] = p.toGlobalCoord(p.getExtent()[i ? 0 : 1]))
            }
            isNaN(l) || (a[0] = l), isNaN(h) || (a[1] = h)
        } else a = [l, h];
        t.setItemLayout(e, a)
    }

    function ey(t, e, i) {
        var n;
        n = t ? f(t && t.dimensions, function(t) {
            return r({
                name: t
            }, e.getData().getDimensionInfo(e.getData().mapDimension(t)) || {})
        }) : [{
            name: "value",
            type: "float"
        }];
        var o = new yI(n, i),
            a = new yI(n, i),
            s = new yI([], i),
            l = f(i.get("data"), v(GP, e, t, i));
        t && (l = g(l, v(Qv, t)));
        var h = t ? Xv : function(t) {
            return t.value
        };
        return o.initData(f(l, function(t) {
            return t[0]
        }), null, h), a.initData(f(l, function(t) {
            return t[1]
        }), null, h), s.initData(f(l, function(t) {
            return t[2]
        })), s.hasItemOption = !0, {
            from: o,
            to: a,
            line: s
        }
    }

    function iy(t) {
        return !isNaN(t) && !isFinite(t)
    }

    function ny(t, e, i, n) {
        var o = 1 - t;
        return iy(e[o]) && iy(i[o])
    }

    function oy(t, e) {
        var i = e.coord[0],
            n = e.coord[1];
        return !("cartesian2d" !== t.type || !i || !n || !ny(1, i, n, t) && !ny(0, i, n, t)) || (jv(t, {
            coord: i,
            x: e.x0,
            y: e.y0
        }) || jv(t, {
            coord: n,
            x: e.x1,
            y: e.y1
        }))
    }

    function ay(t, e, i, n, o) {
        var a, r = n.coordinateSystem,
            s = t.getItemModel(e),
            l = To(s.get(i[0]), o.getWidth()),
            h = To(s.get(i[1]), o.getHeight());
        if (isNaN(l) || isNaN(h)) {
            if (n.getMarkerPosition) a = n.getMarkerPosition(t.getValues(i, e));
            else {
                var u = [f = t.get(i[0], e), p = t.get(i[1], e)];
                r.clampData && r.clampData(u, u), a = r.dataToPoint(u, !0)
            }
            if ("cartesian2d" === r.type) {
                var c = r.getAxis("x"),
                    d = r.getAxis("y"),
                    f = t.get(i[0], e),
                    p = t.get(i[1], e);
                iy(f) ? a[0] = c.toGlobalCoord(c.getExtent()["x0" === i[0] ? 0 : 1]) : iy(p) && (a[1] = d.toGlobalCoord(d.getExtent()["y0" === i[1] ? 0 : 1]))
            }
            isNaN(l) || (a[0] = l), isNaN(h) || (a[1] = h)
        } else a = [l, h];
        return a
    }

    function ry(t, e, i) {
        var n, o, a = ["x0", "y0", "x1", "y1"];
        t ? (n = f(t && t.dimensions, function(t) {
            var i = e.getData();
            return r({
                name: t
            }, i.getDimensionInfo(i.mapDimension(t)) || {})
        }), o = new yI(f(a, function(t, e) {
            return {
                name: t,
                type: n[e % 2].type
            }
        }), i)) : o = new yI(n = [{
            name: "value",
            type: "float"
        }], i);
        var s = f(i.get("data"), v(WP, e, t, i));
        t && (s = g(s, v(oy, t)));
        var l = t ? function(t, e, i, n) {
            return t.coord[Math.floor(n / 2)][n % 2]
        } : function(t) {
            return t.value
        };
        return o.initData(s, null, l), o.hasItemOption = !0, o
    }

    function sy(t) {
        var e = t.type,
            i = {
                number: "value",
                time: "time"
            };
        if (i[e] && (t.axisType = i[e], delete t.type), ly(t), hy(t, "controlPosition")) {
            var n = t.controlStyle || (t.controlStyle = {});
            hy(n, "position") || (n.position = t.controlPosition), "none" !== n.position || hy(n, "show") || (n.show = !1, delete n.position), delete t.controlPosition
        }
        d(t.data || [], function(t) {
            w(t) && !y(t) && (!hy(t, "value") && hy(t, "name") && (t.value = t.name), ly(t))
        })
    }

    function ly(t) {
        var e = t.itemStyle || (t.itemStyle = {}),
            i = e.emphasis || (e.emphasis = {}),
            n = t.label || t.label || {},
            o = n.normal || (n.normal = {}),
            a = {
                normal: 1,
                emphasis: 1
            };
        d(n, function(t, e) {
            a[e] || hy(o, e) || (o[e] = t)
        }), i.label && !hy(n, "emphasis") && (n.emphasis = i.label, delete i.label)
    }

    function hy(t, e) {
        return t.hasOwnProperty(e)
    }

    function uy(t, e) {
        return Ko(t.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        }, t.get("padding"))
    }

    function cy(t, e, n, o) {
        return En(t.get(e).replace(/^path:\/\//, ""), i(o || {}), new Kt(n[0], n[1], n[2], n[3]), "center")
    }

    function dy(t, e, i, o, a, r) {
        var s = e.get("color");
        a ? (a.setColor(s), i.add(a), r && r.onUpdate(a)) : ((a = dl(t.get("symbol"), -1, -1, 2, 2, s)).setStyle("strokeNoScale", !0), i.add(a), r && r.onCreate(a));
        var l = e.getItemStyle(["color", "symbol", "symbolSize"]);
        a.setStyle(l), o = n({
            rectHover: !0,
            z2: 100
        }, o, !0);
        var h = t.get("symbolSize");
        (h = h instanceof Array ? h.slice() : [+h, +h])[0] /= 2, h[1] /= 2, o.scale = h;
        var u = t.get("symbolOffset");
        if (u) {
            var c = o.position = o.position || [0, 0];
            c[0] += To(u[0], h[0]), c[1] += To(u[1], h[1])
        }
        var d = t.get("symbolRotate");
        return o.rotation = (d || 0) * Math.PI / 180 || 0, a.attr(o), a.updateTransform(), a
    }

    function fy(t, e, i, n, o) {
        if (!t.dragging) {
            var a = n.getModel("checkpointStyle"),
                r = i.dataToCoord(n.getData().get(["value"], e));
            o || !a.get("animation", !0) ? t.attr({
                position: [r, 0]
            }) : (t.stopAnimation(!0), t.animateTo({
                position: [r, 0]
            }, a.get("animationDuration", !0), a.get("animationEasing", !0)))
        }
    }

    function py(t) {
        return 0 === t.indexOf("my")
    }

    function gy(t) {
        this.model = t
    }

    function my(t) {
        this.model = t
    }

    function vy(t) {
        var e = {},
            i = [],
            n = [];
        return t.eachRawSeries(function(t) {
            var o = t.coordinateSystem;
            if (!o || "cartesian2d" !== o.type && "polar" !== o.type) i.push(t);
            else {
                var a = o.getBaseAxis();
                if ("category" === a.type) {
                    var r = a.dim + "_" + a.index;
                    e[r] || (e[r] = {
                        categoryAxis: a,
                        valueAxis: o.getOtherAxis(a),
                        series: []
                    }, n.push({
                        axisDim: a.dim,
                        axisIndex: a.index
                    })), e[r].series.push(t)
                } else i.push(t)
            }
        }), {
            seriesGroupByCategoryAxis: e,
            other: i,
            meta: n
        }
    }

    function yy(t) {
        var e = [];
        return d(t, function(t, i) {
            var n = t.categoryAxis,
                o = t.valueAxis.dim,
                a = [" "].concat(f(t.series, function(t) {
                    return t.name
                })),
                r = [n.model.getCategories()];
            d(t.series, function(t) {
                r.push(t.getRawData().mapArray(o, function(t) {
                    return t
                }))
            });
            for (var s = [a.join(nO)], l = 0; l < r[0].length; l++) {
                for (var h = [], u = 0; u < r.length; u++) h.push(r[u][l]);
                s.push(h.join(nO))
            }
            e.push(s.join("\n"))
        }), e.join("\n\n" + iO + "\n\n")
    }

    function xy(t) {
        return f(t, function(t) {
            var e = t.getRawData(),
                i = [t.name],
                n = [];
            return e.each(e.dimensions, function() {
                for (var t = arguments.length, o = arguments[t - 1], a = e.getName(o), r = 0; r < t - 1; r++) n[r] = arguments[r];
                i.push((a ? a + nO : "") + n.join(nO))
            }), i.join("\n")
        }).join("\n\n" + iO + "\n\n")
    }

    function _y(t) {
        var e = vy(t);
        return {
            value: g([yy(e.seriesGroupByCategoryAxis), xy(e.other)], function(t) {
                return t.replace(/[\n\t\s]/g, "")
            }).join("\n\n" + iO + "\n\n"),
            meta: e.meta
        }
    }

    function wy(t) {
        return t.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
    }

    function by(t) {
        if (t.slice(0, t.indexOf("\n")).indexOf(nO) >= 0) return !0
    }

    function Sy(t) {
        for (var e = t.split(/\n+/g), i = [], n = f(wy(e.shift()).split(oO), function(t) {
                return {
                    name: t,
                    data: []
                }
            }), o = 0; o < e.length; o++) {
            var a = wy(e[o]).split(oO);
            i.push(a.shift());
            for (var r = 0; r < a.length; r++) n[r] && (n[r].data[o] = a[r])
        }
        return {
            series: n,
            categories: i
        }
    }

    function My(t) {
        for (var e = t.split(/\n+/g), i = wy(e.shift()), n = [], o = 0; o < e.length; o++) {
            var a, r = wy(e[o]).split(oO),
                s = "",
                l = !1;
            isNaN(r[0]) ? (l = !0, s = r[0], r = r.slice(1), n[o] = {
                name: s,
                value: []
            }, a = n[o].value) : a = n[o] = [];
            for (var h = 0; h < r.length; h++) a.push(+r[h]);
            1 === a.length && (l ? n[o].value = a[0] : n[o] = a[0])
        }
        return {
            name: i,
            data: n
        }
    }

    function Iy(t, e) {
        var i = {
            series: []
        };
        return d(t.split(new RegExp("\n*" + iO + "\n*", "g")), function(t, n) {
            if (by(t)) {
                var o = Sy(t),
                    a = e[n],
                    r = a.axisDim + "Axis";
                a && (i[r] = i[r] || [], i[r][a.axisIndex] = {
                    data: o.categories
                }, i.series = i.series.concat(o.series))
            } else {
                o = My(t);
                i.series.push(o)
            }
        }), i
    }

    function Ty(t) {
        this._dom = null, this.model = t
    }

    function Ay(t, e) {
        return f(t, function(t, i) {
            var n = e && e[i];
            return w(n) && !y(n) ? (w(t) && !y(t) && (t = t.value), r({
                value: t
            }, n)) : t
        })
    }

    function Dy(t, e) {
        var i = Py(t);
        aO(e, function(e, n) {
            for (var o = i.length - 1; o >= 0 && !i[o][n]; o--);
            if (o < 0) {
                var a = t.queryComponents({
                    mainType: "dataZoom",
                    subType: "select",
                    id: n
                })[0];
                if (a) {
                    var r = a.getPercentRange();
                    i[0][n] = {
                        dataZoomId: n,
                        start: r[0],
                        end: r[1]
                    }
                }
            }
        }), i.push(e)
    }

    function Cy(t) {
        var e = Py(t),
            i = e[e.length - 1];
        e.length > 1 && e.pop();
        var n = {};
        return aO(i, function(t, i) {
            for (var o = e.length - 1; o >= 0; o--)
                if (t = e[o][i]) {
                    n[i] = t;
                    break
                }
        }), n
    }

    function Ly(t) {
        t[rO] = null
    }

    function ky(t) {
        return Py(t).length
    }

    function Py(t) {
        var e = t[rO];
        return e || (e = t[rO] = [{}]), e
    }

    function Oy(t, e, i) {
        (this._brushController = new yd(i.getZr())).on("brush", m(this._onBrush, this)).mount(), this._isZoomActive
    }

    function Ny(t) {
        var e = {};
        return d(["xAxisIndex", "yAxisIndex"], function(i) {
            e[i] = t[i], null == e[i] && (e[i] = "all"), (!1 === e[i] || "none" === e[i]) && (e[i] = [])
        }), e
    }

    function Ey(t, e) {
        t.setIconStatus("back", ky(e) > 1 ? "emphasis" : "normal")
    }

    function zy(t, e, i, n, o) {
        var a = i._isZoomActive;
        n && "takeGlobalCursor" === n.type && (a = "dataZoomSelect" === n.key && n.dataZoomSelectActive), i._isZoomActive = a, t.setIconStatus("zoom", a ? "emphasis" : "normal");
        var r = new zm(Ny(t.option), e, {
            include: ["grid"]
        });
        i._brushController.setPanels(r.makePanelOpts(o, function(t) {
            return t.xAxisDeclared && !t.yAxisDeclared ? "lineX" : !t.xAxisDeclared && t.yAxisDeclared ? "lineY" : "rect"
        })).enableBrush(!!a && {
            brushType: "auto",
            brushStyle: {
                lineWidth: 0,
                fill: "rgba(0,0,0,0.2)"
            }
        })
    }

    function Ry(t) {
        this.model = t
    }

    function By(t) {
        return fO(t)
    }

    function Vy() {
        if (!mO && vO) {
            mO = !0;
            var t = vO.styleSheets;
            t.length < 31 ? vO.createStyleSheet().addRule(".zrvml", "behavior:url(#default#VML)") : t[0].addRule(".zrvml", "behavior:url(#default#VML)")
        }
    }

    function Gy(t) {
        return parseInt(t, 10)
    }

    function Wy(t, e) {
        Vy(), this.root = t, this.storage = e;
        var i = document.createElement("div"),
            n = document.createElement("div");
        i.style.cssText = "display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;", n.style.cssText = "position:absolute;left:0;top:0;", t.appendChild(i), this._vmlRoot = n, this._vmlViewport = i, this.resize();
        var o = e.delFromStorage,
            a = e.addToStorage;
        e.delFromStorage = function(t) {
            o.call(e, t), t && t.onRemove && t.onRemove(n)
        }, e.addToStorage = function(t) {
            t.onAdd && t.onAdd(n), a.call(e, t)
        }, this._firstPaint = !0
    }

    function Fy(t) {
        return function() {
            v_('In IE8.0 VML mode painter not support method "' + t + '"')
        }
    }

    function Hy(t) {
        return document.createElementNS(KO, t)
    }

    function Zy(t) {
        return eN(1e4 * t) / 1e4
    }

    function Uy(t) {
        return t < sN && t > -sN
    }

    function jy(t, e) {
        var i = e ? t.textFill : t.fill;
        return null != i && i !== tN
    }

    function Xy(t, e) {
        var i = e ? t.textStroke : t.stroke;
        return null != i && i !== tN
    }

    function Yy(t, e) {
        e && qy(t, "transform", "matrix(" + QO.call(e, ",") + ")")
    }

    function qy(t, e, i) {
        (!i || "linear" !== i.type && "radial" !== i.type) && t.setAttribute(e, i)
    }

    function $y(t, e, i) {
        t.setAttributeNS("http://www.w3.org/1999/xlink", e, i)
    }

    function Ky(t, e, i) {
        if (jy(e, i)) {
            var n = i ? e.textFill : e.fill;
            n = "transparent" === n ? tN : n, "none" !== t.getAttribute("clip-path") && n === tN && (n = "rgba(0, 0, 0, 0.002)"), qy(t, "fill", n), qy(t, "fill-opacity", e.opacity)
        } else qy(t, "fill", tN);
        if (Xy(e, i)) {
            var o = i ? e.textStroke : e.stroke;
            qy(t, "stroke", o = "transparent" === o ? tN : o), qy(t, "stroke-width", (i ? e.textStrokeWidth : e.lineWidth) / (!i && e.strokeNoScale ? e.host.getLineScale() : 1)), qy(t, "paint-order", i ? "stroke" : "fill"), qy(t, "stroke-opacity", e.opacity), e.lineDash ? (qy(t, "stroke-dasharray", e.lineDash.join(",")), qy(t, "stroke-dashoffset", eN(e.lineDashOffset || 0))) : qy(t, "stroke-dasharray", ""), e.lineCap && qy(t, "stroke-linecap", e.lineCap), e.lineJoin && qy(t, "stroke-linejoin", e.lineJoin), e.miterLimit && qy(t, "stroke-miterlimit", e.miterLimit)
        } else qy(t, "stroke", tN)
    }

    function Jy(t) {
        for (var e = [], i = t.data, n = t.len(), o = 0; o < n;) {
            var a = "",
                r = 0;
            switch (i[o++]) {
                case JO.M:
                    a = "M", r = 2;
                    break;
                case JO.L:
                    a = "L", r = 2;
                    break;
                case JO.Q:
                    a = "Q", r = 4;
                    break;
                case JO.C:
                    a = "C", r = 6;
                    break;
                case JO.A:
                    var s = i[o++],
                        l = i[o++],
                        h = i[o++],
                        u = i[o++],
                        c = i[o++],
                        d = i[o++],
                        f = i[o++],
                        p = i[o++],
                        g = Math.abs(d),
                        m = Uy(g - aN) && !Uy(g),
                        v = !1;
                    v = g >= aN || !Uy(g) && (d > -oN && d < 0 || d > oN) == !!p;
                    var y = Zy(s + h * nN(c)),
                        x = Zy(l + u * iN(c));
                    m && (d = p ? aN - 1e-4 : 1e-4 - aN, v = !0, 9 === o && e.push("M", y, x));
                    var _ = Zy(s + h * nN(c + d)),
                        w = Zy(l + u * iN(c + d));
                    e.push("A", Zy(h), Zy(u), eN(f * rN), +v, +p, _, w);
                    break;
                case JO.Z:
                    a = "Z";
                    break;
                case JO.R:
                    var _ = Zy(i[o++]),
                        w = Zy(i[o++]),
                        b = Zy(i[o++]),
                        S = Zy(i[o++]);
                    e.push("M", _, w, "L", _ + b, w, "L", _ + b, w + S, "L", _, w + S, "L", _, w)
            }
            a && e.push(a);
            for (var M = 0; M < r; M++) e.push(Zy(i[o++]))
        }
        return e.join(" ")
    }

    function Qy(t) {
        return "middle" === t ? "middle" : "bottom" === t ? "baseline" : "hanging"
    }

    function tx() {}

    function ex(t, e, i, n) {
        for (var o = 0, a = e.length, r = 0, s = 0; o < a; o++) {
            var l = e[o];
            if (l.removed) {
                for (var h = [], u = s; u < s + l.count; u++) h.push(u);
                l.indices = h, s += l.count
            } else {
                for (var h = [], u = r; u < r + l.count; u++) h.push(u);
                l.indices = h, r += l.count, l.added || (s += l.count)
            }
        }
        return e
    }

    function ix(t) {
        return {
            newPos: t.newPos,
            components: t.components.slice(0)
        }
    }

    function nx(t, e, i, n, o) {
        this._zrId = t, this._svgRoot = e, this._tagNames = "string" == typeof i ? [i] : i, this._markLabel = n, this._domName = o || "_dom", this.nextId = 0
    }

    function ox(t, e) {
        nx.call(this, t, e, ["linearGradient", "radialGradient"], "__gradient_in_use__")
    }

    function ax(t, e) {
        nx.call(this, t, e, "clipPath", "__clippath_in_use__")
    }

    function rx(t, e) {
        nx.call(this, t, e, ["filter"], "__filter_in_use__", "_shadowDom")
    }

    function sx(t) {
        return t && (t.shadowBlur || t.shadowOffsetX || t.shadowOffsetY || t.textShadowBlur || t.textShadowOffsetX || t.textShadowOffsetY)
    }

    function lx(t) {
        return parseInt(t, 10)
    }

    function hx(t) {
        return t instanceof Mn ? lN : t instanceof Je ? hN : t instanceof Cb ? uN : lN
    }

    function ux(t, e) {
        return e && t && e.parentNode !== t
    }

    function cx(t, e, i) {
        if (ux(t, e) && i) {
            var n = i.nextSibling;
            n ? t.insertBefore(e, n) : t.appendChild(e)
        }
    }

    function dx(t, e) {
        if (ux(t, e)) {
            var i = t.firstChild;
            i ? t.insertBefore(e, i) : t.appendChild(e)
        }
    }

    function fx(t, e) {
        e && t && e.parentNode === t && t.removeChild(e)
    }

    function px(t) {
        return t.__textSvgEl
    }

    function gx(t) {
        return t.__svgEl
    }

    function mx(t) {
        return function() {
            v_('In SVG mode painter not support method "' + t + '"')
        }
    }
    var vx = 2311,
        yx = function() {
            return vx++
        },
        xx = {},
        _x = xx = "undefined" != typeof wx ? {
            browser: {},
            os: {},
            node: !1,
            wxa: !0,
            canvasSupported: !0,
            svgSupported: !1,
            touchEventsSupported: !0
        } : "undefined" == typeof document && "undefined" != typeof self ? {
            browser: {},
            os: {},
            node: !1,
            worker: !0,
            canvasSupported: !0
        } : "undefined" == typeof navigator ? {
            browser: {},
            os: {},
            node: !0,
            worker: !1,
            canvasSupported: !0,
            svgSupported: !0
        } : function(t) {
            var e = {},
                i = {},
                n = t.match(/Firefox\/([\d.]+)/),
                o = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/),
                a = t.match(/Edge\/([\d.]+)/),
                r = /micromessenger/i.test(t);
            return n && (i.firefox = !0, i.version = n[1]), o && (i.ie = !0, i.version = o[1]), a && (i.edge = !0, i.version = a[1]), r && (i.weChat = !0), {
                browser: i,
                os: e,
                node: !1,
                canvasSupported: !!document.createElement("canvas").getContext,
                svgSupported: "undefined" != typeof SVGRect,
                touchEventsSupported: "ontouchstart" in window && !i.ie && !i.edge,
                pointerEventsSupported: "onpointerdown" in window && (i.edge || i.ie && i.version >= 11)
            }
        }(navigator.userAgent),
        bx = {
            "[object Function]": 1,
            "[object RegExp]": 1,
            "[object Date]": 1,
            "[object Error]": 1,
            "[object CanvasGradient]": 1,
            "[object CanvasPattern]": 1,
            "[object Image]": 1,
            "[object Canvas]": 1
        },
        Sx = {
            "[object Int8Array]": 1,
            "[object Uint8Array]": 1,
            "[object Uint8ClampedArray]": 1,
            "[object Int16Array]": 1,
            "[object Uint16Array]": 1,
            "[object Int32Array]": 1,
            "[object Uint32Array]": 1,
            "[object Float32Array]": 1,
            "[object Float64Array]": 1
        },
        Mx = Object.prototype.toString,
        Ix = Array.prototype,
        Tx = Ix.forEach,
        Ax = Ix.filter,
        Dx = Ix.slice,
        Cx = Ix.map,
        Lx = Ix.reduce,
        kx = {},
        Px = function() {
            return kx.createCanvas()
        };
    kx.createCanvas = function() {
        return document.createElement("canvas")
    };
    var Ox, Nx = "__ec_primitive__";
    E.prototype = {
        constructor: E,
        get: function(t) {
            return this.hasOwnProperty(t) ? this[t] : null
        },
        set: function(t, e) {
            return this[t] = e
        },
        each: function(t, e) {
            void 0 !== e && (t = m(t, e));
            for (var i in this) this.hasOwnProperty(i) && t(this[i], i)
        },
        removeKey: function(t) {
            delete this[t]
        }
    };
    var Ex = (Object.freeze || Object)({
            $override: e,
            clone: i,
            merge: n,
            mergeAll: o,
            extend: a,
            defaults: r,
            createCanvas: Px,
            getContext: s,
            indexOf: l,
            inherits: h,
            mixin: u,
            isArrayLike: c,
            each: d,
            map: f,
            reduce: p,
            filter: g,
            find: function(t, e, i) {
                if (t && e)
                    for (var n = 0, o = t.length; n < o; n++)
                        if (e.call(i, t[n], n, t)) return t[n]
            },
            bind: m,
            curry: v,
            isArray: y,
            isFunction: x,
            isString: _,
            isObject: w,
            isBuiltInObject: b,
            isTypedArray: S,
            isDom: M,
            eqNaN: I,
            retrieve: T,
            retrieve2: A,
            retrieve3: D,
            slice: C,
            normalizeCssArray: L,
            assert: k,
            trim: P,
            setAsPrimitive: O,
            isPrimitive: N,
            createHashMap: z,
            concatArray: R,
            noop: B
        }),
        zx = "undefined" == typeof Float32Array ? Array : Float32Array,
        Rx = j,
        Bx = X,
        Vx = $,
        Gx = K,
        Wx = (Object.freeze || Object)({
            create: V,
            copy: G,
            clone: W,
            set: F,
            add: H,
            scaleAndAdd: Z,
            sub: U,
            len: j,
            length: Rx,
            lenSquare: X,
            lengthSquare: Bx,
            mul: function(t, e, i) {
                return t[0] = e[0] * i[0], t[1] = e[1] * i[1], t
            },
            div: function(t, e, i) {
                return t[0] = e[0] / i[0], t[1] = e[1] / i[1], t
            },
            dot: function(t, e) {
                return t[0] * e[0] + t[1] * e[1]
            },
            scale: Y,
            normalize: q,
            distance: $,
            dist: Vx,
            distanceSquare: K,
            distSquare: Gx,
            negate: function(t, e) {
                return t[0] = -e[0], t[1] = -e[1], t
            },
            lerp: J,
            applyTransform: Q,
            min: tt,
            max: et
        });
    it.prototype = {
        constructor: it,
        _dragStart: function(t) {
            var e = t.target;
            e && e.draggable && (this._draggingTarget = e, e.dragging = !0, this._x = t.offsetX, this._y = t.offsetY, this.dispatchToElement(nt(e, t), "dragstart", t.event))
        },
        _drag: function(t) {
            var e = this._draggingTarget;
            if (e) {
                var i = t.offsetX,
                    n = t.offsetY,
                    o = i - this._x,
                    a = n - this._y;
                this._x = i, this._y = n, e.drift(o, a, t), this.dispatchToElement(nt(e, t), "drag", t.event);
                var r = this.findHover(i, n, e).target,
                    s = this._dropTarget;
                this._dropTarget = r, e !== r && (s && r !== s && this.dispatchToElement(nt(s, t), "dragleave", t.event), r && r !== s && this.dispatchToElement(nt(r, t), "dragenter", t.event))
            }
        },
        _dragEnd: function(t) {
            var e = this._draggingTarget;
            e && (e.dragging = !1), this.dispatchToElement(nt(e, t), "dragend", t.event), this._dropTarget && this.dispatchToElement(nt(this._dropTarget, t), "drop", t.event), this._draggingTarget = null, this._dropTarget = null
        }
    };
    var Fx = Array.prototype.slice,
        Hx = function() {
            this._$handlers = {}
        };
    Hx.prototype = {
        constructor: Hx,
        one: function(t, e, i) {
            var n = this._$handlers;
            if (!e || !t) return this;
            n[t] || (n[t] = []);
            for (var o = 0; o < n[t].length; o++)
                if (n[t][o].h === e) return this;
            return n[t].push({
                h: e,
                one: !0,
                ctx: i || this
            }), this
        },
        on: function(t, e, i) {
            var n = this._$handlers;
            if (!e || !t) return this;
            n[t] || (n[t] = []);
            for (var o = 0; o < n[t].length; o++)
                if (n[t][o].h === e) return this;
            return n[t].push({
                h: e,
                one: !1,
                ctx: i || this
            }), this
        },
        isSilent: function(t) {
            var e = this._$handlers;
            return e[t] && e[t].length
        },
        off: function(t, e) {
            var i = this._$handlers;
            if (!t) return this._$handlers = {}, this;
            if (e) {
                if (i[t]) {
                    for (var n = [], o = 0, a = i[t].length; o < a; o++) i[t][o].h != e && n.push(i[t][o]);
                    i[t] = n
                }
                i[t] && 0 === i[t].length && delete i[t]
            } else delete i[t];
            return this
        },
        trigger: function(t) {
            if (this._$handlers[t]) {
                var e = arguments,
                    i = e.length;
                i > 3 && (e = Fx.call(e, 1));
                for (var n = this._$handlers[t], o = n.length, a = 0; a < o;) {
                    switch (i) {
                        case 1:
                            n[a].h.call(n[a].ctx);
                            break;
                        case 2:
                            n[a].h.call(n[a].ctx, e[1]);
                            break;
                        case 3:
                            n[a].h.call(n[a].ctx, e[1], e[2]);
                            break;
                        default:
                            n[a].h.apply(n[a].ctx, e)
                    }
                    n[a].one ? (n.splice(a, 1), o--) : a++
                }
            }
            return this
        },
        triggerWithContext: function(t) {
            if (this._$handlers[t]) {
                var e = arguments,
                    i = e.length;
                i > 4 && (e = Fx.call(e, 1, e.length - 1));
                for (var n = e[e.length - 1], o = this._$handlers[t], a = o.length, r = 0; r < a;) {
                    switch (i) {
                        case 1:
                            o[r].h.call(n);
                            break;
                        case 2:
                            o[r].h.call(n, e[1]);
                            break;
                        case 3:
                            o[r].h.call(n, e[1], e[2]);
                            break;
                        default:
                            o[r].h.apply(n, e)
                    }
                    o[r].one ? (o.splice(r, 1), a--) : r++
                }
            }
            return this
        }
    };
    var Zx = "silent";
    at.prototype.dispose = function() {};
    var Ux = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"],
        jx = function(t, e, i, n) {
            Hx.call(this), this.storage = t, this.painter = e, this.painterRoot = n, i = i || new at, this.proxy = null, this._hovered = {}, this._lastTouchMoment, this._lastX, this._lastY, it.call(this), this.setHandlerProxy(i)
        };
    jx.prototype = {
        constructor: jx,
        setHandlerProxy: function(t) {
            this.proxy && this.proxy.dispose(), t && (d(Ux, function(e) {
                t.on && t.on(e, this[e], this)
            }, this), t.handler = this), this.proxy = t
        },
        mousemove: function(t) {
            var e = t.zrX,
                i = t.zrY,
                n = this._hovered,
                o = n.target;
            o && !o.__zr && (o = (n = this.findHover(n.x, n.y)).target);
            var a = this._hovered = this.findHover(e, i),
                r = a.target,
                s = this.proxy;
            s.setCursor && s.setCursor(r ? r.cursor : "default"), o && r !== o && this.dispatchToElement(n, "mouseout", t), this.dispatchToElement(a, "mousemove", t), r && r !== o && this.dispatchToElement(a, "mouseover", t)
        },
        mouseout: function(t) {
            this.dispatchToElement(this._hovered, "mouseout", t);
            var e, i = t.toElement || t.relatedTarget;
            do {
                i = i && i.parentNode
            } while (i && 9 != i.nodeType && !(e = i === this.painterRoot));
            !e && this.trigger("globalout", {
                event: t
            })
        },
        resize: function(t) {
            this._hovered = {}
        },
        dispatch: function(t, e) {
            var i = this[t];
            i && i.call(this, e)
        },
        dispose: function() {
            this.proxy.dispose(), this.storage = this.proxy = this.painter = null
        },
        setCursorStyle: function(t) {
            var e = this.proxy;
            e.setCursor && e.setCursor(t)
        },
        dispatchToElement: function(t, e, i) {
            var n = (t = t || {}).target;
            if (!n || !n.silent) {
                for (var o = "on" + e, a = ot(e, t, i); n && (n[o] && (a.cancelBubble = n[o].call(n, a)), n.trigger(e, a), n = n.parent, !a.cancelBubble););
                a.cancelBubble || (this.trigger(e, a), this.painter && this.painter.eachOtherLayer(function(t) {
                    "function" == typeof t[o] && t[o].call(t, a), t.trigger && t.trigger(e, a)
                }))
            }
        },
        findHover: function(t, e, i) {
            for (var n = this.storage.getDisplayList(), o = {
                    x: t,
                    y: e
                }, a = n.length - 1; a >= 0; a--) {
                var r;
                if (n[a] !== i && !n[a].ignore && (r = rt(n[a], t, e)) && (!o.topTarget && (o.topTarget = n[a]), r !== Zx)) {
                    o.target = n[a];
                    break
                }
            }
            return o
        }
    }, d(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(t) {
        jx.prototype[t] = function(e) {
            var i = this.findHover(e.zrX, e.zrY),
                n = i.target;
            if ("mousedown" === t) this._downEl = n, this._downPoint = [e.zrX, e.zrY], this._upEl = n;
            else if ("mouseup" === t) this._upEl = n;
            else if ("click" === t) {
                if (this._downEl !== this._upEl || !this._downPoint || Vx(this._downPoint, [e.zrX, e.zrY]) > 4) return;
                this._downPoint = null
            }
            this.dispatchToElement(i, t, e)
        }
    }), u(jx, Hx), u(jx, it);
    var Xx = "undefined" == typeof Float32Array ? Array : Float32Array,
        Yx = (Object.freeze || Object)({
            create: st,
            identity: lt,
            copy: ht,
            mul: ut,
            translate: ct,
            rotate: dt,
            scale: ft,
            invert: pt,
            clone: gt
        }),
        qx = lt,
        $x = 5e-5,
        Kx = function(t) {
            (t = t || {}).position || (this.position = [0, 0]), null == t.rotation && (this.rotation = 0), t.scale || (this.scale = [1, 1]), this.origin = this.origin || null
        },
        Jx = Kx.prototype;
    Jx.transform = null, Jx.needLocalTransform = function() {
        return mt(this.rotation) || mt(this.position[0]) || mt(this.position[1]) || mt(this.scale[0] - 1) || mt(this.scale[1] - 1)
    }, Jx.updateTransform = function() {
        var t = this.parent,
            e = t && t.transform,
            i = this.needLocalTransform(),
            n = this.transform;
        i || e ? (n = n || st(), i ? this.getLocalTransform(n) : qx(n), e && (i ? ut(n, t.transform, n) : ht(n, t.transform)), this.transform = n, this.invTransform = this.invTransform || st(), pt(this.invTransform, n)) : n && qx(n)
    }, Jx.getLocalTransform = function(t) {
        return Kx.getLocalTransform(this, t)
    }, Jx.setTransform = function(t) {
        var e = this.transform,
            i = t.dpr || 1;
        e ? t.setTransform(i * e[0], i * e[1], i * e[2], i * e[3], i * e[4], i * e[5]) : t.setTransform(i, 0, 0, i, 0, 0)
    }, Jx.restoreTransform = function(t) {
        var e = t.dpr || 1;
        t.setTransform(e, 0, 0, e, 0, 0)
    };
    var Qx = [];
    Jx.decomposeTransform = function() {
        if (this.transform) {
            var t = this.parent,
                e = this.transform;
            t && t.transform && (ut(Qx, t.invTransform, e), e = Qx);
            var i = e[0] * e[0] + e[1] * e[1],
                n = e[2] * e[2] + e[3] * e[3],
                o = this.position,
                a = this.scale;
            mt(i - 1) && (i = Math.sqrt(i)), mt(n - 1) && (n = Math.sqrt(n)), e[0] < 0 && (i = -i), e[3] < 0 && (n = -n), o[0] = e[4], o[1] = e[5], a[0] = i, a[1] = n, this.rotation = Math.atan2(-e[1] / n, e[0] / i)
        }
    }, Jx.getGlobalScale = function() {
        var t = this.transform;
        if (!t) return [1, 1];
        var e = Math.sqrt(t[0] * t[0] + t[1] * t[1]),
            i = Math.sqrt(t[2] * t[2] + t[3] * t[3]);
        return t[0] < 0 && (e = -e), t[3] < 0 && (i = -i), [e, i]
    }, Jx.transformCoordToLocal = function(t, e) {
        var i = [t, e],
            n = this.invTransform;
        return n && Q(i, i, n), i
    }, Jx.transformCoordToGlobal = function(t, e) {
        var i = [t, e],
            n = this.transform;
        return n && Q(i, i, n), i
    }, Kx.getLocalTransform = function(t, e) {
        qx(e = e || []);
        var i = t.origin,
            n = t.scale || [1, 1],
            o = t.rotation || 0,
            a = t.position || [0, 0];
        return i && (e[4] -= i[0], e[5] -= i[1]), ft(e, e, n), o && dt(e, e, o), i && (e[4] += i[0], e[5] += i[1]), e[4] += a[0], e[5] += a[1], e
    };
    var t_ = {
        linear: function(t) {
            return t
        },
        quadraticIn: function(t) {
            return t * t
        },
        quadraticOut: function(t) {
            return t * (2 - t)
        },
        quadraticInOut: function(t) {
            return (t *= 2) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
        },
        cubicIn: function(t) {
            return t * t * t
        },
        cubicOut: function(t) {
            return --t * t * t + 1
        },
        cubicInOut: function(t) {
            return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
        },
        quarticIn: function(t) {
            return t * t * t * t
        },
        quarticOut: function(t) {
            return 1 - --t * t * t * t
        },
        quarticInOut: function(t) {
            return (t *= 2) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
        },
        quinticIn: function(t) {
            return t * t * t * t * t
        },
        quinticOut: function(t) {
            return --t * t * t * t * t + 1
        },
        quinticInOut: function(t) {
            return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
        },
        sinusoidalIn: function(t) {
            return 1 - Math.cos(t * Math.PI / 2)
        },
        sinusoidalOut: function(t) {
            return Math.sin(t * Math.PI / 2)
        },
        sinusoidalInOut: function(t) {
            return .5 * (1 - Math.cos(Math.PI * t))
        },
        exponentialIn: function(t) {
            return 0 === t ? 0 : Math.pow(1024, t - 1)
        },
        exponentialOut: function(t) {
            return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
        },
        exponentialInOut: function(t) {
            return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
        },
        circularIn: function(t) {
            return 1 - Math.sqrt(1 - t * t)
        },
        circularOut: function(t) {
            return Math.sqrt(1 - --t * t)
        },
        circularInOut: function(t) {
            return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
        },
        elasticIn: function(t) {
            var e, i = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), -i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4))
        },
        elasticOut: function(t) {
            var e, i = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), i * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / .4) + 1)
        },
        elasticInOut: function(t) {
            var e, i = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!i || i < 1 ? (i = 1, e = .1) : e = .4 * Math.asin(1 / i) / (2 * Math.PI), (t *= 2) < 1 ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4) * -.5 : i * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4) * .5 + 1)
        },
        backIn: function(t) {
            var e = 1.70158;
            return t * t * ((e + 1) * t - e)
        },
        backOut: function(t) {
            var e = 1.70158;
            return --t * t * ((e + 1) * t + e) + 1
        },
        backInOut: function(t) {
            var e = 2.5949095;
            return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * .5 : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
        },
        bounceIn: function(t) {
            return 1 - t_.bounceOut(1 - t)
        },
        bounceOut: function(t) {
            return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
        },
        bounceInOut: function(t) {
            return t < .5 ? .5 * t_.bounceIn(2 * t) : .5 * t_.bounceOut(2 * t - 1) + .5
        }
    };
    vt.prototype = {
        constructor: vt,
        step: function(t, e) {
            if (this._initialized || (this._startTime = t + this._delay, this._initialized = !0), this._paused) this._pausedTime += e;
            else {
                var i = (t - this._startTime - this._pausedTime) / this._life;
                if (!(i < 0)) {
                    i = Math.min(i, 1);
                    var n = this.easing,
                        o = "string" == typeof n ? t_[n] : n,
                        a = "function" == typeof o ? o(i) : i;
                    return this.fire("frame", a), 1 == i ? this.loop ? (this.restart(t), "restart") : (this._needsRemove = !0, "destroy") : null
                }
            }
        },
        restart: function(t) {
            var e = (t - this._startTime - this._pausedTime) % this._life;
            this._startTime = t - e + this.gap, this._pausedTime = 0, this._needsRemove = !1
        },
        fire: function(t, e) {
            this[t = "on" + t] && this[t](this._target, e)
        },
        pause: function() {
            this._paused = !0
        },
        resume: function() {
            this._paused = !1
        }
    };
    var e_ = function() {
            this.head = null, this.tail = null, this._len = 0
        },
        i_ = e_.prototype;
    i_.insert = function(t) {
        var e = new n_(t);
        return this.insertEntry(e), e
    }, i_.insertEntry = function(t) {
        this.head ? (this.tail.next = t, t.prev = this.tail, t.next = null, this.tail = t) : this.head = this.tail = t, this._len++
    }, i_.remove = function(t) {
        var e = t.prev,
            i = t.next;
        e ? e.next = i : this.head = i, i ? i.prev = e : this.tail = e, t.next = t.prev = null, this._len--
    }, i_.len = function() {
        return this._len
    }, i_.clear = function() {
        this.head = this.tail = null, this._len = 0
    };
    var n_ = function(t) {
            this.value = t, this.next, this.prev
        },
        o_ = function(t) {
            this._list = new e_, this._map = {}, this._maxSize = t || 10, this._lastRemovedEntry = null
        },
        a_ = o_.prototype;
    a_.put = function(t, e) {
        var i = this._list,
            n = this._map,
            o = null;
        if (null == n[t]) {
            var a = i.len(),
                r = this._lastRemovedEntry;
            if (a >= this._maxSize && a > 0) {
                var s = i.head;
                i.remove(s), delete n[s.key], o = s.value, this._lastRemovedEntry = s
            }
            r ? r.value = e : r = new n_(e), r.key = t, i.insertEntry(r), n[t] = r
        }
        return o
    }, a_.get = function(t) {
        var e = this._map[t],
            i = this._list;
        if (null != e) return e !== i.tail && (i.remove(e), i.insertEntry(e)), e.value
    }, a_.clear = function() {
        this._list.clear(), this._map = {}
    };
    var r_ = {
            transparent: [0, 0, 0, 0],
            aliceblue: [240, 248, 255, 1],
            antiquewhite: [250, 235, 215, 1],
            aqua: [0, 255, 255, 1],
            aquamarine: [127, 255, 212, 1],
            azure: [240, 255, 255, 1],
            beige: [245, 245, 220, 1],
            bisque: [255, 228, 196, 1],
            black: [0, 0, 0, 1],
            blanchedalmond: [255, 235, 205, 1],
            blue: [0, 0, 255, 1],
            blueviolet: [138, 43, 226, 1],
            brown: [165, 42, 42, 1],
            burlywood: [222, 184, 135, 1],
            cadetblue: [95, 158, 160, 1],
            chartreuse: [127, 255, 0, 1],
            chocolate: [210, 105, 30, 1],
            coral: [255, 127, 80, 1],
            cornflowerblue: [100, 149, 237, 1],
            cornsilk: [255, 248, 220, 1],
            crimson: [220, 20, 60, 1],
            cyan: [0, 255, 255, 1],
            darkblue: [0, 0, 139, 1],
            darkcyan: [0, 139, 139, 1],
            darkgoldenrod: [184, 134, 11, 1],
            darkgray: [169, 169, 169, 1],
            darkgreen: [0, 100, 0, 1],
            darkgrey: [169, 169, 169, 1],
            darkkhaki: [189, 183, 107, 1],
            darkmagenta: [139, 0, 139, 1],
            darkolivegreen: [85, 107, 47, 1],
            darkorange: [255, 140, 0, 1],
            darkorchid: [153, 50, 204, 1],
            darkred: [139, 0, 0, 1],
            darksalmon: [233, 150, 122, 1],
            darkseagreen: [143, 188, 143, 1],
            darkslateblue: [72, 61, 139, 1],
            darkslategray: [47, 79, 79, 1],
            darkslategrey: [47, 79, 79, 1],
            darkturquoise: [0, 206, 209, 1],
            darkviolet: [148, 0, 211, 1],
            deeppink: [255, 20, 147, 1],
            deepskyblue: [0, 191, 255, 1],
            dimgray: [105, 105, 105, 1],
            dimgrey: [105, 105, 105, 1],
            dodgerblue: [30, 144, 255, 1],
            firebrick: [178, 34, 34, 1],
            floralwhite: [255, 250, 240, 1],
            forestgreen: [34, 139, 34, 1],
            fuchsia: [255, 0, 255, 1],
            gainsboro: [220, 220, 220, 1],
            ghostwhite: [248, 248, 255, 1],
            gold: [255, 215, 0, 1],
            goldenrod: [218, 165, 32, 1],
            gray: [128, 128, 128, 1],
            green: [0, 128, 0, 1],
            greenyellow: [173, 255, 47, 1],
            grey: [128, 128, 128, 1],
            honeydew: [240, 255, 240, 1],
            hotpink: [255, 105, 180, 1],
            indianred: [205, 92, 92, 1],
            indigo: [75, 0, 130, 1],
            ivory: [255, 255, 240, 1],
            khaki: [240, 230, 140, 1],
            lavender: [230, 230, 250, 1],
            lavenderblush: [255, 240, 245, 1],
            lawngreen: [124, 252, 0, 1],
            lemonchiffon: [255, 250, 205, 1],
            lightblue: [173, 216, 230, 1],
            lightcoral: [240, 128, 128, 1],
            lightcyan: [224, 255, 255, 1],
            lightgoldenrodyellow: [250, 250, 210, 1],
            lightgray: [211, 211, 211, 1],
            lightgreen: [144, 238, 144, 1],
            lightgrey: [211, 211, 211, 1],
            lightpink: [255, 182, 193, 1],
            lightsalmon: [255, 160, 122, 1],
            lightseagreen: [32, 178, 170, 1],
            lightskyblue: [135, 206, 250, 1],
            lightslategray: [119, 136, 153, 1],
            lightslategrey: [119, 136, 153, 1],
            lightsteelblue: [176, 196, 222, 1],
            lightyellow: [255, 255, 224, 1],
            lime: [0, 255, 0, 1],
            limegreen: [50, 205, 50, 1],
            linen: [250, 240, 230, 1],
            magenta: [255, 0, 255, 1],
            maroon: [128, 0, 0, 1],
            mediumaquamarine: [102, 205, 170, 1],
            mediumblue: [0, 0, 205, 1],
            mediumorchid: [186, 85, 211, 1],
            mediumpurple: [147, 112, 219, 1],
            mediumseagreen: [60, 179, 113, 1],
            mediumslateblue: [123, 104, 238, 1],
            mediumspringgreen: [0, 250, 154, 1],
            mediumturquoise: [72, 209, 204, 1],
            mediumvioletred: [199, 21, 133, 1],
            midnightblue: [25, 25, 112, 1],
            mintcream: [245, 255, 250, 1],
            mistyrose: [255, 228, 225, 1],
            moccasin: [255, 228, 181, 1],
            navajowhite: [255, 222, 173, 1],
            navy: [0, 0, 128, 1],
            oldlace: [253, 245, 230, 1],
            olive: [128, 128, 0, 1],
            olivedrab: [107, 142, 35, 1],
            orange: [255, 165, 0, 1],
            orangered: [255, 69, 0, 1],
            orchid: [218, 112, 214, 1],
            palegoldenrod: [238, 232, 170, 1],
            palegreen: [152, 251, 152, 1],
            paleturquoise: [175, 238, 238, 1],
            palevioletred: [219, 112, 147, 1],
            papayawhip: [255, 239, 213, 1],
            peachpuff: [255, 218, 185, 1],
            peru: [205, 133, 63, 1],
            pink: [255, 192, 203, 1],
            plum: [221, 160, 221, 1],
            powderblue: [176, 224, 230, 1],
            purple: [128, 0, 128, 1],
            red: [255, 0, 0, 1],
            rosybrown: [188, 143, 143, 1],
            royalblue: [65, 105, 225, 1],
            saddlebrown: [139, 69, 19, 1],
            salmon: [250, 128, 114, 1],
            sandybrown: [244, 164, 96, 1],
            seagreen: [46, 139, 87, 1],
            seashell: [255, 245, 238, 1],
            sienna: [160, 82, 45, 1],
            silver: [192, 192, 192, 1],
            skyblue: [135, 206, 235, 1],
            slateblue: [106, 90, 205, 1],
            slategray: [112, 128, 144, 1],
            slategrey: [112, 128, 144, 1],
            snow: [255, 250, 250, 1],
            springgreen: [0, 255, 127, 1],
            steelblue: [70, 130, 180, 1],
            tan: [210, 180, 140, 1],
            teal: [0, 128, 128, 1],
            thistle: [216, 191, 216, 1],
            tomato: [255, 99, 71, 1],
            turquoise: [64, 224, 208, 1],
            violet: [238, 130, 238, 1],
            wheat: [245, 222, 179, 1],
            white: [255, 255, 255, 1],
            whitesmoke: [245, 245, 245, 1],
            yellow: [255, 255, 0, 1],
            yellowgreen: [154, 205, 50, 1]
        },
        s_ = new o_(20),
        l_ = null,
        h_ = Ot,
        u_ = Nt,
        c_ = (Object.freeze || Object)({
            parse: Dt,
            lift: kt,
            toHex: Pt,
            fastLerp: Ot,
            fastMapToColor: h_,
            lerp: Nt,
            mapToColor: u_,
            modifyHSL: Et,
            modifyAlpha: zt,
            stringify: Rt
        }),
        d_ = Array.prototype.slice,
        f_ = function(t, e, i, n) {
            this._tracks = {}, this._target = t, this._loop = e || !1, this._getter = i || Bt, this._setter = n || Vt, this._clipCount = 0, this._delay = 0, this._doneList = [], this._onframeList = [], this._clipList = []
        };
    f_.prototype = {
        when: function(t, e) {
            var i = this._tracks;
            for (var n in e)
                if (e.hasOwnProperty(n)) {
                    if (!i[n]) {
                        i[n] = [];
                        var o = this._getter(this._target, n);
                        if (null == o) continue;
                        0 !== t && i[n].push({
                            time: 0,
                            value: Xt(o)
                        })
                    }
                    i[n].push({
                        time: t,
                        value: e[n]
                    })
                } return this
        },
        during: function(t) {
            return this._onframeList.push(t), this
        },
        pause: function() {
            for (var t = 0; t < this._clipList.length; t++) this._clipList[t].pause();
            this._paused = !0
        },
        resume: function() {
            for (var t = 0; t < this._clipList.length; t++) this._clipList[t].resume();
            this._paused = !1
        },
        isPaused: function() {
            return !!this._paused
        },
        _doneCallback: function() {
            this._tracks = {}, this._clipList.length = 0;
            for (var t = this._doneList, e = t.length, i = 0; i < e; i++) t[i].call(this)
        },
        start: function(t, e) {
            var i, n = this,
                o = 0;
            for (var a in this._tracks)
                if (this._tracks.hasOwnProperty(a)) {
                    var r = $t(this, t, function() {
                        --o || n._doneCallback()
                    }, this._tracks[a], a, e);
                    r && (this._clipList.push(r), o++, this.animation && this.animation.addClip(r), i = r)
                } if (i) {
                var s = i.onframe;
                i.onframe = function(t, e) {
                    s(t, e);
                    for (var i = 0; i < n._onframeList.length; i++) n._onframeList[i](t, e)
                }
            }
            return o || this._doneCallback(), this
        },
        stop: function(t) {
            for (var e = this._clipList, i = this.animation, n = 0; n < e.length; n++) {
                var o = e[n];
                t && o.onframe(this._target, 1), i && i.removeClip(o)
            }
            e.length = 0
        },
        delay: function(t) {
            return this._delay = t, this
        },
        done: function(t) {
            return t && this._doneList.push(t), this
        },
        getClips: function() {
            return this._clipList
        }
    };
    var p_ = 1;
    "undefined" != typeof window && (p_ = Math.max(window.devicePixelRatio || 1, 1));
    var g_ = p_,
        m_ = function() {},
        v_ = m_,
        y_ = function() {
            this.animators = []
        };
    y_.prototype = {
        constructor: y_,
        animate: function(t, e) {
            var i, n = !1,
                o = this,
                a = this.__zr;
            if (t) {
                var r = t.split("."),
                    s = o;
                n = "shape" === r[0];
                for (var h = 0, u = r.length; h < u; h++) s && (s = s[r[h]]);
                s && (i = s)
            } else i = o;
            if (i) {
                var c = o.animators,
                    d = new f_(i, e);
                return d.during(function(t) {
                    o.dirty(n)
                }).done(function() {
                    c.splice(l(c, d), 1)
                }), c.push(d), a && a.animation.addAnimator(d), d
            }
            v_('Property "' + t + '" is not existed in element ' + o.id)
        },
        stopAnimation: function(t) {
            for (var e = this.animators, i = e.length, n = 0; n < i; n++) e[n].stop(t);
            return e.length = 0, this
        },
        animateTo: function(t, e, i, n, o, a) {
            _(i) ? (o = n, n = i, i = 0) : x(n) ? (o = n, n = "linear", i = 0) : x(i) ? (o = i, i = 0) : x(e) ? (o = e, e = 500) : e || (e = 500), this.stopAnimation(), this._animateToShallow("", this, t, e, i);
            var r = this.animators.slice(),
                s = r.length;
            s || o && o();
            for (var l = 0; l < r.length; l++) r[l].done(function() {
                --s || o && o()
            }).start(n, a)
        },
        _animateToShallow: function(t, e, i, n, o) {
            var a = {},
                r = 0;
            for (var s in i)
                if (i.hasOwnProperty(s))
                    if (null != e[s]) w(i[s]) && !c(i[s]) ? this._animateToShallow(t ? t + "." + s : s, e[s], i[s], n, o) : (a[s] = i[s], r++);
                    else if (null != i[s])
                if (t) {
                    var l = {};
                    l[t] = {}, l[t][s] = i[s], this.attr(l)
                } else this.attr(s, i[s]);
            return r > 0 && this.animate(t, !1).when(null == n ? 500 : n, a).delay(o || 0), this
        }
    };
    var x_ = function(t) {
        Kx.call(this, t), Hx.call(this, t), y_.call(this, t), this.id = t.id || yx()
    };
    x_.prototype = {
        type: "element",
        name: "",
        __zr: null,
        ignore: !1,
        clipPath: null,
        isGroup: !1,
        drift: function(t, e) {
            switch (this.draggable) {
                case "horizontal":
                    e = 0;
                    break;
                case "vertical":
                    t = 0
            }
            var i = this.transform;
            i || (i = this.transform = [1, 0, 0, 1, 0, 0]), i[4] += t, i[5] += e, this.decomposeTransform(), this.dirty(!1)
        },
        beforeUpdate: function() {},
        afterUpdate: function() {},
        update: function() {
            this.updateTransform()
        },
        traverse: function(t, e) {},
        attrKV: function(t, e) {
            if ("position" === t || "scale" === t || "origin" === t) {
                if (e) {
                    var i = this[t];
                    i || (i = this[t] = []), i[0] = e[0], i[1] = e[1]
                }
            } else this[t] = e
        },
        hide: function() {
            this.ignore = !0, this.__zr && this.__zr.refresh()
        },
        show: function() {
            this.ignore = !1, this.__zr && this.__zr.refresh()
        },
        attr: function(t, e) {
            if ("string" == typeof t) this.attrKV(t, e);
            else if (w(t))
                for (var i in t) t.hasOwnProperty(i) && this.attrKV(i, t[i]);
            return this.dirty(!1), this
        },
        setClipPath: function(t) {
            var e = this.__zr;
            e && t.addSelfToZr(e), this.clipPath && this.clipPath !== t && this.removeClipPath(), this.clipPath = t, t.__zr = e, t.__clipTarget = this, this.dirty(!1)
        },
        removeClipPath: function() {
            var t = this.clipPath;
            t && (t.__zr && t.removeSelfFromZr(t.__zr), t.__zr = null, t.__clipTarget = null, this.clipPath = null, this.dirty(!1))
        },
        addSelfToZr: function(t) {
            this.__zr = t;
            var e = this.animators;
            if (e)
                for (var i = 0; i < e.length; i++) t.animation.addAnimator(e[i]);
            this.clipPath && this.clipPath.addSelfToZr(t)
        },
        removeSelfFromZr: function(t) {
            this.__zr = null;
            var e = this.animators;
            if (e)
                for (var i = 0; i < e.length; i++) t.animation.removeAnimator(e[i]);
            this.clipPath && this.clipPath.removeSelfFromZr(t)
        }
    }, u(x_, y_), u(x_, Kx), u(x_, Hx);
    var __ = Q,
        w_ = Math.min,
        b_ = Math.max;
    Kt.prototype = {
        constructor: Kt,
        union: function(t) {
            var e = w_(t.x, this.x),
                i = w_(t.y, this.y);
            this.width = b_(t.x + t.width, this.x + this.width) - e, this.height = b_(t.y + t.height, this.y + this.height) - i, this.x = e, this.y = i
        },
        applyTransform: function() {
            var t = [],
                e = [],
                i = [],
                n = [];
            return function(o) {
                if (o) {
                    t[0] = i[0] = this.x, t[1] = n[1] = this.y, e[0] = n[0] = this.x + this.width, e[1] = i[1] = this.y + this.height, __(t, t, o), __(e, e, o), __(i, i, o), __(n, n, o), this.x = w_(t[0], e[0], i[0], n[0]), this.y = w_(t[1], e[1], i[1], n[1]);
                    var a = b_(t[0], e[0], i[0], n[0]),
                        r = b_(t[1], e[1], i[1], n[1]);
                    this.width = a - this.x, this.height = r - this.y
                }
            }
        }(),
        calculateTransform: function(t) {
            var e = this,
                i = t.width / e.width,
                n = t.height / e.height,
                o = st();
            return ct(o, o, [-e.x, -e.y]), ft(o, o, [i, n]), ct(o, o, [t.x, t.y]), o
        },
        intersect: function(t) {
            if (!t) return !1;
            t instanceof Kt || (t = Kt.create(t));
            var e = this,
                i = e.x,
                n = e.x + e.width,
                o = e.y,
                a = e.y + e.height,
                r = t.x,
                s = t.x + t.width,
                l = t.y,
                h = t.y + t.height;
            return !(n < r || s < i || a < l || h < o)
        },
        contain: function(t, e) {
            var i = this;
            return t >= i.x && t <= i.x + i.width && e >= i.y && e <= i.y + i.height
        },
        clone: function() {
            return new Kt(this.x, this.y, this.width, this.height)
        },
        copy: function(t) {
            this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height
        },
        plain: function() {
            return {
                x: this.x,
                y: this.y,
                width: this.width,
                height: this.height
            }
        }
    }, Kt.create = function(t) {
        return new Kt(t.x, t.y, t.width, t.height)
    };
    var S_ = function(t) {
        t = t || {}, x_.call(this, t);
        for (var e in t) t.hasOwnProperty(e) && (this[e] = t[e]);
        this._children = [], this.__storage = null, this.__dirty = !0
    };
    S_.prototype = {
        constructor: S_,
        isGroup: !0,
        type: "group",
        silent: !1,
        children: function() {
            return this._children.slice()
        },
        childAt: function(t) {
            return this._children[t]
        },
        childOfName: function(t) {
            for (var e = this._children, i = 0; i < e.length; i++)
                if (e[i].name === t) return e[i]
        },
        childCount: function() {
            return this._children.length
        },
        add: function(t) {
            return t && t !== this && t.parent !== this && (this._children.push(t), this._doAdd(t)), this
        },
        addBefore: function(t, e) {
            if (t && t !== this && t.parent !== this && e && e.parent === this) {
                var i = this._children,
                    n = i.indexOf(e);
                n >= 0 && (i.splice(n, 0, t), this._doAdd(t))
            }
            return this
        },
        _doAdd: function(t) {
            t.parent && t.parent.remove(t), t.parent = this;
            var e = this.__storage,
                i = this.__zr;
            e && e !== t.__storage && (e.addToStorage(t), t instanceof S_ && t.addChildrenToStorage(e)), i && i.refresh()
        },
        remove: function(t) {
            var e = this.__zr,
                i = this.__storage,
                n = this._children,
                o = l(n, t);
            return o < 0 ? this : (n.splice(o, 1), t.parent = null, i && (i.delFromStorage(t), t instanceof S_ && t.delChildrenFromStorage(i)), e && e.refresh(), this)
        },
        removeAll: function() {
            var t, e, i = this._children,
                n = this.__storage;
            for (e = 0; e < i.length; e++) t = i[e], n && (n.delFromStorage(t), t instanceof S_ && t.delChildrenFromStorage(n)), t.parent = null;
            return i.length = 0, this
        },
        eachChild: function(t, e) {
            for (var i = this._children, n = 0; n < i.length; n++) {
                var o = i[n];
                t.call(e, o, n)
            }
            return this
        },
        traverse: function(t, e) {
            for (var i = 0; i < this._children.length; i++) {
                var n = this._children[i];
                t.call(e, n), "group" === n.type && n.traverse(t, e)
            }
            return this
        },
        addChildrenToStorage: function(t) {
            for (var e = 0; e < this._children.length; e++) {
                var i = this._children[e];
                t.addToStorage(i), i instanceof S_ && i.addChildrenToStorage(t)
            }
        },
        delChildrenFromStorage: function(t) {
            for (var e = 0; e < this._children.length; e++) {
                var i = this._children[e];
                t.delFromStorage(i), i instanceof S_ && i.delChildrenFromStorage(t)
            }
        },
        dirty: function() {
            return this.__dirty = !0, this.__zr && this.__zr.refresh(), this
        },
        getBoundingRect: function(t) {
            for (var e = null, i = new Kt(0, 0, 0, 0), n = t || this._children, o = [], a = 0; a < n.length; a++) {
                var r = n[a];
                if (!r.ignore && !r.invisible) {
                    var s = r.getBoundingRect(),
                        l = r.getLocalTransform(o);
                    l ? (i.copy(s), i.applyTransform(l), (e = e || i.clone()).union(i)) : (e = e || s.clone()).union(s)
                }
            }
            return e || i
        }
    }, h(S_, x_);
    var M_ = 32,
        I_ = 7,
        T_ = function() {
            this._roots = [], this._displayList = [], this._displayListLen = 0
        };
    T_.prototype = {
        constructor: T_,
        traverse: function(t, e) {
            for (var i = 0; i < this._roots.length; i++) this._roots[i].traverse(t, e)
        },
        getDisplayList: function(t, e) {
            return e = e || !1, t && this.updateDisplayList(e), this._displayList
        },
        updateDisplayList: function(t) {
            this._displayListLen = 0;
            for (var e = this._roots, i = this._displayList, n = 0, o = e.length; n < o; n++) this._updateAndAddDisplayable(e[n], null, t);
            i.length = this._displayListLen, _x.canvasSupported && ae(i, re)
        },
        _updateAndAddDisplayable: function(t, e, i) {
            if (!t.ignore || i) {
                t.beforeUpdate(), t.__dirty && t.update(), t.afterUpdate();
                var n = t.clipPath;
                if (n) {
                    e = e ? e.slice() : [];
                    for (var o = n, a = t; o;) o.parent = a, o.updateTransform(), e.push(o), a = o, o = o.clipPath
                }
                if (t.isGroup) {
                    for (var r = t._children, s = 0; s < r.length; s++) {
                        var l = r[s];
                        t.__dirty && (l.__dirty = !0), this._updateAndAddDisplayable(l, e, i)
                    }
                    t.__dirty = !1
                } else t.__clipPaths = e, this._displayList[this._displayListLen++] = t
            }
        },
        addRoot: function(t) {
            t.__storage !== this && (t instanceof S_ && t.addChildrenToStorage(this), this.addToStorage(t), this._roots.push(t))
        },
        delRoot: function(t) {
            if (null == t) {
                for (i = 0; i < this._roots.length; i++) {
                    var e = this._roots[i];
                    e instanceof S_ && e.delChildrenFromStorage(this)
                }
                return this._roots = [], this._displayList = [], void(this._displayListLen = 0)
            }
            if (t instanceof Array)
                for (var i = 0, n = t.length; i < n; i++) this.delRoot(t[i]);
            else {
                var o = l(this._roots, t);
                o >= 0 && (this.delFromStorage(t), this._roots.splice(o, 1), t instanceof S_ && t.delChildrenFromStorage(this))
            }
        },
        addToStorage: function(t) {
            return t && (t.__storage = this, t.dirty(!1)), this
        },
        delFromStorage: function(t) {
            return t && (t.__storage = null), this
        },
        dispose: function() {
            this._renderList = this._roots = null
        },
        displayableSortFunc: re
    };
    var A_ = {
            shadowBlur: 1,
            shadowOffsetX: 1,
            shadowOffsetY: 1,
            textShadowBlur: 1,
            textShadowOffsetX: 1,
            textShadowOffsetY: 1,
            textBoxShadowBlur: 1,
            textBoxShadowOffsetX: 1,
            textBoxShadowOffsetY: 1
        },
        D_ = function(t, e, i) {
            return A_.hasOwnProperty(e) ? i *= t.dpr : i
        },
        C_ = [
            ["shadowBlur", 0],
            ["shadowOffsetX", 0],
            ["shadowOffsetY", 0],
            ["shadowColor", "#000"],
            ["lineCap", "butt"],
            ["lineJoin", "miter"],
            ["miterLimit", 10]
        ],
        L_ = function(t, e) {
            this.extendFrom(t, !1), this.host = e
        };
    L_.prototype = {
        constructor: L_,
        host: null,
        fill: "#000",
        stroke: null,
        opacity: 1,
        lineDash: null,
        lineDashOffset: 0,
        shadowBlur: 0,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        lineWidth: 1,
        strokeNoScale: !1,
        text: null,
        font: null,
        textFont: null,
        fontStyle: null,
        fontWeight: null,
        fontSize: null,
        fontFamily: null,
        textTag: null,
        textFill: "#000",
        textStroke: null,
        textWidth: null,
        textHeight: null,
        textStrokeWidth: 0,
        textLineHeight: null,
        textPosition: "inside",
        textRect: null,
        textOffset: null,
        textAlign: null,
        textVerticalAlign: null,
        textDistance: 5,
        textShadowColor: "transparent",
        textShadowBlur: 0,
        textShadowOffsetX: 0,
        textShadowOffsetY: 0,
        textBoxShadowColor: "transparent",
        textBoxShadowBlur: 0,
        textBoxShadowOffsetX: 0,
        textBoxShadowOffsetY: 0,
        transformText: !1,
        textRotation: 0,
        textOrigin: null,
        textBackgroundColor: null,
        textBorderColor: null,
        textBorderWidth: 0,
        textBorderRadius: 0,
        textPadding: null,
        rich: null,
        truncate: null,
        blend: null,
        bind: function(t, e, i) {
            for (var n = this, o = i && i.style, a = !o, r = 0; r < C_.length; r++) {
                var s = C_[r],
                    l = s[0];
                (a || n[l] !== o[l]) && (t[l] = D_(t, l, n[l] || s[1]))
            }
            if ((a || n.fill !== o.fill) && (t.fillStyle = n.fill), (a || n.stroke !== o.stroke) && (t.strokeStyle = n.stroke), (a || n.opacity !== o.opacity) && (t.globalAlpha = null == n.opacity ? 1 : n.opacity), (a || n.blend !== o.blend) && (t.globalCompositeOperation = n.blend || "source-over"), this.hasStroke()) {
                var h = n.lineWidth;
                t.lineWidth = h / (this.strokeNoScale && e && e.getLineScale ? e.getLineScale() : 1)
            }
        },
        hasFill: function() {
            var t = this.fill;
            return null != t && "none" !== t
        },
        hasStroke: function() {
            var t = this.stroke;
            return null != t && "none" !== t && this.lineWidth > 0
        },
        extendFrom: function(t, e) {
            if (t)
                for (var i in t) !t.hasOwnProperty(i) || !0 !== e && (!1 === e ? this.hasOwnProperty(i) : null == t[i]) || (this[i] = t[i])
        },
        set: function(t, e) {
            "string" == typeof t ? this[t] = e : this.extendFrom(t, !0)
        },
        clone: function() {
            var t = new this.constructor;
            return t.extendFrom(this, !0), t
        },
        getGradient: function(t, e, i) {
            for (var n = ("radial" === e.type ? le : se)(t, e, i), o = e.colorStops, a = 0; a < o.length; a++) n.addColorStop(o[a].offset, o[a].color);
            return n
        }
    };
    for (var k_ = L_.prototype, P_ = 0; P_ < C_.length; P_++) {
        var O_ = C_[P_];
        O_[0] in k_ || (k_[O_[0]] = O_[1])
    }
    L_.getGradient = k_.getGradient;
    var N_ = function(t, e) {
        this.image = t, this.repeat = e, this.type = "pattern"
    };
    N_.prototype.getCanvasPattern = function(t) {
        return t.createPattern(this.image, this.repeat || "repeat")
    };
    var E_ = function(t, e, i) {
        var n;
        i = i || g_, "string" == typeof t ? n = ue(t, e, i) : w(t) && (t = (n = t).id), this.id = t, this.dom = n;
        var o = n.style;
        o && (n.onselectstart = he, o["-webkit-user-select"] = "none", o["user-select"] = "none", o["-webkit-touch-callout"] = "none", o["-webkit-tap-highlight-color"] = "rgba(0,0,0,0)", o.padding = 0, o.margin = 0, o["border-width"] = 0), this.domBack = null, this.ctxBack = null, this.painter = e, this.config = null, this.clearColor = 0, this.motionBlur = !1, this.lastFrameAlpha = .7, this.dpr = i
    };
    E_.prototype = {
        constructor: E_,
        __dirty: !0,
        __used: !1,
        __drawIndex: 0,
        __startIndex: 0,
        __endIndex: 0,
        incremental: !1,
        getElementCount: function() {
            return this.__endIndex - this.__startIndex
        },
        initContext: function() {
            this.ctx = this.dom.getContext("2d"), this.ctx.dpr = this.dpr
        },
        createBackBuffer: function() {
            var t = this.dpr;
            this.domBack = ue("back-" + this.id, this.painter, t), this.ctxBack = this.domBack.getContext("2d"), 1 != t && this.ctxBack.scale(t, t)
        },
        resize: function(t, e) {
            var i = this.dpr,
                n = this.dom,
                o = n.style,
                a = this.domBack;
            o.width = t + "px", o.height = e + "px", n.width = t * i, n.height = e * i, a && (a.width = t * i, a.height = e * i, 1 != i && this.ctxBack.scale(i, i))
        },
        clear: function(t) {
            var e = this.dom,
                i = this.ctx,
                n = e.width,
                o = e.height,
                a = this.clearColor,
                r = this.motionBlur && !t,
                s = this.lastFrameAlpha,
                l = this.dpr;
            if (r && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(e, 0, 0, n / l, o / l)), i.clearRect(0, 0, n, o), a) {
                var h;
                a.colorStops ? (h = a.__canvasGradient || L_.getGradient(i, a, {
                    x: 0,
                    y: 0,
                    width: n,
                    height: o
                }), a.__canvasGradient = h) : a.image && (h = N_.prototype.getCanvasPattern.call(a, i)), i.save(), i.fillStyle = h || a, i.fillRect(0, 0, n, o), i.restore()
            }
            if (r) {
                var u = this.domBack;
                i.save(), i.globalAlpha = s, i.drawImage(u, 0, 0, n, o), i.restore()
            }
        }
    };
    var z_ = "undefined" != typeof window && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(t) {
            setTimeout(t, 16)
        },
        R_ = new o_(50),
        B_ = {},
        V_ = 0,
        G_ = 5e3,
        W_ = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,
        F_ = "12px sans-serif",
        H_ = {};
    H_.measureText = function(t, e) {
        var i = s();
        return i.font = e || F_, i.measureText(t)
    };
    var Z_ = {
            left: 1,
            right: 1,
            center: 1
        },
        U_ = {
            top: 1,
            bottom: 1,
            middle: 1
        },
        j_ = new Kt,
        X_ = function() {};
    X_.prototype = {
        constructor: X_,
        drawRectText: function(t, e) {
            var i = this.style;
            e = i.textRect || e, this.__dirty && Oe(i);
            var n = i.text;
            if (null != n && (n += ""), $e(n, i)) {
                t.save();
                var o = this.transform;
                i.transformText ? this.setTransform(t) : o && (j_.copy(e), j_.applyTransform(o), e = j_), Ee(this, t, n, i, e), t.restore()
            }
        }
    }, Ke.prototype = {
        constructor: Ke,
        type: "displayable",
        __dirty: !0,
        invisible: !1,
        z: 0,
        z2: 0,
        zlevel: 0,
        draggable: !1,
        dragging: !1,
        silent: !1,
        culling: !1,
        cursor: "pointer",
        rectHover: !1,
        progressive: !1,
        incremental: !1,
        inplace: !1,
        beforeBrush: function(t) {},
        afterBrush: function(t) {},
        brush: function(t, e) {},
        getBoundingRect: function() {},
        contain: function(t, e) {
            return this.rectContain(t, e)
        },
        traverse: function(t, e) {
            t.call(e, this)
        },
        rectContain: function(t, e) {
            var i = this.transformCoordToLocal(t, e);
            return this.getBoundingRect().contain(i[0], i[1])
        },
        dirty: function() {
            this.__dirty = !0, this._rect = null, this.__zr && this.__zr.refresh()
        },
        animateStyle: function(t) {
            return this.animate("style", t)
        },
        attrKV: function(t, e) {
            "style" !== t ? x_.prototype.attrKV.call(this, t, e) : this.style.set(e)
        },
        setStyle: function(t, e) {
            return this.style.set(t, e), this.dirty(!1), this
        },
        useStyle: function(t) {
            return this.style = new L_(t, this), this.dirty(!1), this
        }
    }, h(Ke, x_), u(Ke, X_), Je.prototype = {
        constructor: Je,
        type: "image",
        brush: function(t, e) {
            var i = this.style,
                n = i.image;
            i.bind(t, this, e);
            var o = this._image = de(n, this._image, this, this.onload);
            if (o && pe(o)) {
                var a = i.x || 0,
                    r = i.y || 0,
                    s = i.width,
                    l = i.height,
                    h = o.width / o.height;
                if (null == s && null != l ? s = l * h : null == l && null != s ? l = s / h : null == s && null == l && (s = o.width, l = o.height), this.setTransform(t), i.sWidth && i.sHeight) {
                    var u = i.sx || 0,
                        c = i.sy || 0;
                    t.drawImage(o, u, c, i.sWidth, i.sHeight, a, r, s, l)
                } else if (i.sx && i.sy) {
                    var d = s - (u = i.sx),
                        f = l - (c = i.sy);
                    t.drawImage(o, u, c, d, f, a, r, s, l)
                } else t.drawImage(o, a, r, s, l);
                null != i.text && (this.restoreTransform(t), this.drawRectText(t, this.getBoundingRect()))
            }
        },
        getBoundingRect: function() {
            var t = this.style;
            return this._rect || (this._rect = new Kt(t.x || 0, t.y || 0, t.width || 0, t.height || 0)), this._rect
        }
    }, h(Je, Ke);
    var Y_ = new Kt(0, 0, 0, 0),
        q_ = new Kt(0, 0, 0, 0),
        $_ = function(t, e, i) {
            this.type = "canvas";
            var n = !t.nodeName || "CANVAS" === t.nodeName.toUpperCase();
            this._opts = i = a({}, i || {}), this.dpr = i.devicePixelRatio || g_, this._singleCanvas = n, this.root = t;
            var o = t.style;
            o && (o["-webkit-tap-highlight-color"] = "transparent", o["-webkit-user-select"] = o["user-select"] = o["-webkit-touch-callout"] = "none", t.innerHTML = ""), this.storage = e;
            var r = this._zlevelList = [],
                s = this._layers = {};
            if (this._layerConfig = {}, this._needsManuallyCompositing = !1, n) {
                null != i.width && (t.width = i.width), null != i.height && (t.height = i.height);
                var l = t.width,
                    h = t.height;
                this._width = l, this._height = h;
                var u = new E_(t, this, 1);
                u.__builtin__ = !0, u.initContext(), s[314159] = u, r.push(314159), this._domRoot = t
            } else {
                this._width = this._getSize(0), this._height = this._getSize(1);
                var c = this._domRoot = oi(this._width, this._height);
                t.appendChild(c)
            }
            this._hoverlayer = null, this._hoverElements = []
        };
    $_.prototype = {
        constructor: $_,
        getType: function() {
            return "canvas"
        },
        isSingleCanvas: function() {
            return this._singleCanvas
        },
        getViewportRoot: function() {
            return this._domRoot
        },
        getViewportRootOffset: function() {
            var t = this.getViewportRoot();
            if (t) return {
                offsetLeft: t.offsetLeft || 0,
                offsetTop: t.offsetTop || 0
            }
        },
        refresh: function(t) {
            var e = this.storage.getDisplayList(!0),
                i = this._zlevelList;
            this._redrawId = Math.random(), this._paintList(e, t, this._redrawId);
            for (var n = 0; n < i.length; n++) {
                var o = i[n],
                    a = this._layers[o];
                !a.__builtin__ && a.refresh && a.refresh()
            }
            return this.refreshHover(), this
        },
        addHover: function(t, e) {
            if (!t.__hoverMir) {
                var i = new t.constructor({
                    style: t.style,
                    shape: t.shape
                });
                i.__from = t, t.__hoverMir = i, i.setStyle(e), this._hoverElements.push(i)
            }
        },
        removeHover: function(t) {
            var e = t.__hoverMir,
                i = this._hoverElements,
                n = l(i, e);
            n >= 0 && i.splice(n, 1), t.__hoverMir = null
        },
        clearHover: function(t) {
            for (var e = this._hoverElements, i = 0; i < e.length; i++) {
                var n = e[i].__from;
                n && (n.__hoverMir = null)
            }
            e.length = 0
        },
        refreshHover: function() {
            var t = this._hoverElements,
                e = t.length,
                i = this._hoverlayer;
            if (i && i.clear(), e) {
                ae(t, this.storage.displayableSortFunc), i || (i = this._hoverlayer = this.getLayer(1e5));
                var n = {};
                i.ctx.save();
                for (var o = 0; o < e;) {
                    var a = t[o],
                        r = a.__from;
                    r && r.__zr ? (o++, r.invisible || (a.transform = r.transform, a.invTransform = r.invTransform, a.__clipPaths = r.__clipPaths, this._doPaintEl(a, i, !0, n))) : (t.splice(o, 1), r.__hoverMir = null, e--)
                }
                i.ctx.restore()
            }
        },
        getHoverLayer: function() {
            return this.getLayer(1e5)
        },
        _paintList: function(t, e, i) {
            if (this._redrawId === i) {
                e = e || !1, this._updateLayerStatus(t);
                var n = this._doPaintList(t, e);
                if (this._needsManuallyCompositing && this._compositeManually(), !n) {
                    var o = this;
                    z_(function() {
                        o._paintList(t, e, i)
                    })
                }
            }
        },
        _compositeManually: function() {
            var t = this.getLayer(314159).ctx,
                e = this._domRoot.width,
                i = this._domRoot.height;
            t.clearRect(0, 0, e, i), this.eachBuiltinLayer(function(n) {
                n.virtual && t.drawImage(n.dom, 0, 0, e, i)
            })
        },
        _doPaintList: function(t, e) {
            for (var i = [], n = 0; n < this._zlevelList.length; n++) {
                var o = this._zlevelList[n];
                (s = this._layers[o]).__builtin__ && s !== this._hoverlayer && (s.__dirty || e) && i.push(s)
            }
            for (var a = !0, r = 0; r < i.length; r++) {
                var s = i[r],
                    l = s.ctx,
                    h = {};
                l.save();
                var u = e ? s.__startIndex : s.__drawIndex,
                    c = !e && s.incremental && Date.now,
                    f = c && Date.now();
                if (s.__startIndex === s.__endIndex) s.clear();
                else if (u === s.__startIndex) {
                    var p = t[u];
                    p.incremental && p.notClear && !e || s.clear()
                } - 1 === u && (console.error("For some unknown reason. drawIndex is -1"), u = s.__startIndex);
                for (var g = u; g < s.__endIndex; g++) {
                    var m = t[g];
                    if (this._doPaintEl(m, s, e, h), m.__dirty = !1, c && Date.now() - f > 15) break
                }
                s.__drawIndex = g, s.__drawIndex < s.__endIndex && (a = !1), h.prevElClipPaths && l.restore(), l.restore()
            }
            return _x.wxa && d(this._layers, function(t) {
                t && t.ctx && t.ctx.draw && t.ctx.draw()
            }), a
        },
        _doPaintEl: function(t, e, i, n) {
            var o = e.ctx,
                a = t.transform;
            if ((e.__dirty || i) && !t.invisible && 0 !== t.style.opacity && (!a || a[0] || a[3]) && (!t.culling || !ei(t, this._width, this._height))) {
                var r = t.__clipPaths;
                n.prevElClipPaths && !ii(r, n.prevElClipPaths) || (n.prevElClipPaths && (e.ctx.restore(), n.prevElClipPaths = null, n.prevEl = null), r && (o.save(), ni(r, o), n.prevElClipPaths = r)), t.beforeBrush && t.beforeBrush(o), t.brush(o, n.prevEl || null), n.prevEl = t, t.afterBrush && t.afterBrush(o)
            }
        },
        getLayer: function(t, e) {
            this._singleCanvas && !this._needsManuallyCompositing && (t = 314159);
            var i = this._layers[t];
            return i || ((i = new E_("zr_" + t, this, this.dpr)).zlevel = t, i.__builtin__ = !0, this._layerConfig[t] && n(i, this._layerConfig[t], !0), e && (i.virtual = e), this.insertLayer(t, i), i.initContext()), i
        },
        insertLayer: function(t, e) {
            var i = this._layers,
                n = this._zlevelList,
                o = n.length,
                a = null,
                r = -1,
                s = this._domRoot;
            if (i[t]) v_("ZLevel " + t + " has been used already");
            else if (ti(e)) {
                if (o > 0 && t > n[0]) {
                    for (r = 0; r < o - 1 && !(n[r] < t && n[r + 1] > t); r++);
                    a = i[n[r]]
                }
                if (n.splice(r + 1, 0, t), i[t] = e, !e.virtual)
                    if (a) {
                        var l = a.dom;
                        l.nextSibling ? s.insertBefore(e.dom, l.nextSibling) : s.appendChild(e.dom)
                    } else s.firstChild ? s.insertBefore(e.dom, s.firstChild) : s.appendChild(e.dom)
            } else v_("Layer of zlevel " + t + " is not valid")
        },
        eachLayer: function(t, e) {
            var i, n, o = this._zlevelList;
            for (n = 0; n < o.length; n++) i = o[n], t.call(e, this._layers[i], i)
        },
        eachBuiltinLayer: function(t, e) {
            var i, n, o, a = this._zlevelList;
            for (o = 0; o < a.length; o++) n = a[o], (i = this._layers[n]).__builtin__ && t.call(e, i, n)
        },
        eachOtherLayer: function(t, e) {
            var i, n, o, a = this._zlevelList;
            for (o = 0; o < a.length; o++) n = a[o], (i = this._layers[n]).__builtin__ || t.call(e, i, n)
        },
        getLayers: function() {
            return this._layers
        },
        _updateLayerStatus: function(t) {
            function e(t) {
                i && (i.__endIndex !== t && (i.__dirty = !0), i.__endIndex = t)
            }
            if (this.eachBuiltinLayer(function(t, e) {
                    t.__dirty = t.__used = !1
                }), this._singleCanvas)
                for (o = 1; o < t.length; o++)
                    if ((r = t[o]).zlevel !== t[o - 1].zlevel || r.incremental) {
                        this._needsManuallyCompositing = !0;
                        break
                    } for (var i = null, n = 0, o = 0; o < t.length; o++) {
                var a, r = t[o],
                    s = r.zlevel;
                r.incremental ? ((a = this.getLayer(s + .001, this._needsManuallyCompositing)).incremental = !0, n = 1) : a = this.getLayer(s + (n > 0 ? .01 : 0), this._needsManuallyCompositing), a.__builtin__ || v_("ZLevel " + s + " has been used by unkown layer " + a.id), a !== i && (a.__used = !0, a.__startIndex !== o && (a.__dirty = !0), a.__startIndex = o, a.incremental ? a.__drawIndex = -1 : a.__drawIndex = o, e(o), i = a), r.__dirty && (a.__dirty = !0, a.incremental && a.__drawIndex < 0 && (a.__drawIndex = o))
            }
            e(o), this.eachBuiltinLayer(function(t, e) {
                !t.__used && t.getElementCount() > 0 && (t.__dirty = !0, t.__startIndex = t.__endIndex = t.__drawIndex = 0), t.__dirty && t.__drawIndex < 0 && (t.__drawIndex = t.__startIndex)
            })
        },
        clear: function() {
            return this.eachBuiltinLayer(this._clearLayer), this
        },
        _clearLayer: function(t) {
            t.clear()
        },
        configLayer: function(t, e) {
            if (e) {
                var i = this._layerConfig;
                i[t] ? n(i[t], e, !0) : i[t] = e;
                for (var o = 0; o < this._zlevelList.length; o++) {
                    var a = this._zlevelList[o];
                    a !== t && a !== t + .01 || n(this._layers[a], i[t], !0)
                }
            }
        },
        delLayer: function(t) {
            var e = this._layers,
                i = this._zlevelList,
                n = e[t];
            n && (n.dom.parentNode.removeChild(n.dom), delete e[t], i.splice(l(i, t), 1))
        },
        resize: function(t, e) {
            if (this._domRoot.style) {
                var i = this._domRoot;
                i.style.display = "none";
                var n = this._opts;
                if (null != t && (n.width = t), null != e && (n.height = e), t = this._getSize(0), e = this._getSize(1), i.style.display = "", this._width != t || e != this._height) {
                    i.style.width = t + "px", i.style.height = e + "px";
                    for (var o in this._layers) this._layers.hasOwnProperty(o) && this._layers[o].resize(t, e);
                    d(this._progressiveLayers, function(i) {
                        i.resize(t, e)
                    }), this.refresh(!0)
                }
                this._width = t, this._height = e
            } else {
                if (null == t || null == e) return;
                this._width = t, this._height = e, this.getLayer(314159).resize(t, e)
            }
            return this
        },
        clearLayer: function(t) {
            var e = this._layers[t];
            e && e.clear()
        },
        dispose: function() {
            this.root.innerHTML = "", this.root = this.storage = this._domRoot = this._layers = null
        },
        getRenderedCanvas: function(t) {
            if (t = t || {}, this._singleCanvas && !this._compositeManually) return this._layers[314159].dom;
            var e = new E_("image", this, t.pixelRatio || this.dpr);
            if (e.initContext(), e.clearColor = t.backgroundColor, e.clear(), t.pixelRatio <= this.dpr) {
                this.refresh();
                var i = e.dom.width,
                    n = e.dom.height,
                    o = e.ctx;
                this.eachLayer(function(t) {
                    t.__builtin__ ? o.drawImage(t.dom, 0, 0, i, n) : t.renderToCanvas && (e.ctx.save(), t.renderToCanvas(e.ctx), e.ctx.restore())
                })
            } else
                for (var a = {}, r = this.storage.getDisplayList(!0), s = 0; s < r.length; s++) {
                    var l = r[s];
                    this._doPaintEl(l, e, !0, a)
                }
            return e.dom
        },
        getWidth: function() {
            return this._width
        },
        getHeight: function() {
            return this._height
        },
        _getSize: function(t) {
            var e = this._opts,
                i = ["width", "height"][t],
                n = ["clientWidth", "clientHeight"][t],
                o = ["paddingLeft", "paddingTop"][t],
                a = ["paddingRight", "paddingBottom"][t];
            if (null != e[i] && "auto" !== e[i]) return parseFloat(e[i]);
            var r = this.root,
                s = document.defaultView.getComputedStyle(r);
            return (r[n] || Qe(s[i]) || Qe(r.style[i])) - (Qe(s[o]) || 0) - (Qe(s[a]) || 0) | 0
        },
        pathToImage: function(t, e) {
            e = e || this.dpr;
            var i = document.createElement("canvas"),
                n = i.getContext("2d"),
                o = t.getBoundingRect(),
                a = t.style,
                r = a.shadowBlur * e,
                s = a.shadowOffsetX * e,
                l = a.shadowOffsetY * e,
                h = a.hasStroke() ? a.lineWidth : 0,
                u = Math.max(h / 2, -s + r),
                c = Math.max(h / 2, s + r),
                d = Math.max(h / 2, -l + r),
                f = Math.max(h / 2, l + r),
                p = o.width + u + c,
                g = o.height + d + f;
            i.width = p * e, i.height = g * e, n.scale(e, e), n.clearRect(0, 0, p, g), n.dpr = e;
            var m = {
                position: t.position,
                rotation: t.rotation,
                scale: t.scale
            };
            t.position = [u - o.x, d - o.y], t.rotation = 0, t.scale = [1, 1], t.updateTransform(), t && t.brush(n);
            var v = new Je({
                style: {
                    x: 0,
                    y: 0,
                    image: i
                }
            });
            return null != m.position && (v.position = t.position = m.position), null != m.rotation && (v.rotation = t.rotation = m.rotation), null != m.scale && (v.scale = t.scale = m.scale), v
        }
    };
    var K_ = "undefined" != typeof window && !!window.addEventListener,
        J_ = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        Q_ = K_ ? function(t) {
            t.preventDefault(), t.stopPropagation(), t.cancelBubble = !0
        } : function(t) {
            t.returnValue = !1, t.cancelBubble = !0
        },
        tw = function(t) {
            t = t || {}, this.stage = t.stage || {}, this.onframe = t.onframe || function() {}, this._clips = [], this._running = !1, this._time, this._pausedTime, this._pauseStart, this._paused = !1, Hx.call(this)
        };
    tw.prototype = {
        constructor: tw,
        addClip: function(t) {
            this._clips.push(t)
        },
        addAnimator: function(t) {
            t.animation = this;
            for (var e = t.getClips(), i = 0; i < e.length; i++) this.addClip(e[i])
        },
        removeClip: function(t) {
            var e = l(this._clips, t);
            e >= 0 && this._clips.splice(e, 1)
        },
        removeAnimator: function(t) {
            for (var e = t.getClips(), i = 0; i < e.length; i++) this.removeClip(e[i]);
            t.animation = null
        },
        _update: function() {
            for (var t = (new Date).getTime() - this._pausedTime, e = t - this._time, i = this._clips, n = i.length, o = [], a = [], r = 0; r < n; r++) {
                var s = i[r],
                    l = s.step(t, e);
                l && (o.push(l), a.push(s))
            }
            for (r = 0; r < n;) i[r]._needsRemove ? (i[r] = i[n - 1], i.pop(), n--) : r++;
            n = o.length;
            for (r = 0; r < n; r++) a[r].fire(o[r]);
            this._time = t, this.onframe(e), this.trigger("frame", e), this.stage.update && this.stage.update()
        },
        _startLoop: function() {
            function t() {
                e._running && (z_(t), !e._paused && e._update())
            }
            var e = this;
            this._running = !0, z_(t)
        },
        start: function() {
            this._time = (new Date).getTime(), this._pausedTime = 0, this._startLoop()
        },
        stop: function() {
            this._running = !1
        },
        pause: function() {
            this._paused || (this._pauseStart = (new Date).getTime(), this._paused = !0)
        },
        resume: function() {
            this._paused && (this._pausedTime += (new Date).getTime() - this._pauseStart, this._paused = !1)
        },
        clear: function() {
            this._clips = []
        },
        animate: function(t, e) {
            var i = new f_(t, (e = e || {}).loop, e.getter, e.setter);
            return this.addAnimator(i), i
        }
    }, u(tw, Hx);
    var ew = function() {
        this._track = []
    };
    ew.prototype = {
        constructor: ew,
        recognize: function(t, e, i) {
            return this._doTrack(t, e, i), this._recognize(t)
        },
        clear: function() {
            return this._track.length = 0, this
        },
        _doTrack: function(t, e, i) {
            var n = t.touches;
            if (n) {
                for (var o = {
                        points: [],
                        touches: [],
                        target: e,
                        event: t
                    }, a = 0, r = n.length; a < r; a++) {
                    var s = n[a],
                        l = ri(i, s, {});
                    o.points.push([l.zrX, l.zrY]), o.touches.push(s)
                }
                this._track.push(o)
            }
        },
        _recognize: function(t) {
            for (var e in iw)
                if (iw.hasOwnProperty(e)) {
                    var i = iw[e](this._track, t);
                    if (i) return i
                }
        }
    };
    var iw = {
            pinch: function(t, e) {
                var i = t.length;
                if (i) {
                    var n = (t[i - 1] || {}).points,
                        o = (t[i - 2] || {}).points || n;
                    if (o && o.length > 1 && n && n.length > 1) {
                        var a = di(n) / di(o);
                        !isFinite(a) && (a = 1), e.pinchScale = a;
                        var r = fi(n);
                        return e.pinchX = r[0], e.pinchY = r[1], {
                            type: "pinch",
                            target: t[0].target,
                            event: e
                        }
                    }
                }
            }
        },
        nw = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"],
        ow = ["touchstart", "touchend", "touchmove"],
        aw = {
            pointerdown: 1,
            pointerup: 1,
            pointermove: 1,
            pointerout: 1
        },
        rw = f(nw, function(t) {
            var e = t.replace("mouse", "pointer");
            return aw[e] ? e : t
        }),
        sw = {
            mousemove: function(t) {
                t = li(this.dom, t), this.trigger("mousemove", t)
            },
            mouseout: function(t) {
                var e = (t = li(this.dom, t)).toElement || t.relatedTarget;
                if (e != this.dom)
                    for (; e && 9 != e.nodeType;) {
                        if (e === this.dom) return;
                        e = e.parentNode
                    }
                this.trigger("mouseout", t)
            },
            touchstart: function(t) {
                (t = li(this.dom, t)).zrByTouch = !0, this._lastTouchMoment = new Date, gi(this, t, "start"), sw.mousemove.call(this, t), sw.mousedown.call(this, t), mi(this)
            },
            touchmove: function(t) {
                (t = li(this.dom, t)).zrByTouch = !0, gi(this, t, "change"), sw.mousemove.call(this, t), mi(this)
            },
            touchend: function(t) {
                (t = li(this.dom, t)).zrByTouch = !0, gi(this, t, "end"), sw.mouseup.call(this, t), +new Date - this._lastTouchMoment < 300 && sw.click.call(this, t), mi(this)
            },
            pointerdown: function(t) {
                sw.mousedown.call(this, t)
            },
            pointermove: function(t) {
                vi(t) || sw.mousemove.call(this, t)
            },
            pointerup: function(t) {
                sw.mouseup.call(this, t)
            },
            pointerout: function(t) {
                vi(t) || sw.mouseout.call(this, t)
            }
        };
    d(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(t) {
        sw[t] = function(e) {
            e = li(this.dom, e), this.trigger(t, e)
        }
    });
    var lw = xi.prototype;
    lw.dispose = function() {
        for (var t = nw.concat(ow), e = 0; e < t.length; e++) {
            var i = t[e];
            ui(this.dom, pi(i), this._handlers[i])
        }
    }, lw.setCursor = function(t) {
        this.dom.style && (this.dom.style.cursor = t || "default")
    }, u(xi, Hx);
    var hw = !_x.canvasSupported,
        uw = {
            canvas: $_
        },
        cw = {},
        dw = function(t, e, i) {
            i = i || {}, this.dom = e, this.id = t;
            var n = this,
                o = new T_,
                a = i.renderer;
            if (hw) {
                if (!uw.vml) throw new Error("You need to require 'zrender/vml/vml' to support IE8");
                a = "vml"
            } else a && uw[a] || (a = "canvas");
            var r = new uw[a](e, o, i, t);
            this.storage = o, this.painter = r;
            var s = _x.node || _x.worker ? null : new xi(r.getViewportRoot());
            this.handler = new jx(o, r, s, r.root), this.animation = new tw({
                stage: {
                    update: m(this.flush, this)
                }
            }), this.animation.start(), this._needsRefresh;
            var l = o.delFromStorage,
                h = o.addToStorage;
            o.delFromStorage = function(t) {
                l.call(o, t), t && t.removeSelfFromZr(n)
            }, o.addToStorage = function(t) {
                h.call(o, t), t.addSelfToZr(n)
            }
        };
    dw.prototype = {
        constructor: dw,
        getId: function() {
            return this.id
        },
        add: function(t) {
            this.storage.addRoot(t), this._needsRefresh = !0
        },
        remove: function(t) {
            this.storage.delRoot(t), this._needsRefresh = !0
        },
        configLayer: function(t, e) {
            this.painter.configLayer(t, e), this._needsRefresh = !0
        },
        refreshImmediately: function() {
            this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1
        },
        refresh: function() {
            this._needsRefresh = !0
        },
        flush: function() {
            this._needsRefresh && this.refreshImmediately(), this._needsRefreshHover && this.refreshHoverImmediately()
        },
        addHover: function(t, e) {
            this.painter.addHover && (this.painter.addHover(t, e), this.refreshHover())
        },
        removeHover: function(t) {
            this.painter.removeHover && (this.painter.removeHover(t), this.refreshHover())
        },
        clearHover: function() {
            this.painter.clearHover && (this.painter.clearHover(), this.refreshHover())
        },
        refreshHover: function() {
            this._needsRefreshHover = !0
        },
        refreshHoverImmediately: function() {
            this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.refreshHover()
        },
        resize: function(t) {
            t = t || {}, this.painter.resize(t.width, t.height), this.handler.resize()
        },
        clearAnimation: function() {
            this.animation.clear()
        },
        getWidth: function() {
            return this.painter.getWidth()
        },
        getHeight: function() {
            return this.painter.getHeight()
        },
        pathToImage: function(t, e) {
            return this.painter.pathToImage(t, e)
        },
        setCursorStyle: function(t) {
            this.handler.setCursorStyle(t)
        },
        findHover: function(t, e) {
            return this.handler.findHover(t, e)
        },
        on: function(t, e, i) {
            this.handler.on(t, e, i)
        },
        off: function(t, e) {
            this.handler.off(t, e)
        },
        trigger: function(t, e) {
            this.handler.trigger(t, e)
        },
        clear: function() {
            this.storage.delRoot(), this.painter.clear()
        },
        dispose: function() {
            this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, bi(this.id)
        }
    };
    var fw = (Object.freeze || Object)({
            version: "4.0.1",
            init: _i,
            dispose: function(t) {
                if (t) t.dispose();
                else {
                    for (var e in cw) cw.hasOwnProperty(e) && cw[e].dispose();
                    cw = {}
                }
                return this
            },
            getInstance: function(t) {
                return cw[t]
            },
            registerPainter: wi
        }),
        pw = d,
        gw = w,
        mw = y,
        vw = "\0-",
        yw = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"],
        xw = 0,
        _w = ".",
        ww = "___EC__COMPONENT__CONTAINER___",
        bw = 0,
        Sw = function(t) {
            for (var e = 0; e < t.length; e++) t[e][1] || (t[e][1] = t[e][0]);
            return function(e, i, n) {
                for (var o = {}, a = 0; a < t.length; a++) {
                    var r = t[a][1];
                    if (!(i && l(i, r) >= 0 || n && l(n, r) < 0)) {
                        var s = e.getShallow(r);
                        null != s && (o[t[a][0]] = s)
                    }
                }
                return o
            }
        },
        Mw = Sw([
            ["lineWidth", "width"],
            ["stroke", "color"],
            ["opacity"],
            ["shadowBlur"],
            ["shadowOffsetX"],
            ["shadowOffsetY"],
            ["shadowColor"]
        ]),
        Iw = {
            getLineStyle: function(t) {
                var e = Mw(this, t),
                    i = this.getLineDash(e.lineWidth);
                return i && (e.lineDash = i), e
            },
            getLineDash: function(t) {
                null == t && (t = 1);
                var e = this.get("type"),
                    i = Math.max(t, 2),
                    n = 4 * t;
                return "solid" === e || null == e ? null : "dashed" === e ? [n, n] : [i, i]
            }
        },
        Tw = Sw([
            ["fill", "color"],
            ["shadowBlur"],
            ["shadowOffsetX"],
            ["shadowOffsetY"],
            ["opacity"],
            ["shadowColor"]
        ]),
        Aw = {
            getAreaStyle: function(t, e) {
                return Tw(this, t, e)
            }
        },
        Dw = Math.pow,
        Cw = Math.sqrt,
        Lw = 1e-8,
        kw = 1e-4,
        Pw = Cw(3),
        Ow = 1 / 3,
        Nw = V(),
        Ew = V(),
        zw = V(),
        Rw = Math.min,
        Bw = Math.max,
        Vw = Math.sin,
        Gw = Math.cos,
        Ww = 2 * Math.PI,
        Fw = V(),
        Hw = V(),
        Zw = V(),
        Uw = [],
        jw = [],
        Xw = {
            M: 1,
            L: 2,
            C: 3,
            Q: 4,
            A: 5,
            Z: 6,
            R: 7
        },
        Yw = [],
        qw = [],
        $w = [],
        Kw = [],
        Jw = Math.min,
        Qw = Math.max,
        tb = Math.cos,
        eb = Math.sin,
        ib = Math.sqrt,
        nb = Math.abs,
        ob = "undefined" != typeof Float32Array,
        ab = function(t) {
            this._saveData = !t, this._saveData && (this.data = []), this._ctx = null
        };
    ab.prototype = {
        constructor: ab,
        _xi: 0,
        _yi: 0,
        _x0: 0,
        _y0: 0,
        _ux: 0,
        _uy: 0,
        _len: 0,
        _lineDash: null,
        _dashOffset: 0,
        _dashIdx: 0,
        _dashSum: 0,
        setScale: function(t, e) {
            this._ux = nb(1 / g_ / t) || 0, this._uy = nb(1 / g_ / e) || 0
        },
        getContext: function() {
            return this._ctx
        },
        beginPath: function(t) {
            return this._ctx = t, t && t.beginPath(), t && (this.dpr = t.dpr), this._saveData && (this._len = 0), this._lineDash && (this._lineDash = null, this._dashOffset = 0), this
        },
        moveTo: function(t, e) {
            return this.addData(Xw.M, t, e), this._ctx && this._ctx.moveTo(t, e), this._x0 = t, this._y0 = e, this._xi = t, this._yi = e, this
        },
        lineTo: function(t, e) {
            var i = nb(t - this._xi) > this._ux || nb(e - this._yi) > this._uy || this._len < 5;
            return this.addData(Xw.L, t, e), this._ctx && i && (this._needsDash() ? this._dashedLineTo(t, e) : this._ctx.lineTo(t, e)), i && (this._xi = t, this._yi = e), this
        },
        bezierCurveTo: function(t, e, i, n, o, a) {
            return this.addData(Xw.C, t, e, i, n, o, a), this._ctx && (this._needsDash() ? this._dashedBezierTo(t, e, i, n, o, a) : this._ctx.bezierCurveTo(t, e, i, n, o, a)), this._xi = o, this._yi = a, this
        },
        quadraticCurveTo: function(t, e, i, n) {
            return this.addData(Xw.Q, t, e, i, n), this._ctx && (this._needsDash() ? this._dashedQuadraticTo(t, e, i, n) : this._ctx.quadraticCurveTo(t, e, i, n)), this._xi = i, this._yi = n, this
        },
        arc: function(t, e, i, n, o, a) {
            return this.addData(Xw.A, t, e, i, i, n, o - n, 0, a ? 0 : 1), this._ctx && this._ctx.arc(t, e, i, n, o, a), this._xi = tb(o) * i + t, this._yi = eb(o) * i + t, this
        },
        arcTo: function(t, e, i, n, o) {
            return this._ctx && this._ctx.arcTo(t, e, i, n, o), this
        },
        rect: function(t, e, i, n) {
            return this._ctx && this._ctx.rect(t, e, i, n), this.addData(Xw.R, t, e, i, n), this
        },
        closePath: function() {
            this.addData(Xw.Z);
            var t = this._ctx,
                e = this._x0,
                i = this._y0;
            return t && (this._needsDash() && this._dashedLineTo(e, i), t.closePath()), this._xi = e, this._yi = i, this
        },
        fill: function(t) {
            t && t.fill(), this.toStatic()
        },
        stroke: function(t) {
            t && t.stroke(), this.toStatic()
        },
        setLineDash: function(t) {
            if (t instanceof Array) {
                this._lineDash = t, this._dashIdx = 0;
                for (var e = 0, i = 0; i < t.length; i++) e += t[i];
                this._dashSum = e
            }
            return this
        },
        setLineDashOffset: function(t) {
            return this._dashOffset = t, this
        },
        len: function() {
            return this._len
        },
        setData: function(t) {
            var e = t.length;
            this.data && this.data.length == e || !ob || (this.data = new Float32Array(e));
            for (var i = 0; i < e; i++) this.data[i] = t[i];
            this._len = e
        },
        appendPath: function(t) {
            t instanceof Array || (t = [t]);
            for (var e = t.length, i = 0, n = this._len, o = 0; o < e; o++) i += t[o].len();
            ob && this.data instanceof Float32Array && (this.data = new Float32Array(n + i));
            for (o = 0; o < e; o++)
                for (var a = t[o].data, r = 0; r < a.length; r++) this.data[n++] = a[r];
            this._len = n
        },
        addData: function(t) {
            if (this._saveData) {
                var e = this.data;
                this._len + arguments.length > e.length && (this._expandData(), e = this.data);
                for (var i = 0; i < arguments.length; i++) e[this._len++] = arguments[i];
                this._prevCmd = t
            }
        },
        _expandData: function() {
            if (!(this.data instanceof Array)) {
                for (var t = [], e = 0; e < this._len; e++) t[e] = this.data[e];
                this.data = t
            }
        },
        _needsDash: function() {
            return this._lineDash
        },
        _dashedLineTo: function(t, e) {
            var i, n, o = this._dashSum,
                a = this._dashOffset,
                r = this._lineDash,
                s = this._ctx,
                l = this._xi,
                h = this._yi,
                u = t - l,
                c = e - h,
                d = ib(u * u + c * c),
                f = l,
                p = h,
                g = r.length;
            for (u /= d, c /= d, a < 0 && (a = o + a), f -= (a %= o) * u, p -= a * c; u > 0 && f <= t || u < 0 && f >= t || 0 == u && (c > 0 && p <= e || c < 0 && p >= e);) f += u * (i = r[n = this._dashIdx]), p += c * i, this._dashIdx = (n + 1) % g, u > 0 && f < l || u < 0 && f > l || c > 0 && p < h || c < 0 && p > h || s[n % 2 ? "moveTo" : "lineTo"](u >= 0 ? Jw(f, t) : Qw(f, t), c >= 0 ? Jw(p, e) : Qw(p, e));
            u = f - t, c = p - e, this._dashOffset = -ib(u * u + c * c)
        },
        _dashedBezierTo: function(t, e, i, n, o, a) {
            var r, s, l, h, u, c = this._dashSum,
                d = this._dashOffset,
                f = this._lineDash,
                p = this._ctx,
                g = this._xi,
                m = this._yi,
                v = ji,
                y = 0,
                x = this._dashIdx,
                _ = f.length,
                w = 0;
            for (d < 0 && (d = c + d), d %= c, r = 0; r < 1; r += .1) s = v(g, t, i, o, r + .1) - v(g, t, i, o, r), l = v(m, e, n, a, r + .1) - v(m, e, n, a, r), y += ib(s * s + l * l);
            for (; x < _ && !((w += f[x]) > d); x++);
            for (r = (w - d) / y; r <= 1;) h = v(g, t, i, o, r), u = v(m, e, n, a, r), x % 2 ? p.moveTo(h, u) : p.lineTo(h, u), r += f[x] / y, x = (x + 1) % _;
            x % 2 != 0 && p.lineTo(o, a), s = o - h, l = a - u, this._dashOffset = -ib(s * s + l * l)
        },
        _dashedQuadraticTo: function(t, e, i, n) {
            var o = i,
                a = n;
            i = (i + 2 * t) / 3, n = (n + 2 * e) / 3, t = (this._xi + 2 * t) / 3, e = (this._yi + 2 * e) / 3, this._dashedBezierTo(t, e, i, n, o, a)
        },
        toStatic: function() {
            var t = this.data;
            t instanceof Array && (t.length = this._len, ob && (this.data = new Float32Array(t)))
        },
        getBoundingRect: function() {
            Yw[0] = Yw[1] = $w[0] = $w[1] = Number.MAX_VALUE, qw[0] = qw[1] = Kw[0] = Kw[1] = -Number.MAX_VALUE;
            for (var t = this.data, e = 0, i = 0, n = 0, o = 0, a = 0; a < t.length;) {
                var r = t[a++];
                switch (1 == a && (n = e = t[a], o = i = t[a + 1]), r) {
                    case Xw.M:
                        e = n = t[a++], i = o = t[a++], $w[0] = n, $w[1] = o, Kw[0] = n, Kw[1] = o;
                        break;
                    case Xw.L:
                        rn(e, i, t[a], t[a + 1], $w, Kw), e = t[a++], i = t[a++];
                        break;
                    case Xw.C:
                        sn(e, i, t[a++], t[a++], t[a++], t[a++], t[a], t[a + 1], $w, Kw), e = t[a++], i = t[a++];
                        break;
                    case Xw.Q:
                        ln(e, i, t[a++], t[a++], t[a], t[a + 1], $w, Kw), e = t[a++], i = t[a++];
                        break;
                    case Xw.A:
                        var s = t[a++],
                            l = t[a++],
                            h = t[a++],
                            u = t[a++],
                            c = t[a++],
                            d = t[a++] + c,
                            f = (t[a++], 1 - t[a++]);
                        1 == a && (n = tb(c) * h + s, o = eb(c) * u + l), hn(s, l, h, u, c, d, f, $w, Kw), e = tb(d) * h + s, i = eb(d) * u + l;
                        break;
                    case Xw.R:
                        rn(n = e = t[a++], o = i = t[a++], n + t[a++], o + t[a++], $w, Kw);
                        break;
                    case Xw.Z:
                        e = n, i = o
                }
                tt(Yw, Yw, $w), et(qw, qw, Kw)
            }
            return 0 === a && (Yw[0] = Yw[1] = qw[0] = qw[1] = 0), new Kt(Yw[0], Yw[1], qw[0] - Yw[0], qw[1] - Yw[1])
        },
        rebuildPath: function(t) {
            for (var e, i, n, o, a, r, s = this.data, l = this._ux, h = this._uy, u = this._len, c = 0; c < u;) {
                var d = s[c++];
                switch (1 == c && (e = n = s[c], i = o = s[c + 1]), d) {
                    case Xw.M:
                        e = n = s[c++], i = o = s[c++], t.moveTo(n, o);
                        break;
                    case Xw.L:
                        a = s[c++], r = s[c++], (nb(a - n) > l || nb(r - o) > h || c === u - 1) && (t.lineTo(a, r), n = a, o = r);
                        break;
                    case Xw.C:
                        t.bezierCurveTo(s[c++], s[c++], s[c++], s[c++], s[c++], s[c++]), n = s[c - 2], o = s[c - 1];
                        break;
                    case Xw.Q:
                        t.quadraticCurveTo(s[c++], s[c++], s[c++], s[c++]), n = s[c - 2], o = s[c - 1];
                        break;
                    case Xw.A:
                        var f = s[c++],
                            p = s[c++],
                            g = s[c++],
                            m = s[c++],
                            v = s[c++],
                            y = s[c++],
                            x = s[c++],
                            _ = s[c++],
                            w = g > m ? g : m,
                            b = g > m ? 1 : g / m,
                            S = g > m ? m / g : 1,
                            M = v + y;
                        Math.abs(g - m) > .001 ? (t.translate(f, p), t.rotate(x), t.scale(b, S), t.arc(0, 0, w, v, M, 1 - _), t.scale(1 / b, 1 / S), t.rotate(-x), t.translate(-f, -p)) : t.arc(f, p, w, v, M, 1 - _), 1 == c && (e = tb(v) * g + f, i = eb(v) * m + p), n = tb(M) * g + f, o = eb(M) * m + p;
                        break;
                    case Xw.R:
                        e = n = s[c], i = o = s[c + 1], t.rect(s[c++], s[c++], s[c++], s[c++]);
                        break;
                    case Xw.Z:
                        t.closePath(), n = e, o = i
                }
            }
        }
    }, ab.CMD = Xw;
    var rb = 2 * Math.PI,
        sb = 2 * Math.PI,
        lb = ab.CMD,
        hb = 2 * Math.PI,
        ub = 1e-4,
        cb = [-1, -1, -1],
        db = [-1, -1],
        fb = N_.prototype.getCanvasPattern,
        pb = Math.abs,
        gb = new ab(!0);
    Mn.prototype = {
        constructor: Mn,
        type: "path",
        __dirtyPath: !0,
        strokeContainThreshold: 5,
        brush: function(t, e) {
            var i = this.style,
                n = this.path || gb,
                o = i.hasStroke(),
                a = i.hasFill(),
                r = i.fill,
                s = i.stroke,
                l = a && !!r.colorStops,
                h = o && !!s.colorStops,
                u = a && !!r.image,
                c = o && !!s.image;
            if (i.bind(t, this, e), this.setTransform(t), this.__dirty) {
                var d;
                l && (d = d || this.getBoundingRect(), this._fillGradient = i.getGradient(t, r, d)), h && (d = d || this.getBoundingRect(), this._strokeGradient = i.getGradient(t, s, d))
            }
            l ? t.fillStyle = this._fillGradient : u && (t.fillStyle = fb.call(r, t)), h ? t.strokeStyle = this._strokeGradient : c && (t.strokeStyle = fb.call(s, t));
            var f = i.lineDash,
                p = i.lineDashOffset,
                g = !!t.setLineDash,
                m = this.getGlobalScale();
            n.setScale(m[0], m[1]), this.__dirtyPath || f && !g && o ? (n.beginPath(t), f && !g && (n.setLineDash(f), n.setLineDashOffset(p)), this.buildPath(n, this.shape, !1), this.path && (this.__dirtyPath = !1)) : (t.beginPath(), this.path.rebuildPath(t)), a && n.fill(t), f && g && (t.setLineDash(f), t.lineDashOffset = p), o && n.stroke(t), f && g && t.setLineDash([]), null != i.text && (this.restoreTransform(t), this.drawRectText(t, this.getBoundingRect()))
        },
        buildPath: function(t, e, i) {},
        createPathProxy: function() {
            this.path = new ab
        },
        getBoundingRect: function() {
            var t = this._rect,
                e = this.style,
                i = !t;
            if (i) {
                var n = this.path;
                n || (n = this.path = new ab), this.__dirtyPath && (n.beginPath(), this.buildPath(n, this.shape, !1)), t = n.getBoundingRect()
            }
            if (this._rect = t, e.hasStroke()) {
                var o = this._rectWithStroke || (this._rectWithStroke = t.clone());
                if (this.__dirty || i) {
                    o.copy(t);
                    var a = e.lineWidth,
                        r = e.strokeNoScale ? this.getLineScale() : 1;
                    e.hasFill() || (a = Math.max(a, this.strokeContainThreshold || 4)), r > 1e-10 && (o.width += a / r, o.height += a / r, o.x -= a / r / 2, o.y -= a / r / 2)
                }
                return o
            }
            return t
        },
        contain: function(t, e) {
            var i = this.transformCoordToLocal(t, e),
                n = this.getBoundingRect(),
                o = this.style;
            if (t = i[0], e = i[1], n.contain(t, e)) {
                var a = this.path.data;
                if (o.hasStroke()) {
                    var r = o.lineWidth,
                        s = o.strokeNoScale ? this.getLineScale() : 1;
                    if (s > 1e-10 && (o.hasFill() || (r = Math.max(r, this.strokeContainThreshold)), Sn(a, r / s, t, e))) return !0
                }
                if (o.hasFill()) return bn(a, t, e)
            }
            return !1
        },
        dirty: function(t) {
            null == t && (t = !0), t && (this.__dirtyPath = t, this._rect = null), this.__dirty = !0, this.__zr && this.__zr.refresh(), this.__clipTarget && this.__clipTarget.dirty()
        },
        animateShape: function(t) {
            return this.animate("shape", t)
        },
        attrKV: function(t, e) {
            "shape" === t ? (this.setShape(e), this.__dirtyPath = !0, this._rect = null) : Ke.prototype.attrKV.call(this, t, e)
        },
        setShape: function(t, e) {
            var i = this.shape;
            if (i) {
                if (w(t))
                    for (var n in t) t.hasOwnProperty(n) && (i[n] = t[n]);
                else i[t] = e;
                this.dirty(!0)
            }
            return this
        },
        getLineScale: function() {
            var t = this.transform;
            return t && pb(t[0] - 1) > 1e-10 && pb(t[3] - 1) > 1e-10 ? Math.sqrt(pb(t[0] * t[3] - t[2] * t[1])) : 1
        }
    }, Mn.extend = function(t) {
        var e = function(e) {
            Mn.call(this, e), t.style && this.style.extendFrom(t.style, !1);
            var i = t.shape;
            if (i) {
                this.shape = this.shape || {};
                var n = this.shape;
                for (var o in i) !n.hasOwnProperty(o) && i.hasOwnProperty(o) && (n[o] = i[o])
            }
            t.init && t.init.call(this, e)
        };
        h(e, Mn);
        for (var i in t) "style" !== i && "shape" !== i && (e.prototype[i] = t[i]);
        return e
    }, h(Mn, Ke);
    var mb = ab.CMD,
        vb = [
            [],
            [],
            []
        ],
        yb = Math.sqrt,
        xb = Math.atan2,
        _b = function(t, e) {
            var i, n, o, a, r, s, l = t.data,
                h = mb.M,
                u = mb.C,
                c = mb.L,
                d = mb.R,
                f = mb.A,
                p = mb.Q;
            for (o = 0, a = 0; o < l.length;) {
                switch (i = l[o++], a = o, n = 0, i) {
                    case h:
                    case c:
                        n = 1;
                        break;
                    case u:
                        n = 3;
                        break;
                    case p:
                        n = 2;
                        break;
                    case f:
                        var g = e[4],
                            m = e[5],
                            v = yb(e[0] * e[0] + e[1] * e[1]),
                            y = yb(e[2] * e[2] + e[3] * e[3]),
                            x = xb(-e[1] / y, e[0] / v);
                        l[o] *= v, l[o++] += g, l[o] *= y, l[o++] += m, l[o++] *= v, l[o++] *= y, l[o++] += x, l[o++] += x, a = o += 2;
                        break;
                    case d:
                        s[0] = l[o++], s[1] = l[o++], Q(s, s, e), l[a++] = s[0], l[a++] = s[1], s[0] += l[o++], s[1] += l[o++], Q(s, s, e), l[a++] = s[0], l[a++] = s[1]
                }
                for (r = 0; r < n; r++)(s = vb[r])[0] = l[o++], s[1] = l[o++], Q(s, s, e), l[a++] = s[0], l[a++] = s[1]
            }
        },
        wb = ["m", "M", "l", "L", "v", "V", "h", "H", "z", "Z", "c", "C", "q", "Q", "t", "T", "s", "S", "a", "A"],
        bb = Math.sqrt,
        Sb = Math.sin,
        Mb = Math.cos,
        Ib = Math.PI,
        Tb = function(t) {
            return Math.sqrt(t[0] * t[0] + t[1] * t[1])
        },
        Ab = function(t, e) {
            return (t[0] * e[0] + t[1] * e[1]) / (Tb(t) * Tb(e))
        },
        Db = function(t, e) {
            return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(Ab(t, e))
        },
        Cb = function(t) {
            Ke.call(this, t)
        };
    Cb.prototype = {
        constructor: Cb,
        type: "text",
        brush: function(t, e) {
            var i = this.style;
            this.__dirty && Oe(i), i.fill = i.stroke = i.shadowBlur = i.shadowColor = i.shadowOffsetX = i.shadowOffsetY = null;
            var n = i.text;
            null != n && (n += ""), i.bind(t, this, e), $e(n, i) && (this.setTransform(t), Ee(this, t, n, i), this.restoreTransform(t))
        },
        getBoundingRect: function() {
            var t = this.style;
            if (this.__dirty && Oe(t), !this._rect) {
                var e = t.text;
                null != e ? e += "" : e = "";
                var i = me(t.text + "", t.font, t.textAlign, t.textVerticalAlign, t.textPadding, t.rich);
                if (i.x += t.x || 0, i.y += t.y || 0, je(t.textStroke, t.textStrokeWidth)) {
                    var n = t.textStrokeWidth;
                    i.x -= n / 2, i.y -= n / 2, i.width += n, i.height += n
                }
                this._rect = i
            }
            return this._rect
        }
    }, h(Cb, Ke);
    var Lb = Mn.extend({
            type: "circle",
            shape: {
                cx: 0,
                cy: 0,
                r: 0
            },
            buildPath: function(t, e, i) {
                i && t.moveTo(e.cx + e.r, e.cy), t.arc(e.cx, e.cy, e.r, 0, 2 * Math.PI, !0)
            }
        }),
        kb = [
            ["shadowBlur", 0],
            ["shadowColor", "#000"],
            ["shadowOffsetX", 0],
            ["shadowOffsetY", 0]
        ],
        Pb = function(t) {
            return _x.browser.ie && _x.browser.version >= 11 ? function() {
                var e, i = this.__clipPaths,
                    n = this.style;
                if (i)
                    for (var o = 0; o < i.length; o++) {
                        var a = i[o],
                            r = a && a.shape,
                            s = a && a.type;
                        if (r && ("sector" === s && r.startAngle === r.endAngle || "rect" === s && (!r.width || !r.height))) {
                            for (l = 0; l < kb.length; l++) kb[l][2] = n[kb[l][0]], n[kb[l][0]] = kb[l][1];
                            e = !0;
                            break
                        }
                    }
                if (t.apply(this, arguments), e)
                    for (var l = 0; l < kb.length; l++) n[kb[l][0]] = kb[l][2]
            } : t
        },
        Ob = Mn.extend({
            type: "sector",
            shape: {
                cx: 0,
                cy: 0,
                r0: 0,
                r: 0,
                startAngle: 0,
                endAngle: 2 * Math.PI,
                clockwise: !0
            },
            brush: Pb(Mn.prototype.brush),
            buildPath: function(t, e) {
                var i = e.cx,
                    n = e.cy,
                    o = Math.max(e.r0 || 0, 0),
                    a = Math.max(e.r, 0),
                    r = e.startAngle,
                    s = e.endAngle,
                    l = e.clockwise,
                    h = Math.cos(r),
                    u = Math.sin(r);
                t.moveTo(h * o + i, u * o + n), t.lineTo(h * a + i, u * a + n), t.arc(i, n, a, r, s, !l), t.lineTo(Math.cos(s) * o + i, Math.sin(s) * o + n), 0 !== o && t.arc(i, n, o, s, r, l), t.closePath()
            }
        }),
        Nb = Mn.extend({
            type: "ring",
            shape: {
                cx: 0,
                cy: 0,
                r: 0,
                r0: 0
            },
            buildPath: function(t, e) {
                var i = e.cx,
                    n = e.cy,
                    o = 2 * Math.PI;
                t.moveTo(i + e.r, n), t.arc(i, n, e.r, 0, o, !1), t.moveTo(i + e.r0, n), t.arc(i, n, e.r0, 0, o, !0)
            }
        }),
        Eb = function(t, e) {
            for (var i = t.length, n = [], o = 0, a = 1; a < i; a++) o += $(t[a - 1], t[a]);
            var r = o / 2;
            r = r < i ? i : r;
            for (a = 0; a < r; a++) {
                var s, l, h, u = a / (r - 1) * (e ? i : i - 1),
                    c = Math.floor(u),
                    d = u - c,
                    f = t[c % i];
                e ? (s = t[(c - 1 + i) % i], l = t[(c + 1) % i], h = t[(c + 2) % i]) : (s = t[0 === c ? c : c - 1], l = t[c > i - 2 ? i - 1 : c + 1], h = t[c > i - 3 ? i - 1 : c + 2]);
                var p = d * d,
                    g = d * p;
                n.push([Ln(s[0], f[0], l[0], h[0], d, p, g), Ln(s[1], f[1], l[1], h[1], d, p, g)])
            }
            return n
        },
        zb = function(t, e, i, n) {
            var o, a, r, s, l = [],
                h = [],
                u = [],
                c = [];
            if (n) {
                r = [1 / 0, 1 / 0], s = [-1 / 0, -1 / 0];
                for (var d = 0, f = t.length; d < f; d++) tt(r, r, t[d]), et(s, s, t[d]);
                tt(r, r, n[0]), et(s, s, n[1])
            }
            for (var d = 0, f = t.length; d < f; d++) {
                var p = t[d];
                if (i) o = t[d ? d - 1 : f - 1], a = t[(d + 1) % f];
                else {
                    if (0 === d || d === f - 1) {
                        l.push(W(t[d]));
                        continue
                    }
                    o = t[d - 1], a = t[d + 1]
                }
                U(h, a, o), Y(h, h, e);
                var g = $(p, o),
                    m = $(p, a),
                    v = g + m;
                0 !== v && (g /= v, m /= v), Y(u, h, -g), Y(c, h, m);
                var y = H([], p, u),
                    x = H([], p, c);
                n && (et(y, y, r), tt(y, y, s), et(x, x, r), tt(x, x, s)), l.push(y), l.push(x)
            }
            return i && l.push(l.shift()), l
        },
        Rb = Mn.extend({
            type: "polygon",
            shape: {
                points: null,
                smooth: !1,
                smoothConstraint: null
            },
            buildPath: function(t, e) {
                kn(t, e, !0)
            }
        }),
        Bb = Mn.extend({
            type: "polyline",
            shape: {
                points: null,
                smooth: !1,
                smoothConstraint: null
            },
            style: {
                stroke: "#000",
                fill: null
            },
            buildPath: function(t, e) {
                kn(t, e, !1)
            }
        }),
        Vb = Mn.extend({
            type: "rect",
            shape: {
                r: 0,
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            buildPath: function(t, e) {
                var i = e.x,
                    n = e.y,
                    o = e.width,
                    a = e.height;
                e.r ? Pe(t, e) : t.rect(i, n, o, a), t.closePath()
            }
        }),
        Gb = Mn.extend({
            type: "line",
            shape: {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                percent: 1
            },
            style: {
                stroke: "#000",
                fill: null
            },
            buildPath: function(t, e) {
                var i = e.x1,
                    n = e.y1,
                    o = e.x2,
                    a = e.y2,
                    r = e.percent;
                0 !== r && (t.moveTo(i, n), r < 1 && (o = i * (1 - r) + o * r, a = n * (1 - r) + a * r), t.lineTo(o, a))
            },
            pointAt: function(t) {
                var e = this.shape;
                return [e.x1 * (1 - t) + e.x2 * t, e.y1 * (1 - t) + e.y2 * t]
            }
        }),
        Wb = [],
        Fb = Mn.extend({
            type: "bezier-curve",
            shape: {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                cpx1: 0,
                cpy1: 0,
                percent: 1
            },
            style: {
                stroke: "#000",
                fill: null
            },
            buildPath: function(t, e) {
                var i = e.x1,
                    n = e.y1,
                    o = e.x2,
                    a = e.y2,
                    r = e.cpx1,
                    s = e.cpy1,
                    l = e.cpx2,
                    h = e.cpy2,
                    u = e.percent;
                0 !== u && (t.moveTo(i, n), null == l || null == h ? (u < 1 && (nn(i, r, o, u, Wb), r = Wb[1], o = Wb[2], nn(n, s, a, u, Wb), s = Wb[1], a = Wb[2]), t.quadraticCurveTo(r, s, o, a)) : (u < 1 && ($i(i, r, l, o, u, Wb), r = Wb[1], l = Wb[2], o = Wb[3], $i(n, s, h, a, u, Wb), s = Wb[1], h = Wb[2], a = Wb[3]), t.bezierCurveTo(r, s, l, h, o, a)))
            },
            pointAt: function(t) {
                return Pn(this.shape, t, !1)
            },
            tangentAt: function(t) {
                var e = Pn(this.shape, t, !0);
                return q(e, e)
            }
        }),
        Hb = Mn.extend({
            type: "arc",
            shape: {
                cx: 0,
                cy: 0,
                r: 0,
                startAngle: 0,
                endAngle: 2 * Math.PI,
                clockwise: !0
            },
            style: {
                stroke: "#000",
                fill: null
            },
            buildPath: function(t, e) {
                var i = e.cx,
                    n = e.cy,
                    o = Math.max(e.r, 0),
                    a = e.startAngle,
                    r = e.endAngle,
                    s = e.clockwise,
                    l = Math.cos(a),
                    h = Math.sin(a);
                t.moveTo(l * o + i, h * o + n), t.arc(i, n, o, a, r, !s)
            }
        }),
        Zb = Mn.extend({
            type: "compound",
            shape: {
                paths: null
            },
            _updatePathDirty: function() {
                for (var t = this.__dirtyPath, e = this.shape.paths, i = 0; i < e.length; i++) t = t || e[i].__dirtyPath;
                this.__dirtyPath = t, this.__dirty = this.__dirty || t
            },
            beforeBrush: function() {
                this._updatePathDirty();
                for (var t = this.shape.paths || [], e = this.getGlobalScale(), i = 0; i < t.length; i++) t[i].path || t[i].createPathProxy(), t[i].path.setScale(e[0], e[1])
            },
            buildPath: function(t, e) {
                for (var i = e.paths || [], n = 0; n < i.length; n++) i[n].buildPath(t, i[n].shape, !0)
            },
            afterBrush: function() {
                for (var t = this.shape.paths || [], e = 0; e < t.length; e++) t[e].__dirtyPath = !1
            },
            getBoundingRect: function() {
                return this._updatePathDirty(), Mn.prototype.getBoundingRect.call(this)
            }
        }),
        Ub = function(t) {
            this.colorStops = t || []
        };
    Ub.prototype = {
        constructor: Ub,
        addColorStop: function(t, e) {
            this.colorStops.push({
                offset: t,
                color: e
            })
        }
    };
    var jb = function(t, e, i, n, o, a) {
        this.x = null == t ? 0 : t, this.y = null == e ? 0 : e, this.x2 = null == i ? 1 : i, this.y2 = null == n ? 0 : n, this.type = "linear", this.global = a || !1, Ub.call(this, o)
    };
    jb.prototype = {
        constructor: jb
    }, h(jb, Ub);
    var Xb = function(t, e, i, n, o) {
        this.x = null == t ? .5 : t, this.y = null == e ? .5 : e, this.r = null == i ? .5 : i, this.type = "radial", this.global = o || !1, Ub.call(this, n)
    };
    Xb.prototype = {
        constructor: Xb
    }, h(Xb, Ub), On.prototype.incremental = !0, On.prototype.clearDisplaybles = function() {
        this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.dirty(), this.notClear = !1
    }, On.prototype.addDisplayable = function(t, e) {
        e ? this._temporaryDisplayables.push(t) : this._displayables.push(t), this.dirty()
    }, On.prototype.addDisplayables = function(t, e) {
        e = e || !1;
        for (var i = 0; i < t.length; i++) this.addDisplayable(t[i], e)
    }, On.prototype.eachPendingDisplayable = function(t) {
        for (e = this._cursor; e < this._displayables.length; e++) t && t(this._displayables[e]);
        for (var e = 0; e < this._temporaryDisplayables.length; e++) t && t(this._temporaryDisplayables[e])
    }, On.prototype.update = function() {
        this.updateTransform();
        for (t = this._cursor; t < this._displayables.length; t++)(e = this._displayables[t]).parent = this, e.update(), e.parent = null;
        for (var t = 0; t < this._temporaryDisplayables.length; t++) {
            var e = this._temporaryDisplayables[t];
            e.parent = this, e.update(), e.parent = null
        }
    }, On.prototype.brush = function(t, e) {
        for (i = this._cursor; i < this._displayables.length; i++)(n = this._temporaryDisplayables[i]).beforeBrush && n.beforeBrush(t), n.brush(t, i === this._cursor ? null : this._displayables[i - 1]), n.afterBrush && n.afterBrush(t);
        this._cursor = i;
        for (var i = 0; i < this._temporaryDisplayables.length; i++) {
            var n = this._temporaryDisplayables[i];
            n.beforeBrush && n.beforeBrush(t), n.brush(t, 0 === i ? null : this._temporaryDisplayables[i - 1]), n.afterBrush && n.afterBrush(t)
        }
        this._temporaryDisplayables = [], this.notClear = !0
    };
    var Yb = [];
    On.prototype.getBoundingRect = function() {
        if (!this._rect) {
            for (var t = new Kt(1 / 0, 1 / 0, -1 / 0, -1 / 0), e = 0; e < this._displayables.length; e++) {
                var i = this._displayables[e],
                    n = i.getBoundingRect().clone();
                i.needLocalTransform() && n.applyTransform(i.getLocalTransform(Yb)), t.union(n)
            }
            this._rect = t
        }
        return this._rect
    }, On.prototype.contain = function(t, e) {
        var i = this.transformCoordToLocal(t, e);
        if (this.getBoundingRect().contain(i[0], i[1]))
            for (var n = 0; n < this._displayables.length; n++)
                if (this._displayables[n].contain(t, e)) return !0;
        return !1
    }, h(On, Ke);
    var qb = Math.round,
        $b = Math.max,
        Kb = Math.min,
        Jb = {},
        Qb = function(t, e) {
            for (var i = [], n = t.length, o = 0; o < n; o++) {
                var a = t[o];
                a.path || a.createPathProxy(), a.__dirtyPath && a.buildPath(a.path, a.shape, !0), i.push(a.path)
            }
            var r = new Mn(e);
            return r.createPathProxy(), r.buildPath = function(t) {
                t.appendPath(i);
                var e = t.getContext();
                e && t.rebuildPath(e)
            }, r
        },
        tS = (Object.freeze || Object)({
            extendShape: Nn,
            extendPath: function(t, e) {
                return Cn(t, e)
            },
            makePath: En,
            makeImage: zn,
            mergePath: Qb,
            resizePath: Bn,
            subPixelOptimizeLine: Vn,
            subPixelOptimizeRect: Gn,
            subPixelOptimize: Wn,
            setHoverStyle: to,
            setLabelStyle: eo,
            setTextStyle: io,
            setText: function(t, e, i) {
                var n, o = {
                    isRectText: !0
                };
                !1 === i ? n = !0 : o.autoColor = i, no(t, e, o, n), t.host && t.host.dirty && t.host.dirty(!1)
            },
            getFont: ho,
            updateProps: co,
            initProps: fo,
            getTransform: po,
            applyTransform: go,
            transformDirection: mo,
            groupTransition: vo,
            clipPointsByRect: yo,
            clipRectByRect: function(t, e) {
                var i = $b(t.x, e.x),
                    n = Kb(t.x + t.width, e.x + e.width),
                    o = $b(t.y, e.y),
                    a = Kb(t.y + t.height, e.y + e.height);
                if (n >= i && a >= o) return {
                    x: i,
                    y: o,
                    width: n - i,
                    height: a - o
                }
            },
            createIcon: xo,
            Group: S_,
            Image: Je,
            Text: Cb,
            Circle: Lb,
            Sector: Ob,
            Ring: Nb,
            Polygon: Rb,
            Polyline: Bb,
            Rect: Vb,
            Line: Gb,
            BezierCurve: Fb,
            Arc: Hb,
            IncrementalDisplayable: On,
            CompoundPath: Zb,
            LinearGradient: jb,
            RadialGradient: Xb,
            BoundingRect: Kt
        }),
        eS = ["textStyle", "color"],
        iS = {
            getTextColor: function(t) {
                var e = this.ecModel;
                return this.getShallow("color") || (!t && e ? e.get(eS) : null)
            },
            getFont: function() {
                return ho({
                    fontStyle: this.getShallow("fontStyle"),
                    fontWeight: this.getShallow("fontWeight"),
                    fontSize: this.getShallow("fontSize"),
                    fontFamily: this.getShallow("fontFamily")
                }, this.ecModel)
            },
            getTextRect: function(t) {
                return me(t, this.getFont(), this.getShallow("align"), this.getShallow("verticalAlign") || this.getShallow("baseline"), this.getShallow("padding"), this.getShallow("rich"), this.getShallow("truncateText"))
            }
        },
        nS = Sw([
            ["fill", "color"],
            ["stroke", "borderColor"],
            ["lineWidth", "borderWidth"],
            ["opacity"],
            ["shadowBlur"],
            ["shadowOffsetX"],
            ["shadowOffsetY"],
            ["shadowColor"],
            ["textPosition"],
            ["textAlign"]
        ]),
        oS = {
            getItemStyle: function(t, e) {
                var i = nS(this, t, e),
                    n = this.getBorderLineDash();
                return n && (i.lineDash = n), i
            },
            getBorderLineDash: function() {
                var t = this.get("borderType");
                return "solid" === t || null == t ? null : "dashed" === t ? [5, 5] : [1, 1]
            }
        },
        aS = u,
        rS = Pi();
    _o.prototype = {
        constructor: _o,
        init: null,
        mergeOption: function(t) {
            n(this.option, t, !0)
        },
        get: function(t, e) {
            return null == t ? this.option : wo(this.option, this.parsePath(t), !e && bo(this, t))
        },
        getShallow: function(t, e) {
            var i = this.option,
                n = null == i ? i : i[t],
                o = !e && bo(this, t);
            return null == n && o && (n = o.getShallow(t)), n
        },
        getModel: function(t, e) {
            var i, n = null == t ? this.option : wo(this.option, t = this.parsePath(t));
            return e = e || (i = bo(this, t)) && i.getModel(t), new _o(n, e, this.ecModel)
        },
        isEmpty: function() {
            return null == this.option
        },
        restoreData: function() {},
        clone: function() {
            return new(0, this.constructor)(i(this.option))
        },
        setReadOnly: function(t) {},
        parsePath: function(t) {
            return "string" == typeof t && (t = t.split(".")), t
        },
        customizeGetParent: function(t) {
            rS(this).getParent = t
        },
        isAnimationEnabled: function() {
            if (!_x.node) {
                if (null != this.option.animation) return !!this.option.animation;
                if (this.parentModel) return this.parentModel.isAnimationEnabled()
            }
        }
    }, Vi(_o), Gi(_o), aS(_o, Iw), aS(_o, Aw), aS(_o, iS), aS(_o, oS);
    var sS = 0,
        lS = 1e-4,
        hS = 9007199254740991,
        uS = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,
        cS = (Object.freeze || Object)({
            linearMap: Io,
            parsePercent: To,
            round: Ao,
            asc: Do,
            getPrecision: Co,
            getPrecisionSafe: Lo,
            getPixelPrecision: ko,
            getPercentWithPrecision: Po,
            MAX_SAFE_INTEGER: hS,
            remRadian: Oo,
            isRadianAroundZero: No,
            parseDate: Eo,
            quantity: zo,
            nice: Bo,
            reformIntervals: Vo,
            isNumeric: Go
        }),
        dS = L,
        fS = ["a", "b", "c", "d", "e", "f", "g"],
        pS = function(t, e) {
            return "{" + t + (null == e ? "" : e) + "}"
        },
        gS = function(t) {
            return t < 10 ? "0" + t : t
        },
        mS = be,
        vS = me,
        yS = (Object.freeze || Object)({
            addCommas: Wo,
            toCamelCase: Fo,
            normalizeCssArray: dS,
            encodeHTML: Ho,
            formatTpl: Zo,
            formatTplSimple: Uo,
            getTooltipMarker: jo,
            formatTime: Xo,
            capitalFirst: Yo,
            truncateText: mS,
            getTextRect: vS
        }),
        xS = d,
        _S = ["left", "right", "top", "bottom", "width", "height"],
        wS = [
            ["width", "left", "right"],
            ["height", "top", "bottom"]
        ],
        bS = qo,
        SS = (v(qo, "vertical"), v(qo, "horizontal"), {
            getBoxLayoutParams: function() {
                return {
                    left: this.get("left"),
                    top: this.get("top"),
                    right: this.get("right"),
                    bottom: this.get("bottom"),
                    width: this.get("width"),
                    height: this.get("height")
                }
            }
        }),
        MS = Pi(),
        IS = _o.extend({
            type: "component",
            id: "",
            name: "",
            mainType: "",
            subType: "",
            componentIndex: 0,
            defaultOption: null,
            ecModel: null,
            dependentModels: [],
            uid: null,
            layoutMode: null,
            $constructor: function(t, e, i, n) {
                _o.call(this, t, e, i, n), this.uid = So("ec_cpt_model")
            },
            init: function(t, e, i, n) {
                this.mergeDefaultAndTheme(t, i)
            },
            mergeDefaultAndTheme: function(t, e) {
                var i = this.layoutMode,
                    o = i ? ea(t) : {};
                n(t, e.getTheme().get(this.mainType)), n(t, this.getDefaultOption()), i && ta(t, o, i)
            },
            mergeOption: function(t, e) {
                n(this.option, t, !0);
                var i = this.layoutMode;
                i && ta(this.option, t, i)
            },
            optionUpdated: function(t, e) {},
            getDefaultOption: function() {
                var t = MS(this);
                if (!t.defaultOption) {
                    for (var e = [], i = this.constructor; i;) {
                        var o = i.prototype.defaultOption;
                        o && e.push(o), i = i.superClass
                    }
                    for (var a = {}, r = e.length - 1; r >= 0; r--) a = n(a, e[r], !0);
                    t.defaultOption = a
                }
                return t.defaultOption
            },
            getReferringComponents: function(t) {
                return this.ecModel.queryComponents({
                    mainType: t,
                    index: this.get(t + "Index", !0),
                    id: this.get(t + "Id", !0)
                })
            }
        });
    Hi(IS, {
            registerWhenExtend: !0
        }),
        function(t) {
            var e = {};
            t.registerSubTypeDefaulter = function(t, i) {
                t = Ri(t), e[t.main] = i
            }, t.determineSubType = function(i, n) {
                var o = n.type;
                if (!o) {
                    var a = Ri(i).main;
                    t.hasSubTypes(i) && e[a] && (o = e[a](n))
                }
                return o
            }
        }(IS),
        function(t, e) {
            function i(t) {
                var i = {},
                    a = [];
                return d(t, function(r) {
                    var s = n(i, r),
                        h = o(s.originalDeps = e(r), t);
                    s.entryCount = h.length, 0 === s.entryCount && a.push(r), d(h, function(t) {
                        l(s.predecessor, t) < 0 && s.predecessor.push(t);
                        var e = n(i, t);
                        l(e.successor, t) < 0 && e.successor.push(r)
                    })
                }), {
                    graph: i,
                    noEntryList: a
                }
            }

            function n(t, e) {
                return t[e] || (t[e] = {
                    predecessor: [],
                    successor: []
                }), t[e]
            }

            function o(t, e) {
                var i = [];
                return d(t, function(t) {
                    l(e, t) >= 0 && i.push(t)
                }), i
            }
            t.topologicalTravel = function(t, e, n, o) {
                function a(t) {
                    s[t].entryCount--, 0 === s[t].entryCount && l.push(t)
                }
                if (t.length) {
                    var r = i(e),
                        s = r.graph,
                        l = r.noEntryList,
                        h = {};
                    for (d(t, function(t) {
                            h[t] = !0
                        }); l.length;) {
                        var u = l.pop(),
                            c = s[u],
                            f = !!h[u];
                        f && (n.call(o, u, c.originalDeps.slice()), delete h[u]), d(c.successor, f ? function(t) {
                            h[t] = !0, a(t)
                        } : a)
                    }
                    d(h, function() {
                        throw new Error("Circle dependency may exists")
                    })
                }
            }
        }(IS, function(t) {
            var e = [];
            return d(IS.getClassesByMainType(t), function(t) {
                e = e.concat(t.prototype.dependencies || [])
            }), e = f(e, function(t) {
                return Ri(t).main
            }), "dataset" !== t && l(e, "dataset") <= 0 && e.unshift("dataset"), e
        }), u(IS, SS);
    var TS = "";
    "undefined" != typeof navigator && (TS = navigator.platform || "");
    var AS = {
            color: ["#c23531", "#2f4554", "#61a0a8", "#d48265", "#91c7ae", "#749f83", "#ca8622", "#bda29a", "#6e7074", "#546570", "#c4ccd3"],
            gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
            textStyle: {
                fontFamily: TS.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
                fontSize: 12,
                fontStyle: "normal",
                fontWeight: "normal"
            },
            blendMode: null,
            animation: "auto",
            animationDuration: 1e3,
            animationDurationUpdate: 300,
            animationEasing: "exponentialOut",
            animationEasingUpdate: "cubicOut",
            animationThreshold: 2e3,
            progressiveThreshold: 3e3,
            progressive: 400,
            hoverLayerThreshold: 3e3,
            useUTC: !1
        },
        DS = Pi(),
        CS = {
            clearColorPalette: function() {
                DS(this).colorIdx = 0, DS(this).colorNameMap = {}
            },
            getColorFromPalette: function(t, e, i) {
                var n = DS(e = e || this),
                    o = n.colorIdx || 0,
                    a = n.colorNameMap = n.colorNameMap || {};
                if (a.hasOwnProperty(t)) return a[t];
                var r = Si(this.get("color", !0)),
                    s = this.get("colorLayer", !0),
                    l = null != i && s ? na(s, i) : r;
                if ((l = l || r) && l.length) {
                    var h = l[o];
                    return t && (a[t] = h), n.colorIdx = (o + 1) % l.length, h
                }
            }
        },
        LS = {
            cartesian2d: function(t, e, i, n) {
                var o = t.getReferringComponents("xAxis")[0],
                    a = t.getReferringComponents("yAxis")[0];
                e.coordSysDims = ["x", "y"], i.set("x", o), i.set("y", a), aa(o) && (n.set("x", o), e.firstCategoryDimIndex = 0), aa(a) && (n.set("y", a), e.firstCategoryDimIndex = 1)
            },
            singleAxis: function(t, e, i, n) {
                var o = t.getReferringComponents("singleAxis")[0];
                e.coordSysDims = ["single"], i.set("single", o), aa(o) && (n.set("single", o), e.firstCategoryDimIndex = 0)
            },
            polar: function(t, e, i, n) {
                var o = t.getReferringComponents("polar")[0],
                    a = o.findAxisModel("radiusAxis"),
                    r = o.findAxisModel("angleAxis");
                e.coordSysDims = ["radius", "angle"], i.set("radius", a), i.set("angle", r), aa(a) && (n.set("radius", a), e.firstCategoryDimIndex = 0), aa(r) && (n.set("angle", r), e.firstCategoryDimIndex = 1)
            },
            geo: function(t, e, i, n) {
                e.coordSysDims = ["lng", "lat"]
            },
            parallel: function(t, e, i, n) {
                var o = t.ecModel,
                    a = o.getComponent("parallel", t.get("parallelIndex")),
                    r = e.coordSysDims = a.dimensions.slice();
                d(a.parallelAxisIndex, function(t, a) {
                    var s = o.getComponent("parallelAxis", t),
                        l = r[a];
                    i.set(l, s), aa(s) && null == e.firstCategoryDimIndex && (n.set(l, s), e.firstCategoryDimIndex = a)
                })
            }
        },
        kS = "original",
        PS = "arrayRows",
        OS = "objectRows",
        NS = "keyedColumns",
        ES = "unknown",
        zS = "typedArray",
        RS = "column",
        BS = "row";
    ra.seriesDataToSource = function(t) {
        return new ra({
            data: t,
            sourceFormat: S(t) ? zS : kS,
            fromDataset: !1
        })
    }, Gi(ra);
    var VS = Pi(),
        GS = "\0_ec_inner",
        WS = _o.extend({
            constructor: WS,
            init: function(t, e, i, n) {
                i = i || {}, this.option = null, this._theme = new _o(i), this._optionManager = n
            },
            setOption: function(t, e) {
                k(!(GS in t), "please use chart.getOption()"), this._optionManager.setOption(t, e), this.resetOption(null)
            },
            resetOption: function(t) {
                var e = !1,
                    i = this._optionManager;
                if (!t || "recreate" === t) {
                    var n = i.mountOption("recreate" === t);
                    this.option && "recreate" !== t ? (this.restoreData(), this.mergeOption(n)) : wa.call(this, n), e = !0
                }
                if ("timeline" !== t && "media" !== t || this.restoreData(), !t || "recreate" === t || "timeline" === t) {
                    var o = i.getTimelineOption(this);
                    o && (this.mergeOption(o), e = !0)
                }
                if (!t || "recreate" === t || "media" === t) {
                    var a = i.getMediaOption(this, this._api);
                    a.length && d(a, function(t) {
                        this.mergeOption(t, e = !0)
                    }, this)
                }
                return e
            },
            mergeOption: function(t) {
                var e = this.option,
                    o = this._componentsMap,
                    r = [];
                ha(this), d(t, function(t, o) {
                    null != t && (IS.hasClass(o) ? o && r.push(o) : e[o] = null == e[o] ? i(t) : n(e[o], t, !0))
                }), IS.topologicalTravel(r, IS.getAllClassMainTypes(), function(i, n) {
                    var r = Si(t[i]),
                        s = Ai(o.get(i), r);
                    Di(s), d(s, function(t, e) {
                        var n = t.option;
                        w(n) && (t.keyInfo.mainType = i, t.keyInfo.subType = Sa(i, n, t.exist))
                    });
                    var l = ba(o, n);
                    e[i] = [], o.set(i, []), d(s, function(t, n) {
                        var r = t.exist,
                            s = t.option;
                        if (k(w(s) || r, "Empty component definition"), s) {
                            var h = IS.getClass(i, t.keyInfo.subType, !0);
                            if (r && r instanceof h) r.name = t.keyInfo.name, r.mergeOption(s, this), r.optionUpdated(s, !1);
                            else {
                                var u = a({
                                    dependentModels: l,
                                    componentIndex: n
                                }, t.keyInfo);
                                a(r = new h(s, this, this, u), u), r.init(s, this, this, u), r.optionUpdated(null, !0)
                            }
                        } else r.mergeOption({}, this), r.optionUpdated({}, !1);
                        o.get(i)[n] = r, e[i][n] = r.option
                    }, this), "series" === i && Ma(this, o.get("series"))
                }, this), this._seriesIndicesMap = z(this._seriesIndices = this._seriesIndices || [])
            },
            getOption: function() {
                var t = i(this.option);
                return d(t, function(e, i) {
                    if (IS.hasClass(i)) {
                        for (var n = (e = Si(e)).length - 1; n >= 0; n--) Ci(e[n]) && e.splice(n, 1);
                        t[i] = e
                    }
                }), delete t[GS], t
            },
            getTheme: function() {
                return this._theme
            },
            getComponent: function(t, e) {
                var i = this._componentsMap.get(t);
                if (i) return i[e || 0]
            },
            queryComponents: function(t) {
                var e = t.mainType;
                if (!e) return [];
                var i = t.index,
                    n = t.id,
                    o = t.name,
                    a = this._componentsMap.get(e);
                if (!a || !a.length) return [];
                var r;
                if (null != i) y(i) || (i = [i]), r = g(f(i, function(t) {
                    return a[t]
                }), function(t) {
                    return !!t
                });
                else if (null != n) {
                    var s = y(n);
                    r = g(a, function(t) {
                        return s && l(n, t.id) >= 0 || !s && t.id === n
                    })
                } else if (null != o) {
                    var h = y(o);
                    r = g(a, function(t) {
                        return h && l(o, t.name) >= 0 || !h && t.name === o
                    })
                } else r = a.slice();
                return Ia(r, t)
            },
            findComponents: function(t) {
                var e = t.query,
                    i = t.mainType,
                    n = function(t) {
                        var e = i + "Index",
                            n = i + "Id",
                            o = i + "Name";
                        return !t || null == t[e] && null == t[n] && null == t[o] ? null : {
                            mainType: i,
                            index: t[e],
                            id: t[n],
                            name: t[o]
                        }
                    }(e);
                return function(e) {
                    return t.filter ? g(e, t.filter) : e
                }(Ia(n ? this.queryComponents(n) : this._componentsMap.get(i), t))
            },
            eachComponent: function(t, e, i) {
                var n = this._componentsMap;
                "function" == typeof t ? (i = e, e = t, n.each(function(t, n) {
                    d(t, function(t, o) {
                        e.call(i, n, t, o)
                    })
                })) : _(t) ? d(n.get(t), e, i) : w(t) && d(this.findComponents(t), e, i)
            },
            getSeriesByName: function(t) {
                return g(this._componentsMap.get("series"), function(e) {
                    return e.name === t
                })
            },
            getSeriesByIndex: function(t) {
                return this._componentsMap.get("series")[t]
            },
            getSeriesByType: function(t) {
                return g(this._componentsMap.get("series"), function(e) {
                    return e.subType === t
                })
            },
            getSeries: function() {
                return this._componentsMap.get("series").slice()
            },
            getSeriesCount: function() {
                return this._componentsMap.get("series").length
            },
            eachSeries: function(t, e) {
                d(this._seriesIndices, function(i) {
                    var n = this._componentsMap.get("series")[i];
                    t.call(e, n, i)
                }, this)
            },
            eachRawSeries: function(t, e) {
                d(this._componentsMap.get("series"), t, e)
            },
            eachSeriesByType: function(t, e, i) {
                d(this._seriesIndices, function(n) {
                    var o = this._componentsMap.get("series")[n];
                    o.subType === t && e.call(i, o, n)
                }, this)
            },
            eachRawSeriesByType: function(t, e, i) {
                return d(this.getSeriesByType(t), e, i)
            },
            isSeriesFiltered: function(t) {
                return null == this._seriesIndicesMap.get(t.componentIndex)
            },
            getCurrentSeriesIndices: function() {
                return (this._seriesIndices || []).slice()
            },
            filterSeries: function(t, e) {
                Ma(this, g(this._componentsMap.get("series"), t, e))
            },
            restoreData: function(t) {
                var e = this._componentsMap;
                Ma(this, e.get("series"));
                var i = [];
                e.each(function(t, e) {
                    i.push(e)
                }), IS.topologicalTravel(i, IS.getAllClassMainTypes(), function(i, n) {
                    d(e.get(i), function(e) {
                        ("series" !== i || !xa(e, t)) && e.restoreData()
                    })
                })
            }
        });
    u(WS, CS);
    var FS = ["getDom", "getZr", "getWidth", "getHeight", "getDevicePixelRatio", "dispatchAction", "isDisposed", "on", "off", "getDataURL", "getConnectedDataURL", "getModel", "getOption", "getViewOfComponentModel", "getViewOfSeriesModel"],
        HS = {};
    Aa.prototype = {
        constructor: Aa,
        create: function(t, e) {
            var i = [];
            d(HS, function(n, o) {
                var a = n.create(t, e);
                i = i.concat(a || [])
            }), this._coordinateSystems = i
        },
        update: function(t, e) {
            d(this._coordinateSystems, function(i) {
                i.update && i.update(t, e)
            })
        },
        getCoordinateSystems: function() {
            return this._coordinateSystems.slice()
        }
    }, Aa.register = function(t, e) {
        HS[t] = e
    }, Aa.get = function(t) {
        return HS[t]
    };
    var ZS = d,
        US = i,
        jS = f,
        XS = n,
        YS = /^(min|max)?(.+)$/;
    Da.prototype = {
        constructor: Da,
        setOption: function(t, e) {
            t && d(Si(t.series), function(t) {
                t && t.data && S(t.data) && O(t.data)
            }), t = US(t, !0);
            var i = this._optionBackup,
                n = Ca.call(this, t, e, !i);
            this._newBaseOption = n.baseOption, i ? (Oa(i.baseOption, n.baseOption), n.timelineOptions.length && (i.timelineOptions = n.timelineOptions), n.mediaList.length && (i.mediaList = n.mediaList), n.mediaDefault && (i.mediaDefault = n.mediaDefault)) : this._optionBackup = n
        },
        mountOption: function(t) {
            var e = this._optionBackup;
            return this._timelineOptions = jS(e.timelineOptions, US), this._mediaList = jS(e.mediaList, US), this._mediaDefault = US(e.mediaDefault), this._currentMediaIndices = [], US(t ? e.baseOption : this._newBaseOption)
        },
        getTimelineOption: function(t) {
            var e, i = this._timelineOptions;
            if (i.length) {
                var n = t.getComponent("timeline");
                n && (e = US(i[n.getCurrentIndex()], !0))
            }
            return e
        },
        getMediaOption: function(t) {
            var e = this._api.getWidth(),
                i = this._api.getHeight(),
                n = this._mediaList,
                o = this._mediaDefault,
                a = [],
                r = [];
            if (!n.length && !o) return r;
            for (var s = 0, l = n.length; s < l; s++) La(n[s].query, e, i) && a.push(s);
            return !a.length && o && (a = [-1]), a.length && !Pa(a, this._currentMediaIndices) && (r = jS(a, function(t) {
                return US(-1 === t ? o.option : n[t].option)
            })), this._currentMediaIndices = a, r
        }
    };
    var qS = d,
        $S = w,
        KS = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"],
        JS = function(t, e) {
            qS(Ga(t.series), function(t) {
                $S(t) && Va(t)
            });
            var i = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
            e && i.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), qS(i, function(e) {
                qS(Ga(t[e]), function(t) {
                    t && (Ra(t, "axisLabel"), Ra(t.axisPointer, "label"))
                })
            }), qS(Ga(t.parallel), function(t) {
                var e = t && t.parallelAxisDefault;
                Ra(e, "axisLabel"), Ra(e && e.axisPointer, "label")
            }), qS(Ga(t.calendar), function(t) {
                Ea(t, "itemStyle"), Ra(t, "dayLabel"), Ra(t, "monthLabel"), Ra(t, "yearLabel")
            }), qS(Ga(t.radar), function(t) {
                Ra(t, "name")
            }), qS(Ga(t.geo), function(t) {
                $S(t) && (Ba(t), qS(Ga(t.regions), function(t) {
                    Ba(t)
                }))
            }), qS(Ga(t.timeline), function(t) {
                Ba(t), Ea(t, "label"), Ea(t, "itemStyle"), Ea(t, "controlStyle", !0), Ea(t, "checkpointStyle");
                var e = t.data;
                y(e) && d(e, function(t) {
                    w(t) && (Ea(t, "label"), Ea(t, "itemStyle"))
                })
            }), qS(Ga(t.toolbox), function(t) {
                Ea(t, "iconStyle"), qS(t.feature, function(t) {
                    Ea(t, "iconStyle")
                })
            }), Ra(Wa(t.axisPointer), "label"), Ra(Wa(t.tooltip).axisPointer, "label")
        },
        QS = [
            ["x", "left"],
            ["y", "top"],
            ["x2", "right"],
            ["y2", "bottom"]
        ],
        tM = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"],
        eM = function(t, e) {
            JS(t, e), t.series = Si(t.series), d(t.series, function(t) {
                if (w(t)) {
                    var e = t.type;
                    if ("pie" !== e && "gauge" !== e || null != t.clockWise && (t.clockwise = t.clockWise), "gauge" === e) {
                        var i = Fa(t, "pointer.color");
                        null != i && Ha(t, "itemStyle.normal.color", i)
                    }
                    Za(t)
                }
            }), t.dataRange && (t.visualMap = t.dataRange), d(tM, function(e) {
                var i = t[e];
                i && (y(i) || (i = [i]), d(i, function(t) {
                    Za(t)
                }))
            })
        },
        iM = Ua.prototype;
    iM.pure = !1, iM.persistent = !0, iM.getSource = function() {
        return this._source
    };
    var nM = {
            arrayRows_column: {
                pure: !0,
                count: function() {
                    return Math.max(0, this._data.length - this._source.startIndex)
                },
                getItem: function(t) {
                    return this._data[t + this._source.startIndex]
                },
                appendData: Ya
            },
            arrayRows_row: {
                pure: !0,
                count: function() {
                    var t = this._data[0];
                    return t ? Math.max(0, t.length - this._source.startIndex) : 0
                },
                getItem: function(t) {
                    t += this._source.startIndex;
                    for (var e = [], i = this._data, n = 0; n < i.length; n++) {
                        var o = i[n];
                        e.push(o ? o[t] : null)
                    }
                    return e
                },
                appendData: function() {
                    throw new Error('Do not support appendData when set seriesLayoutBy: "row".')
                }
            },
            objectRows: {
                pure: !0,
                count: ja,
                getItem: Xa,
                appendData: Ya
            },
            keyedColumns: {
                pure: !0,
                count: function() {
                    var t = this._source.dimensionsDefine[0].name,
                        e = this._data[t];
                    return e ? e.length : 0
                },
                getItem: function(t) {
                    for (var e = [], i = this._source.dimensionsDefine, n = 0; n < i.length; n++) {
                        var o = this._data[i[n].name];
                        e.push(o ? o[t] : null)
                    }
                    return e
                },
                appendData: function(t) {
                    var e = this._data;
                    d(t, function(t, i) {
                        for (var n = e[i] || (e[i] = []), o = 0; o < (t || []).length; o++) n.push(t[o])
                    })
                }
            },
            original: {
                count: ja,
                getItem: Xa,
                appendData: Ya
            },
            typedArray: {
                persistent: !1,
                pure: !0,
                count: function() {
                    return this._data ? this._data.length / this._dimSize : 0
                },
                getItem: function(t) {
                    t -= this._offset;
                    for (var e = [], i = this._dimSize * t, n = 0; n < this._dimSize; n++) e[n] = this._data[i + n];
                    return e
                },
                appendData: function(t) {
                    this._data = t
                },
                clean: function() {
                    this._offset += this.count(), this._data = null
                }
            }
        },
        oM = {
            arrayRows: qa,
            objectRows: function(t, e, i, n) {
                return null != i ? t[n] : t
            },
            keyedColumns: qa,
            original: function(t, e, i, n) {
                var o = Ii(t);
                return null != i && o instanceof Array ? o[i] : o
            },
            typedArray: qa
        },
        aM = {
            arrayRows: $a,
            objectRows: function(t, e, i, n) {
                return Ka(t[e], this._dimensionInfos[e])
            },
            keyedColumns: $a,
            original: function(t, e, i, n) {
                var o = t && (null == t.value ? t : t.value);
                return !this._rawData.pure && Ti(t) && (this.hasItemOption = !0), Ka(o instanceof Array ? o[n] : o, this._dimensionInfos[e])
            },
            typedArray: function(t, e, i, n) {
                return t[n]
            }
        },
        rM = /\{@(.+?)\}/g,
        sM = {
            getDataParams: function(t, e) {
                var i = this.getData(e),
                    n = this.getRawValue(t, e),
                    o = i.getRawIndex(t),
                    a = i.getName(t, !0),
                    r = i.getRawDataItem(t),
                    s = i.getItemVisual(t, "color");
                return {
                    componentType: this.mainType,
                    componentSubType: this.subType,
                    seriesType: "series" === this.mainType ? this.subType : null,
                    seriesIndex: this.seriesIndex,
                    seriesId: this.id,
                    seriesName: this.name,
                    name: a,
                    dataIndex: o,
                    data: r,
                    dataType: e,
                    value: n,
                    color: s,
                    marker: jo(s),
                    $vars: ["seriesName", "name", "value"]
                }
            },
            getFormattedLabel: function(t, e, i, n, o) {
                e = e || "normal";
                var a = this.getData(i),
                    r = a.getItemModel(t),
                    s = this.getDataParams(t, i);
                null != n && s.value instanceof Array && (s.value = s.value[n]);
                var l = r.get("normal" === e ? [o || "label", "formatter"] : [e, o || "label", "formatter"]);
                return "function" == typeof l ? (s.status = e, l(s)) : "string" == typeof l ? Zo(l, s).replace(rM, function(e, i) {
                    var n = i.length;
                    return "[" === i.charAt(0) && "]" === i.charAt(n - 1) && (i = +i.slice(1, n - 1)), Ja(a, t, i)
                }) : void 0
            },
            getRawValue: function(t, e) {
                return Ja(this.getData(e), t)
            },
            formatTooltip: function() {}
        },
        lM = er.prototype;
    lM.perform = function(t) {
        var e = this._upstream,
            i = t && t.skip;
        if (this._dirty && e) {
            var n = this.context;
            n.data = n.outputData = e.context.outputData
        }
        this.__pipeline && (this.__pipeline.currentTask = this);
        var o;
        this._plan && !i && (o = this._plan(this.context)), (this._dirty || "reset" === o) && (this._dirty = !1, ir(this, i));
        var a = t && t.step;
        if (this._dueEnd = e ? e._outputDueEnd : this._count ? this._count(this.context) : 1 / 0, this._progress) {
            var r = this._dueIndex,
                s = Math.min(null != a ? this._dueIndex + a : 1 / 0, this._dueEnd);
            !i && r < s && this._progress({
                start: r,
                end: s
            }, this.context), this._dueIndex = s;
            var l = null != this._settedOutputEnd ? this._settedOutputEnd : s;
            this._outputDueEnd = l
        } else this._dueIndex = this._outputDueEnd = null != this._settedOutputEnd ? this._settedOutputEnd : this._dueEnd;
        return this.unfinished()
    }, lM.dirty = function() {
        this._dirty = !0, this._onDirty && this._onDirty(this.context)
    }, lM.unfinished = function() {
        return this._progress && this._dueIndex < this._dueEnd
    }, lM.pipe = function(t) {
        (this._downstream !== t || this._dirty) && (this._downstream = t, t._upstream = this, t.dirty())
    }, lM.dispose = function() {
        this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0)
    }, lM.getUpstream = function() {
        return this._upstream
    }, lM.getDownstream = function() {
        return this._downstream
    }, lM.setOutputEnd = function(t) {
        this._outputDueEnd = this._settedOutputEnd = t
    };
    var hM = Pi(),
        uM = IS.extend({
            type: "series.__base__",
            seriesIndex: 0,
            coordinateSystem: null,
            defaultOption: null,
            legendDataProvider: null,
            visualColorAccessPath: "itemStyle.color",
            layoutMode: null,
            init: function(t, e, i, n) {
                this.seriesIndex = this.componentIndex, this.dataTask = tr({
                    count: ar,
                    reset: rr
                }), this.dataTask.context = {
                    model: this
                }, this.mergeDefaultAndTheme(t, i), ua(this);
                var o = this.getInitialData(t, i);
                lr(o, this), this.dataTask.context.data = o, hM(this).dataBeforeProcessed = o, nr(this)
            },
            mergeDefaultAndTheme: function(t, e) {
                var i = this.layoutMode,
                    o = i ? ea(t) : {},
                    a = this.subType;
                IS.hasClass(a) && (a += "Series"), n(t, e.getTheme().get(this.subType)), n(t, this.getDefaultOption()), Mi(t, "label", ["show"]), this.fillDataTextStyle(t.data), i && ta(t, o, i)
            },
            mergeOption: function(t, e) {
                t = n(this.option, t, !0), this.fillDataTextStyle(t.data);
                var i = this.layoutMode;
                i && ta(this.option, t, i), ua(this);
                var o = this.getInitialData(t, e);
                lr(o, this), this.dataTask.dirty(), this.dataTask.context.data = o, hM(this).dataBeforeProcessed = o, nr(this)
            },
            fillDataTextStyle: function(t) {
                if (t)
                    for (var e = ["show"], i = 0; i < t.length; i++) t[i] && t[i].label && Mi(t[i], "label", e)
            },
            getInitialData: function() {},
            appendData: function(t) {
                this.getRawData().appendData(t.data)
            },
            getData: function(t) {
                var e = ur(this);
                if (e) {
                    var i = e.context.data;
                    return null == t ? i : i.getLinkedData(t)
                }
                return hM(this).data
            },
            setData: function(t) {
                var e = ur(this);
                if (e) {
                    var i = e.context;
                    i.data !== t && e.isOverallFilter && e.setOutputEnd(t.count()), i.outputData = t, e !== this.dataTask && (i.data = t)
                }
                hM(this).data = t
            },
            getSource: function() {
                return la(this)
            },
            getRawData: function() {
                return hM(this).dataBeforeProcessed
            },
            getBaseAxis: function() {
                var t = this.coordinateSystem;
                return t && t.getBaseAxis && t.getBaseAxis()
            },
            formatTooltip: function(t, e, i) {
                function n(t) {
                    return Ho(Wo(t))
                }
                var o = this.getData(),
                    a = o.mapDimension("defaultedTooltip", !0),
                    r = a.length,
                    s = this.getRawValue(t),
                    l = y(s),
                    h = o.getItemVisual(t, "color");
                w(h) && h.colorStops && (h = (h.colorStops[0] || {}).color), h = h || "transparent";
                var u = r > 1 || l && !r ? function(i) {
                        function n(t, i) {
                            var n = o.getDimensionInfo(i);
                            if (n && !1 !== n.otherDims.tooltip) {
                                var a = n.type,
                                    l = jo({
                                        color: h,
                                        type: "subItem"
                                    }),
                                    u = (r ? l + Ho(n.displayName || "-") + ": " : "") + Ho("ordinal" === a ? t + "" : "time" === a ? e ? "" : Xo("yyyy/MM/dd hh:mm:ss", t) : Wo(t));
                                u && s.push(u)
                            }
                        }
                        var r = p(i, function(t, e, i) {
                                var n = o.getDimensionInfo(i);
                                return t |= n && !1 !== n.tooltip && null != n.displayName
                            }, 0),
                            s = [];
                        return a.length ? d(a, function(e) {
                            n(Ja(o, t, e), e)
                        }) : d(i, n), (r ? "<br/>" : "") + s.join(r ? "<br/>" : ", ")
                    }(s) : n(r ? Ja(o, t, a[0]) : l ? s[0] : s),
                    c = jo(h),
                    f = o.getName(t),
                    g = this.name;
                return g === vw && (g = ""), g = g ? Ho(g) + (e ? ": " : "<br/>") : "", e ? c + g + u : g + c + (f ? Ho(f) + ": " + u : u)
            },
            isAnimationEnabled: function() {
                if (_x.node) return !1;
                var t = this.getShallow("animation");
                return t && this.getData().count() > this.getShallow("animationThreshold") && (t = !1), t
            },
            restoreData: function() {
                this.dataTask.dirty()
            },
            getColorFromPalette: function(t, e, i) {
                var n = this.ecModel,
                    o = CS.getColorFromPalette.call(this, t, e, i);
                return o || (o = n.getColorFromPalette(t, e, i)), o
            },
            coordDimToDataDim: function(t) {
                return this.getRawData().mapDimension(t, !0)
            },
            getProgressive: function() {
                return this.get("progressive")
            },
            getProgressiveThreshold: function() {
                return this.get("progressiveThreshold")
            },
            getAxisTooltipData: null,
            getTooltipPosition: null,
            pipeTask: null,
            preventIncremental: null,
            pipelineContext: null
        });
    u(uM, sM), u(uM, CS);
    var cM = function() {
        this.group = new S_, this.uid = So("viewComponent")
    };
    cM.prototype = {
        constructor: cM,
        init: function(t, e) {},
        render: function(t, e, i, n) {},
        dispose: function() {}
    };
    var dM = cM.prototype;
    dM.updateView = dM.updateLayout = dM.updateVisual = function(t, e, i, n) {}, Vi(cM), Hi(cM, {
        registerWhenExtend: !0
    });
    var fM = function() {
            var t = Pi();
            return function(e) {
                var i = t(e),
                    n = e.pipelineContext,
                    o = i.large,
                    a = i.incrementalRender,
                    r = i.large = n.large,
                    s = i.incrementalRender = n.incrementalRender;
                return (o ^ r || a ^ s) && "reset"
            }
        },
        pM = Pi(),
        gM = fM();
    cr.prototype = {
        type: "chart",
        init: function(t, e) {},
        render: function(t, e, i, n) {},
        highlight: function(t, e, i, n) {
            fr(t.getData(), n, "emphasis")
        },
        downplay: function(t, e, i, n) {
            fr(t.getData(), n, "normal")
        },
        remove: function(t, e) {
            this.group.removeAll()
        },
        dispose: function() {},
        incrementalPrepareRender: null,
        incrementalRender: null,
        updateTransform: null
    };
    var mM = cr.prototype;
    mM.updateView = mM.updateLayout = mM.updateVisual = function(t, e, i, n) {
        this.render(t, e, i, n)
    }, Vi(cr), Hi(cr, {
        registerWhenExtend: !0
    }), cr.markUpdateMethod = function(t, e) {
        pM(t).updateMethod = e
    };
    var vM = "\0__throttleOriginMethod",
        yM = "\0__throttleRate",
        xM = "\0__throttleType",
        _M = {
            createOnAllSeries: !0,
            performRawSeries: !0,
            reset: function(t, e) {
                var i = t.getData(),
                    n = (t.visualColorAccessPath || "itemStyle.color").split("."),
                    o = t.get(n) || t.getColorFromPalette(t.get("name"), null, e.getSeriesCount());
                if (i.setVisual("color", o), !e.isSeriesFiltered(t)) {
                    "function" != typeof o || o instanceof Ub || i.each(function(e) {
                        i.setItemVisual(e, "color", o(t.getDataParams(e)))
                    });
                    return {
                        dataEach: i.hasItemOption ? function(t, e) {
                            var i = t.getItemModel(e).get(n, !0);
                            null != i && t.setItemVisual(e, "color", i)
                        } : null
                    }
                }
            }
        },
        wM = {
            toolbox: {
                brush: {
                    title: {
                        rect: "矩形选择",
                        polygon: "圈选",
                        lineX: "横向选择",
                        lineY: "纵向选择",
                        keep: "保持选择",
                        clear: "清除选择"
                    }
                },
                dataView: {
                    title: "数据视图",
                    lang: ["数据视图", "关闭", "刷新"]
                },
                dataZoom: {
                    title: {
                        zoom: "区域缩放",
                        back: "区域缩放还原"
                    }
                },
                magicType: {
                    title: {
                        line: "切换为折线图",
                        bar: "切换为柱状图",
                        stack: "切换为堆叠",
                        tiled: "切换为平铺"
                    }
                },
                restore: {
                    title: "还原"
                },
                saveAsImage: {
                    title: "保存为图片",
                    lang: ["右键另存为图片"]
                }
            },
            series: {
                typeNames: {
                    pie: "饼图",
                    bar: "柱状图",
                    line: "折线图",
                    scatter: "散点图",
                    effectScatter: "涟漪散点图",
                    radar: "雷达图",
                    tree: "树图",
                    treemap: "矩形树图",
                    boxplot: "箱型图",
                    candlestick: "K线图",
                    k: "K线图",
                    heatmap: "热力图",
                    map: "地图",
                    parallel: "平行坐标图",
                    lines: "线图",
                    graph: "关系图",
                    sankey: "桑基图",
                    funnel: "漏斗图",
                    gauge: "仪表盘图",
                    pictorialBar: "象形柱图",
                    themeRiver: "主题河流图",
                    sunburst: "旭日图"
                }
            },
            aria: {
                general: {
                    withTitle: "这是一个关于“{title}”的图表。",
                    withoutTitle: "这是一个图表，"
                },
                series: {
                    single: {
                        prefix: "",
                        withName: "图表类型是{seriesType}，表示{seriesName}。",
                        withoutName: "图表类型是{seriesType}。"
                    },
                    multiple: {
                        prefix: "它由{seriesCount}个图表系列组成。",
                        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
                        withoutName: "第{seriesId}个系列是一个{seriesType}，",
                        separator: {
                            middle: "；",
                            end: "。"
                        }
                    }
                },
                data: {
                    allData: "其数据是——",
                    partialData: "其中，前{displayCnt}项是——",
                    withName: "{name}的数据是{value}",
                    withoutName: "{value}",
                    separator: {
                        middle: "，",
                        end: ""
                    }
                }
            }
        },
        bM = function(t, e) {
            function i(t, e) {
                if ("string" != typeof t) return t;
                var i = t;
                return d(e, function(t, e) {
                    i = i.replace(new RegExp("\\{\\s*" + e + "\\s*\\}", "g"), t)
                }), i
            }

            function n(t) {
                var e = a.get(t);
                if (null == e) {
                    for (var i = t.split("."), n = wM.aria, o = 0; o < i.length; ++o) n = n[i[o]];
                    return n
                }
                return e
            }

            function o(t) {
                return wM.series.typeNames[t] || "自定义图"
            }
            var a = e.getModel("aria");
            if (a.get("show"))
                if (a.get("description")) t.setAttribute("aria-label", a.get("description"));
                else {
                    var r = 0;
                    e.eachSeries(function(t, e) {
                        ++r
                    }, this);
                    var s, l = a.get("data.maxCount") || 10,
                        h = a.get("series.maxCount") || 10,
                        u = Math.min(r, h);
                    if (!(r < 1)) {
                        var c = function() {
                            var t = e.getModel("title").option;
                            return t && t.length && (t = t[0]), t && t.text
                        }();
                        s = c ? i(n("general.withTitle"), {
                            title: c
                        }) : n("general.withoutTitle");
                        var f = [];
                        s += i(n(r > 1 ? "series.multiple.prefix" : "series.single.prefix"), {
                            seriesCount: r
                        }), e.eachSeries(function(t, e) {
                            if (e < u) {
                                var a, s = t.get("name"),
                                    h = "series." + (r > 1 ? "multiple" : "single") + ".";
                                a = i(a = n(s ? h + "withName" : h + "withoutName"), {
                                    seriesId: t.seriesIndex,
                                    seriesName: t.get("name"),
                                    seriesType: o(t.subType)
                                });
                                var c = t.getData();
                                window.data = c, c.count() > l ? a += i(n("data.partialData"), {
                                    displayCnt: l
                                }) : a += n("data.allData");
                                for (var d = [], p = 0; p < c.count(); p++)
                                    if (p < l) {
                                        var g = c.getName(p),
                                            m = Ja(c, p);
                                        d.push(i(n(g ? "data.withName" : "data.withoutName"), {
                                            name: g,
                                            value: m
                                        }))
                                    } a += d.join(n("data.separator.middle")) + n("data.separator.end"), f.push(a)
                            }
                        }), s += f.join(n("series.multiple.separator.middle")) + n("series.multiple.separator.end"), t.setAttribute("aria-label", s)
                    }
                }
        },
        SM = Math.PI,
        MM = _r.prototype;
    MM.getPerformArgs = function(t, e) {
        if (t.__pipeline) {
            var i = this._pipelineMap.get(t.__pipeline.id),
                n = i.context;
            return {
                step: !e && i.progressiveEnabled && (!n || n.incrementalRender) && t.__idxInPipeline > i.bockIndex ? i.step : null
            }
        }
    }, MM.getPipeline = function(t) {
        return this._pipelineMap.get(t)
    }, MM.updateStreamModes = function(t, e) {
        var i = this._pipelineMap.get(t.uid),
            n = t.getData().count(),
            o = i.progressiveEnabled && e.incrementalPrepareRender && n >= i.threshold,
            a = t.get("large") && n >= t.get("largeThreshold");
        t.pipelineContext = i.context = {
            incrementalRender: o,
            large: a
        }
    }, MM.restorePipelines = function(t) {
        var e = this,
            i = e._pipelineMap = z();
        t.eachSeries(function(t) {
            var n = t.getProgressive(),
                o = t.uid;
            i.set(o, {
                id: o,
                head: null,
                tail: null,
                threshold: t.getProgressiveThreshold(),
                progressiveEnabled: n && !(t.preventIncremental && t.preventIncremental()),
                bockIndex: -1,
                step: n || 700,
                count: 0
            }), Pr(e, t, t.dataTask)
        })
    }, MM.prepareStageTasks = function(t, e) {
        var i = this._stageTaskMap,
            n = this.ecInstance.getModel(),
            o = this.api;
        d(t, function(t) {
            var e = i.get(t.uid) || i.set(t.uid, []);
            t.reset && br(this, t, e, n, o), t.overallReset && Sr(this, t, e, n, o)
        }, this)
    }, MM.prepareView = function(t, e, i, n) {
        var o = t.renderTask,
            a = o.context;
        a.model = e, a.ecModel = i, a.api = n, o.__block = !t.incrementalPrepareRender, Pr(this, e, o)
    }, MM.performDataProcessorTasks = function(t, e, i) {
        wr(this, t, e, i, {
            block: !0
        })
    }, MM.performVisualTasks = function(t, e, i, n) {
        wr(this, t, e, i, n)
    }, MM.performSeriesTasks = function(t) {
        var e;
        t.eachSeries(function(t) {
            e |= t.dataTask.perform()
        }), this.unfinished |= e
    }, MM.plan = function() {
        this._pipelineMap.each(function(t) {
            var e = t.tail;
            do {
                if (e.__block) {
                    t.bockIndex = e.__idxInPipeline;
                    break
                }
                e = e.getUpstream()
            } while (e)
        })
    };
    var IM = MM.updatePayload = function(t, e) {
        "remain" !== e && (t.context.payload = e)
    };
    _r.wrapStageHandler = function(t, e) {
        return x(t) && (t = {
            overallReset: t,
            seriesType: Or(t)
        }), t.uid = So("stageHandler"), e && (t.visualType = e), t
    };
    var TM, AM = {},
        DM = {};
    Nr(AM, WS), Nr(DM, Ta), AM.eachSeriesByType = AM.eachRawSeriesByType = function(t) {
        TM = t
    }, AM.eachComponent = function(t) {
        "series" === t.mainType && t.subType && (TM = t.subType)
    };
    var CM = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"],
        LM = {
            color: CM,
            colorLayer: [
                ["#37A2DA", "#ffd85c", "#fd7b5f"],
                ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"],
                ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], CM
            ]
        },
        kM = ["#dd6b66", "#759aa0", "#e69d87", "#8dc1a9", "#ea7e53", "#eedd78", "#73a373", "#73b9bc", "#7289ab", "#91ca8c", "#f49f42"],
        PM = {
            color: kM,
            backgroundColor: "#333",
            tooltip: {
                axisPointer: {
                    lineStyle: {
                        color: "#eee"
                    },
                    crossStyle: {
                        color: "#eee"
                    }
                }
            },
            legend: {
                textStyle: {
                    color: "#eee"
                }
            },
            textStyle: {
                color: "#eee"
            },
            title: {
                textStyle: {
                    color: "#eee"
                }
            },
            toolbox: {
                iconStyle: {
                    normal: {
                        borderColor: "#eee"
                    }
                }
            },
            dataZoom: {
                textStyle: {
                    color: "#eee"
                }
            },
            visualMap: {
                textStyle: {
                    color: "#eee"
                }
            },
            timeline: {
                lineStyle: {
                    color: "#eee"
                },
                itemStyle: {
                    normal: {
                        color: kM[1]
                    }
                },
                label: {
                    normal: {
                        textStyle: {
                            color: "#eee"
                        }
                    }
                },
                controlStyle: {
                    normal: {
                        color: "#eee",
                        borderColor: "#eee"
                    }
                }
            },
            timeAxis: {
                axisLine: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "#eee"
                    }
                },
                splitLine: {
                    lineStyle: {
                        type: "dashed",
                        color: "#aaa"
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: "#eee"
                    }
                }
            },
            logAxis: {
                axisLine: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "#eee"
                    }
                },
                splitLine: {
                    lineStyle: {
                        type: "dashed",
                        color: "#aaa"
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: "#eee"
                    }
                }
            },
            valueAxis: {
                axisLine: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "#eee"
                    }
                },
                splitLine: {
                    lineStyle: {
                        type: "dashed",
                        color: "#aaa"
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: "#eee"
                    }
                }
            },
            categoryAxis: {
                axisLine: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisTick: {
                    lineStyle: {
                        color: "#eee"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "#eee"
                    }
                },
                splitLine: {
                    lineStyle: {
                        type: "dashed",
                        color: "#aaa"
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: "#eee"
                    }
                }
            },
            line: {
                symbol: "circle"
            },
            graph: {
                color: kM
            },
            gauge: {
                title: {
                    textStyle: {
                        color: "#eee"
                    }
                }
            },
            candlestick: {
                itemStyle: {
                    normal: {
                        color: "#FD1050",
                        color0: "#0CF49B",
                        borderColor: "#FD1050",
                        borderColor0: "#0CF49B"
                    }
                }
            }
        };
    PM.categoryAxis.splitLine.show = !1;
    var OM = k,
        NM = d,
        EM = x,
        zM = w,
        RM = IS.parseClassType,
        BM = {
            zrender: "4.0.1"
        },
        VM = 1e3,
        GM = 1e3,
        WM = 3e3,
        FM = {
            PROCESSOR: {
                FILTER: VM,
                STATISTIC: 5e3
            },
            VISUAL: {
                LAYOUT: GM,
                GLOBAL: 2e3,
                CHART: WM,
                COMPONENT: 4e3,
                BRUSH: 5e3
            }
        },
        HM = "__flagInMainProcess",
        ZM = "__optionUpdated",
        UM = /^[a-zA-Z0-9_]+$/;
    zr.prototype.on = Er("on"), zr.prototype.off = Er("off"), zr.prototype.one = Er("one"), u(zr, Hx);
    var jM = Rr.prototype;
    jM._onframe = function() {
        if (!this._disposed) {
            var t = this._scheduler;
            if (this[ZM]) {
                var e = this[ZM].silent;
                this[HM] = !0, Vr(this), XM.update.call(this), this[HM] = !1, this[ZM] = !1, Zr.call(this, e), Ur.call(this, e)
            } else if (t.unfinished) {
                var i = 1,
                    n = this._model;
                this._api;
                t.unfinished = !1;
                do {
                    var o = +new Date;
                    t.performSeriesTasks(n), t.performDataProcessorTasks(KM, n), Fr(this, n), t.performVisualTasks(tI, n), Kr(this, this._model, 0, "remain"), i -= +new Date - o
                } while (i > 0 && t.unfinished);
                t.unfinished || (this._zr && this._zr.flush(), this.trigger("finished"))
            }
        }
    }, jM.getDom = function() {
        return this._dom
    }, jM.getZr = function() {
        return this._zr
    }, jM.setOption = function(t, e, i) {
        var n;
        if (zM(e) && (i = e.lazyUpdate, n = e.silent, e = e.notMerge), this[HM] = !0, !this._model || e) {
            var o = new Da(this._api),
                a = this._theme,
                r = this._model = new WS(null, null, a, o);
            r.scheduler = this._scheduler, r.init(null, null, a, o)
        }
        this._model.setOption(t, JM), i ? (this[ZM] = {
            silent: n
        }, this[HM] = !1) : (Vr(this), XM.update.call(this), this._zr.flush(), this[ZM] = !1, this[HM] = !1, Zr.call(this, n), Ur.call(this, n))
    }, jM.setTheme = function() {
        console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")
    }, jM.getModel = function() {
        return this._model
    }, jM.getOption = function() {
        return this._model && this._model.getOption()
    }, jM.getWidth = function() {
        return this._zr.getWidth()
    }, jM.getHeight = function() {
        return this._zr.getHeight()
    }, jM.getDevicePixelRatio = function() {
        return this._zr.painter.dpr || window.devicePixelRatio || 1
    }, jM.getRenderedCanvas = function(t) {
        if (_x.canvasSupported) {
            (t = t || {}).pixelRatio = t.pixelRatio || 1, t.backgroundColor = t.backgroundColor || this._model.get("backgroundColor");
            var e = this._zr;
            return d(e.storage.getDisplayList(), function(t) {
                t.stopAnimation(!0)
            }), e.painter.getRenderedCanvas(t)
        }
    }, jM.getSvgDataUrl = function() {
        if (_x.svgSupported) {
            var t = this._zr;
            return d(t.storage.getDisplayList(), function(t) {
                t.stopAnimation(!0)
            }), t.painter.pathToSvg()
        }
    }, jM.getDataURL = function(t) {
        var e = (t = t || {}).excludeComponents,
            i = this._model,
            n = [],
            o = this;
        NM(e, function(t) {
            i.eachComponent({
                mainType: t
            }, function(t) {
                var e = o._componentsMap[t.__viewId];
                e.group.ignore || (n.push(e), e.group.ignore = !0)
            })
        });
        var a = "svg" === this._zr.painter.getType() ? this.getSvgDataUrl() : this.getRenderedCanvas(t).toDataURL("image/" + (t && t.type || "png"));
        return NM(n, function(t) {
            t.group.ignore = !1
        }), a
    }, jM.getConnectedDataURL = function(t) {
        if (_x.canvasSupported) {
            var e = this.group,
                n = Math.min,
                o = Math.max;
            if (oI[e]) {
                var a = 1 / 0,
                    r = 1 / 0,
                    s = -1 / 0,
                    l = -1 / 0,
                    h = [],
                    u = t && t.pixelRatio || 1;
                d(nI, function(u, c) {
                    if (u.group === e) {
                        var d = u.getRenderedCanvas(i(t)),
                            f = u.getDom().getBoundingClientRect();
                        a = n(f.left, a), r = n(f.top, r), s = o(f.right, s), l = o(f.bottom, l), h.push({
                            dom: d,
                            left: f.left,
                            top: f.top
                        })
                    }
                });
                var c = (s *= u) - (a *= u),
                    f = (l *= u) - (r *= u),
                    p = Px();
                p.width = c, p.height = f;
                var g = _i(p);
                return NM(h, function(t) {
                    var e = new Je({
                        style: {
                            x: t.left * u - a,
                            y: t.top * u - r,
                            image: t.dom
                        }
                    });
                    g.add(e)
                }), g.refreshImmediately(), p.toDataURL("image/" + (t && t.type || "png"))
            }
            return this.getDataURL(t)
        }
    }, jM.convertToPixel = v(Br, "convertToPixel"), jM.convertFromPixel = v(Br, "convertFromPixel"), jM.containPixel = function(t, e) {
        var i;
        return t = Oi(this._model, t), d(t, function(t, n) {
            n.indexOf("Models") >= 0 && d(t, function(t) {
                var o = t.coordinateSystem;
                if (o && o.containPoint) i |= !!o.containPoint(e);
                else if ("seriesModels" === n) {
                    var a = this._chartsMap[t.__viewId];
                    a && a.containPoint && (i |= a.containPoint(e, t))
                }
            }, this)
        }, this), !!i
    }, jM.getVisual = function(t, e) {
        var i = (t = Oi(this._model, t, {
                defaultMainType: "series"
            })).seriesModel.getData(),
            n = t.hasOwnProperty("dataIndexInside") ? t.dataIndexInside : t.hasOwnProperty("dataIndex") ? i.indexOfRawIndex(t.dataIndex) : null;
        return null != n ? i.getItemVisual(n, e) : i.getVisual(e)
    }, jM.getViewOfComponentModel = function(t) {
        return this._componentsMap[t.__viewId]
    }, jM.getViewOfSeriesModel = function(t) {
        return this._chartsMap[t.__viewId]
    };
    var XM = {
        prepareAndUpdate: function(t) {
            Vr(this), XM.update.call(this, t)
        },
        update: function(t) {
            var e = this._model,
                i = this._api,
                n = this._zr,
                o = this._coordSysMgr,
                a = this._scheduler;
            if (e) {
                e.restoreData(t), a.performSeriesTasks(e), o.create(e, i), a.performDataProcessorTasks(KM, e, t), Fr(this, e), Xr(e), o.update(e, i), Yr(e), a.performVisualTasks(tI, e, t), qr(this, e, i, t);
                var r = e.get("backgroundColor") || "transparent",
                    s = n.painter;
                if (s.isSingleCanvas && s.isSingleCanvas()) n.configLayer(0, {
                    clearColor: r
                });
                else {
                    if (!_x.canvasSupported) {
                        var l = Dt(r);
                        r = Rt(l, "rgb"), 0 === l[3] && (r = "transparent")
                    }
                    r.colorStops || r.image ? (n.configLayer(0, {
                        clearColor: r
                    }), this.__hasGradientOrPatternBg = !0, this._dom.style.background = "transparent") : (this.__hasGradientOrPatternBg && n.configLayer(0, {
                        clearColor: null
                    }), this.__hasGradientOrPatternBg = !1, this._dom.style.background = r)
                }
                Jr(e, i)
            }
        },
        updateTransform: function(t) {
            var e = this._model,
                i = this,
                n = this._api;
            if (e) {
                var o = [];
                e.eachComponent(function(a, r) {
                    var s = i.getViewOfComponentModel(r);
                    if (s && s.__alive)
                        if (s.updateTransform) {
                            var l = s.updateTransform(r, e, n, t);
                            l && l.update && o.push(s)
                        } else o.push(s)
                });
                var a = z();
                e.eachSeries(function(o) {
                    var r = i._chartsMap[o.__viewId];
                    if (r.updateTransform) {
                        var s = r.updateTransform(o, e, n, t);
                        s && s.update && a.set(o.uid, 1)
                    } else a.set(o.uid, 1)
                }), Yr(e), this._scheduler.performVisualTasks(tI, e, t, {
                    setDirty: !0,
                    dirtyMap: a
                }), Kr(i, e, 0, t, a), Jr(e, this._api)
            }
        },
        updateView: function(t) {
            var e = this._model;
            e && (cr.markUpdateMethod(t, "updateView"), Yr(e), this._scheduler.performVisualTasks(tI, e, t, {
                setDirty: !0
            }), qr(this, this._model, this._api, t), Jr(e, this._api))
        },
        updateVisual: function(t) {
            XM.update.call(this, t)
        },
        updateLayout: function(t) {
            XM.update.call(this, t)
        }
    };
    jM.resize = function(t) {
        this._zr.resize(t);
        var e = this._model;
        this._loadingFX && this._loadingFX.resize(), e && Wr(this, e.resetOption("media"), t && t.silent)
    }, jM.showLoading = function(t, e) {
        if (zM(t) && (e = t, t = ""), t = t || "default", this.hideLoading(), iI[t]) {
            var i = iI[t](this._api, e),
                n = this._zr;
            this._loadingFX = i, n.add(i)
        }
    }, jM.hideLoading = function() {
        this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null
    }, jM.makeActionFromEvent = function(t) {
        var e = a({}, t);
        return e.type = $M[t.type], e
    }, jM.dispatchAction = function(t, e) {
        zM(e) || (e = {
            silent: !!e
        }), qM[t.type] && this._model && (this[HM] ? this._pendingActions.push(t) : (Hr.call(this, t, e.silent), e.flush ? this._zr.flush(!0) : !1 !== e.flush && _x.browser.weChat && this._throttledZrFlush(), Zr.call(this, e.silent), Ur.call(this, e.silent)))
    }, jM.appendData = function(t) {
        var e = t.seriesIndex;
        this.getModel().getSeriesByIndex(e).appendData(t), this._scheduler.unfinished = !0
    }, jM.on = Er("on"), jM.off = Er("off"), jM.one = Er("one");
    var YM = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
    jM._initEvents = function() {
        NM(YM, function(t) {
            this._zr.on(t, function(e) {
                var i, n = this.getModel(),
                    o = e.target;
                if ("globalout" === t) i = {};
                else if (o && null != o.dataIndex) {
                    var r = o.dataModel || n.getSeriesByIndex(o.seriesIndex);
                    i = r && r.getDataParams(o.dataIndex, o.dataType) || {}
                } else o && o.eventData && (i = a({}, o.eventData));
                i && (i.event = e, i.type = t, this.trigger(t, i))
            }, this)
        }, this), NM($M, function(t, e) {
            this._messageCenter.on(e, function(t) {
                this.trigger(e, t)
            }, this)
        }, this)
    }, jM.isDisposed = function() {
        return this._disposed
    }, jM.clear = function() {
        this.setOption({
            series: []
        }, !0)
    }, jM.dispose = function() {
        if (!this._disposed) {
            this._disposed = !0, Ei(this.getDom(), sI, "");
            var t = this._api,
                e = this._model;
            NM(this._componentsViews, function(i) {
                i.dispose(e, t)
            }), NM(this._chartsViews, function(i) {
                i.dispose(e, t)
            }), this._zr.dispose(), delete nI[this.id]
        }
    }, u(Rr, Hx);
    var qM = {},
        $M = {},
        KM = [],
        JM = [],
        QM = [],
        tI = [],
        eI = {},
        iI = {},
        nI = {},
        oI = {},
        aI = new Date - 0,
        rI = new Date - 0,
        sI = "_echarts_instance_",
        lI = {},
        hI = os;
    ds(2e3, _M), ss(eM), ps("default", function(t, e) {
        r(e = e || {}, {
            text: "loading",
            color: "#c23531",
            textColor: "#000",
            maskColor: "rgba(255, 255, 255, 0.8)",
            zlevel: 0
        });
        var i = new Vb({
                style: {
                    fill: e.maskColor
                },
                zlevel: e.zlevel,
                z: 1e4
            }),
            n = new Hb({
                shape: {
                    startAngle: -SM / 2,
                    endAngle: -SM / 2 + .1,
                    r: 10
                },
                style: {
                    stroke: e.color,
                    lineCap: "round",
                    lineWidth: 5
                },
                zlevel: e.zlevel,
                z: 10001
            }),
            o = new Vb({
                style: {
                    fill: "none",
                    text: e.text,
                    textPosition: "right",
                    textDistance: 10,
                    textFill: e.textColor
                },
                zlevel: e.zlevel,
                z: 10001
            });
        n.animateShape(!0).when(1e3, {
            endAngle: 3 * SM / 2
        }).start("circularInOut"), n.animateShape(!0).when(1e3, {
            startAngle: 3 * SM / 2
        }).delay(300).start("circularInOut");
        var a = new S_;
        return a.add(n), a.add(o), a.add(i), a.resize = function() {
            var e = t.getWidth() / 2,
                a = t.getHeight() / 2;
            n.setShape({
                cx: e,
                cy: a
            });
            var r = n.shape.r;
            o.setShape({
                x: e - r,
                y: a - r,
                width: 2 * r,
                height: 2 * r
            }), i.setShape({
                x: 0,
                y: 0,
                width: t.getWidth(),
                height: t.getHeight()
            })
        }, a.resize(), a
    }), hs({
        type: "highlight",
        event: "highlight",
        update: "highlight"
    }, B), hs({
        type: "downplay",
        event: "downplay",
        update: "downplay"
    }, B), rs("light", LM), rs("dark", PM);
    var uI = {};
    ws.prototype = {
        constructor: ws,
        add: function(t) {
            return this._add = t, this
        },
        update: function(t) {
            return this._update = t, this
        },
        remove: function(t) {
            return this._remove = t, this
        },
        execute: function() {
            var t = this._old,
                e = this._new,
                i = {},
                n = [],
                o = [];
            for (bs(t, {}, n, "_oldKeyGetter", this), bs(e, i, o, "_newKeyGetter", this), a = 0; a < t.length; a++) null != (s = i[r = n[a]]) ? ((h = s.length) ? (1 === h && (i[r] = null), s = s.unshift()) : i[r] = null, this._update && this._update(s, a)) : this._remove && this._remove(a);
            for (var a = 0; a < o.length; a++) {
                var r = o[a];
                if (i.hasOwnProperty(r)) {
                    var s = i[r];
                    if (null == s) continue;
                    if (s.length)
                        for (var l = 0, h = s.length; l < h; l++) this._add && this._add(s[l]);
                    else this._add && this._add(s)
                }
            }
        }
    };
    var cI = z(["tooltip", "label", "itemName", "itemId", "seriesName"]),
        dI = w,
        fI = "undefined",
        pI = typeof window === fI ? global : window,
        gI = "e\0\0",
        mI = {
            float: typeof pI.Float64Array === fI ? Array : pI.Float64Array,
            int: typeof pI.Int32Array === fI ? Array : pI.Int32Array,
            ordinal: Array,
            number: Array,
            time: Array
        },
        vI = ["stackedOn", "hasItemOption", "_nameList", "_idList", "_rawData", "_rawExtent", "_chunkSize", "_chunkCount", "_dimValueGetter", "_count", "_rawCount", "_nameDimIdx", "_idDimIdx"],
        yI = function(t, e) {
            t = t || ["x", "y"];
            for (var i = {}, n = [], o = 0; o < t.length; o++) {
                var a, r = {};
                "string" == typeof t[o] ? r = {
                    name: a = t[o],
                    coordDim: a,
                    coordDimIndex: 0,
                    stackable: !1,
                    type: "float"
                } : (a = (r = t[o]).name, r.type = r.type || "float", r.coordDim || (r.coordDim = a, r.coordDimIndex = 0)), r.otherDims = r.otherDims || {}, n.push(a), i[a] = r, r.index = o
            }
            this.dimensions = n, this._dimensionInfos = i, this.hostModel = e, this.dataType, this._indices = null, this._count = 0, this._rawCount = 0, this._storage = {}, this._nameList = [], this._idList = [], this._optionModels = [], this.stackedOn = null, this._visual = {}, this._layout = {}, this._itemVisuals = [], this.hasItemVisual = {}, this._itemLayouts = [], this._graphicEls = [], this._chunkSize = 1e5, this._chunkCount = 0, this._rawData, this._rawExtent = {}, this._extent = {}, this._approximateExtent = {}, this._dimensionsSummary = Ss(this)
        },
        xI = yI.prototype;
    xI.type = "list", xI.hasItemOption = !0, xI.getDimension = function(t) {
        return isNaN(t) || (t = this.dimensions[t] || t), t
    }, xI.getDimensionInfo = function(t) {
        return this._dimensionInfos[this.getDimension(t)]
    }, xI.getDimensionsOnCoord = function() {
        return this._dimensionsSummary.dataDimsOnCoord.slice()
    }, xI.mapDimension = function(t, e) {
        var i = this._dimensionsSummary.encode[t];
        return !0 === e ? i && i.slice() || [] : i ? i[e || 0] : null
    }, xI.initData = function(t, e, i) {
        (ra.isInstance(t) || c(t)) && (t = new Ua(t, this.dimensions.length)), this._rawData = t, this._storage = {}, this._indices = null, this._nameList = e || [], this._idList = [], this._nameRepeatCount = {}, i || (this.hasItemOption = !1), this.defaultDimValueGetter = aM[this._rawData.getSource().sourceFormat], this._dimValueGetter = i = i || this.defaultDimValueGetter, this._rawExtent = {}, this._initDataFromProvider(0, t.count()), t.pure && (this.hasItemOption = !1)
    }, xI.getProvider = function() {
        return this._rawData
    }, xI.appendData = function(t) {
        var e = this._rawData,
            i = this.count();
        e.appendData(t);
        var n = e.count();
        e.persistent || (n += i), this._initDataFromProvider(i, n)
    }, xI._initDataFromProvider = function(t, e) {
        if (!(t >= e)) {
            for (var i, n = this._chunkSize, o = this._rawData, a = this._storage, r = this.dimensions, s = this._dimensionInfos, l = this._nameList, h = this._idList, u = this._rawExtent, c = this._nameRepeatCount = {}, d = this._chunkCount, f = d - 1, p = 0; p < r.length; p++) {
                u[I = r[p]] || (u[I] = [1 / 0, -1 / 0]);
                var g = s[I];
                0 === g.otherDims.itemName && (i = this._nameDimIdx = p), 0 === g.otherDims.itemId && (this._idDimIdx = p);
                var m = mI[g.type];
                a[I] || (a[I] = []);
                var v = a[I][f];
                if (v && v.length < n) {
                    for (var y = new m(Math.min(e - f * n, n)), x = 0; x < v.length; x++) y[x] = v[x];
                    a[I][f] = y
                }
                for (M = d * n; M < e; M += n) a[I].push(new m(Math.min(e - M, n)));
                this._chunkCount = a[I].length
            }
            for (var _ = t; _ < e; _++) {
                for (var w = o.getItem(_), b = Math.floor(_ / n), S = _ % n, M = 0; M < r.length; M++) {
                    var I = r[M],
                        T = a[I][b],
                        A = this._dimValueGetter(w, I, _, M);
                    T[S] = A, A < u[I][0] && (u[I][0] = A), A > u[I][1] && (u[I][1] = A)
                }
                if (!o.pure) {
                    var D = l[_];
                    w && !D && (null != i ? D = this._getNameFromStore(_) : null != w.name && (l[_] = D = w.name));
                    var C = null == w ? null : w.id;
                    null == C && null != D && (c[D] = c[D] || 0, C = D, c[D] > 0 && (C += "__ec__" + c[D]), c[D]++), null != C && (h[_] = C)
                }
            }!o.persistent && o.clean && o.clean(), this._rawCount = this._count = e, this._extent = {}
        }
    }, xI._getNameFromStore = function(t) {
        var e = this._nameDimIdx;
        if (null != e) {
            var i = this._chunkSize,
                n = Math.floor(t / i),
                o = t % i,
                a = this.dimensions[e],
                r = this._dimensionInfos[a].ordinalMeta;
            if (r) return r.categories[t];
            var s = this._storage[a][n];
            return s && s[o]
        }
    }, xI._getIdFromStore = function(t) {
        var e = this._idDimIdx;
        if (null != e) {
            var i = this._chunkSize,
                n = Math.floor(t / i),
                o = t % i,
                a = this.dimensions[e],
                r = this._dimensionInfos[a].ordinalMeta;
            if (r) return r.categories[t];
            var s = this._storage[a][n];
            return s && s[o]
        }
    }, xI.count = function() {
        return this._count
    }, xI.getIndices = function() {
        if (this._indices) return new(t = this._indices.constructor)(this._indices.buffer, 0, this._count);
        for (var t = Ts(this), e = new t(this.count()), i = 0; i < e.length; i++) e[i] = i;
        return e
    }, xI.get = function(t, e, i) {
        if (!(e >= 0 && e < this._count)) return NaN;
        var n = this._storage;
        if (!n[t]) return NaN;
        e = this.getRawIndex(e);
        var o = Math.floor(e / this._chunkSize),
            a = e % this._chunkSize,
            r = n[t][o][a];
        if (i) {
            var s = this._dimensionInfos[t];
            if (s && s.stackable)
                for (var l = this.stackedOn; l;) {
                    var h = l.get(t, e);
                    (r >= 0 && h > 0 || r <= 0 && h < 0) && (r += h), l = l.stackedOn
                }
        }
        return r
    }, xI._getFast = function(t, e) {
        var i = Math.floor(e / this._chunkSize),
            n = e % this._chunkSize;
        return this._storage[t][i][n]
    }, xI.getValues = function(t, e, i) {
        var n = [];
        y(t) || (i = e, e = t, t = this.dimensions);
        for (var o = 0, a = t.length; o < a; o++) n.push(this.get(t[o], e, i));
        return n
    }, xI.hasValue = function(t) {
        for (var e = this._dimensionsSummary.dataDimsOnCoord, i = this._dimensionInfos, n = 0, o = e.length; n < o; n++)
            if ("ordinal" !== i[e[n]].type && isNaN(this.get(e[n], t))) return !1;
        return !0
    }, xI.getDataExtent = function(t, e) {
        t = this.getDimension(t);
        var i = this._storage[t],
            n = [1 / 0, -1 / 0];
        if (e = (e || !1) && this.isStacked(t), !i) return n;
        var o, a = this.count(),
            r = [t, !!e].join("_");
        if (!this._indices && !e) return this._rawExtent[t].slice();
        if (o = this._extent[r]) return o.slice();
        for (var s = (o = n)[0], l = o[1], h = 0; h < a; h++) {
            var u = e ? this.get(t, h, !0) : this._getFast(t, this.getRawIndex(h));
            u < s && (s = u), u > l && (l = u)
        }
        return o = [s, l], this._extent[r] = o, o
    }, xI.getApproximateExtent = function(t, e) {
        return t = this.getDimension(t), this._approximateExtent[t] || this.getDataExtent(t, e)
    }, xI.setApproximateExtent = function(t, e, i) {
        e = this.getDimension(e), this._approximateExtent[e] = t.slice()
    }, xI.isStacked = function(t) {
        var e = this._dimensionInfos[t];
        return e && e.stackable && this.stackedOn
    }, xI.getSum = function(t, e) {
        var i = 0;
        if (this._storage[t])
            for (var n = 0, o = this.count(); n < o; n++) {
                var a = this.get(t, n, e);
                isNaN(a) || (i += a)
            }
        return i
    }, xI.indexOf = function(t, e) {
        var i = this._storage[t],
            n = this._chunkSize;
        if (i)
            for (var o = 0, a = this.count(); o < a; o++) {
                var r = o % n;
                if (i[Math.floor(o / n)][r] === e) return o
            }
        return -1
    }, xI.indexOfName = function(t) {
        for (var e = 0, i = this.count(); e < i; e++)
            if (this.getName(e) === t) return e;
        return -1
    }, xI.indexOfRawIndex = function(t) {
        if (!this._indices) return t;
        if (t >= this._rawCount || t < 0) return -1;
        var e = this._indices,
            i = e[t];
        if (null != i && i < this._count && i === t) return t;
        for (var n = 0, o = this._count - 1; n <= o;) {
            var a = (n + o) / 2 | 0;
            if (e[a] < t) n = a + 1;
            else {
                if (!(e[a] > t)) return a;
                o = a - 1
            }
        }
        return -1
    }, xI.indicesOfNearest = function(t, e, i, n) {
        var o = [];
        if (!this._storage[t]) return o;
        null == n && (n = 1 / 0);
        for (var a = Number.MAX_VALUE, r = -1, s = 0, l = this.count(); s < l; s++) {
            var h = e - this.get(t, s, i),
                u = Math.abs(h);
            h <= n && u <= a && ((u < a || h >= 0 && r < 0) && (a = u, r = h, o.length = 0), o.push(s))
        }
        return o
    }, xI.getRawIndex = Cs, xI.getRawDataItem = function(t) {
        if (this._rawData.persistent) return this._rawData.getItem(this.getRawIndex(t));
        for (var e = [], i = 0; i < this.dimensions.length; i++) {
            var n = this.dimensions[i];
            e.push(this.get(n, t))
        }
        return e
    }, xI.getName = function(t) {
        var e = this.getRawIndex(t);
        return this._nameList[e] || this._getNameFromStore(e) || ""
    }, xI.getId = function(t) {
        return ks(this, this.getRawIndex(t))
    }, xI.each = function(t, e, i, n) {
        if (this._count) {
            "function" == typeof t && (n = i, i = e, e = t, t = []);
            var o = (t = f(Ps(t), this.getDimension, this)).length;
            n = n || this;
            for (var a = 0; a < this.count(); a++) switch (o) {
                case 0:
                    e.call(n, a);
                    break;
                case 1:
                    e.call(n, this.get(t[0], a, i), a);
                    break;
                case 2:
                    e.call(n, this.get(t[0], a, i), this.get(t[1], a, i), a);
                    break;
                default:
                    for (var r = 0, s = []; r < o; r++) s[r] = this.get(t[r], a, i);
                    s[r] = a, e.apply(n, s)
            }
        }
    }, xI.filterSelf = function(t, e, i, n) {
        if (this._count) {
            "function" == typeof t && (n = i, i = e, e = t, t = []), i = i || !1, n = n || this, t = f(Ps(t), this.getDimension, this);
            for (var o = this.count(), a = new(Ts(this))(o), r = [], s = t.length, l = 0, h = t[0], u = 0; u < o; u++) {
                var c, d = this.getRawIndex(u);
                if (0 === s) c = e.call(n, u);
                else if (1 === s) {
                    var p = i ? this.get(h, u, !0) : this._getFast(h, d);
                    c = e.call(n, p, u)
                } else {
                    for (var g = 0; g < s; g++) r[g] = i ? this.get(t[g], u, !0) : this._getFast(h, d);
                    r[g] = u, c = e.apply(n, r)
                }
                c && (a[l++] = d)
            }
            return l < o && (this._indices = a), this._count = l, this._extent = {}, this.getRawIndex = this._indices ? Ls : Cs, this
        }
    }, xI.selectRange = function(t, e) {
        if (this._count) {
            e = e || !1;
            var i = [];
            for (var n in t) t.hasOwnProperty(n) && i.push(n);
            var o = i.length;
            if (o) {
                var a = this.count(),
                    r = new(Ts(this))(a),
                    s = 0,
                    l = i[0],
                    h = t[l][0],
                    u = t[l][1],
                    c = !1;
                if (!this._indices && !e) {
                    var d = 0;
                    if (1 === o) {
                        for (var f = this._storage[i[0]], p = 0; p < this._chunkCount; p++)
                            for (var g = f[p], m = Math.min(this._count - p * this._chunkSize, this._chunkSize), v = 0; v < m; v++)(b = g[v]) >= h && b <= u && (r[s++] = d), d++;
                        c = !0
                    } else if (2 === o) {
                        for (var f = this._storage[l], y = this._storage[i[1]], x = t[i[1]][0], _ = t[i[1]][1], p = 0; p < this._chunkCount; p++)
                            for (var g = f[p], w = y[p], m = Math.min(this._count - p * this._chunkSize, this._chunkSize), v = 0; v < m; v++) {
                                var b = g[v],
                                    S = w[v];
                                b >= h && b <= u && S >= x && S <= _ && (r[s++] = d), d++
                            }
                        c = !0
                    }
                }
                if (!c)
                    if (1 === o) {
                        e = e || this.isStacked(l);
                        for (v = 0; v < a; v++) {
                            I = this.getRawIndex(v);
                            (b = e ? this.get(l, v, !0) : this._getFast(l, I)) >= h && b <= u && (r[s++] = I)
                        }
                    } else
                        for (v = 0; v < a; v++) {
                            for (var M = !0, I = this.getRawIndex(v), p = 0; p < o; p++) {
                                var T = i[p];
                                ((b = e ? this.get(T, v, !0) : this._getFast(n, I)) < t[T][0] || b > t[T][1]) && (M = !1)
                            }
                            M && (r[s++] = this.getRawIndex(v))
                        }
                return s < a && (this._indices = r), this._count = s, this._extent = {}, this.getRawIndex = this._indices ? Ls : Cs, this
            }
        }
    }, xI.mapArray = function(t, e, i, n) {
        "function" == typeof t && (n = i, i = e, e = t, t = []);
        var o = [];
        return this.each(t, function() {
            o.push(e && e.apply(this, arguments))
        }, i, n), o
    }, xI.map = function(t, e, i, n) {
        var o = Os(this, t = f(Ps(t), this.getDimension, this));
        o._indices = this._indices, o.getRawIndex = o._indices ? Ls : Cs;
        for (var a = o._storage, r = [], s = this._chunkSize, l = t.length, h = this.count(), u = [], c = 0; c < h; c++) {
            for (var d = 0; d < l; d++) u[d] = this.get(t[d], c, i);
            u[l] = c;
            var p = e && e.apply(n, u);
            if (null != p) {
                "object" != typeof p && (r[0] = p, p = r);
                for (var g = this.getRawIndex(c), m = Math.floor(g / s), v = g % s, y = 0; y < p.length; y++) {
                    var x = a[t[y]];
                    x && (x[m][v] = p[y])
                }
            }
        }
        return o
    }, xI.downSample = function(t, e, i, n) {
        for (var o = Os(this, [t]), a = o._storage, r = [], s = Math.floor(1 / e), l = a[t], h = this.count(), u = this._chunkSize, c = new(Ts(this))(h), d = 0, f = 0; f < h; f += s) {
            s > h - f && (s = h - f, r.length = s);
            for (var p = 0; p < s; p++) {
                var g = this.getRawIndex(f + p),
                    m = Math.floor(g / u),
                    v = g % u;
                r[p] = l[m][v]
            }
            var y = i(r),
                x = this.getRawIndex(Math.min(f + n(r, y) || 0, h - 1)),
                _ = x % u;
            l[Math.floor(x / u)][_] = y, c[d++] = x
        }
        return o._count = d, o._indices = c, o.getRawIndex = Ls, o
    }, xI.getItemModel = function(t) {
        var e = this.hostModel;
        return new _o(this.getRawDataItem(t), e, e && e.ecModel)
    }, xI.diff = function(t) {
        var e = this;
        return new ws(t ? t.getIndices() : [], this.getIndices(), function(e) {
            return ks(t, e)
        }, function(t) {
            return ks(e, t)
        })
    }, xI.getVisual = function(t) {
        var e = this._visual;
        return e && e[t]
    }, xI.setVisual = function(t, e) {
        if (dI(t))
            for (var i in t) t.hasOwnProperty(i) && this.setVisual(i, t[i]);
        else this._visual = this._visual || {}, this._visual[t] = e
    }, xI.setLayout = function(t, e) {
        if (dI(t))
            for (var i in t) t.hasOwnProperty(i) && this.setLayout(i, t[i]);
        else this._layout[t] = e
    }, xI.getLayout = function(t) {
        return this._layout[t]
    }, xI.getItemLayout = function(t) {
        return this._itemLayouts[t]
    }, xI.setItemLayout = function(t, e, i) {
        this._itemLayouts[t] = i ? a(this._itemLayouts[t] || {}, e) : e
    }, xI.clearItemLayouts = function() {
        this._itemLayouts.length = 0
    }, xI.getItemVisual = function(t, e, i) {
        var n = this._itemVisuals[t],
            o = n && n[e];
        return null != o || i ? o : this.getVisual(e)
    }, xI.setItemVisual = function(t, e, i) {
        var n = this._itemVisuals[t] || {},
            o = this.hasItemVisual;
        if (this._itemVisuals[t] = n, dI(e))
            for (var a in e) e.hasOwnProperty(a) && (n[a] = e[a], o[a] = !0);
        else n[e] = i, o[e] = !0
    }, xI.clearAllVisual = function() {
        this._visual = {}, this._itemVisuals = [], this.hasItemVisual = {}
    };
    var _I = function(t) {
        t.seriesIndex = this.seriesIndex, t.dataIndex = this.dataIndex, t.dataType = this.dataType
    };
    xI.setItemGraphicEl = function(t, e) {
        var i = this.hostModel;
        e && (e.dataIndex = t, e.dataType = this.dataType, e.seriesIndex = i && i.seriesIndex, "group" === e.type && e.traverse(_I, e)), this._graphicEls[t] = e
    }, xI.getItemGraphicEl = function(t) {
        return this._graphicEls[t]
    }, xI.eachItemGraphicEl = function(t, e) {
        d(this._graphicEls, function(i, n) {
            i && t && t.call(e, i, n)
        })
    }, xI.cloneShallow = function(t) {
        if (!t) {
            var e = f(this.dimensions, this.getDimensionInfo, this);
            t = new yI(e, this.hostModel)
        }
        if (t._storage = this._storage, Ds(t, this), this._indices) {
            var n = this._indices.constructor;
            t._indices = new n(this._indices)
        } else t._indices = null;
        return t.getRawIndex = t._indices ? Ls : Cs, t._extent = i(this._extent), t._approximateExtent = i(this._approximateExtent), t
    }, xI.wrapMethod = function(t, e) {
        var i = this[t];
        "function" == typeof i && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(t), this[t] = function() {
            var t = i.apply(this, arguments);
            return e.apply(this, [t].concat(C(arguments)))
        })
    }, xI.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "map"], xI.CHANGABLE_METHODS = ["filterSelf", "selectRange"];
    var wI = function(t, e) {
        return e = e || {}, Es(e.coordDimensions || [], t, {
            dimsDef: e.dimensionsDefine || t.dimensionsDefine,
            encodeDef: e.encodeDefine || t.encodeDefine,
            dimCount: e.dimensionsCount,
            extraPrefix: e.extraPrefix,
            extraFromZero: e.extraFromZero
        })
    };
    Fs.prototype.parse = function(t) {
        return t
    }, Fs.prototype.getSetting = function(t) {
        return this._setting[t]
    }, Fs.prototype.contain = function(t) {
        var e = this._extent;
        return t >= e[0] && t <= e[1]
    }, Fs.prototype.normalize = function(t) {
        var e = this._extent;
        return e[1] === e[0] ? .5 : (t - e[0]) / (e[1] - e[0])
    }, Fs.prototype.scale = function(t) {
        var e = this._extent;
        return t * (e[1] - e[0]) + e[0]
    }, Fs.prototype.unionExtent = function(t) {
        var e = this._extent;
        t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1])
    }, Fs.prototype.unionExtentFromData = function(t, e) {
        this.unionExtent(t.getApproximateExtent(e, !0))
    }, Fs.prototype.getExtent = function() {
        return this._extent.slice()
    }, Fs.prototype.setExtent = function(t, e) {
        var i = this._extent;
        isNaN(t) || (i[0] = t), isNaN(e) || (i[1] = e)
    }, Fs.prototype.getTicksLabels = function() {
        for (var t = [], e = this.getTicks(), i = 0; i < e.length; i++) t.push(this.getLabel(e[i]));
        return t
    }, Fs.prototype.isBlank = function() {
        return this._isBlank
    }, Fs.prototype.setBlank = function(t) {
        this._isBlank = t
    }, Vi(Fs), Hi(Fs, {
        registerWhenExtend: !0
    }), Hs.createByAxisModel = function(t) {
        var e = t.option,
            i = e.data,
            n = i && f(i, Us);
        return new Hs({
            categories: n,
            needCollect: !n,
            deduplication: !1 !== e.dedplication
        })
    };
    var bI = Hs.prototype;
    bI.getOrdinal = function(t) {
        return Zs(this).get(t)
    }, bI.parseAndCollect = function(t) {
        var e, i = this._needCollect;
        if ("string" != typeof t && !i) return t;
        if (i && !this._deduplication) return e = this.categories.length, this.categories[e] = t, e;
        var n = Zs(this);
        return null == (e = n.get(t)) && (i ? (e = this.categories.length, this.categories[e] = t, n.set(t, e)) : e = NaN), e
    };
    var SI = Fs.prototype,
        MI = Fs.extend({
            type: "ordinal",
            init: function(t, e) {
                t && !y(t) || (t = new Hs({
                    categories: t
                })), this._ordinalMeta = t, this._extent = e || [0, t.categories.length - 1]
            },
            parse: function(t) {
                return "string" == typeof t ? this._ordinalMeta.getOrdinal(t) : Math.round(t)
            },
            contain: function(t) {
                return t = this.parse(t), SI.contain.call(this, t) && null != this._ordinalMeta.categories[t]
            },
            normalize: function(t) {
                return SI.normalize.call(this, this.parse(t))
            },
            scale: function(t) {
                return Math.round(SI.scale.call(this, t))
            },
            getTicks: function() {
                for (var t = [], e = this._extent, i = e[0]; i <= e[1];) t.push(i), i++;
                return t
            },
            getLabel: function(t) {
                return this._ordinalMeta.categories[t]
            },
            count: function() {
                return this._extent[1] - this._extent[0] + 1
            },
            unionExtentFromData: function(t, e) {
                this.unionExtent(t.getApproximateExtent(e, !1))
            },
            niceTicks: B,
            niceExtent: B
        });
    MI.create = function() {
        return new MI
    };
    var II = Ao,
        TI = Ao,
        AI = Fs.extend({
            type: "interval",
            _interval: 0,
            _intervalPrecision: 2,
            setExtent: function(t, e) {
                var i = this._extent;
                isNaN(t) || (i[0] = parseFloat(t)), isNaN(e) || (i[1] = parseFloat(e))
            },
            unionExtent: function(t) {
                var e = this._extent;
                t[0] < e[0] && (e[0] = t[0]), t[1] > e[1] && (e[1] = t[1]), AI.prototype.setExtent.call(this, e[0], e[1])
            },
            getInterval: function() {
                return this._interval
            },
            setInterval: function(t) {
                this._interval = t, this._niceExtent = this._extent.slice(), this._intervalPrecision = Xs(t)
            },
            getTicks: function() {
                return $s(this._interval, this._extent, this._niceExtent, this._intervalPrecision)
            },
            getTicksLabels: function() {
                for (var t = [], e = this.getTicks(), i = 0; i < e.length; i++) t.push(this.getLabel(e[i]));
                return t
            },
            getLabel: function(t, e) {
                if (null == t) return "";
                var i = e && e.precision;
                return null == i ? i = Lo(t) || 0 : "auto" === i && (i = this._intervalPrecision), t = TI(t, i, !0), Wo(t)
            },
            niceTicks: function(t, e, i) {
                t = t || 5;
                var n = this._extent,
                    o = n[1] - n[0];
                if (isFinite(o)) {
                    o < 0 && (o = -o, n.reverse());
                    var a = js(n, t, e, i);
                    this._intervalPrecision = a.intervalPrecision, this._interval = a.interval, this._niceExtent = a.niceTickExtent
                }
            },
            niceExtent: function(t) {
                var e = this._extent;
                if (e[0] === e[1])
                    if (0 !== e[0]) {
                        var i = e[0];
                        t.fixMax ? e[0] -= i / 2 : (e[1] += i / 2, e[0] -= i / 2)
                    } else e[1] = 1;
                var n = e[1] - e[0];
                isFinite(n) || (e[0] = 0, e[1] = 1), this.niceTicks(t.splitNumber, t.minInterval, t.maxInterval);
                var o = this._interval;
                t.fixMin || (e[0] = TI(Math.floor(e[0] / o) * o)), t.fixMax || (e[1] = TI(Math.ceil(e[1] / o) * o))
            }
        });
    AI.create = function() {
        return new AI
    };
    var DI = "__ec_stack_",
        CI = AI.prototype,
        LI = Math.ceil,
        kI = Math.floor,
        PI = function(t, e, i, n) {
            for (; i < n;) {
                var o = i + n >>> 1;
                t[o][1] < e ? i = o + 1 : n = o
            }
            return i
        },
        OI = AI.extend({
            type: "time",
            getLabel: function(t) {
                var e = this._stepLvl,
                    i = new Date(t);
                return Xo(e[0], i, this.getSetting("useUTC"))
            },
            niceExtent: function(t) {
                var e = this._extent;
                if (e[0] === e[1] && (e[0] -= 864e5, e[1] += 864e5), e[1] === -1 / 0 && e[0] === 1 / 0) {
                    var i = new Date;
                    e[1] = +new Date(i.getFullYear(), i.getMonth(), i.getDate()), e[0] = e[1] - 864e5
                }
                this.niceTicks(t.splitNumber, t.minInterval, t.maxInterval);
                var n = this._interval;
                t.fixMin || (e[0] = Ao(kI(e[0] / n) * n)), t.fixMax || (e[1] = Ao(LI(e[1] / n) * n))
            },
            niceTicks: function(t, e, i) {
                t = t || 10;
                var n = this._extent,
                    o = n[1] - n[0],
                    a = o / t;
                null != e && a < e && (a = e), null != i && a > i && (a = i);
                var r = NI.length,
                    s = PI(NI, a, 0, r),
                    l = NI[Math.min(s, r - 1)],
                    h = l[1];
                "year" === l[0] && (h *= Bo(o / h / t, !0));
                var u = this.getSetting("useUTC") ? 0 : 60 * new Date(+n[0] || +n[1]).getTimezoneOffset() * 1e3,
                    c = [Math.round(LI((n[0] - u) / h) * h + u), Math.round(kI((n[1] - u) / h) * h + u)];
                qs(c, n), this._stepLvl = l, this._interval = h, this._niceExtent = c
            },
            parse: function(t) {
                return +Eo(t)
            }
        });
    d(["contain", "normalize"], function(t) {
        OI.prototype[t] = function(e) {
            return CI[t].call(this, this.parse(e))
        }
    });
    var NI = [
        ["hh:mm:ss", 1e3],
        ["hh:mm:ss", 5e3],
        ["hh:mm:ss", 1e4],
        ["hh:mm:ss", 15e3],
        ["hh:mm:ss", 3e4],
        ["hh:mm\nMM-dd", 6e4],
        ["hh:mm\nMM-dd", 3e5],
        ["hh:mm\nMM-dd", 6e5],
        ["hh:mm\nMM-dd", 9e5],
        ["hh:mm\nMM-dd", 18e5],
        ["hh:mm\nMM-dd", 36e5],
        ["hh:mm\nMM-dd", 72e5],
        ["hh:mm\nMM-dd", 216e5],
        ["hh:mm\nMM-dd", 432e5],
        ["MM-dd\nyyyy", 864e5],
        ["MM-dd\nyyyy", 1728e5],
        ["MM-dd\nyyyy", 2592e5],
        ["MM-dd\nyyyy", 3456e5],
        ["MM-dd\nyyyy", 432e6],
        ["MM-dd\nyyyy", 5184e5],
        ["week", 6048e5],
        ["MM-dd\nyyyy", 864e6],
        ["week", 12096e5],
        ["week", 18144e5],
        ["month", 26784e5],
        ["week", 36288e5],
        ["month", 53568e5],
        ["week", 36288e5],
        ["quarter", 8208e6],
        ["month", 107136e5],
        ["month", 13392e6],
        ["half-year", 16416e6],
        ["month", 214272e5],
        ["month", 26784e6],
        ["year", 32832e6]
    ];
    OI.create = function(t) {
        return new OI({
            useUTC: t.ecModel.get("useUTC")
        })
    };
    var EI = Fs.prototype,
        zI = AI.prototype,
        RI = Lo,
        BI = Ao,
        VI = Math.floor,
        GI = Math.ceil,
        WI = Math.pow,
        FI = Math.log,
        HI = Fs.extend({
            type: "log",
            base: 10,
            $constructor: function() {
                Fs.apply(this, arguments), this._originalScale = new AI
            },
            getTicks: function() {
                var t = this._originalScale,
                    e = this._extent,
                    i = t.getExtent();
                return f(zI.getTicks.call(this), function(n) {
                    var o = Ao(WI(this.base, n));
                    return o = n === e[0] && t.__fixMin ? nl(o, i[0]) : o, o = n === e[1] && t.__fixMax ? nl(o, i[1]) : o
                }, this)
            },
            getLabel: zI.getLabel,
            scale: function(t) {
                return t = EI.scale.call(this, t), WI(this.base, t)
            },
            setExtent: function(t, e) {
                var i = this.base;
                t = FI(t) / FI(i), e = FI(e) / FI(i), zI.setExtent.call(this, t, e)
            },
            getExtent: function() {
                var t = this.base,
                    e = EI.getExtent.call(this);
                e[0] = WI(t, e[0]), e[1] = WI(t, e[1]);
                var i = this._originalScale,
                    n = i.getExtent();
                return i.__fixMin && (e[0] = nl(e[0], n[0])), i.__fixMax && (e[1] = nl(e[1], n[1])), e
            },
            unionExtent: function(t) {
                this._originalScale.unionExtent(t);
                var e = this.base;
                t[0] = FI(t[0]) / FI(e), t[1] = FI(t[1]) / FI(e), EI.unionExtent.call(this, t)
            },
            unionExtentFromData: function(t, e) {
                this.unionExtent(t.getApproximateExtent(e, !0, function(t) {
                    return t > 0
                }))
            },
            niceTicks: function(t) {
                t = t || 10;
                var e = this._extent,
                    i = e[1] - e[0];
                if (!(i === 1 / 0 || i <= 0)) {
                    var n = zo(i);
                    for (t / i * n <= .5 && (n *= 10); !isNaN(n) && Math.abs(n) < 1 && Math.abs(n) > 0;) n *= 10;
                    var o = [Ao(GI(e[0] / n) * n), Ao(VI(e[1] / n) * n)];
                    this._interval = n, this._niceExtent = o
                }
            },
            niceExtent: function(t) {
                zI.niceExtent.call(this, t);
                var e = this._originalScale;
                e.__fixMin = t.fixMin, e.__fixMax = t.fixMax
            }
        });
    d(["contain", "normalize"], function(t) {
        HI.prototype[t] = function(e) {
            return e = FI(e) / FI(this.base), EI[t].call(this, e)
        }
    }), HI.create = function() {
        return new HI
    };
    var ZI = {
            getFormattedLabels: function() {
                return hl(this.axis, this.get("axisLabel.formatter"))
            },
            getMin: function(t) {
                var e = this.option,
                    i = t || null == e.rangeStart ? e.min : e.rangeStart;
                return this.axis && null != i && "dataMin" !== i && "function" != typeof i && !I(i) && (i = this.axis.scale.parse(i)), i
            },
            getMax: function(t) {
                var e = this.option,
                    i = t || null == e.rangeEnd ? e.max : e.rangeEnd;
                return this.axis && null != i && "dataMax" !== i && "function" != typeof i && !I(i) && (i = this.axis.scale.parse(i)), i
            },
            getNeedCrossZero: function() {
                var t = this.option;
                return null == t.rangeStart && null == t.rangeEnd && !t.scale
            },
            getCoordSysModel: B,
            setRange: function(t, e) {
                this.option.rangeStart = t, this.option.rangeEnd = e
            },
            resetRange: function() {
                this.option.rangeStart = this.option.rangeEnd = null
            }
        },
        UI = Nn({
            type: "triangle",
            shape: {
                cx: 0,
                cy: 0,
                width: 0,
                height: 0
            },
            buildPath: function(t, e) {
                var i = e.cx,
                    n = e.cy,
                    o = e.width / 2,
                    a = e.height / 2;
                t.moveTo(i, n - a), t.lineTo(i + o, n + a), t.lineTo(i - o, n + a), t.closePath()
            }
        }),
        jI = Nn({
            type: "diamond",
            shape: {
                cx: 0,
                cy: 0,
                width: 0,
                height: 0
            },
            buildPath: function(t, e) {
                var i = e.cx,
                    n = e.cy,
                    o = e.width / 2,
                    a = e.height / 2;
                t.moveTo(i, n - a), t.lineTo(i + o, n), t.lineTo(i, n + a), t.lineTo(i - o, n), t.closePath()
            }
        }),
        XI = Nn({
            type: "pin",
            shape: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            buildPath: function(t, e) {
                var i = e.x,
                    n = e.y,
                    o = e.width / 5 * 3,
                    a = Math.max(o, e.height),
                    r = o / 2,
                    s = r * r / (a - r),
                    l = n - a + r + s,
                    h = Math.asin(s / r),
                    u = Math.cos(h) * r,
                    c = Math.sin(h),
                    d = Math.cos(h),
                    f = .6 * r,
                    p = .7 * r;
                t.moveTo(i - u, l + s), t.arc(i, l, r, Math.PI - h, 2 * Math.PI + h), t.bezierCurveTo(i + u - c * f, l + s + d * f, i, n - p, i, n), t.bezierCurveTo(i, n - p, i - u + c * f, l + s + d * f, i - u, l + s), t.closePath()
            }
        }),
        YI = Nn({
            type: "arrow",
            shape: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            buildPath: function(t, e) {
                var i = e.height,
                    n = e.width,
                    o = e.x,
                    a = e.y,
                    r = n / 3 * 2;
                t.moveTo(o, a), t.lineTo(o + r, a + i), t.lineTo(o, a + i / 4 * 3), t.lineTo(o - r, a + i), t.lineTo(o, a), t.closePath()
            }
        }),
        qI = {
            line: function(t, e, i, n, o) {
                o.x1 = t, o.y1 = e + n / 2, o.x2 = t + i, o.y2 = e + n / 2
            },
            rect: function(t, e, i, n, o) {
                o.x = t, o.y = e, o.width = i, o.height = n
            },
            roundRect: function(t, e, i, n, o) {
                o.x = t, o.y = e, o.width = i, o.height = n, o.r = Math.min(i, n) / 4
            },
            square: function(t, e, i, n, o) {
                var a = Math.min(i, n);
                o.x = t, o.y = e, o.width = a, o.height = a
            },
            circle: function(t, e, i, n, o) {
                o.cx = t + i / 2, o.cy = e + n / 2, o.r = Math.min(i, n) / 2
            },
            diamond: function(t, e, i, n, o) {
                o.cx = t + i / 2, o.cy = e + n / 2, o.width = i, o.height = n
            },
            pin: function(t, e, i, n, o) {
                o.x = t + i / 2, o.y = e + n / 2, o.width = i, o.height = n
            },
            arrow: function(t, e, i, n, o) {
                o.x = t + i / 2, o.y = e + n / 2, o.width = i, o.height = n
            },
            triangle: function(t, e, i, n, o) {
                o.cx = t + i / 2, o.cy = e + n / 2, o.width = i, o.height = n
            }
        },
        $I = {};
    d({
        line: Gb,
        rect: Vb,
        roundRect: Vb,
        square: Vb,
        circle: Lb,
        diamond: jI,
        pin: XI,
        arrow: YI,
        triangle: UI
    }, function(t, e) {
        $I[e] = new t
    });
    var KI = Nn({
            type: "symbol",
            shape: {
                symbolType: "",
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            beforeBrush: function() {
                var t = this.style;
                "pin" === this.shape.symbolType && "inside" === t.textPosition && (t.textPosition = ["50%", "40%"], t.textAlign = "center", t.textVerticalAlign = "middle")
            },
            buildPath: function(t, e, i) {
                var n = e.symbolType,
                    o = $I[n];
                "none" !== e.symbolType && (o || (o = $I[n = "rect"]), qI[n](e.x, e.y, e.width, e.height, o.shape), o.buildPath(t, o.shape, i))
            }
        }),
        JI = (Object.freeze || Object)({
            createList: function(t) {
                return Bs(t.getSource(), t)
            },
            getLayoutRect: Ko,
            createScale: function(t, e) {
                var i = e;
                _o.isInstance(e) || u(i = new _o(e), ZI);
                var n = sl(i);
                return n.setExtent(t[0], t[1]), rl(n, i), n
            },
            mixinAxisModelCommonMethods: function(t) {
                u(t, ZI)
            },
            completeDimensions: Es,
            createDimensions: wI,
            createSymbol: dl
        }),
        QI = 1e-8;
    gl.prototype = {
        constructor: gl,
        properties: null,
        getBoundingRect: function() {
            var t = this._rect;
            if (t) return t;
            for (var e = Number.MAX_VALUE, i = [e, e], n = [-e, -e], o = [], a = [], r = this.geometries, s = 0; s < r.length; s++) "polygon" === r[s].type && (an(r[s].exterior, o, a), tt(i, i, o), et(n, n, a));
            return 0 === s && (i[0] = i[1] = n[0] = n[1] = 0), this._rect = new Kt(i[0], i[1], n[0] - i[0], n[1] - i[1])
        },
        contain: function(t) {
            var e = this.getBoundingRect(),
                i = this.geometries;
            if (!e.contain(t[0], t[1])) return !1;
            t: for (var n = 0, o = i.length; n < o; n++)
                if ("polygon" === i[n].type) {
                    var a = i[n].exterior,
                        r = i[n].interiors;
                    if (pl(a, t[0], t[1])) {
                        for (var s = 0; s < (r ? r.length : 0); s++)
                            if (pl(r[s])) continue t;
                        return !0
                    }
                }
            return !1
        },
        transformTo: function(t, e, i, n) {
            var o = this.getBoundingRect(),
                a = o.width / o.height;
            i ? n || (n = i / a) : i = a * n;
            for (var r = new Kt(t, e, i, n), s = o.calculateTransform(r), l = this.geometries, h = 0; h < l.length; h++)
                if ("polygon" === l[h].type) {
                    for (var u = l[h].exterior, c = l[h].interiors, d = 0; d < u.length; d++) Q(u[d], u[d], s);
                    for (var f = 0; f < (c ? c.length : 0); f++)
                        for (d = 0; d < c[f].length; d++) Q(c[f][d], c[f][d], s)
                }(o = this._rect). copy(r), this.center = [o.x + o.width / 2, o.y + o.height / 2]
        }
    };
    var tT = function(t) {
            return ml(t), f(g(t.features, function(t) {
                return t.geometry && t.properties && t.geometry.coordinates.length > 0
            }), function(t) {
                var e = t.properties,
                    i = t.geometry,
                    n = i.coordinates,
                    o = [];
                "Polygon" === i.type && o.push({
                    type: "polygon",
                    exterior: n[0],
                    interiors: n.slice(1)
                }), "MultiPolygon" === i.type && d(n, function(t) {
                    t[0] && o.push({
                        type: "polygon",
                        exterior: t[0],
                        interiors: t.slice(1)
                    })
                });
                var a = new gl(e.name, o, e.cp);
                return a.properties = e, a
            })
        },
        eT = Io,
        iT = [0, 1],
        nT = function(t, e, i) {
            this.dim = t, this.scale = e, this._extent = i || [0, 0], this.inverse = !1, this.onBand = !1, this._labelInterval
        };
    nT.prototype = {
        constructor: nT,
        contain: function(t) {
            var e = this._extent,
                i = Math.min(e[0], e[1]),
                n = Math.max(e[0], e[1]);
            return t >= i && t <= n
        },
        containData: function(t) {
            return this.contain(this.dataToCoord(t))
        },
        getExtent: function() {
            return this._extent.slice()
        },
        getPixelPrecision: function(t) {
            return ko(t || this.scale.getExtent(), this._extent)
        },
        setExtent: function(t, e) {
            var i = this._extent;
            i[0] = t, i[1] = e
        },
        dataToCoord: function(t, e) {
            var i = this._extent,
                n = this.scale;
            return t = n.normalize(t), this.onBand && "ordinal" === n.type && yl(i = i.slice(), n.count()), eT(t, iT, i, e)
        },
        coordToData: function(t, e) {
            var i = this._extent,
                n = this.scale;
            this.onBand && "ordinal" === n.type && yl(i = i.slice(), n.count());
            var o = eT(t, i, iT, e);
            return this.scale.scale(o)
        },
        pointToData: function(t, e) {},
        getTicksCoords: function(t) {
            if (this.onBand && !t) {
                for (var e = this.getBands(), i = [], n = 0; n < e.length; n++) i.push(e[n][0]);
                return e[n - 1] && i.push(e[n - 1][1]), i
            }
            return f(this.scale.getTicks(), this.dataToCoord, this)
        },
        getLabelsCoords: function() {
            return f(this.scale.getTicks(), this.dataToCoord, this)
        },
        getBands: function() {
            for (var t = this.getExtent(), e = [], i = this.scale.count(), n = t[0], o = t[1] - n, a = 0; a < i; a++) e.push([o * a / i + n, o * (a + 1) / i + n]);
            return e
        },
        getBandWidth: function() {
            var t = this._extent,
                e = this.scale.getExtent(),
                i = e[1] - e[0] + (this.onBand ? 1 : 0);
            0 === i && (i = 1);
            var n = Math.abs(t[1] - t[0]);
            return Math.abs(n) / i
        },
        isHorizontal: null,
        getRotate: null,
        getLabelInterval: function() {
            var t = this._labelInterval;
            if (!t) {
                var e = this.model,
                    i = e.getModel("axisLabel");
                t = i.get("interval"), "category" !== this.type || null != t && "auto" !== t || (t = ll(f(this.scale.getTicks(), this.dataToCoord, this), e.getFormattedLabels(), i.getFont(), this.getRotate ? this.getRotate() : this.isHorizontal && !this.isHorizontal() ? 90 : 0, i.get("rotate"))), this._labelInterval = t
            }
            return t
        }
    };
    var oT = tT,
        aT = {};
    d(["map", "each", "filter", "indexOf", "inherits", "reduce", "filter", "bind", "curry", "isArray", "isString", "isObject", "isFunction", "extend", "defaults", "clone", "merge"], function(t) {
        aT[t] = Ex[t]
    });
    gs({
        type: "dataset",
        defaultOption: {
            seriesLayoutBy: RS,
            sourceHeader: null,
            dimensions: null,
            source: null
        },
        optionUpdated: function() {
            sa(this)
        }
    });
    ms({
        type: "dataset"
    }), uM.extend({
        type: "series.line",
        dependencies: ["grid", "polar"],
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "cartesian2d",
            legendHoverLink: !0,
            hoverAnimation: !0,
            clipOverflow: !0,
            label: {
                position: "top"
            },
            lineStyle: {
                width: 2,
                type: "solid"
            },
            step: !1,
            smooth: !1,
            smoothMonotone: null,
            symbol: "emptyCircle",
            symbolSize: 4,
            symbolRotate: null,
            showSymbol: !0,
            showAllSymbol: !1,
            connectNulls: !1,
            sampling: "none",
            animationEasing: "linear",
            progressive: 0,
            hoverLayerThreshold: 1 / 0
        }
    });
    var rT = bl.prototype;
    rT._createSymbol = function(t, e, i, n) {
        this.removeAll();
        var o = dl(t, -1, -1, 2, 2, e.getItemVisual(i, "color"));
        o.attr({
            z2: 100,
            culling: !0,
            scale: wl(n)
        }), o.drift = Sl, this._symbolType = t, this.add(o)
    }, rT.stopSymbolAnimation = function(t) {
        this.childAt(0).stopAnimation(t)
    }, rT.getSymbolPath = function() {
        return this.childAt(0)
    }, rT.getScale = function() {
        return this.childAt(0).scale
    }, rT.highlight = function() {
        this.childAt(0).trigger("emphasis")
    }, rT.downplay = function() {
        this.childAt(0).trigger("normal")
    }, rT.setZ = function(t, e) {
        var i = this.childAt(0);
        i.zlevel = t, i.z = e
    }, rT.setDraggable = function(t) {
        var e = this.childAt(0);
        e.draggable = t, e.cursor = t ? "move" : "pointer"
    }, rT.updateData = function(t, e, i) {
        this.silent = !1;
        var n = t.getItemVisual(e, "symbol") || "circle",
            o = t.hostModel,
            a = _l(t, e),
            r = n !== this._symbolType;
        if (r ? this._createSymbol(n, t, e, a) : ((s = this.childAt(0)).silent = !1, co(s, {
                scale: wl(a)
            }, o, e)), this._updateCommon(t, e, a, i), r) {
            var s = this.childAt(0),
                l = i && i.fadeIn,
                h = {
                    scale: s.scale.slice()
                };
            l && (h.style = {
                opacity: s.style.opacity
            }), s.scale = [0, 0], l && (s.style.opacity = 0), fo(s, h, o, e)
        }
        this._seriesModel = o
    };
    var sT = ["itemStyle"],
        lT = ["emphasis", "itemStyle"],
        hT = ["label"],
        uT = ["emphasis", "label"];
    rT._updateCommon = function(t, e, i, n) {
        var o = this.childAt(0),
            r = t.hostModel,
            s = t.getItemVisual(e, "color");
        "image" !== o.type && o.useStyle({
            strokeNoScale: !0
        });
        var l = n && n.itemStyle,
            h = n && n.hoverItemStyle,
            u = n && n.symbolRotate,
            c = n && n.symbolOffset,
            d = n && n.labelModel,
            f = n && n.hoverLabelModel,
            p = n && n.hoverAnimation,
            g = n && n.cursorStyle;
        if (!n || t.hasItemOption) {
            var m = n && n.itemModel ? n.itemModel : t.getItemModel(e);
            l = m.getModel(sT).getItemStyle(["color"]), h = m.getModel(lT).getItemStyle(), u = m.getShallow("symbolRotate"), c = m.getShallow("symbolOffset"), d = m.getModel(hT), f = m.getModel(uT), p = m.getShallow("hoverAnimation"), g = m.getShallow("cursor")
        } else h = a({}, h);
        var v = o.style;
        o.attr("rotation", (u || 0) * Math.PI / 180 || 0), c && o.attr("position", [To(c[0], i[0]), To(c[1], i[1])]), g && o.attr("cursor", g), o.setColor(s, n && n.symbolInnerColor), o.setStyle(l);
        var y = t.getItemVisual(e, "opacity");
        null != y && (v.opacity = y);
        var x = n && n.useNameLabel;
        eo(v, h, d, f, {
            labelFetcher: r,
            labelDataIndex: e,
            defaultText: function(e, i) {
                return x ? t.getName(e) : xl(t, e)
            },
            isRectText: !0,
            autoColor: s
        }), o.off("mouseover").off("mouseout").off("emphasis").off("normal"), o.hoverStyle = h, to(o);
        var _ = wl(i);
        if (p && r.isAnimationEnabled()) {
            var w = function() {
                    var t = _[1] / _[0];
                    this.animateTo({
                        scale: [Math.max(1.1 * _[0], _[0] + 3), Math.max(1.1 * _[1], _[1] + 3 * t)]
                    }, 400, "elasticOut")
                },
                b = function() {
                    this.animateTo({
                        scale: _
                    }, 400, "elasticOut")
                };
            o.on("mouseover", w).on("mouseout", b).on("emphasis", w).on("normal", b)
        }
    }, rT.fadeOut = function(t, e) {
        var i = this.childAt(0);
        this.silent = i.silent = !0, !(e && e.keepLabel) && (i.style.text = null), co(i, {
            style: {
                opacity: 0
            },
            scale: [0, 0]
        }, this._seriesModel, this.dataIndex, t)
    }, h(bl, S_);
    var cT = Ml.prototype;
    cT.updateData = function(t, e) {
        var i = this.group,
            n = t.hostModel,
            o = this._data,
            a = this._symbolCtor,
            r = Tl(t);
        o || i.removeAll(), t.diff(o).add(function(n) {
            var o = t.getItemLayout(n);
            if (Il(t, o, n, e)) {
                var s = new a(t, n, r);
                s.attr("position", o), t.setItemGraphicEl(n, s), i.add(s)
            }
        }).update(function(s, l) {
            var h = o.getItemGraphicEl(l),
                u = t.getItemLayout(s);
            Il(t, u, s, e) ? (h ? (h.updateData(t, s, r), co(h, {
                position: u
            }, n)) : (h = new a(t, s)).attr("position", u), i.add(h), t.setItemGraphicEl(s, h)) : i.remove(h)
        }).remove(function(t) {
            var e = o.getItemGraphicEl(t);
            e && e.fadeOut(function() {
                i.remove(e)
            })
        }).execute(), this._data = t
    }, cT.isPersistent = function() {
        return !0
    }, cT.updateLayout = function() {
        var t = this._data;
        t && t.eachItemGraphicEl(function(e, i) {
            var n = t.getItemLayout(i);
            e.attr("position", n)
        })
    }, cT.incrementalPrepareUpdate = function(t) {
        this._seriesScope = Tl(t), this._data = null, this.group.removeAll()
    }, cT.incrementalUpdate = function(t, e, i) {
        for (var n = t.start; n < t.end; n++) {
            var o = e.getItemLayout(n);
            if (Il(e, o, n, i)) {
                var a = new this._symbolCtor(e, n, this._seriesScope);
                a.traverse(function(t) {
                    t.isGroup || (t.incremental = t.useHoverLayer = !0)
                }), a.attr("position", o), this.group.add(a), e.setItemGraphicEl(n, a)
            }
        }
    }, cT.remove = function(t) {
        var e = this.group,
            i = this._data;
        i && (t ? i.eachItemGraphicEl(function(t) {
            t.fadeOut(function() {
                e.remove(t)
            })
        }) : e.removeAll())
    };
    var dT = function(t, e, i, n, o, a) {
            for (var r = Cl(t, e), s = [], l = [], h = [], u = [], c = [], d = [], f = [], p = a.dimensions, g = 0; g < r.length; g++) {
                var m = r[g],
                    v = !0;
                switch (m.cmd) {
                    case "=":
                        var y = t.getItemLayout(m.idx),
                            x = e.getItemLayout(m.idx1);
                        (isNaN(y[0]) || isNaN(y[1])) && (y = x.slice()), s.push(y), l.push(x), h.push(i[m.idx]), u.push(n[m.idx1]), f.push(e.getRawIndex(m.idx1));
                        break;
                    case "+":
                        _ = m.idx;
                        s.push(o.dataToPoint([e.get(p[0], _, !0), e.get(p[1], _, !0)])), l.push(e.getItemLayout(_).slice()), h.push(Dl(o, e, _)), u.push(n[_]), f.push(e.getRawIndex(_));
                        break;
                    case "-":
                        var _ = m.idx,
                            w = t.getRawIndex(_);
                        w !== _ ? (s.push(t.getItemLayout(_)), l.push(a.dataToPoint([t.get(p[0], _, !0), t.get(p[1], _, !0)])), h.push(i[_]), u.push(Dl(a, t, _)), f.push(w)) : v = !1
                }
                v && (c.push(m), d.push(d.length))
            }
            d.sort(function(t, e) {
                return f[t] - f[e]
            });
            for (var b = [], S = [], M = [], I = [], T = [], g = 0; g < d.length; g++) {
                _ = d[g];
                b[g] = s[_], S[g] = l[_], M[g] = h[_], I[g] = u[_], T[g] = c[_]
            }
            return {
                current: b,
                next: S,
                stackedOnCurrent: M,
                stackedOnNext: I,
                status: T
            }
        },
        fT = tt,
        pT = et,
        gT = Z,
        mT = G,
        vT = [],
        yT = [],
        xT = [],
        _T = Mn.extend({
            type: "ec-polyline",
            shape: {
                points: [],
                smooth: 0,
                smoothConstraint: !0,
                smoothMonotone: null,
                connectNulls: !1
            },
            style: {
                fill: null,
                stroke: "#000"
            },
            brush: Pb(Mn.prototype.brush),
            buildPath: function(t, e) {
                var i = e.points,
                    n = 0,
                    o = i.length,
                    a = Pl(i, e.smoothConstraint);
                if (e.connectNulls) {
                    for (; o > 0 && Ll(i[o - 1]); o--);
                    for (; n < o && Ll(i[n]); n++);
                }
                for (; n < o;) n += kl(t, i, n, o, o, 1, a.min, a.max, e.smooth, e.smoothMonotone, e.connectNulls) + 1
            }
        }),
        wT = Mn.extend({
            type: "ec-polygon",
            shape: {
                points: [],
                stackedOnPoints: [],
                smooth: 0,
                stackedOnSmooth: 0,
                smoothConstraint: !0,
                smoothMonotone: null,
                connectNulls: !1
            },
            brush: Pb(Mn.prototype.brush),
            buildPath: function(t, e) {
                var i = e.points,
                    n = e.stackedOnPoints,
                    o = 0,
                    a = i.length,
                    r = e.smoothMonotone,
                    s = Pl(i, e.smoothConstraint),
                    l = Pl(n, e.smoothConstraint);
                if (e.connectNulls) {
                    for (; a > 0 && Ll(i[a - 1]); a--);
                    for (; o < a && Ll(i[o]); o++);
                }
                for (; o < a;) {
                    var h = kl(t, i, o, a, a, 1, s.min, s.max, e.smooth, r, e.connectNulls);
                    kl(t, n, o + h - 1, h, a, -1, l.min, l.max, e.stackedOnSmooth, r, e.connectNulls), o += h + 1, t.closePath()
                }
            }
        });
    cr.extend({
        type: "line",
        init: function() {
            var t = new S_,
                e = new Ml;
            this.group.add(e.group), this._symbolDraw = e, this._lineGroup = t
        },
        render: function(t, e, i) {
            var n = t.coordinateSystem,
                o = this.group,
                a = t.getData(),
                s = t.getModel("lineStyle"),
                l = t.getModel("areaStyle"),
                h = a.mapArray(a.getItemLayout, !0),
                u = "polar" === n.type,
                c = this._coordSys,
                d = this._symbolDraw,
                f = this._polyline,
                p = this._polygon,
                g = this._lineGroup,
                m = t.get("animation"),
                v = !l.isEmpty(),
                y = Rl(0, n, a, l.get("origin")),
                x = t.get("showSymbol"),
                _ = x && !u && !t.get("showAllSymbol") && this._getSymbolIgnoreFunc(a, n),
                w = this._data;
            w && w.eachItemGraphicEl(function(t, e) {
                t.__temp && (o.remove(t), w.setItemGraphicEl(e, null))
            }), x || d.remove(), o.add(g);
            var b = !u && t.get("step");
            f && c.type === n.type && b === this._step ? (v && !p ? p = this._newPolygon(h, y, n, m) : p && !v && (g.remove(p), p = this._polygon = null), g.setClipPath(Gl(n, !1, t)), x && d.updateData(a, _), a.eachItemGraphicEl(function(t) {
                t.stopAnimation(!0)
            }), Ol(this._stackedOnPoints, y) && Ol(this._points, h) || (m ? this._updateAnimation(a, y, n, i, b) : (b && (h = Wl(h, n, b), y = Wl(y, n, b)), f.setShape({
                points: h
            }), p && p.setShape({
                points: h,
                stackedOnPoints: y
            })))) : (x && d.updateData(a, _), b && (h = Wl(h, n, b), y = Wl(y, n, b)), f = this._newPolyline(h, n, m), v && (p = this._newPolygon(h, y, n, m)), g.setClipPath(Gl(n, !0, t)));
            var S = Fl(a, n) || a.getVisual("color");
            f.useStyle(r(s.getLineStyle(), {
                fill: "none",
                stroke: S,
                lineJoin: "bevel"
            }));
            var M = t.get("smooth");
            if (M = Nl(t.get("smooth")), f.setShape({
                    smooth: M,
                    smoothMonotone: t.get("smoothMonotone"),
                    connectNulls: t.get("connectNulls")
                }), p) {
                var I = a.stackedOn,
                    T = 0;
                p.useStyle(r(l.getAreaStyle(), {
                    fill: S,
                    opacity: .7,
                    lineJoin: "bevel"
                })), I && (T = Nl(I.hostModel.get("smooth"))), p.setShape({
                    smooth: M,
                    stackedOnSmooth: T,
                    smoothMonotone: t.get("smoothMonotone"),
                    connectNulls: t.get("connectNulls")
                })
            }
            this._data = a, this._coordSys = n, this._stackedOnPoints = y, this._points = h, this._step = b
        },
        dispose: function() {},
        highlight: function(t, e, i, n) {
            var o = t.getData(),
                a = ki(o, n);
            if (!(a instanceof Array) && null != a && a >= 0) {
                var r = o.getItemGraphicEl(a);
                if (!r) {
                    var s = o.getItemLayout(a);
                    if (!s) return;
                    (r = new bl(o, a)).position = s, r.setZ(t.get("zlevel"), t.get("z")), r.ignore = isNaN(s[0]) || isNaN(s[1]), r.__temp = !0, o.setItemGraphicEl(a, r), r.stopSymbolAnimation(!0), this.group.add(r)
                }
                r.highlight()
            } else cr.prototype.highlight.call(this, t, e, i, n)
        },
        downplay: function(t, e, i, n) {
            var o = t.getData(),
                a = ki(o, n);
            if (null != a && a >= 0) {
                var r = o.getItemGraphicEl(a);
                r && (r.__temp ? (o.setItemGraphicEl(a, null), this.group.remove(r)) : r.downplay())
            } else cr.prototype.downplay.call(this, t, e, i, n)
        },
        _newPolyline: function(t) {
            var e = this._polyline;
            return e && this._lineGroup.remove(e), e = new _T({
                shape: {
                    points: t
                },
                silent: !0,
                z2: 10
            }), this._lineGroup.add(e), this._polyline = e, e
        },
        _newPolygon: function(t, e) {
            var i = this._polygon;
            return i && this._lineGroup.remove(i), i = new wT({
                shape: {
                    points: t,
                    stackedOnPoints: e
                },
                silent: !0
            }), this._lineGroup.add(i), this._polygon = i, i
        },
        _getSymbolIgnoreFunc: function(t, e) {
            var i = e.getAxesByScale("ordinal")[0];
            if (i && i.isLabelIgnored) return m(i.isLabelIgnored, i)
        },
        _updateAnimation: function(t, e, i, n, o) {
            var a = this._polyline,
                r = this._polygon,
                s = t.hostModel,
                l = dT(this._data, t, this._stackedOnPoints, e, this._coordSys, i),
                h = l.current,
                u = l.stackedOnCurrent,
                c = l.next,
                d = l.stackedOnNext;
            o && (h = Wl(l.current, i, o), u = Wl(l.stackedOnCurrent, i, o), c = Wl(l.next, i, o), d = Wl(l.stackedOnNext, i, o)), a.shape.__points = l.current, a.shape.points = h, co(a, {
                shape: {
                    points: c
                }
            }, s), r && (r.setShape({
                points: h,
                stackedOnPoints: u
            }), co(r, {
                shape: {
                    points: c,
                    stackedOnPoints: d
                }
            }, s));
            for (var f = [], p = l.status, g = 0; g < p.length; g++)
                if ("=" === p[g].cmd) {
                    var m = t.getItemGraphicEl(p[g].idx1);
                    m && f.push({
                        el: m,
                        ptIdx: g
                    })
                } a.animators && a.animators.length && a.animators[0].during(function() {
                for (var t = 0; t < f.length; t++) f[t].el.attr("position", a.shape.__points[f[t].ptIdx])
            })
        },
        remove: function(t) {
            var e = this.group,
                i = this._data;
            this._lineGroup.removeAll(), this._symbolDraw.remove(!0), i && i.eachItemGraphicEl(function(t, n) {
                t.__temp && (e.remove(t), i.setItemGraphicEl(n, null))
            }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null
        }
    });
    var bT = function(t, e, i) {
            return {
                seriesType: t,
                performRawSeries: !0,
                reset: function(t, n, o) {
                    var a = t.getData(),
                        r = t.get("symbol") || e,
                        s = t.get("symbolSize");
                    if (a.setVisual({
                            legendSymbol: i || r,
                            symbol: r,
                            symbolSize: s
                        }), !n.isSeriesFiltered(t)) {
                        var l = "function" == typeof s;
                        return {
                            dataEach: a.hasItemOption || l ? function(e, i) {
                                if ("function" == typeof s) {
                                    var n = t.getRawValue(i),
                                        o = t.getDataParams(i);
                                    e.setItemVisual(i, "symbolSize", s(n, o))
                                }
                                if (e.hasItemOption) {
                                    var a = e.getItemModel(i),
                                        r = a.getShallow("symbol", !0),
                                        l = a.getShallow("symbolSize", !0);
                                    null != r && e.setItemVisual(i, "symbol", r), null != l && e.setItemVisual(i, "symbolSize", l)
                                }
                            } : null
                        }
                    }
                }
            }
        },
        ST = function(t) {
            return {
                seriesType: t,
                plan: fM(),
                reset: function(t) {
                    var e = t.getData(),
                        i = t.coordinateSystem,
                        n = t.pipelineContext.large;
                    if (i) {
                        var o = f(i.dimensions, function(t) {
                                return e.getDimension(e.mapDimension(t))
                            }).slice(0, 2),
                            a = o.length;
                        return a && {
                            progress: function(t, e) {
                                for (var r = t.end - t.start, s = n && new Float32Array(r * a), l = t.start, h = 0, u = [], c = []; l < t.end; l++) {
                                    var d;
                                    if (1 === a) f = e.get(o[0], l, !0), d = !isNaN(f) && i.dataToPoint(f, null, c);
                                    else {
                                        var f = u[0] = e.get(o[0], l, !0),
                                            p = u[1] = e.get(o[1], l, !0);
                                        d = !isNaN(f) && !isNaN(p) && i.dataToPoint(u, null, c)
                                    }
                                    n ? (s[h++] = d ? d[0] : NaN, s[h++] = d ? d[1] : NaN) : e.setItemLayout(l, d && d.slice() || [NaN, NaN])
                                }
                                n && e.setLayout("symbolPoints", s)
                            }
                        }
                    }
                }
            }
        },
        MT = {
            average: function(t) {
                for (var e = 0, i = 0, n = 0; n < t.length; n++) isNaN(t[n]) || (e += t[n], i++);
                return 0 === i ? NaN : e / i
            },
            sum: function(t) {
                for (var e = 0, i = 0; i < t.length; i++) e += t[i] || 0;
                return e
            },
            max: function(t) {
                for (var e = -1 / 0, i = 0; i < t.length; i++) t[i] > e && (e = t[i]);
                return e
            },
            min: function(t) {
                for (var e = 1 / 0, i = 0; i < t.length; i++) t[i] < e && (e = t[i]);
                return e
            },
            nearest: function(t) {
                return t[0]
            }
        },
        IT = function(t, e) {
            return Math.round(t.length / 2)
        },
        TT = function(t) {
            this._axes = {}, this._dimList = [], this.name = t || ""
        };
    TT.prototype = {
        constructor: TT,
        type: "cartesian",
        getAxis: function(t) {
            return this._axes[t]
        },
        getAxes: function() {
            return f(this._dimList, Hl, this)
        },
        getAxesByScale: function(t) {
            return t = t.toLowerCase(), g(this.getAxes(), function(e) {
                return e.scale.type === t
            })
        },
        addAxis: function(t) {
            var e = t.dim;
            this._axes[e] = t, this._dimList.push(e)
        },
        dataToCoord: function(t) {
            return this._dataCoordConvert(t, "dataToCoord")
        },
        coordToData: function(t) {
            return this._dataCoordConvert(t, "coordToData")
        },
        _dataCoordConvert: function(t, e) {
            for (var i = this._dimList, n = t instanceof Array ? [] : {}, o = 0; o < i.length; o++) {
                var a = i[o],
                    r = this._axes[a];
                n[a] = r[e](t[a])
            }
            return n
        }
    }, Zl.prototype = {
        constructor: Zl,
        type: "cartesian2d",
        dimensions: ["x", "y"],
        getBaseAxis: function() {
            return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x")
        },
        containPoint: function(t) {
            var e = this.getAxis("x"),
                i = this.getAxis("y");
            return e.contain(e.toLocalCoord(t[0])) && i.contain(i.toLocalCoord(t[1]))
        },
        containData: function(t) {
            return this.getAxis("x").containData(t[0]) && this.getAxis("y").containData(t[1])
        },
        dataToPoint: function(t, e, i) {
            var n = this.getAxis("x"),
                o = this.getAxis("y");
            return i = i || [], i[0] = n.toGlobalCoord(n.dataToCoord(t[0])), i[1] = o.toGlobalCoord(o.dataToCoord(t[1])), i
        },
        clampData: function(t, e) {
            var i = this.getAxis("x").scale.getExtent(),
                n = this.getAxis("y").scale.getExtent();
            return e = e || [], e[0] = Math.min(Math.max(Math.min(i[0], i[1]), t[0]), Math.max(i[0], i[1])), e[1] = Math.min(Math.max(Math.min(n[0], n[1]), t[1]), Math.max(n[0], n[1])), e
        },
        pointToData: function(t, e) {
            var i = this.getAxis("x"),
                n = this.getAxis("y");
            return e = e || [], e[0] = i.coordToData(i.toLocalCoord(t[0])), e[1] = n.coordToData(n.toLocalCoord(t[1])), e
        },
        getOtherAxis: function(t) {
            return this.getAxis("x" === t.dim ? "y" : "x")
        }
    }, h(Zl, TT);
    var AT = function(t, e, i, n, o) {
        nT.call(this, t, e, i), this.type = n || "value", this.position = o || "bottom"
    };
    AT.prototype = {
        constructor: AT,
        index: 0,
        onZero: !1,
        model: null,
        isHorizontal: function() {
            var t = this.position;
            return "top" === t || "bottom" === t
        },
        getGlobalExtent: function(t) {
            var e = this.getExtent();
            return e[0] = this.toGlobalCoord(e[0]), e[1] = this.toGlobalCoord(e[1]), t && e[0] > e[1] && e.reverse(), e
        },
        getOtherAxis: function() {
            this.grid.getOtherAxis()
        },
        isLabelIgnored: function(t) {
            if ("category" === this.type) {
                var e = this.getLabelInterval();
                return "function" == typeof e && !e(t, this.scale.getLabel(t)) || t % (e + 1)
            }
        },
        pointToData: function(t, e) {
            return this.coordToData(this.toLocalCoord(t["x" === this.dim ? 0 : 1]), e)
        },
        toLocalCoord: null,
        toGlobalCoord: null
    }, h(AT, nT);
    var DT = {
            show: !0,
            zlevel: 0,
            z: 0,
            inverse: !1,
            name: "",
            nameLocation: "end",
            nameRotate: null,
            nameTruncate: {
                maxWidth: null,
                ellipsis: "...",
                placeholder: "."
            },
            nameTextStyle: {},
            nameGap: 15,
            silent: !1,
            triggerEvent: !1,
            tooltip: {
                show: !1
            },
            axisPointer: {},
            axisLine: {
                show: !0,
                onZero: !0,
                onZeroAxisIndex: null,
                lineStyle: {
                    color: "#333",
                    width: 1,
                    type: "solid"
                },
                symbol: ["none", "none"],
                symbolSize: [10, 15]
            },
            axisTick: {
                show: !0,
                inside: !1,
                length: 5,
                lineStyle: {
                    width: 1
                }
            },
            axisLabel: {
                show: !0,
                inside: !1,
                rotate: 0,
                showMinLabel: null,
                showMaxLabel: null,
                margin: 8,
                fontSize: 12
            },
            splitLine: {
                show: !0,
                lineStyle: {
                    color: ["#ccc"],
                    width: 1,
                    type: "solid"
                }
            },
            splitArea: {
                show: !1,
                areaStyle: {
                    color: ["rgba(250,250,250,0.3)", "rgba(200,200,200,0.3)"]
                }
            }
        },
        CT = {};
    CT.categoryAxis = n({
        boundaryGap: !0,
        deduplication: null,
        splitLine: {
            show: !1
        },
        axisTick: {
            alignWithLabel: !1,
            interval: "auto"
        },
        axisLabel: {
            interval: "auto"
        }
    }, DT), CT.valueAxis = n({
        boundaryGap: [0, 0],
        splitNumber: 5
    }, DT), CT.timeAxis = r({
        scale: !0,
        min: "dataMin",
        max: "dataMax"
    }, CT.valueAxis), CT.logAxis = r({
        scale: !0,
        logBase: 10
    }, CT.valueAxis);
    var LT = ["value", "category", "time", "log"],
        kT = function(t, e, i, a) {
            d(LT, function(r) {
                e.extend({
                    type: t + "Axis." + r,
                    mergeDefaultAndTheme: function(e, o) {
                        var a = this.layoutMode,
                            s = a ? ea(e) : {};
                        n(e, o.getTheme().get(r + "Axis")), n(e, this.getDefaultOption()), e.type = i(t, e), a && ta(e, s, a)
                    },
                    optionUpdated: function() {
                        "category" === this.option.type && (this.__ordinalMeta = Hs.createByAxisModel(this))
                    },
                    getCategories: function() {
                        if ("category" === this.option.type) return this.__ordinalMeta.categories
                    },
                    getOrdinalMeta: function() {
                        return this.__ordinalMeta
                    },
                    defaultOption: o([{}, CT[r + "Axis"], a], !0)
                })
            }), IS.registerSubTypeDefaulter(t + "Axis", v(i, t))
        },
        PT = IS.extend({
            type: "cartesian2dAxis",
            axis: null,
            init: function() {
                PT.superApply(this, "init", arguments), this.resetRange()
            },
            mergeOption: function() {
                PT.superApply(this, "mergeOption", arguments), this.resetRange()
            },
            restoreData: function() {
                PT.superApply(this, "restoreData", arguments), this.resetRange()
            },
            getCoordSysModel: function() {
                return this.ecModel.queryComponents({
                    mainType: "grid",
                    index: this.option.gridIndex,
                    id: this.option.gridId
                })[0]
            }
        });
    n(PT.prototype, ZI);
    var OT = {
        offset: 0
    };
    kT("x", PT, Ul, OT), kT("y", PT, Ul, OT), IS.extend({
        type: "grid",
        dependencies: ["xAxis", "yAxis"],
        layoutMode: "box",
        coordinateSystem: null,
        defaultOption: {
            show: !1,
            zlevel: 0,
            z: 0,
            left: "10%",
            top: 60,
            right: "10%",
            bottom: 60,
            containLabel: !1,
            backgroundColor: "rgba(0,0,0,0)",
            borderWidth: 1,
            borderColor: "#ccc"
        }
    });
    var NT = d,
        ET = function(t) {
            var e = t.scale.getExtent(),
                i = e[0],
                n = e[1];
            return !(i > 0 && n > 0 || i < 0 && n < 0)
        },
        zT = rl,
        RT = ql.prototype;
    RT.type = "grid", RT.axisPointerEnabled = !0, RT.getRect = function() {
        return this._rect
    }, RT.update = function(t, e) {
        var i = this._axesMap;
        this._updateScale(t, this.model), NT(i.x, function(t) {
            zT(t.scale, t.model)
        }), NT(i.y, function(t) {
            zT(t.scale, t.model)
        }), NT(i.x, function(t) {
            $l(i, "y", t)
        }), NT(i.y, function(t) {
            $l(i, "x", t)
        }), this.resize(this.model, e)
    }, RT.resize = function(t, e, i) {
        function n() {
            NT(a, function(t) {
                var e = t.isHorizontal(),
                    i = e ? [0, o.width] : [0, o.height],
                    n = t.inverse ? 1 : 0;
                t.setExtent(i[n], i[1 - n]), Jl(t, e ? o.x : o.y)
            })
        }
        var o = Ko(t.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        });
        this._rect = o;
        var a = this._axesList;
        n(), !i && t.get("containLabel") && (NT(a, function(t) {
            if (!t.model.get("axisLabel.inside")) {
                var e = Yl(t);
                if (e) {
                    var i = t.isHorizontal() ? "height" : "width",
                        n = t.model.get("axisLabel.margin");
                    o[i] -= e[i] + n, "top" === t.position ? o.y += e.height + n : "left" === t.position && (o.x += e.width + n)
                }
            }
        }), n())
    }, RT.getAxis = function(t, e) {
        var i = this._axesMap[t];
        if (null != i) {
            if (null == e)
                for (var n in i)
                    if (i.hasOwnProperty(n)) return i[n];
            return i[e]
        }
    }, RT.getAxes = function() {
        return this._axesList.slice()
    }, RT.getCartesian = function(t, e) {
        if (null != t && null != e) {
            var i = "x" + t + "y" + e;
            return this._coordsMap[i]
        }
        w(t) && (e = t.yAxisIndex, t = t.xAxisIndex);
        for (var n = 0, o = this._coordsList; n < o.length; n++)
            if (o[n].getAxis("x").index === t || o[n].getAxis("y").index === e) return o[n]
    }, RT.getCartesians = function() {
        return this._coordsList.slice()
    }, RT.convertToPixel = function(t, e, i) {
        var n = this._findConvertTarget(t, e);
        return n.cartesian ? n.cartesian.dataToPoint(i) : n.axis ? n.axis.toGlobalCoord(n.axis.dataToCoord(i)) : null
    }, RT.convertFromPixel = function(t, e, i) {
        var n = this._findConvertTarget(t, e);
        return n.cartesian ? n.cartesian.pointToData(i) : n.axis ? n.axis.coordToData(n.axis.toLocalCoord(i)) : null
    }, RT._findConvertTarget = function(t, e) {
        var i, n, o = e.seriesModel,
            a = e.xAxisModel || o && o.getReferringComponents("xAxis")[0],
            r = e.yAxisModel || o && o.getReferringComponents("yAxis")[0],
            s = e.gridModel,
            h = this._coordsList;
        return o ? l(h, i = o.coordinateSystem) < 0 && (i = null) : a && r ? i = this.getCartesian(a.componentIndex, r.componentIndex) : a ? n = this.getAxis("x", a.componentIndex) : r ? n = this.getAxis("y", r.componentIndex) : s && s.coordinateSystem === this && (i = this._coordsList[0]), {
            cartesian: i,
            axis: n
        }
    }, RT.containPoint = function(t) {
        var e = this._coordsList[0];
        if (e) return e.containPoint(t)
    }, RT._initCartesian = function(t, e, i) {
        function n(i) {
            return function(n, s) {
                if (jl(n, t, e)) {
                    var l = n.get("position");
                    "x" === i ? "top" !== l && "bottom" !== l && o[l = "bottom"] && (l = "top" === l ? "bottom" : "top") : "left" !== l && "right" !== l && o[l = "left"] && (l = "left" === l ? "right" : "left"), o[l] = !0;
                    var h = new AT(i, sl(n), [0, 0], n.get("type"), l),
                        u = "category" === h.type;
                    h.onBand = u && n.get("boundaryGap"), h.inverse = n.get("inverse"), h.onZero = n.get("axisLine.onZero"), h.onZeroAxisIndex = n.get("axisLine.onZeroAxisIndex"), n.axis = h, h.model = n, h.grid = this, h.index = s, this._axesList.push(h), a[i][s] = h, r[i]++
                }
            }
        }
        var o = {
                left: !1,
                right: !1,
                top: !1,
                bottom: !1
            },
            a = {
                x: {},
                y: {}
            },
            r = {
                x: 0,
                y: 0
            };
        if (e.eachComponent("xAxis", n("x"), this), e.eachComponent("yAxis", n("y"), this), !r.x || !r.y) return this._axesMap = {}, void(this._axesList = []);
        this._axesMap = a, NT(a.x, function(e, i) {
            NT(a.y, function(n, o) {
                var a = "x" + i + "y" + o,
                    r = new Zl(a);
                r.grid = this, r.model = t, this._coordsMap[a] = r, this._coordsList.push(r), r.addAxis(e), r.addAxis(n)
            }, this)
        }, this)
    }, RT._updateScale = function(t, e) {
        function i(t, e, i) {
            NT(t.mapDimension(e.dim, !0), function(i) {
                e.scale.unionExtentFromData(t, i)
            })
        }
        d(this._axesList, function(t) {
            t.scale.setExtent(1 / 0, -1 / 0)
        }), t.eachSeries(function(n) {
            if (th(n)) {
                var o = Ql(n),
                    a = o[0],
                    r = o[1];
                if (!jl(a, e, t) || !jl(r, e, t)) return;
                var s = this.getCartesian(a.componentIndex, r.componentIndex),
                    l = n.getData(),
                    h = s.getAxis("x"),
                    u = s.getAxis("y");
                "list" === l.type && (i(l, h), i(l, u))
            }
        }, this)
    }, RT.getTooltipAxes = function(t) {
        var e = [],
            i = [];
        return NT(this.getCartesians(), function(n) {
            var o = null != t && "auto" !== t ? n.getAxis(t) : n.getBaseAxis(),
                a = n.getOtherAxis(o);
            l(e, o) < 0 && e.push(o), l(i, a) < 0 && i.push(a)
        }), {
            baseAxes: e,
            otherAxes: i
        }
    };
    var BT = ["xAxis", "yAxis"];
    ql.create = function(t, e) {
        var i = [];
        return t.eachComponent("grid", function(n, o) {
            var a = new ql(n, t, e);
            a.name = "grid_" + o, a.resize(n, e, !0), n.coordinateSystem = a, i.push(a)
        }), t.eachSeries(function(t) {
            if (th(t)) {
                var e = Ql(t),
                    i = e[0],
                    n = e[1],
                    o = i.getCoordSysModel().coordinateSystem;
                t.coordinateSystem = o.getCartesian(i.componentIndex, n.componentIndex)
            }
        }), i
    }, ql.dimensions = ql.prototype.dimensions = Zl.prototype.dimensions, Aa.register("cartesian2d", ql);
    var VT = Math.PI,
        GT = function(t, e) {
            this.opt = e, this.axisModel = t, r(e, {
                labelOffset: 0,
                nameDirection: 1,
                tickDirection: 1,
                labelDirection: 1,
                silent: !0
            }), this.group = new S_;
            var i = new S_({
                position: e.position.slice(),
                rotation: e.rotation
            });
            i.updateTransform(), this._transform = i.transform, this._dumbGroup = i
        };
    GT.prototype = {
        constructor: GT,
        hasBuilder: function(t) {
            return !!WT[t]
        },
        add: function(t) {
            WT[t].call(this)
        },
        getGroup: function() {
            return this.group
        }
    };
    var WT = {
            axisLine: function() {
                var t = this.opt,
                    e = this.axisModel;
                if (e.get("axisLine.show")) {
                    var i = this.axisModel.axis.getExtent(),
                        n = this._transform,
                        o = [i[0], 0],
                        r = [i[1], 0];
                    n && (Q(o, o, n), Q(r, r, n));
                    var s = a({
                        lineCap: "round"
                    }, e.getModel("axisLine.lineStyle").getLineStyle());
                    this.group.add(new Gb(Vn({
                        anid: "line",
                        shape: {
                            x1: o[0],
                            y1: o[1],
                            x2: r[0],
                            y2: r[1]
                        },
                        style: s,
                        strokeContainThreshold: t.strokeContainThreshold || 5,
                        silent: !0,
                        z2: 1
                    })));
                    var l = e.get("axisLine.symbol"),
                        h = e.get("axisLine.symbolSize");
                    if (null != l) {
                        "string" == typeof l && (l = [l, l]), "string" != typeof h && "number" != typeof h || (h = [h, h]);
                        var u = h[0],
                            c = h[1];
                        d([
                            [t.rotation + Math.PI / 2, o],
                            [t.rotation - Math.PI / 2, r]
                        ], function(t, e) {
                            if ("none" !== l[e] && null != l[e]) {
                                var i = dl(l[e], -u / 2, -c / 2, u, c, s.stroke, !0);
                                i.attr({
                                    rotation: t[0],
                                    position: t[1],
                                    silent: !0
                                }), this.group.add(i)
                            }
                        }, this)
                    }
                }
            },
            axisTickLabel: function() {
                var t = this.axisModel,
                    e = this.opt,
                    i = lh(this, t, e);
                oh(t, hh(this, t, e), i)
            },
            axisName: function() {
                var t = this.opt,
                    e = this.axisModel,
                    i = T(t.axisName, e.get("name"));
                if (i) {
                    var n, o = e.get("nameLocation"),
                        r = t.nameDirection,
                        s = e.getModel("nameTextStyle"),
                        l = e.get("nameGap") || 0,
                        h = this.axisModel.axis.getExtent(),
                        u = h[0] > h[1] ? -1 : 1,
                        c = ["start" === o ? h[0] - u * l : "end" === o ? h[1] + u * l : (h[0] + h[1]) / 2, sh(o) ? t.labelOffset + r * l : 0],
                        d = e.get("nameRotate");
                    null != d && (d = d * VT / 180);
                    var f;
                    sh(o) ? n = FT(t.rotation, null != d ? d : t.rotation, r) : (n = ih(t, o, d || 0, h), null != (f = t.axisNameAvailableWidth) && (f = Math.abs(f / Math.sin(n.rotation)), !isFinite(f) && (f = null)));
                    var p = s.getFont(),
                        g = e.get("nameTruncate", !0) || {},
                        m = g.ellipsis,
                        v = T(t.nameTruncateMaxWidth, g.maxWidth, f),
                        y = null != m && null != v ? mS(i, v, p, m, {
                            minChar: 2,
                            placeholder: g.placeholder
                        }) : i,
                        x = e.get("tooltip", !0),
                        _ = e.mainType,
                        w = {
                            componentType: _,
                            name: i,
                            $vars: ["name"]
                        };
                    w[_ + "Index"] = e.componentIndex;
                    var b = new Cb({
                        anid: "name",
                        __fullText: i,
                        __truncatedText: y,
                        position: c,
                        rotation: n.rotation,
                        silent: nh(e),
                        z2: 1,
                        tooltip: x && x.show ? a({
                            content: i,
                            formatter: function() {
                                return i
                            },
                            formatterParams: w
                        }, x) : null
                    });
                    io(b.style, s, {
                        text: y,
                        textFont: p,
                        textFill: s.getTextColor() || e.get("axisLine.lineStyle.color"),
                        textAlign: n.textAlign,
                        textVerticalAlign: n.textVerticalAlign
                    }), e.get("triggerEvent") && (b.eventData = eh(e), b.eventData.targetType = "axisName", b.eventData.name = i), this._dumbGroup.add(b), b.updateTransform(), this.group.add(b), b.decomposeTransform()
                }
            }
        },
        FT = GT.innerTextLayout = function(t, e, i) {
            var n, o, a = Oo(e - t);
            return No(a) ? (o = i > 0 ? "top" : "bottom", n = "center") : No(a - VT) ? (o = i > 0 ? "bottom" : "top", n = "center") : (o = "middle", n = a > 0 && a < VT ? i > 0 ? "right" : "left" : i > 0 ? "left" : "right"), {
                rotation: a,
                textAlign: n,
                textVerticalAlign: o
            }
        },
        HT = GT.ifIgnoreOnTick = function(t, e, i, n, o, a) {
            if (0 === e && o || e === n - 1 && a) return !1;
            var r, s = t.scale;
            return "ordinal" === s.type && ("function" == typeof i ? (r = s.getTicks()[e], !i(r, s.getLabel(r))) : e % (i + 1))
        },
        ZT = GT.getInterval = function(t, e) {
            var i = t.get("interval");
            return null != i && "auto" != i || (i = e), i
        },
        UT = d,
        jT = v,
        XT = ms({
            type: "axis",
            _axisPointer: null,
            axisPointerClass: null,
            render: function(t, e, i, n) {
                this.axisPointerClass && mh(t), XT.superApply(this, "render", arguments), wh(this, t, 0, i, 0, !0)
            },
            updateAxisPointer: function(t, e, i, n, o) {
                wh(this, t, 0, i, 0, !1)
            },
            remove: function(t, e) {
                var i = this._axisPointer;
                i && i.remove(e), XT.superApply(this, "remove", arguments)
            },
            dispose: function(t, e) {
                bh(this, e), XT.superApply(this, "dispose", arguments)
            }
        }),
        YT = [];
    XT.registerAxisPointerClass = function(t, e) {
        YT[t] = e
    }, XT.getAxisPointerClass = function(t) {
        return t && YT[t]
    };
    var qT = GT.ifIgnoreOnTick,
        $T = GT.getInterval,
        KT = ["axisLine", "axisTickLabel", "axisName"],
        JT = ["splitArea", "splitLine"],
        QT = XT.extend({
            type: "cartesianAxis",
            axisPointerClass: "CartesianAxisPointer",
            render: function(t, e, i, n) {
                this.group.removeAll();
                var o = this._axisGroup;
                if (this._axisGroup = new S_, this.group.add(this._axisGroup), t.get("show")) {
                    var a = t.getCoordSysModel(),
                        r = Sh(a, t),
                        s = new GT(t, r);
                    d(KT, s.add, s), this._axisGroup.add(s.getGroup()), d(JT, function(e) {
                        t.get(e + ".show") && this["_" + e](t, a, r.labelInterval)
                    }, this), vo(o, this._axisGroup, t), QT.superCall(this, "render", t, e, i, n)
                }
            },
            _splitLine: function(t, e, i) {
                var n = t.axis;
                if (!n.scale.isBlank()) {
                    var o = t.getModel("splitLine"),
                        a = o.getModel("lineStyle"),
                        s = a.get("color"),
                        l = $T(o, i);
                    s = y(s) ? s : [s];
                    for (var h = e.coordinateSystem.getRect(), u = n.isHorizontal(), c = 0, d = n.getTicksCoords(), f = n.scale.getTicks(), p = t.get("axisLabel.showMinLabel"), g = t.get("axisLabel.showMaxLabel"), m = [], v = [], x = a.getLineStyle(), _ = 0; _ < d.length; _++)
                        if (!qT(n, _, l, d.length, p, g)) {
                            var w = n.toGlobalCoord(d[_]);
                            u ? (m[0] = w, m[1] = h.y, v[0] = w, v[1] = h.y + h.height) : (m[0] = h.x, m[1] = w, v[0] = h.x + h.width, v[1] = w);
                            var b = c++ % s.length;
                            this._axisGroup.add(new Gb(Vn({
                                anid: "line_" + f[_],
                                shape: {
                                    x1: m[0],
                                    y1: m[1],
                                    x2: v[0],
                                    y2: v[1]
                                },
                                style: r({
                                    stroke: s[b]
                                }, x),
                                silent: !0
                            })))
                        }
                }
            },
            _splitArea: function(t, e, i) {
                var n = t.axis;
                if (!n.scale.isBlank()) {
                    var o = t.getModel("splitArea"),
                        a = o.getModel("areaStyle"),
                        s = a.get("color"),
                        l = e.coordinateSystem.getRect(),
                        h = n.getTicksCoords(),
                        u = n.scale.getTicks(),
                        c = n.toGlobalCoord(h[0]),
                        d = n.toGlobalCoord(h[0]),
                        f = 0,
                        p = $T(o, i),
                        g = a.getAreaStyle();
                    s = y(s) ? s : [s];
                    for (var m = t.get("axisLabel.showMinLabel"), v = t.get("axisLabel.showMaxLabel"), x = 1; x < h.length; x++)
                        if (!qT(n, x, p, h.length, m, v)) {
                            var _, w, b, S, M = n.toGlobalCoord(h[x]);
                            n.isHorizontal() ? (_ = c, w = l.y, b = M - _, S = l.height) : (_ = l.x, w = d, b = l.width, S = M - w);
                            var I = f++ % s.length;
                            this._axisGroup.add(new Vb({
                                anid: "area_" + u[x],
                                shape: {
                                    x: _,
                                    y: w,
                                    width: b,
                                    height: S
                                },
                                style: r({
                                    fill: s[I]
                                }, g),
                                silent: !0
                            })), c = _ + b, d = w + S
                        }
                }
            }
        });
    QT.extend({
        type: "xAxis"
    }), QT.extend({
        type: "yAxis"
    }), ms({
        type: "grid",
        render: function(t, e) {
            this.group.removeAll(), t.get("show") && this.group.add(new Vb({
                shape: t.coordinateSystem.getRect(),
                style: r({
                    fill: t.get("backgroundColor")
                }, t.getItemStyle()),
                silent: !0,
                z2: -1
            }))
        }
    }), ss(function(t) {
        t.xAxis && t.yAxis && !t.grid && (t.grid = {})
    }), ds(bT("line", "circle", "line")), cs(ST("line")), ls(FM.PROCESSOR.STATISTIC, function(t) {
        return {
            seriesType: t,
            reset: function(t, e, i) {
                var n = t.getData(),
                    o = t.get("sampling"),
                    a = t.coordinateSystem;
                if ("cartesian2d" === a.type && o) {
                    var r = a.getBaseAxis(),
                        s = a.getOtherAxis(r),
                        l = r.getExtent(),
                        h = l[1] - l[0],
                        u = Math.round(n.count() / h);
                    if (u > 1) {
                        var c;
                        "string" == typeof o ? c = MT[o] : "function" == typeof o && (c = o), c && t.setData(n.downSample(s.dim, 1 / u, c, IT))
                    }
                }
            }
        }
    }("line"));
    var tA = uM.extend({
        type: "series.__base_bar__",
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        },
        getMarkerPosition: function(t) {
            var e = this.coordinateSystem;
            if (e) {
                var i = e.dataToPoint(e.clampData(t)),
                    n = this.getData(),
                    o = n.getLayout("offset"),
                    a = n.getLayout("size");
                return i[e.getBaseAxis().isHorizontal() ? 0 : 1] += o + a / 2, i
            }
            return [NaN, NaN]
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "cartesian2d",
            legendHoverLink: !0,
            barMinHeight: 0,
            barMinAngle: 0,
            itemStyle: {},
            emphasis: {}
        }
    });
    tA.extend({
        type: "series.bar",
        dependencies: ["grid", "polar"],
        brushSelector: "rect"
    });
    var eA = Sw([
            ["fill", "color"],
            ["stroke", "borderColor"],
            ["lineWidth", "borderWidth"],
            ["stroke", "barBorderColor"],
            ["lineWidth", "barBorderWidth"],
            ["opacity"],
            ["shadowBlur"],
            ["shadowOffsetX"],
            ["shadowOffsetY"],
            ["shadowColor"]
        ]),
        iA = {
            getBarItemStyle: function(t) {
                var e = eA(this, t);
                if (this.getBorderLineDash) {
                    var i = this.getBorderLineDash();
                    i && (e.lineDash = i)
                }
                return e
            }
        },
        nA = ["itemStyle", "barBorderWidth"];
    a(_o.prototype, iA), ys({
        type: "bar",
        render: function(t, e, i) {
            var n = t.get("coordinateSystem");
            return "cartesian2d" !== n && "polar" !== n || this._render(t, e, i), this.group
        },
        dispose: B,
        _render: function(t, e, i) {
            var n, o = this.group,
                a = t.getData(),
                r = this._data,
                s = t.coordinateSystem,
                l = s.getBaseAxis();
            "cartesian2d" === s.type ? n = l.isHorizontal() : "polar" === s.type && (n = "angle" === l.dim);
            var h = t.isAnimationEnabled() ? t : null;
            a.diff(r).add(function(e) {
                if (a.hasValue(e)) {
                    var i = a.getItemModel(e),
                        r = aA[s.type](a, e, i),
                        l = oA[s.type](a, e, i, r, n, h);
                    a.setItemGraphicEl(e, l), o.add(l), Dh(l, a, e, i, r, t, n, "polar" === s.type)
                }
            }).update(function(e, i) {
                var l = r.getItemGraphicEl(i);
                if (a.hasValue(e)) {
                    var u = a.getItemModel(e),
                        c = aA[s.type](a, e, u);
                    l ? co(l, {
                        shape: c
                    }, h, e) : l = oA[s.type](a, e, u, c, n, h, !0), a.setItemGraphicEl(e, l), o.add(l), Dh(l, a, e, u, c, t, n, "polar" === s.type)
                } else o.remove(l)
            }).remove(function(t) {
                var e = r.getItemGraphicEl(t);
                "cartesian2d" === s.type ? e && Th(t, h, e) : e && Ah(t, h, e)
            }).execute(), this._data = a
        },
        remove: function(t, e) {
            var i = this.group,
                n = this._data;
            t.get("animation") ? n && n.eachItemGraphicEl(function(e) {
                "sector" === e.type ? Ah(e.dataIndex, t, e) : Th(e.dataIndex, t, e)
            }) : i.removeAll()
        }
    });
    var oA = {
            cartesian2d: function(t, e, i, n, o, r, s) {
                var l = new Vb({
                    shape: a({}, n)
                });
                if (r) {
                    var h = l.shape,
                        u = o ? "height" : "width",
                        c = {};
                    h[u] = 0, c[u] = n[u], tS[s ? "updateProps" : "initProps"](l, {
                        shape: c
                    }, r, e)
                }
                return l
            },
            polar: function(t, e, i, n, o, r, s) {
                var l = new Ob({
                    shape: a({}, n)
                });
                if (r) {
                    var h = l.shape,
                        u = o ? "r" : "endAngle",
                        c = {};
                    h[u] = o ? 0 : n.startAngle, c[u] = n[u], tS[s ? "updateProps" : "initProps"](l, {
                        shape: c
                    }, r, e)
                }
                return l
            }
        },
        aA = {
            cartesian2d: function(t, e, i) {
                var n = t.getItemLayout(e),
                    o = Ch(i, n),
                    a = n.width > 0 ? 1 : -1,
                    r = n.height > 0 ? 1 : -1;
                return {
                    x: n.x + a * o / 2,
                    y: n.y + r * o / 2,
                    width: n.width - a * o,
                    height: n.height - r * o
                }
            },
            polar: function(t, e, i) {
                var n = t.getItemLayout(e);
                return {
                    cx: n.cx,
                    cy: n.cy,
                    r0: n.r0,
                    r: n.r,
                    startAngle: n.startAngle,
                    endAngle: n.endAngle
                }
            }
        };
    cs(v(il, "bar")), ds(function(t) {
        t.eachSeriesByType("bar", function(t) {
            t.getData().setVisual("legendSymbol", "roundRect")
        })
    });
    var rA = function(t, e, i) {
            e = y(e) && {
                coordDimensions: e
            } || a({}, e);
            var n = t.getSource(),
                o = wI(n, e),
                r = new yI(o, t);
            return r.initData(n, i), r
        },
        sA = {
            updateSelectedMap: function(t) {
                if (y(t)) this._targetList = t.slice();
                else
                    for (var e = t, i = e.mapDimension("value"), t = this._targetList = [], n = 0, o = e.count(); n < o; n++) t.push({
                        name: e.getName(n),
                        value: e.get(i, n),
                        selected: Qa(e, n, "selected")
                    });
                this._selectTargetMap = p(t || [], function(t, e) {
                    return t.set(e.name, e), t
                }, z())
            },
            select: function(t, e) {
                var i = null != e ? this._targetList[e] : this._selectTargetMap.get(t);
                "single" === this.get("selectedMode") && this._selectTargetMap.each(function(t) {
                    t.selected = !1
                }), i && (i.selected = !0)
            },
            unSelect: function(t, e) {
                var i = null != e ? this._targetList[e] : this._selectTargetMap.get(t);
                i && (i.selected = !1)
            },
            toggleSelected: function(t, e) {
                var i = null != e ? this._targetList[e] : this._selectTargetMap.get(t);
                if (null != i) return this[i.selected ? "unSelect" : "select"](t, e), i.selected
            },
            isSelected: function(t, e) {
                var i = null != e ? this._targetList[e] : this._selectTargetMap.get(t);
                return i && i.selected
            }
        },
        lA = vs({
            type: "series.pie",
            init: function(t) {
                lA.superApply(this, "init", arguments), this.legendDataProvider = function() {
                    return this.getRawData()
                }, this.updateSelectedMap(this.getRawData()), this._defaultLabelLine(t)
            },
            mergeOption: function(t) {
                lA.superCall(this, "mergeOption", t), this.updateSelectedMap(this.getRawData())
            },
            getInitialData: function(t, e) {
                return rA(this, ["value"])
            },
            getDataParams: function(t) {
                var e = this.getData(),
                    i = lA.superCall(this, "getDataParams", t),
                    n = [];
                return e.each(e.mapDimension("value"), function(t) {
                    n.push(t)
                }), i.percent = Po(n, t, e.hostModel.get("percentPrecision")), i.$vars.push("percent"), i
            },
            _defaultLabelLine: function(t) {
                Mi(t, "labelLine", ["show"]);
                var e = t.labelLine,
                    i = t.emphasis.labelLine;
                e.show = e.show && t.label.show, i.show = i.show && t.emphasis.label.show
            },
            defaultOption: {
                zlevel: 0,
                z: 2,
                legendHoverLink: !0,
                hoverAnimation: !0,
                center: ["50%", "50%"],
                radius: [0, "75%"],
                clockwise: !0,
                startAngle: 90,
                minAngle: 0,
                selectedOffset: 10,
                hoverOffset: 10,
                avoidLabelOverlap: !0,
                percentPrecision: 2,
                stillShowZeroSum: !0,
                label: {
                    rotate: !1,
                    show: !0,
                    position: "outer"
                },
                labelLine: {
                    show: !0,
                    length: 15,
                    length2: 15,
                    smooth: !1,
                    lineStyle: {
                        width: 1,
                        type: "solid"
                    }
                },
                itemStyle: {
                    borderWidth: 1
                },
                animationType: "expansion",
                animationEasing: "cubicOut"
            }
        });
    u(lA, sA);
    var hA = Ph.prototype;
    hA.updateData = function(t, e, i) {
        function n() {
            s.stopAnimation(!0), s.animateTo({
                shape: {
                    r: u.r + l.get("hoverOffset")
                }
            }, 300, "elasticOut")
        }

        function o() {
            s.stopAnimation(!0), s.animateTo({
                shape: {
                    r: u.r
                }
            }, 300, "elasticOut")
        }
        var s = this.childAt(0),
            l = t.hostModel,
            h = t.getItemModel(e),
            u = t.getItemLayout(e),
            c = a({}, u);
        c.label = null, i ? (s.setShape(c), "scale" === l.getShallow("animationType") ? (s.shape.r = u.r0, fo(s, {
            shape: {
                r: u.r
            }
        }, l, e)) : (s.shape.endAngle = u.startAngle, co(s, {
            shape: {
                endAngle: u.endAngle
            }
        }, l, e))) : co(s, {
            shape: c
        }, l, e);
        var d = t.getItemVisual(e, "color");
        s.useStyle(r({
            lineJoin: "bevel",
            fill: d
        }, h.getModel("itemStyle").getItemStyle())), s.hoverStyle = h.getModel("emphasis.itemStyle").getItemStyle();
        var f = h.getShallow("cursor");
        f && s.attr("cursor", f), kh(this, t.getItemLayout(e), l.isSelected(null, e), l.get("selectedOffset"), l.get("animation")), s.off("mouseover").off("mouseout").off("emphasis").off("normal"), h.get("hoverAnimation") && l.isAnimationEnabled() && s.on("mouseover", n).on("mouseout", o).on("emphasis", n).on("normal", o), this._updateLabel(t, e), to(this)
    }, hA._updateLabel = function(t, e) {
        var i = this.childAt(1),
            n = this.childAt(2),
            o = t.hostModel,
            a = t.getItemModel(e),
            r = t.getItemLayout(e).label,
            s = t.getItemVisual(e, "color");
        co(i, {
            shape: {
                points: r.linePoints || [
                    [r.x, r.y],
                    [r.x, r.y],
                    [r.x, r.y]
                ]
            }
        }, o, e), co(n, {
            style: {
                x: r.x,
                y: r.y
            }
        }, o, e), n.attr({
            rotation: r.rotation,
            origin: [r.x, r.y],
            z2: 10
        });
        var l = a.getModel("label"),
            h = a.getModel("emphasis.label"),
            u = a.getModel("labelLine"),
            c = a.getModel("emphasis.labelLine"),
            s = t.getItemVisual(e, "color");
        eo(n.style, n.hoverStyle = {}, l, h, {
            labelFetcher: t.hostModel,
            labelDataIndex: e,
            defaultText: t.getName(e),
            autoColor: s,
            useInsideStyle: !!r.inside
        }, {
            textAlign: r.textAlign,
            textVerticalAlign: r.verticalAlign,
            opacity: t.getItemVisual(e, "opacity")
        }), n.ignore = n.normalIgnore = !l.get("show"), n.hoverIgnore = !h.get("show"), i.ignore = i.normalIgnore = !u.get("show"), i.hoverIgnore = !c.get("show"), i.setStyle({
            stroke: s,
            opacity: t.getItemVisual(e, "opacity")
        }), i.setStyle(u.getModel("lineStyle").getLineStyle()), i.hoverStyle = c.getModel("lineStyle").getLineStyle();
        var d = u.get("smooth");
        d && !0 === d && (d = .4), i.setShape({
            smooth: d
        })
    }, h(Ph, S_);
    cr.extend({
        type: "pie",
        init: function() {
            var t = new S_;
            this._sectorGroup = t
        },
        render: function(t, e, i, n) {
            if (!n || n.from !== this.uid) {
                var o = t.getData(),
                    a = this._data,
                    r = this.group,
                    s = e.get("animation"),
                    l = !a,
                    h = t.get("animationType"),
                    u = v(Lh, this.uid, t, s, i),
                    c = t.get("selectedMode");
                if (o.diff(a).add(function(t) {
                        var e = new Ph(o, t);
                        l && "scale" !== h && e.eachChild(function(t) {
                            t.stopAnimation(!0)
                        }), c && e.on("click", u), o.setItemGraphicEl(t, e), r.add(e)
                    }).update(function(t, e) {
                        var i = a.getItemGraphicEl(e);
                        i.updateData(o, t), i.off("click"), c && i.on("click", u), r.add(i), o.setItemGraphicEl(t, i)
                    }).remove(function(t) {
                        var e = a.getItemGraphicEl(t);
                        r.remove(e)
                    }).execute(), s && l && o.count() > 0 && "scale" !== h) {
                    var d = o.getItemLayout(0),
                        f = Math.max(i.getWidth(), i.getHeight()) / 2,
                        p = m(r.removeClipPath, r);
                    r.setClipPath(this._createClipPath(d.cx, d.cy, f, d.startAngle, d.clockwise, p, t))
                }
                this._data = o
            }
        },
        dispose: function() {},
        _createClipPath: function(t, e, i, n, o, a, r) {
            var s = new Ob({
                shape: {
                    cx: t,
                    cy: e,
                    r0: 0,
                    r: i,
                    startAngle: n,
                    endAngle: n,
                    clockwise: o
                }
            });
            return fo(s, {
                shape: {
                    endAngle: n + (o ? 1 : -1) * Math.PI * 2
                }
            }, r, a), s
        },
        containPoint: function(t, e) {
            var i = e.getData().getItemLayout(0);
            if (i) {
                var n = t[0] - i.cx,
                    o = t[1] - i.cy,
                    a = Math.sqrt(n * n + o * o);
                return a <= i.r && a >= i.r0
            }
        }
    });
    var uA = function(t, e) {
            d(e, function(e) {
                e.update = "updateView", hs(e, function(i, n) {
                    var o = {};
                    return n.eachComponent({
                        mainType: "series",
                        subType: t,
                        query: i
                    }, function(t) {
                        t[e.method] && t[e.method](i.name, i.dataIndex);
                        var n = t.getData();
                        n.each(function(e) {
                            var i = n.getName(e);
                            o[i] = t.isSelected(i) || !1
                        })
                    }), {
                        name: i.name,
                        selected: o
                    }
                })
            })
        },
        cA = function(t) {
            return {
                getTargetSeries: function(e) {
                    var i = {},
                        n = z();
                    return e.eachSeriesByType(t, function(t) {
                        t.__paletteScope = i, n.set(t.uid, t)
                    }), n
                },
                reset: function(t, e) {
                    var i = t.getRawData(),
                        n = {},
                        o = t.getData();
                    o.each(function(t) {
                        var e = o.getRawIndex(t);
                        n[e] = t
                    }), i.each(function(e) {
                        var a = n[e],
                            r = null != a && o.getItemVisual(a, "color", !0);
                        if (r) i.setItemVisual(e, "color", r);
                        else {
                            var s = i.getItemModel(e).get("itemStyle.color") || t.getColorFromPalette(i.getName(e), t.__paletteScope, i.count());
                            i.setItemVisual(e, "color", s), null != a && o.setItemVisual(a, "color", s)
                        }
                    })
                }
            }
        },
        dA = function(t, e, i, n) {
            var o, a, r = t.getData(),
                s = [],
                l = !1;
            r.each(function(i) {
                var n, h, u, c, d = r.getItemLayout(i),
                    f = r.getItemModel(i),
                    p = f.getModel("label"),
                    g = p.get("position") || f.get("emphasis.label.position"),
                    m = f.getModel("labelLine"),
                    v = m.get("length"),
                    y = m.get("length2"),
                    x = (d.startAngle + d.endAngle) / 2,
                    _ = Math.cos(x),
                    w = Math.sin(x);
                o = d.cx, a = d.cy;
                var b = "inside" === g || "inner" === g;
                if ("center" === g) n = d.cx, h = d.cy, c = "center";
                else {
                    var S = (b ? (d.r + d.r0) / 2 * _ : d.r * _) + o,
                        M = (b ? (d.r + d.r0) / 2 * w : d.r * w) + a;
                    if (n = S + 3 * _, h = M + 3 * w, !b) {
                        var I = S + _ * (v + e - d.r),
                            T = M + w * (v + e - d.r),
                            A = I + (_ < 0 ? -1 : 1) * y,
                            D = T;
                        n = A + (_ < 0 ? -5 : 5), h = D, u = [
                            [S, M],
                            [I, T],
                            [A, D]
                        ]
                    }
                    c = b ? "center" : _ > 0 ? "left" : "right"
                }
                var C = p.getFont(),
                    L = p.get("rotate") ? _ < 0 ? -x + Math.PI : -x : 0,
                    k = me(t.getFormattedLabel(i, "normal") || r.getName(i), C, c, "top");
                l = !!L, d.label = {
                    x: n,
                    y: h,
                    position: g,
                    height: k.height,
                    len: v,
                    len2: y,
                    linePoints: u,
                    textAlign: c,
                    verticalAlign: "middle",
                    rotation: L,
                    inside: b
                }, b || s.push(d.label)
            }), !l && t.get("avoidLabelOverlap") && Nh(s, o, a, e, i, n)
        },
        fA = 2 * Math.PI,
        pA = Math.PI / 180,
        gA = function(t) {
            return {
                seriesType: t,
                reset: function(t, e) {
                    var i = e.findComponents({
                        mainType: "legend"
                    });
                    if (i && i.length) {
                        var n = t.getData();
                        n.filterSelf(function(t) {
                            for (var e = n.getName(t), o = 0; o < i.length; o++)
                                if (!i[o].isSelected(e)) return !1;
                            return !0
                        }, this)
                    }
                }
            }
        };
    uA("pie", [{
        type: "pieToggleSelect",
        event: "pieselectchanged",
        method: "toggleSelected"
    }, {
        type: "pieSelect",
        event: "pieselected",
        method: "select"
    }, {
        type: "pieUnSelect",
        event: "pieunselected",
        method: "unSelect"
    }]), ds(cA("pie")), cs(v(function(t, e, i, n) {
        e.eachSeriesByType(t, function(t) {
            var e = t.getData(),
                n = e.mapDimension("value"),
                o = t.get("center"),
                a = t.get("radius");
            y(a) || (a = [0, a]), y(o) || (o = [o, o]);
            var r = i.getWidth(),
                s = i.getHeight(),
                l = Math.min(r, s),
                h = To(o[0], r),
                u = To(o[1], s),
                c = To(a[0], l / 2),
                d = To(a[1], l / 2),
                f = -t.get("startAngle") * pA,
                p = t.get("minAngle") * pA,
                g = 0;
            e.each(n, function(t) {
                !isNaN(t) && g++
            });
            var m = e.getSum(n),
                v = Math.PI / (m || g) * 2,
                x = t.get("clockwise"),
                _ = t.get("roseType"),
                w = t.get("stillShowZeroSum"),
                b = e.getDataExtent(n);
            b[0] = 0;
            var S = fA,
                M = 0,
                I = f,
                T = x ? 1 : -1;
            if (e.each(n, function(t, i) {
                    var n;
                    if (isNaN(t)) e.setItemLayout(i, {
                        angle: NaN,
                        startAngle: NaN,
                        endAngle: NaN,
                        clockwise: x,
                        cx: h,
                        cy: u,
                        r0: c,
                        r: _ ? NaN : d
                    });
                    else {
                        (n = "area" !== _ ? 0 === m && w ? v : t * v : fA / g) < p ? (n = p, S -= p) : M += t;
                        var o = I + T * n;
                        e.setItemLayout(i, {
                            angle: n,
                            startAngle: I,
                            endAngle: o,
                            clockwise: x,
                            cx: h,
                            cy: u,
                            r0: c,
                            r: _ ? Io(t, b, [c, d]) : d
                        }), I = o
                    }
                }, !0), S < fA && g)
                if (S <= .001) {
                    var A = fA / g;
                    e.each(n, function(t, i) {
                        if (!isNaN(t)) {
                            var n = e.getItemLayout(i);
                            n.angle = A, n.startAngle = f + T * i * A, n.endAngle = f + T * (i + 1) * A
                        }
                    })
                } else v = S / M, I = f, e.each(n, function(t, i) {
                    if (!isNaN(t)) {
                        var n = e.getItemLayout(i),
                            o = n.angle === p ? p : t * v;
                        n.startAngle = I, n.endAngle = I + T * o, I += T * o
                    }
                });
            dA(t, d, r, s)
        })
    }, "pie")), ls(gA("pie")), uM.extend({
        type: "series.scatter",
        dependencies: ["grid", "polar", "geo", "singleAxis", "calendar"],
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        },
        brushSelector: "point",
        getProgressive: function() {
            var t = this.option.progressive;
            return null == t ? this.option.large ? 5e3 : this.get("progressive") : t
        },
        getProgressiveThreshold: function() {
            var t = this.option.progressiveThreshold;
            return null == t ? this.option.large ? 1e4 : this.get("progressiveThreshold") : t
        },
        defaultOption: {
            coordinateSystem: "cartesian2d",
            zlevel: 0,
            z: 2,
            legendHoverLink: !0,
            hoverAnimation: !0,
            symbolSize: 10,
            large: !1,
            largeThreshold: 2e3,
            itemStyle: {
                opacity: .8
            },
            progressive: null
        }
    });
    var mA = Nn({
            shape: {
                points: null
            },
            symbolProxy: null,
            buildPath: function(t, e) {
                var i = e.points,
                    n = e.size,
                    o = this.symbolProxy,
                    a = o.shape;
                if (!((t.getContext ? t.getContext() : t) && n[0] < 4))
                    for (var r = 0; r < i.length;) {
                        var s = i[r++],
                            l = i[r++];
                        isNaN(s) || isNaN(l) || (a.x = s - n[0] / 2, a.y = l - n[1] / 2, a.width = n[0], a.height = n[1], o.buildPath(t, a, !0))
                    }
            },
            afterBrush: function(t) {
                var e = this.shape,
                    i = e.points,
                    n = e.size;
                if (n[0] < 4) {
                    this.setTransform(t);
                    for (var o = 0; o < i.length;) {
                        var a = i[o++],
                            r = i[o++];
                        isNaN(a) || isNaN(r) || t.fillRect(a - n[0] / 2, r - n[1] / 2, n[0], n[1])
                    }
                    this.restoreTransform(t)
                }
            },
            findDataIndex: function(t, e) {
                for (var i = this.shape, n = i.points, o = i.size, a = Math.max(o[0], 4), r = Math.max(o[1], 4), s = n.length / 2 - 1; s >= 0; s--) {
                    var l = 2 * s,
                        h = n[l] - a / 2,
                        u = n[l + 1] - r / 2;
                    if (t >= h && e >= u && t <= h + a && e <= u + r) return s
                }
                return -1
            }
        }),
        vA = Eh.prototype;
    vA.isPersistent = function() {
        return !this._incremental
    }, vA.updateData = function(t) {
        this.group.removeAll();
        var e = new mA({
            rectHover: !0,
            cursor: "default"
        });
        e.setShape({
            points: t.getLayout("symbolPoints")
        }), this._setCommon(e, t), this.group.add(e), this._incremental = null
    }, vA.updateLayout = function(t) {
        if (!this._incremental) {
            var e = t.getLayout("symbolPoints");
            this.group.eachChild(function(t) {
                if (null != t.startIndex) {
                    var i = 2 * (t.endIndex - t.startIndex),
                        n = 4 * t.startIndex * 2;
                    e = new Float32Array(e.buffer, n, i)
                }
                t.setShape("points", e)
            })
        }
    }, vA.incrementalPrepareUpdate = function(t) {
        this.group.removeAll(), this._clearIncremental(), t.count() > 2e6 ? (this._incremental || (this._incremental = new On({
            silent: !0
        })), this.group.add(this._incremental)) : this._incremental = null
    }, vA.incrementalUpdate = function(t, e) {
        var i;
        this._incremental ? (i = new mA, this._incremental.addDisplayable(i, !0)) : ((i = new mA({
            rectHover: !0,
            cursor: "default",
            startIndex: t.start,
            endIndex: t.end
        })).incremental = !0, this.group.add(i)), i.setShape({
            points: e.getLayout("symbolPoints")
        }), this._setCommon(i, e, !!this._incremental)
    }, vA._setCommon = function(t, e, i) {
        var n = e.hostModel,
            o = e.getVisual("symbolSize");
        t.setShape("size", o instanceof Array ? o : [o, o]), t.symbolProxy = dl(e.getVisual("symbol"), 0, 0, 0, 0), t.setColor = t.symbolProxy.setColor;
        var a = t.shape.size[0] < 4;
        t.useStyle(n.getModel("itemStyle").getItemStyle(a ? ["color", "shadowBlur", "shadowColor"] : ["color"]));
        var r = e.getVisual("color");
        r && t.setColor(r), i || (t.seriesIndex = n.seriesIndex, t.on("mousemove", function(e) {
            t.dataIndex = null;
            var i = t.findDataIndex(e.offsetX, e.offsetY);
            i >= 0 && (t.dataIndex = i + (t.startIndex || 0))
        }))
    }, vA.remove = function() {
        this._clearIncremental(), this._incremental = null, this.group.removeAll()
    }, vA._clearIncremental = function() {
        var t = this._incremental;
        t && t.clearDisplaybles()
    }, ys({
        type: "scatter",
        render: function(t, e, i) {
            var n = t.getData();
            this._updateSymbolDraw(n, t).updateData(n), this._finished = !0
        },
        incrementalPrepareRender: function(t, e, i) {
            var n = t.getData();
            this._updateSymbolDraw(n, t).incrementalPrepareUpdate(n), this._finished = !1
        },
        incrementalRender: function(t, e, i) {
            this._symbolDraw.incrementalUpdate(t, e.getData()), this._finished = t.end === e.getData().count()
        },
        updateTransform: function(t, e, i) {
            var n = t.getData();
            if (this.group.dirty(), !this._finished || n.count() > 1e4 || !this._symbolDraw.isPersistent()) return {
                update: !0
            };
            var o = ST().reset(t);
            o.progress && o.progress({
                start: 0,
                end: n.count()
            }, n), this._symbolDraw.updateLayout(n)
        },
        _updateSymbolDraw: function(t, e) {
            var i = this._symbolDraw,
                n = e.pipelineContext.large;
            return i && n === this._isLargeDraw || (i && i.remove(), i = this._symbolDraw = n ? new Eh : new Ml, this._isLargeDraw = n, this.group.removeAll()), this.group.add(i.group), i
        },
        remove: function(t, e) {
            this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null
        },
        dispose: function() {}
    }), ds(bT("scatter", "circle")), cs(ST("scatter")), h(zh, nT), Rh.prototype.getIndicatorAxes = function() {
        return this._indicatorAxes
    }, Rh.prototype.dataToPoint = function(t, e) {
        var i = this._indicatorAxes[e];
        return this.coordToPoint(i.dataToCoord(t), e)
    }, Rh.prototype.coordToPoint = function(t, e) {
        var i = this._indicatorAxes[e].angle;
        return [this.cx + t * Math.cos(i), this.cy - t * Math.sin(i)]
    }, Rh.prototype.pointToData = function(t) {
        var e = t[0] - this.cx,
            i = t[1] - this.cy,
            n = Math.sqrt(e * e + i * i);
        e /= n, i /= n;
        for (var o, a = Math.atan2(-i, e), r = 1 / 0, s = -1, l = 0; l < this._indicatorAxes.length; l++) {
            var h = this._indicatorAxes[l],
                u = Math.abs(a - h.angle);
            u < r && (o = h, s = l, r = u)
        }
        return [s, +(o && o.coodToData(n))]
    }, Rh.prototype.resize = function(t, e) {
        var i = t.get("center"),
            n = e.getWidth(),
            o = e.getHeight(),
            a = Math.min(n, o) / 2;
        this.cx = To(i[0], n), this.cy = To(i[1], o), this.startAngle = t.get("startAngle") * Math.PI / 180, this.r = To(t.get("radius"), a), d(this._indicatorAxes, function(t, e) {
            t.setExtent(0, this.r);
            var i = this.startAngle + e * Math.PI * 2 / this._indicatorAxes.length;
            i = Math.atan2(Math.sin(i), Math.cos(i)), t.angle = i
        }, this)
    }, Rh.prototype.update = function(t, e) {
        function i(t) {
            var e = Math.pow(10, Math.floor(Math.log(t) / Math.LN10)),
                i = t / e;
            return 2 === i ? i = 5 : i *= 2, i * e
        }
        var n = this._indicatorAxes,
            o = this._model;
        d(n, function(t) {
            t.scale.setExtent(1 / 0, -1 / 0)
        }), t.eachSeriesByType("radar", function(e, i) {
            if ("radar" === e.get("coordinateSystem") && t.getComponent("radar", e.get("radarIndex")) === o) {
                var a = e.getData();
                d(n, function(t) {
                    t.scale.unionExtentFromData(a, a.mapDimension(t.dim))
                })
            }
        }, this);
        var a = o.get("splitNumber");
        d(n, function(t, e) {
            var n = ol(t.scale, t.model);
            rl(t.scale, t.model);
            var o = t.model,
                r = t.scale,
                s = o.getMin(),
                l = o.getMax(),
                h = r.getInterval();
            if (null != s && null != l) r.setExtent(+s, +l), r.setInterval((l - s) / a);
            else if (null != s) {
                var u;
                do {
                    u = s + h * a, r.setExtent(+s, u), r.setInterval(h), h = i(h)
                } while (u < n[1] && isFinite(u) && isFinite(n[1]))
            } else if (null != l) {
                var c;
                do {
                    c = l - h * a, r.setExtent(c, +l), r.setInterval(h), h = i(h)
                } while (c > n[0] && isFinite(c) && isFinite(n[0]))
            } else {
                r.getTicks().length - 1 > a && (h = i(h));
                var d = Math.round((n[0] + n[1]) / 2 / h) * h,
                    f = Math.round(a / 2);
                r.setExtent(Ao(d - f * h), Ao(d + (a - f) * h)), r.setInterval(h)
            }
        })
    }, Rh.dimensions = [], Rh.create = function(t, e) {
        var i = [];
        return t.eachComponent("radar", function(n) {
            var o = new Rh(n, t, e);
            i.push(o), n.coordinateSystem = o
        }), t.eachSeriesByType("radar", function(t) {
            "radar" === t.get("coordinateSystem") && (t.coordinateSystem = i[t.get("radarIndex") || 0])
        }), i
    }, Aa.register("radar", Rh);
    var yA = CT.valueAxis,
        xA = (gs({
            type: "radar",
            optionUpdated: function() {
                var t = this.get("boundaryGap"),
                    e = this.get("splitNumber"),
                    o = this.get("scale"),
                    s = this.get("axisLine"),
                    l = this.get("axisTick"),
                    h = this.get("axisLabel"),
                    u = this.get("name"),
                    c = this.get("name.show"),
                    d = this.get("name.formatter"),
                    p = this.get("nameGap"),
                    g = this.get("triggerEvent"),
                    m = f(this.get("indicator") || [], function(f) {
                        null != f.max && f.max > 0 && !f.min ? f.min = 0 : null != f.min && f.min < 0 && !f.max && (f.max = 0);
                        var m = u;
                        if (null != f.color && (m = r({
                                color: f.color
                            }, u)), f = n(i(f), {
                                boundaryGap: t,
                                splitNumber: e,
                                scale: o,
                                axisLine: s,
                                axisTick: l,
                                axisLabel: h,
                                name: f.text,
                                nameLocation: "end",
                                nameGap: p,
                                nameTextStyle: m,
                                triggerEvent: g
                            }, !1), c || (f.name = ""), "string" == typeof d) {
                            var v = f.name;
                            f.name = d.replace("{value}", null != v ? v : "")
                        } else "function" == typeof d && (f.name = d(f.name, f));
                        var y = a(new _o(f, null, this.ecModel), ZI);
                        return y.mainType = "radar", y.componentIndex = this.componentIndex, y
                    }, this);
                this.getIndicatorModels = function() {
                    return m
                }
            },
            defaultOption: {
                zlevel: 0,
                z: 0,
                center: ["50%", "50%"],
                radius: "75%",
                startAngle: 90,
                name: {
                    show: !0
                },
                boundaryGap: [0, 0],
                splitNumber: 5,
                nameGap: 15,
                scale: !1,
                shape: "polygon",
                axisLine: n({
                    lineStyle: {
                        color: "#bbb"
                    }
                }, yA.axisLine),
                axisLabel: Bh(yA.axisLabel, !1),
                axisTick: Bh(yA.axisTick, !1),
                splitLine: Bh(yA.splitLine, !0),
                splitArea: Bh(yA.splitArea, !0),
                indicator: []
            }
        }), ["axisLine", "axisTickLabel", "axisName"]);
    ms({
        type: "radar",
        render: function(t, e, i) {
            this.group.removeAll(), this._buildAxes(t), this._buildSplitLineAndArea(t)
        },
        _buildAxes: function(t) {
            var e = t.coordinateSystem;
            d(f(e.getIndicatorAxes(), function(t) {
                return new GT(t.model, {
                    position: [e.cx, e.cy],
                    rotation: t.angle,
                    labelDirection: -1,
                    tickDirection: -1,
                    nameDirection: 1
                })
            }), function(t) {
                d(xA, t.add, t), this.group.add(t.getGroup())
            }, this)
        },
        _buildSplitLineAndArea: function(t) {
            function e(t, e, i) {
                var n = i % e.length;
                return t[n] = t[n] || [], n
            }
            var i = t.coordinateSystem,
                n = i.getIndicatorAxes();
            if (n.length) {
                var o = t.get("shape"),
                    a = t.getModel("splitLine"),
                    s = t.getModel("splitArea"),
                    l = a.getModel("lineStyle"),
                    h = s.getModel("areaStyle"),
                    u = a.get("show"),
                    c = s.get("show"),
                    p = l.get("color"),
                    g = h.get("color");
                p = y(p) ? p : [p], g = y(g) ? g : [g];
                var m = [],
                    v = [];
                if ("circle" === o)
                    for (var x = n[0].getTicksCoords(), _ = i.cx, w = i.cy, b = 0; b < x.length; b++) u && m[D = e(m, p, b)].push(new Lb({
                        shape: {
                            cx: _,
                            cy: w,
                            r: x[b]
                        }
                    })), c && b < x.length - 1 && v[D = e(v, g, b)].push(new Nb({
                        shape: {
                            cx: _,
                            cy: w,
                            r0: x[b],
                            r: x[b + 1]
                        }
                    }));
                else
                    for (var S, M = f(n, function(t, e) {
                            var n = t.getTicksCoords();
                            return S = null == S ? n.length - 1 : Math.min(n.length - 1, S), f(n, function(t) {
                                return i.coordToPoint(t, e)
                            })
                        }), I = [], b = 0; b <= S; b++) {
                        for (var T = [], A = 0; A < n.length; A++) T.push(M[A][b]);
                        if (T[0] && T.push(T[0].slice()), u && m[D = e(m, p, b)].push(new Bb({
                                shape: {
                                    points: T
                                }
                            })), c && I) {
                            var D = e(v, g, b - 1);
                            v[D].push(new Rb({
                                shape: {
                                    points: T.concat(I)
                                }
                            }))
                        }
                        I = T.slice().reverse()
                    }
                var C = l.getLineStyle(),
                    L = h.getAreaStyle();
                d(v, function(t, e) {
                    this.group.add(Qb(t, {
                        style: r({
                            stroke: "none",
                            fill: g[e % g.length]
                        }, L),
                        silent: !0
                    }))
                }, this), d(m, function(t, e) {
                    this.group.add(Qb(t, {
                        style: r({
                            fill: "none",
                            stroke: p[e % p.length]
                        }, C),
                        silent: !0
                    }))
                }, this)
            }
        }
    });
    var _A = uM.extend({
        type: "series.radar",
        dependencies: ["radar"],
        init: function(t) {
            _A.superApply(this, "init", arguments), this.legendDataProvider = function() {
                return this.getRawData()
            }
        },
        getInitialData: function(t, e) {
            return rA(this, {
                extraPrefix: "indicator_",
                extraFromZero: !0
            })
        },
        formatTooltip: function(t) {
            var e = this.getData(),
                i = this.coordinateSystem.getIndicatorAxes(),
                n = this.getData().getName(t);
            return Ho("" === n ? this.name : n) + "<br/>" + f(i, function(i, n) {
                var o = e.get(e.mapDimension(i.dim), t);
                return Ho(i.name + " : " + o)
            }).join("<br />")
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "radar",
            legendHoverLink: !0,
            radarIndex: 0,
            lineStyle: {
                width: 2,
                type: "solid"
            },
            label: {
                position: "top"
            },
            symbol: "emptyCircle",
            symbolSize: 4
        }
    });
    ys({
        type: "radar",
        render: function(t, e, n) {
            function o(t, e) {
                var i = t.getItemVisual(e, "symbol") || "circle",
                    n = t.getItemVisual(e, "color");
                if ("none" !== i) {
                    var o = Vh(t.getItemVisual(e, "symbolSize")),
                        a = dl(i, -1, -1, 2, 2, n);
                    return a.attr({
                        style: {
                            strokeNoScale: !0
                        },
                        z2: 100,
                        scale: [o[0] / 2, o[1] / 2]
                    }), a
                }
            }

            function a(e, i, n, a, r, s) {
                n.removeAll();
                for (var l = 0; l < i.length - 1; l++) {
                    var h = o(a, r);
                    h && (h.__dimIdx = l, e[l] ? (h.attr("position", e[l]), tS[s ? "initProps" : "updateProps"](h, {
                        position: i[l]
                    }, t, r)) : h.attr("position", i[l]), n.add(h))
                }
            }

            function s(t) {
                return f(t, function(t) {
                    return [l.cx, l.cy]
                })
            }
            var l = t.coordinateSystem,
                h = this.group,
                u = t.getData(),
                c = this._data;
            u.diff(c).add(function(e) {
                var i = u.getItemLayout(e);
                if (i) {
                    var n = new Rb,
                        o = new Bb,
                        r = {
                            shape: {
                                points: i
                            }
                        };
                    n.shape.points = s(i), o.shape.points = s(i), fo(n, r, t, e), fo(o, r, t, e);
                    var l = new S_,
                        h = new S_;
                    l.add(o), l.add(n), l.add(h), a(o.shape.points, i, h, u, e, !0), u.setItemGraphicEl(e, l)
                }
            }).update(function(e, i) {
                var n = c.getItemGraphicEl(i),
                    o = n.childAt(0),
                    r = n.childAt(1),
                    s = n.childAt(2),
                    l = {
                        shape: {
                            points: u.getItemLayout(e)
                        }
                    };
                l.shape.points && (a(o.shape.points, l.shape.points, s, u, e, !1), co(o, l, t), co(r, l, t), u.setItemGraphicEl(e, n))
            }).remove(function(t) {
                h.remove(c.getItemGraphicEl(t))
            }).execute(), u.eachItemGraphicEl(function(t, e) {
                function n() {
                    l.attr("ignore", m)
                }

                function o() {
                    l.attr("ignore", g)
                }
                var a = u.getItemModel(e),
                    s = t.childAt(0),
                    l = t.childAt(1),
                    c = t.childAt(2),
                    d = u.getItemVisual(e, "color");
                h.add(t), s.useStyle(r(a.getModel("lineStyle").getLineStyle(), {
                    fill: "none",
                    stroke: d
                })), s.hoverStyle = a.getModel("emphasis.lineStyle").getLineStyle();
                var f = a.getModel("areaStyle"),
                    p = a.getModel("emphasis.areaStyle"),
                    g = f.isEmpty() && f.parentModel.isEmpty(),
                    m = p.isEmpty() && p.parentModel.isEmpty();
                m = m && g, l.ignore = g, l.useStyle(r(f.getAreaStyle(), {
                    fill: d,
                    opacity: .7
                })), l.hoverStyle = p.getAreaStyle();
                var v = a.getModel("itemStyle").getItemStyle(["color"]),
                    y = a.getModel("emphasis.itemStyle").getItemStyle(),
                    x = a.getModel("label"),
                    _ = a.getModel("emphasis.label");
                c.eachChild(function(t) {
                    t.setStyle(v), t.hoverStyle = i(y), eo(t.style, t.hoverStyle, x, _, {
                        labelFetcher: u.hostModel,
                        labelDataIndex: e,
                        labelDimIndex: t.__dimIdx,
                        defaultText: u.get(u.dimensions[t.__dimIdx], e),
                        autoColor: d,
                        isRectText: !0
                    })
                }), t.off("mouseover").off("mouseout").off("normal").off("emphasis"), t.on("emphasis", n).on("mouseover", n).on("normal", o).on("mouseout", o), to(t)
            }), this._data = u
        },
        remove: function() {
            this.group.removeAll(), this._data = null
        },
        dispose: function() {}
    });
    ds(cA("radar")), ds(bT("radar", "circle")), cs(function(t) {
        t.eachSeriesByType("radar", function(t) {
            var e = t.getData(),
                i = [],
                n = t.coordinateSystem;
            if (n) {
                for (var o = n.getIndicatorAxes(), a = 0; a < n.getIndicatorAxes().length; a++) e.each(e.mapDimension(o[a].dim), function(t, e) {
                    i[e] = i[e] || [], i[e][a] = n.dataToPoint(t, a)
                });
                e.each(function(t) {
                    i[t][0] && i[t].push(i[t][0].slice()), e.setItemLayout(t, i[t])
                })
            }
        })
    }), ls(gA("radar")), ss(function(t) {
        var e = t.polar;
        if (e) {
            y(e) || (e = [e]);
            var i = [];
            d(e, function(e, n) {
                e.indicator ? (e.type && !e.shape && (e.shape = e.type), t.radar = t.radar || [], y(t.radar) || (t.radar = [t.radar]), t.radar.push(e)) : i.push(e)
            }), t.polar = i
        }
        d(t.series, function(t) {
            t && "radar" === t.type && t.polarIndex && (t.radarIndex = t.polarIndex)
        })
    });
    var wA = uM.extend({
        type: "series.map",
        dependencies: ["geo"],
        layoutMode: "box",
        needsDrawMap: !1,
        seriesGroup: [],
        init: function(t) {
            this._fillOption(t, this.getMapType()), wA.superApply(this, "init", arguments), this.updateSelectedMap(this.getRawData())
        },
        getInitialData: function(t) {
            return rA(this, ["value"])
        },
        mergeOption: function(t) {
            this._fillOption(t, this.getMapType()), wA.superApply(this, "mergeOption", arguments), this.updateSelectedMap(this.getRawData())
        },
        getHostGeoModel: function() {
            var t = this.option.geoIndex;
            return null != t ? this.dependentModels.geo[t] : null
        },
        getMapType: function() {
            return (this.getHostGeoModel() || this).option.map
        },
        _fillOption: function(t, e) {},
        getRawValue: function(t) {
            var e = this.getData();
            return e.get(e.mapDimension("value"), t)
        },
        getRegionModel: function(t) {
            var e = this.getData();
            return e.getItemModel(e.indexOfName(t))
        },
        formatTooltip: function(t) {
            for (var e = this.getData(), i = Wo(this.getRawValue(t)), n = e.getName(t), o = this.seriesGroup, a = [], r = 0; r < o.length; r++) {
                var s = o[r].originalData.indexOfName(n),
                    l = e.mapDimension("value");
                isNaN(o[r].originalData.get(l, s)) || a.push(Ho(o[r].name))
            }
            return a.join(", ") + "<br />" + Ho(n + " : " + i)
        },
        getTooltipPosition: function(t) {
            if (null != t) {
                var e = this.getData().getName(t),
                    i = this.coordinateSystem,
                    n = i.getRegion(e);
                return n && i.dataToPoint(n.center)
            }
        },
        setZoom: function(t) {
            this.option.zoom = t
        },
        setCenter: function(t) {
            this.option.center = t
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "geo",
            map: "",
            left: "center",
            top: "center",
            aspectScale: .75,
            showLegendSymbol: !0,
            dataRangeHoverLink: !0,
            boundingCoords: null,
            center: null,
            zoom: 1,
            scaleLimit: null,
            label: {
                show: !1,
                color: "#000"
            },
            itemStyle: {
                borderWidth: .5,
                borderColor: "#444",
                areaColor: "#eee"
            },
            emphasis: {
                label: {
                    show: !0,
                    color: "rgb(100,0,0)"
                },
                itemStyle: {
                    areaColor: "rgba(255,215,0,0.8)"
                }
            }
        }
    });
    u(wA, sA);
    var bA = "\0_ec_interaction_mutex";
    hs({
        type: "takeGlobalCursor",
        event: "globalCursorTaken",
        update: "update"
    }, function() {}), u(Zh, Hx);
    var SA = {
        axisPointer: 1,
        tooltip: 1,
        brush: 1
    };
    ou.prototype = {
        constructor: ou,
        draw: function(t, e, i, n, o) {
            var a = "geo" === t.mainType,
                r = t.getData && t.getData();
            a && e.eachComponent({
                mainType: "series",
                subType: "map"
            }, function(e) {
                r || e.getHostGeoModel() !== t || (r = e.getData())
            });
            var s = t.coordinateSystem,
                l = this.group,
                h = s.scale,
                u = {
                    position: s.position,
                    scale: h
                };
            !l.childAt(0) || o ? l.attr(u) : co(l, u, t), l.removeAll();
            var c = ["itemStyle"],
                f = ["emphasis", "itemStyle"],
                p = ["label"],
                g = ["emphasis", "label"],
                m = z();
            d(s.regions, function(e) {
                var i = m.get(e.name) || m.set(e.name, new S_),
                    n = new Zb({
                        shape: {
                            paths: []
                        }
                    });
                i.add(n);
                var o, s = (C = t.getRegionModel(e.name) || t).getModel(c),
                    u = C.getModel(f),
                    v = eu(s),
                    y = eu(u),
                    x = C.getModel(p),
                    _ = C.getModel(g);
                if (r) {
                    o = r.indexOfName(e.name);
                    var w = r.getItemVisual(o, "color", !0);
                    w && (v.fill = w)
                }
                d(e.geometries, function(t) {
                    if ("polygon" === t.type) {
                        n.shape.paths.push(new Rb({
                            shape: {
                                points: t.exterior
                            }
                        }));
                        for (var e = 0; e < (t.interiors ? t.interiors.length : 0); e++) n.shape.paths.push(new Rb({
                            shape: {
                                points: t.interiors[e]
                            }
                        }))
                    }
                }), n.setStyle(v), n.style.strokeNoScale = !0, n.culling = !0;
                var b = x.get("show"),
                    S = _.get("show"),
                    M = r && isNaN(r.get(r.mapDimension("value"), o)),
                    I = r && r.getItemLayout(o);
                if (a || M && (b || S) || I && I.showLabel) {
                    var T, A = a ? e.name : o;
                    (!r || o >= 0) && (T = t);
                    var D = new Cb({
                        position: e.center.slice(),
                        scale: [1 / h[0], 1 / h[1]],
                        z2: 10,
                        silent: !0
                    });
                    eo(D.style, D.hoverStyle = {}, x, _, {
                        labelFetcher: T,
                        labelDataIndex: A,
                        defaultText: e.name,
                        useInsideStyle: !1
                    }, {
                        textAlign: "center",
                        textVerticalAlign: "middle"
                    }), i.add(D)
                }
                if (r) r.setItemGraphicEl(o, i);
                else {
                    var C = t.getRegionModel(e.name);
                    n.eventData = {
                        componentType: "geo",
                        geoIndex: t.componentIndex,
                        name: e.name,
                        region: C && C.option || {}
                    }
                }(i.__regions || (i.__regions = [])).push(e), to(i, y, {
                    hoverSilentOnTouch: !!t.get("selectedMode")
                }), l.add(i)
            }), this._updateController(t, e, i), iu(this, t, l, i, n), nu(t, l)
        },
        remove: function() {
            this.group.removeAll(), this._controller.dispose(), this._controllerHost = {}
        },
        _updateController: function(t, e, i) {
            function n() {
                var e = {
                    type: "geoRoam",
                    componentType: l
                };
                return e[l + "Id"] = t.id, e
            }
            var o = t.coordinateSystem,
                r = this._controller,
                s = this._controllerHost;
            s.zoomLimit = t.get("scaleLimit"), s.zoom = o.getZoom(), r.enable(t.get("roam") || !1);
            var l = t.mainType;
            r.off("pan").on("pan", function(t, e) {
                this._mouseDownFlag = !1, Jh(s, t, e), i.dispatchAction(a(n(), {
                    dx: t,
                    dy: e
                }))
            }, this), r.off("zoom").on("zoom", function(t, e, o) {
                if (this._mouseDownFlag = !1, Qh(s, t, e, o), i.dispatchAction(a(n(), {
                        zoom: t,
                        originX: e,
                        originY: o
                    })), this._updateGroup) {
                    var r = this.group,
                        l = r.scale;
                    r.traverse(function(t) {
                        "text" === t.type && t.attr("scale", [1 / l[0], 1 / l[1]])
                    })
                }
            }, this), r.setPointerChecker(function(e, n, a) {
                return o.getViewRectAfterRoam().contain(n, a) && !tu(e, i, t)
            })
        }
    }, ys({
        type: "map",
        render: function(t, e, i, n) {
            if (!n || "mapToggleSelect" !== n.type || n.from !== this.uid) {
                var o = this.group;
                if (o.removeAll(), !t.getHostGeoModel()) {
                    if (n && "geoRoam" === n.type && "series" === n.componentType && n.seriesId === t.id)(a = this._mapDraw) && o.add(a.group);
                    else if (t.needsDrawMap) {
                        var a = this._mapDraw || new ou(i, !0);
                        o.add(a.group), a.draw(t, e, i, this, n), this._mapDraw = a
                    } else this._mapDraw && this._mapDraw.remove(), this._mapDraw = null;
                    t.get("showLegendSymbol") && e.getComponent("legend") && this._renderSymbols(t, e, i)
                }
            }
        },
        remove: function() {
            this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll()
        },
        dispose: function() {
            this._mapDraw && this._mapDraw.remove(), this._mapDraw = null
        },
        _renderSymbols: function(t, e, i) {
            var n = t.originalData,
                o = this.group;
            n.each(n.mapDimension("value"), function(e, i) {
                if (!isNaN(e)) {
                    var a = n.getItemLayout(i);
                    if (a && a.point) {
                        var r = a.point,
                            s = a.offset,
                            l = new Lb({
                                style: {
                                    fill: t.getData().getVisual("color")
                                },
                                shape: {
                                    cx: r[0] + 9 * s,
                                    cy: r[1],
                                    r: 3
                                },
                                silent: !0,
                                z2: s ? 8 : 10
                            });
                        if (!s) {
                            var h = t.mainSeries.getData(),
                                u = n.getName(i),
                                c = h.indexOfName(u),
                                d = n.getItemModel(i),
                                f = d.getModel("label"),
                                p = d.getModel("emphasis.label"),
                                g = h.getItemGraphicEl(c),
                                m = A(t.getFormattedLabel(i, "normal"), u),
                                v = A(t.getFormattedLabel(i, "emphasis"), m),
                                y = function() {
                                    var t = io({}, p, {
                                        text: p.get("show") ? v : null
                                    }, {
                                        isRectText: !0,
                                        useInsideStyle: !1
                                    }, !0);
                                    l.style.extendFrom(t), l.__mapOriginalZ2 = l.z2, l.z2 += 1
                                },
                                x = function() {
                                    io(l.style, f, {
                                        text: f.get("show") ? m : null,
                                        textPosition: f.getShallow("position") || "bottom"
                                    }, {
                                        isRectText: !0,
                                        useInsideStyle: !1
                                    }), null != l.__mapOriginalZ2 && (l.z2 = l.__mapOriginalZ2, l.__mapOriginalZ2 = null)
                                };
                            g.on("mouseover", y).on("mouseout", x).on("emphasis", y).on("normal", x), x()
                        }
                        o.add(l)
                    }
                }
            })
        }
    }), hs({
        type: "geoRoam",
        event: "geoRoam",
        update: "updateTransform"
    }, function(t, e) {
        var i = t.componentType || "series";
        e.eachComponent({
            mainType: i,
            query: t
        }, function(e) {
            var n = e.coordinateSystem;
            if ("geo" === n.type) {
                var o = au(n, t, e.get("scaleLimit"));
                e.setCenter && e.setCenter(o.center), e.setZoom && e.setZoom(o.zoom), "series" === i && d(e.seriesGroup, function(t) {
                    t.setCenter(o.center), t.setZoom(o.zoom)
                })
            }
        })
    });
    var MA = Q;
    u(ru, Kx), su.prototype = {
        constructor: su,
        type: "view",
        dimensions: ["x", "y"],
        setBoundingRect: function(t, e, i, n) {
            return this._rect = new Kt(t, e, i, n), this._rect
        },
        getBoundingRect: function() {
            return this._rect
        },
        setViewRect: function(t, e, i, n) {
            this.transformTo(t, e, i, n), this._viewRect = new Kt(t, e, i, n)
        },
        transformTo: function(t, e, i, n) {
            var o = this.getBoundingRect(),
                a = this._rawTransformable;
            a.transform = o.calculateTransform(new Kt(t, e, i, n)), a.decomposeTransform(), this._updateTransform()
        },
        setCenter: function(t) {
            t && (this._center = t, this._updateCenterAndZoom())
        },
        setZoom: function(t) {
            t = t || 1;
            var e = this.zoomLimit;
            e && (null != e.max && (t = Math.min(e.max, t)), null != e.min && (t = Math.max(e.min, t))), this._zoom = t, this._updateCenterAndZoom()
        },
        getDefaultCenter: function() {
            var t = this.getBoundingRect();
            return [t.x + t.width / 2, t.y + t.height / 2]
        },
        getCenter: function() {
            return this._center || this.getDefaultCenter()
        },
        getZoom: function() {
            return this._zoom || 1
        },
        getRoamTransform: function() {
            return this._roamTransformable.getLocalTransform()
        },
        _updateCenterAndZoom: function() {
            var t = this._rawTransformable.getLocalTransform(),
                e = this._roamTransformable,
                i = this.getDefaultCenter(),
                n = this.getCenter(),
                o = this.getZoom();
            n = Q([], n, t), i = Q([], i, t), e.origin = n, e.position = [i[0] - n[0], i[1] - n[1]], e.scale = [o, o], this._updateTransform()
        },
        _updateTransform: function() {
            var t = this._roamTransformable,
                e = this._rawTransformable;
            e.parent = t, t.updateTransform(), e.updateTransform(), ht(this.transform || (this.transform = []), e.transform || st()), this._rawTransform = e.getLocalTransform(), this.invTransform = this.invTransform || [], pt(this.invTransform, this.transform), this.decomposeTransform()
        },
        getViewRect: function() {
            return this._viewRect
        },
        getViewRectAfterRoam: function() {
            var t = this.getBoundingRect().clone();
            return t.applyTransform(this.transform), t
        },
        dataToPoint: function(t, e, i) {
            var n = e ? this._rawTransform : this.transform;
            return i = i || [], n ? MA(i, t, n) : G(i, t)
        },
        pointToData: function(t) {
            var e = this.invTransform;
            return e ? MA([], t, e) : [t[0], t[1]]
        },
        convertToPixel: v(lu, "dataToPoint"),
        convertFromPixel: v(lu, "pointToData"),
        containPoint: function(t) {
            return this.getViewRectAfterRoam().contain(t[0], t[1])
        }
    }, u(su, Kx);
    for (var IA = [126, 25], TA = [
            [
                [0, 3.5],
                [7, 11.2],
                [15, 11.9],
                [30, 7],
                [42, .7],
                [52, .7],
                [56, 7.7],
                [59, .7],
                [64, .7],
                [64, 0],
                [5, 0],
                [0, 3.5]
            ],
            [
                [13, 16.1],
                [19, 14.7],
                [16, 21.7],
                [11, 23.1],
                [13, 16.1]
            ],
            [
                [12, 32.2],
                [14, 38.5],
                [15, 38.5],
                [13, 32.2],
                [12, 32.2]
            ],
            [
                [16, 47.6],
                [12, 53.2],
                [13, 53.2],
                [18, 47.6],
                [16, 47.6]
            ],
            [
                [6, 64.4],
                [8, 70],
                [9, 70],
                [8, 64.4],
                [6, 64.4]
            ],
            [
                [23, 82.6],
                [29, 79.8],
                [30, 79.8],
                [25, 82.6],
                [23, 82.6]
            ],
            [
                [37, 70.7],
                [43, 62.3],
                [44, 62.3],
                [39, 70.7],
                [37, 70.7]
            ],
            [
                [48, 51.1],
                [51, 45.5],
                [53, 45.5],
                [50, 51.1],
                [48, 51.1]
            ],
            [
                [51, 35],
                [51, 28.7],
                [53, 28.7],
                [53, 35],
                [51, 35]
            ],
            [
                [52, 22.4],
                [55, 17.5],
                [56, 17.5],
                [53, 22.4],
                [52, 22.4]
            ],
            [
                [58, 12.6],
                [62, 7],
                [63, 7],
                [60, 12.6],
                [58, 12.6]
            ],
            [
                [0, 3.5],
                [0, 93.1],
                [64, 93.1],
                [64, 0],
                [63, 0],
                [63, 92.4],
                [1, 92.4],
                [1, 3.5],
                [0, 3.5]
            ]
        ], AA = 0; AA < TA.length; AA++)
        for (var DA = 0; DA < TA[AA].length; DA++) TA[AA][DA][0] /= 10.5, TA[AA][DA][1] /= -14, TA[AA][DA][0] += IA[0], TA[AA][DA][1] += IA[1];
    var CA = {
            "南海诸岛": [32, 80],
            "广东": [0, -10],
            "香港": [10, 5],
            "澳门": [-10, 10],
            "天津": [5, 5]
        },
        LA = {
            Russia: [100, 60],
            "United States": [-99, 38],
            "United States of America": [-99, 38]
        },
        kA = [
            [
                [123.45165252685547, 25.73527164402261],
                [123.49731445312499, 25.73527164402261],
                [123.49731445312499, 25.750734064600884],
                [123.45165252685547, 25.750734064600884],
                [123.45165252685547, 25.73527164402261]
            ]
        ],
        PA = [function(t) {
            "china" === t.map && t.regions.push(new gl("南海诸岛", f(TA, function(t) {
                return {
                    type: "polygon",
                    exterior: t
                }
            }), IA))
        }, function(t) {
            d(t.regions, function(t) {
                var e = CA[t.name];
                if (e) {
                    var i = t.center;
                    i[0] += e[0] / 10.5, i[1] += -e[1] / 14
                }
            })
        }, function(t) {
            d(t.regions, function(t) {
                var e = LA[t.name];
                if (e) {
                    var i = t.center;
                    i[0] = e[0], i[1] = e[1]
                }
            })
        }, function(t) {
            if ("china" === t.map)
                for (var e = 0, i = t.regions.length; e < i; ++e) "台湾" === t.regions[e].name && t.regions[e].geometries.push({
                    type: "polygon",
                    exterior: kA[0]
                })
        }];
    hu.prototype = {
        constructor: hu,
        type: "geo",
        dimensions: ["lng", "lat"],
        containCoord: function(t) {
            for (var e = this.regions, i = 0; i < e.length; i++)
                if (e[i].contain(t)) return !0;
            return !1
        },
        loadGeoJson: function(t, e, i) {
            try {
                this.regions = t ? tT(t) : []
            } catch (t) {
                throw "Invalid geoJson format\n" + t.message
            }
            e = e || {}, i = i || {};
            for (var n = this.regions, o = z(), a = 0; a < n.length; a++) {
                var r = n[a].name;
                r = i.hasOwnProperty(r) ? i[r] : r, n[a].name = r, o.set(r, n[a]), this.addGeoCoord(r, n[a].center);
                var s = e[r];
                s && n[a].transformTo(s.left, s.top, s.width, s.height)
            }
            this._regionsMap = o, this._rect = null, d(PA, function(t) {
                t(this)
            }, this)
        },
        transformTo: function(t, e, i, n) {
            var o = this.getBoundingRect();
            (o = o.clone()).y = -o.y - o.height;
            var a = this._rawTransformable;
            a.transform = o.calculateTransform(new Kt(t, e, i, n)), a.decomposeTransform();
            var r = a.scale;
            r[1] = -r[1], a.updateTransform(), this._updateTransform()
        },
        getRegion: function(t) {
            return this._regionsMap.get(t)
        },
        getRegionByCoord: function(t) {
            for (var e = this.regions, i = 0; i < e.length; i++)
                if (e[i].contain(t)) return e[i]
        },
        addGeoCoord: function(t, e) {
            this._nameCoordMap.set(t, e)
        },
        getGeoCoord: function(t) {
            return this._nameCoordMap.get(t)
        },
        getBoundingRect: function() {
            if (this._rect) return this._rect;
            for (var t, e = this.regions, i = 0; i < e.length; i++) {
                var n = e[i].getBoundingRect();
                (t = t || n.clone()).union(n)
            }
            return this._rect = t || new Kt(0, 0, 0, 0)
        },
        dataToPoint: function(t, e, i) {
            if ("string" == typeof t && (t = this.getGeoCoord(t)), t) return su.prototype.dataToPoint.call(this, t, e, i)
        },
        convertToPixel: v(uu, "dataToPoint"),
        convertFromPixel: v(uu, "pointToData")
    }, u(hu, su);
    var OA = {
        dimensions: hu.prototype.dimensions,
        create: function(t, e) {
            var i = [];
            t.eachComponent("geo", function(t, n) {
                var o = t.get("map"),
                    a = xs(o),
                    r = new hu(o + n, o, a && a.geoJson, a && a.specialAreas, t.get("nameMap"));
                r.zoomLimit = t.get("scaleLimit"), i.push(r), du(r, t), t.coordinateSystem = r, r.model = t, r.resize = cu, r.resize(t, e)
            }), t.eachSeries(function(t) {
                if ("geo" === t.get("coordinateSystem")) {
                    var e = t.get("geoIndex") || 0;
                    t.coordinateSystem = i[e]
                }
            });
            var n = {};
            return t.eachSeriesByType("map", function(t) {
                if (!t.getHostGeoModel()) {
                    var e = t.getMapType();
                    n[e] = n[e] || [], n[e].push(t)
                }
            }), d(n, function(t, n) {
                var a = xs(n),
                    r = f(t, function(t) {
                        return t.get("nameMap")
                    }),
                    s = new hu(n, n, a && a.geoJson, a && a.specialAreas, o(r));
                s.zoomLimit = T.apply(null, f(t, function(t) {
                    return t.get("scaleLimit")
                })), i.push(s), s.resize = cu, s.resize(t[0], e), d(t, function(t) {
                    t.coordinateSystem = s, du(s, t)
                })
            }), i
        },
        getFilledRegions: function(t, e, i) {
            var n = (t || []).slice();
            i = i || {};
            var o = xs(e),
                a = o && o.geoJson;
            if (!a) return t;
            for (var r = z(), s = a.features, l = 0; l < n.length; l++) r.set(n[l].name, n[l]);
            for (l = 0; l < s.length; l++) {
                var h = s[l].properties.name;
                r.get(h) || (i.hasOwnProperty(h) && (h = i[h]), n.push({
                    name: h
                }))
            }
            return n
        }
    };
    us("geo", OA);
    cs(function(t) {
        var e = {};
        t.eachSeriesByType("map", function(i) {
            var n = i.getMapType();
            if (!i.getHostGeoModel() && !e[n]) {
                var o = {};
                d(i.seriesGroup, function(e) {
                    var i = e.coordinateSystem,
                        n = e.originalData;
                    e.get("showLegendSymbol") && t.getComponent("legend") && n.each(n.mapDimension("value"), function(t, e) {
                        var a = n.getName(e),
                            r = i.getRegion(a);
                        if (r && !isNaN(t)) {
                            var s = o[a] || 0,
                                l = i.dataToPoint(r.center);
                            o[a] = s + 1, n.setItemLayout(e, {
                                point: l,
                                offset: s
                            })
                        }
                    })
                });
                var a = i.getData();
                a.each(function(t) {
                    var e = a.getName(t),
                        i = a.getItemLayout(t) || {};
                    i.showLabel = !o[e], a.setItemLayout(t, i)
                }), e[n] = !0
            }
        })
    }), ds(function(t) {
        t.eachSeriesByType("map", function(t) {
            var e = t.get("color"),
                i = t.getModel("itemStyle"),
                n = i.get("areaColor"),
                o = i.get("color") || e[t.seriesIndex % e.length];
            t.getData().setVisual({
                areaColor: n,
                color: o
            })
        })
    }), ls(FM.PROCESSOR.STATISTIC, function(t) {
        var e = {};
        t.eachSeriesByType("map", function(t) {
            var i = t.getHostGeoModel(),
                n = i ? "o" + i.id : "i" + t.getMapType();
            (e[n] = e[n] || []).push(t)
        }), d(e, function(t, e) {
            for (var i = fu(f(t, function(t) {
                    return t.getData()
                }), t[0].get("mapValueCalculation")), n = 0; n < t.length; n++) t[n].originalData = t[n].getData();
            for (n = 0; n < t.length; n++) t[n].seriesGroup = t, t[n].needsDrawMap = 0 === n && !t[n].getHostGeoModel(), t[n].setData(i.cloneShallow()), t[n].mainSeries = t[0]
        })
    }), ss(function(t) {
        var e = [];
        d(t.series, function(t) {
            t && "map" === t.type && (e.push(t), t.map = t.map || t.mapType, r(t, t.mapLocation))
        })
    }), uA("map", [{
        type: "mapToggleSelect",
        event: "mapselectchanged",
        method: "toggleSelected"
    }, {
        type: "mapSelect",
        event: "mapselected",
        method: "select"
    }, {
        type: "mapUnSelect",
        event: "mapunselected",
        method: "unSelect"
    }]);
    var NA = d,
        EA = "\0__link_datas",
        zA = "\0__link_mainData",
        RA = function(t, e) {
            this.name = t || "", this.depth = 0, this.height = 0, this.parentNode = null, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.hostTree = e
        };
    RA.prototype = {
        constructor: RA,
        isRemoved: function() {
            return this.dataIndex < 0
        },
        eachNode: function(t, e, i) {
            "function" == typeof t && (i = e, e = t, t = null), _(t = t || {}) && (t = {
                order: t
            });
            var n, o = t.order || "preorder",
                a = this[t.attr || "children"];
            "preorder" === o && (n = e.call(i, this));
            for (var r = 0; !n && r < a.length; r++) a[r].eachNode(t, e, i);
            "postorder" === o && e.call(i, this)
        },
        updateDepthAndHeight: function(t) {
            var e = 0;
            this.depth = t;
            for (var i = 0; i < this.children.length; i++) {
                var n = this.children[i];
                n.updateDepthAndHeight(t + 1), n.height > e && (e = n.height)
            }
            this.height = e + 1
        },
        getNodeById: function(t) {
            if (this.getId() === t) return this;
            for (var e = 0, i = this.children, n = i.length; e < n; e++) {
                var o = i[e].getNodeById(t);
                if (o) return o
            }
        },
        contains: function(t) {
            if (t === this) return !0;
            for (var e = 0, i = this.children, n = i.length; e < n; e++) {
                var o = i[e].contains(t);
                if (o) return o
            }
        },
        getAncestors: function(t) {
            for (var e = [], i = t ? this : this.parentNode; i;) e.push(i), i = i.parentNode;
            return e.reverse(), e
        },
        getValue: function(t) {
            var e = this.hostTree.data;
            return e.get(e.getDimension(t || "value"), this.dataIndex)
        },
        setLayout: function(t, e) {
            this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, t, e)
        },
        getLayout: function() {
            return this.hostTree.data.getItemLayout(this.dataIndex)
        },
        getModel: function(t) {
            if (!(this.dataIndex < 0)) {
                var e, i = this.hostTree,
                    n = i.data.getItemModel(this.dataIndex),
                    o = this.getLevelModel();
                return o || 0 !== this.children.length && (0 === this.children.length || !1 !== this.isExpand) || (e = this.getLeavesModel()), n.getModel(t, (o || e || i.hostModel).getModel(t))
            }
        },
        getLevelModel: function() {
            return (this.hostTree.levelModels || [])[this.depth]
        },
        getLeavesModel: function() {
            return this.hostTree.leavesModel
        },
        setVisual: function(t, e) {
            this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, t, e)
        },
        getVisual: function(t, e) {
            return this.hostTree.data.getItemVisual(this.dataIndex, t, e)
        },
        getRawIndex: function() {
            return this.hostTree.data.getRawIndex(this.dataIndex)
        },
        getId: function() {
            return this.hostTree.data.getId(this.dataIndex)
        },
        isAncestorOf: function(t) {
            for (var e = t.parentNode; e;) {
                if (e === this) return !0;
                e = e.parentNode
            }
            return !1
        },
        isDescendantOf: function(t) {
            return t !== this && t.isAncestorOf(this)
        }
    }, bu.prototype = {
        constructor: bu,
        type: "tree",
        eachNode: function(t, e, i) {
            this.root.eachNode(t, e, i)
        },
        getNodeByDataIndex: function(t) {
            var e = this.data.getRawIndex(t);
            return this._nodes[e]
        },
        getNodeByName: function(t) {
            return this.root.getNodeByName(t)
        },
        update: function() {
            for (var t = this.data, e = this._nodes, i = 0, n = e.length; i < n; i++) e[i].dataIndex = -1;
            for (var i = 0, n = t.count(); i < n; i++) e[t.getRawIndex(i)].dataIndex = i
        },
        clearLayouts: function() {
            this.data.clearItemLayouts()
        }
    }, bu.createTree = function(t, e, i) {
        function n(t, e) {
            var i = t.value;
            r = Math.max(r, y(i) ? i.length : 1), a.push(t);
            var s = new RA(t.name, o);
            e ? Su(s, e) : o.root = s, o._nodes.push(s);
            var l = t.children;
            if (l)
                for (var h = 0; h < l.length; h++) n(l[h], s)
        }
        var o = new bu(e, i.levels, i.leaves),
            a = [],
            r = 1;
        n(t), o.root.updateDepthAndHeight(0);
        var s = wI(a, {
                coordDimensions: ["value"],
                dimensionsCount: r
            }),
            l = new yI(s, e);
        return l.initData(a), pu({
            mainData: l,
            struct: o,
            structAttr: "tree"
        }), o.update(), o
    }, uM.extend({
        type: "series.tree",
        layoutInfo: null,
        layoutMode: "box",
        getInitialData: function(t) {
            var e = {
                    name: t.name,
                    children: t.data
                },
                i = t.leaves || {},
                n = {};
            n.leaves = i;
            var o = bu.createTree(e, this, n),
                a = 0;
            o.eachNode("preorder", function(t) {
                t.depth > a && (a = t.depth)
            });
            var r = t.expandAndCollapse && t.initialTreeDepth >= 0 ? t.initialTreeDepth : a;
            return o.root.eachNode("preorder", function(t) {
                var e = t.hostTree.data.getRawDataItem(t.dataIndex);
                t.isExpand = e && null != e.collapsed ? !e.collapsed : t.depth <= r
            }), o.data
        },
        formatTooltip: function(t) {
            for (var e = this.getData().tree, i = e.root.children[0], n = e.getNodeByDataIndex(t), o = n.getValue(), a = n.name; n && n !== i;) a = n.parentNode.name + "." + a, n = n.parentNode;
            return Ho(a + (isNaN(o) || null == o ? "" : " : " + o))
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            left: "12%",
            top: "12%",
            right: "12%",
            bottom: "12%",
            layout: "orthogonal",
            orient: "horizontal",
            symbol: "emptyCircle",
            symbolSize: 7,
            expandAndCollapse: !0,
            initialTreeDepth: 2,
            lineStyle: {
                color: "#ccc",
                width: 1.5,
                curveness: .5
            },
            itemStyle: {
                color: "lightsteelblue",
                borderColor: "#c23531",
                borderWidth: 1.5
            },
            label: {
                show: !0,
                color: "#555"
            },
            leaves: {
                label: {
                    show: !0
                }
            },
            animationEasing: "linear",
            animationDuration: 700,
            animationDurationUpdate: 1e3
        }
    }), ys({
        type: "tree",
        init: function(t, e) {
            this._oldTree, this._mainGroup = new S_, this.group.add(this._mainGroup)
        },
        render: function(t, e, i, n) {
            var o = t.getData(),
                a = t.layoutInfo,
                r = this._mainGroup,
                s = t.get("layout");
            "radial" === s ? r.attr("position", [a.x + a.width / 2, a.y + a.height / 2]) : r.attr("position", [a.x, a.y]);
            var l = this._data,
                h = {
                    expandAndCollapse: t.get("expandAndCollapse"),
                    layout: s,
                    orient: t.get("orient"),
                    curvature: t.get("lineStyle.curveness"),
                    symbolRotate: t.get("symbolRotate"),
                    symbolOffset: t.get("symbolOffset"),
                    hoverAnimation: t.get("hoverAnimation"),
                    useNameLabel: !0,
                    fadeIn: !0
                };
            o.diff(l).add(function(e) {
                Ru(o, e) && Vu(o, e, null, r, t, h)
            }).update(function(e, i) {
                var n = l.getItemGraphicEl(i);
                Ru(o, e) ? Vu(o, e, n, r, t, h) : n && Gu(o, e, n, r, t, h)
            }).remove(function(e) {
                var i = l.getItemGraphicEl(e);
                Gu(o, e, i, r, t, h)
            }).execute(), !0 === h.expandAndCollapse && o.eachItemGraphicEl(function(e, n) {
                e.off("click").on("click", function() {
                    i.dispatchAction({
                        type: "treeExpandAndCollapse",
                        seriesId: t.id,
                        dataIndex: n
                    })
                })
            }), this._data = o
        },
        dispose: function() {},
        remove: function() {
            this._mainGroup.removeAll(), this._data = null
        }
    }), hs({
        type: "treeExpandAndCollapse",
        event: "treeExpandAndCollapse",
        update: "update"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "tree",
            query: t
        }, function(e) {
            var i = t.dataIndex,
                n = e.getData().tree.getNodeByDataIndex(i);
            n.isExpand = !n.isExpand
        })
    });
    var BA = function(t, e) {
        var i = Cu(t, e);
        t.layoutInfo = i;
        var n = t.get("layout"),
            o = 0,
            a = 0,
            r = null;
        "radial" === n ? (o = 2 * Math.PI, a = Math.min(i.height, i.width) / 2, r = Au(function(t, e) {
            return (t.parentNode === e.parentNode ? 1 : 2) / t.depth
        })) : (o = i.width, a = i.height, r = Au());
        var s = t.getData().tree.root,
            l = s.children[0];
        Mu(s), Fu(l, Iu, r), s.hierNode.modifier = -l.hierNode.prelim, Hu(l, Tu);
        var h = l,
            u = l,
            c = l;
        Hu(l, function(t) {
            var e = t.getLayout().x;
            e < h.getLayout().x && (h = t), e > u.getLayout().x && (u = t), t.depth > c.depth && (c = t)
        });
        var d = h === u ? 1 : r(h, u) / 2,
            f = d - h.getLayout().x,
            p = 0,
            g = 0,
            m = 0,
            v = 0;
        "radial" === n ? (p = o / (u.getLayout().x + d + f), g = a / (c.depth - 1 || 1), Hu(l, function(t) {
            m = (t.getLayout().x + f) * p, v = (t.depth - 1) * g;
            var e = Du(m, v);
            t.setLayout({
                x: e.x,
                y: e.y,
                rawX: m,
                rawY: v
            }, !0)
        })) : "horizontal" === t.get("orient") ? (g = a / (u.getLayout().x + d + f), p = o / (c.depth - 1 || 1), Hu(l, function(t) {
            v = (t.getLayout().x + f) * g, m = (t.depth - 1) * p, t.setLayout({
                x: m,
                y: v
            }, !0)
        })) : (p = o / (u.getLayout().x + d + f), g = a / (c.depth - 1 || 1), Hu(l, function(t) {
            m = (t.getLayout().x + f) * p, v = (t.depth - 1) * g, t.setLayout({
                x: m,
                y: v
            }, !0)
        }))
    };
    ds(bT("tree", "circle")), cs(function(t, e) {
        t.eachSeriesByType("tree", function(t) {
            BA(t, e)
        })
    }), cs(function(t, e) {
        t.eachSeriesByType("tree", function(t) {
            BA(t, e)
        })
    }), uM.extend({
        type: "series.treemap",
        layoutMode: "box",
        dependencies: ["grid", "polar"],
        _viewRoot: null,
        defaultOption: {
            progressive: 0,
            hoverLayerThreshold: 1 / 0,
            left: "center",
            top: "middle",
            right: null,
            bottom: null,
            width: "80%",
            height: "80%",
            sort: !0,
            clipWindow: "origin",
            squareRatio: .5 * (1 + Math.sqrt(5)),
            leafDepth: null,
            drillDownIcon: "▶",
            zoomToNodeRatio: .1024,
            roam: !0,
            nodeClick: "zoomToNode",
            animation: !0,
            animationDurationUpdate: 900,
            animationEasing: "quinticInOut",
            breadcrumb: {
                show: !0,
                height: 22,
                left: "center",
                top: "bottom",
                emptyItemWidth: 25,
                itemStyle: {
                    color: "rgba(0,0,0,0.7)",
                    borderColor: "rgba(255,255,255,0.7)",
                    borderWidth: 1,
                    shadowColor: "rgba(150,150,150,1)",
                    shadowBlur: 3,
                    shadowOffsetX: 0,
                    shadowOffsetY: 0,
                    textStyle: {
                        color: "#fff"
                    }
                },
                emphasis: {
                    textStyle: {}
                }
            },
            label: {
                show: !0,
                distance: 0,
                padding: 5,
                position: "inside",
                color: "#fff",
                ellipsis: !0
            },
            upperLabel: {
                show: !1,
                position: [0, "50%"],
                height: 20,
                color: "#fff",
                ellipsis: !0,
                verticalAlign: "middle"
            },
            itemStyle: {
                color: null,
                colorAlpha: null,
                colorSaturation: null,
                borderWidth: 0,
                gapWidth: 0,
                borderColor: "#fff",
                borderColorSaturation: null
            },
            emphasis: {
                upperLabel: {
                    show: !0,
                    position: [0, "50%"],
                    color: "#fff",
                    ellipsis: !0,
                    verticalAlign: "middle"
                }
            },
            visualDimension: 0,
            visualMin: null,
            visualMax: null,
            color: [],
            colorAlpha: null,
            colorSaturation: null,
            colorMappingBy: "index",
            visibleMin: 10,
            childrenVisibleMin: null,
            levels: []
        },
        getInitialData: function(t, e) {
            var i = {
                name: t.name,
                children: t.data
            };
            Yu(i);
            var n = t.levels || [];
            n = t.levels = qu(n, e);
            var o = {};
            return o.levels = n, bu.createTree(i, this, o).data
        },
        optionUpdated: function() {
            this.resetViewRoot()
        },
        formatTooltip: function(t) {
            var e = this.getData(),
                i = this.getRawValue(t),
                n = Wo(y(i) ? i[0] : i);
            return Ho(e.getName(t) + ": " + n)
        },
        getDataParams: function(t) {
            var e = uM.prototype.getDataParams.apply(this, arguments),
                i = this.getData().tree.getNodeByDataIndex(t);
            return e.treePathInfo = Xu(i, this), e
        },
        setLayoutInfo: function(t) {
            this.layoutInfo = this.layoutInfo || {}, a(this.layoutInfo, t)
        },
        mapIdToIndex: function(t) {
            var e = this._idIndexMap;
            e || (e = this._idIndexMap = z(), this._idIndexMapCount = 0);
            var i = e.get(t);
            return null == i && e.set(t, i = this._idIndexMapCount++), i
        },
        getViewRoot: function() {
            return this._viewRoot
        },
        resetViewRoot: function(t) {
            t ? this._viewRoot = t : t = this._viewRoot;
            var e = this.getRawData().tree.root;
            t && (t === e || e.contains(t)) || (this._viewRoot = e)
        }
    });
    var VA = 5;
    $u.prototype = {
        constructor: $u,
        render: function(t, e, i, n) {
            var o = t.getModel("breadcrumb"),
                a = this.group;
            if (a.removeAll(), o.get("show") && i) {
                var r = o.getModel("itemStyle"),
                    s = r.getModel("textStyle"),
                    l = {
                        pos: {
                            left: o.get("left"),
                            right: o.get("right"),
                            top: o.get("top"),
                            bottom: o.get("bottom")
                        },
                        box: {
                            width: e.getWidth(),
                            height: e.getHeight()
                        },
                        emptyItemWidth: o.get("emptyItemWidth"),
                        totalWidth: 0,
                        renderList: []
                    };
                this._prepare(i, l, s), this._renderContent(t, l, r, s, n), Jo(a, l.pos, l.box)
            }
        },
        _prepare: function(t, e, i) {
            for (var n = t; n; n = n.parentNode) {
                var o = n.getModel().get("name"),
                    a = i.getTextRect(o),
                    r = Math.max(a.width + 16, e.emptyItemWidth);
                e.totalWidth += r + 8, e.renderList.push({
                    node: n,
                    text: o,
                    width: r
                })
            }
        },
        _renderContent: function(t, e, i, n, o) {
            for (var a = 0, s = e.emptyItemWidth, l = t.get("breadcrumb.height"), h = $o(e.pos, e.box), u = e.totalWidth, c = e.renderList, d = c.length - 1; d >= 0; d--) {
                var f = c[d],
                    p = f.node,
                    g = f.width,
                    m = f.text;
                u > h.width && (u -= g - s, g = s, m = null);
                var y = new Rb({
                    shape: {
                        points: Ku(a, 0, g, l, d === c.length - 1, 0 === d)
                    },
                    style: r(i.getItemStyle(), {
                        lineJoin: "bevel",
                        text: m,
                        textFill: n.getTextColor(),
                        textFont: n.getFont()
                    }),
                    z: 10,
                    onclick: v(o, p)
                });
                this.group.add(y), Ju(y, t, p), a += g + 8
            }
        },
        remove: function() {
            this.group.removeAll()
        }
    };
    var GA = m,
        WA = S_,
        FA = Vb,
        HA = d,
        ZA = ["label"],
        UA = ["emphasis", "label"],
        jA = ["upperLabel"],
        XA = ["emphasis", "upperLabel"],
        YA = 10,
        qA = 1,
        $A = 2,
        KA = Sw([
            ["fill", "color"],
            ["stroke", "strokeColor"],
            ["lineWidth", "strokeWidth"],
            ["shadowBlur"],
            ["shadowOffsetX"],
            ["shadowOffsetY"],
            ["shadowColor"]
        ]),
        JA = function(t) {
            var e = KA(t);
            return e.stroke = e.fill = e.lineWidth = null, e
        };
    ys({
        type: "treemap",
        init: function(t, e) {
            this._containerGroup, this._storage = {
                nodeGroup: [],
                background: [],
                content: []
            }, this._oldTree, this._breadcrumb, this._controller, this._state = "ready"
        },
        render: function(t, e, i, n) {
            if (!(l(e.findComponents({
                    mainType: "series",
                    subType: "treemap",
                    query: n
                }), t) < 0)) {
                this.seriesModel = t, this.api = i, this.ecModel = e;
                var o = Zu(n, ["treemapZoomToNode", "treemapRootToNode"], t),
                    a = n && n.type,
                    r = t.layoutInfo,
                    s = !this._oldTree,
                    h = this._storage,
                    u = "treemapRootToNode" === a && o && h ? {
                        rootNodeGroup: h.nodeGroup[o.node.getRawIndex()],
                        direction: n.direction
                    } : null,
                    c = this._giveContainerGroup(r),
                    d = this._doRender(c, t, u);
                s || a && "treemapZoomToNode" !== a && "treemapRootToNode" !== a ? d.renderFinally() : this._doAnimation(c, d, t, u), this._resetController(i), this._renderBreadcrumb(t, i, o)
            }
        },
        _giveContainerGroup: function(t) {
            var e = this._containerGroup;
            return e || (e = this._containerGroup = new WA, this._initEvents(e), this.group.add(e)), e.attr("position", [t.x, t.y]), e
        },
        _doRender: function(t, e, i) {
            function n(t, e, i, o, a) {
                function r(t) {
                    return t.getId()
                }

                function s(r, s) {
                    var l = null != r ? t[r] : null,
                        h = null != s ? e[s] : null,
                        c = u(l, h, i, a);
                    c && n(l && l.viewChildren || [], h && h.viewChildren || [], c, o, a + 1)
                }
                o ? (e = t, HA(t, function(t, e) {
                    !t.isRemoved() && s(e, e)
                })) : new ws(e, t, r, r).add(s).update(s).remove(v(s, null)).execute()
            }
            var o = e.getData().tree,
                a = this._oldTree,
                r = {
                    nodeGroup: [],
                    background: [],
                    content: []
                },
                s = {
                    nodeGroup: [],
                    background: [],
                    content: []
                },
                l = this._storage,
                h = [],
                u = v(tc, e, s, l, i, r, h);
            n(o.root ? [o.root] : [], a && a.root ? [a.root] : [], t, o === a || !a, 0);
            var c = function(t) {
                var e = {
                    nodeGroup: [],
                    background: [],
                    content: []
                };
                return t && HA(t, function(t, i) {
                    var n = e[i];
                    HA(t, function(t) {
                        t && (n.push(t), t.__tmWillDelete = 1)
                    })
                }), e
            }(l);
            return this._oldTree = o, this._storage = s, {
                lastsForAnimation: r,
                willDeleteEls: c,
                renderFinally: function() {
                    HA(c, function(t) {
                        HA(t, function(t) {
                            t.parent && t.parent.remove(t)
                        })
                    }), HA(h, function(t) {
                        t.invisible = !0, t.dirty()
                    })
                }
            }
        },
        _doAnimation: function(t, e, i, n) {
            if (i.get("animation")) {
                var o = i.get("animationDurationUpdate"),
                    r = i.get("animationEasing"),
                    s = Qu();
                HA(e.willDeleteEls, function(t, e) {
                    HA(t, function(t, i) {
                        if (!t.invisible) {
                            var a, l = t.parent;
                            if (n && "drillDown" === n.direction) a = l === n.rootNodeGroup ? {
                                shape: {
                                    x: 0,
                                    y: 0,
                                    width: l.__tmNodeWidth,
                                    height: l.__tmNodeHeight
                                },
                                style: {
                                    opacity: 0
                                }
                            } : {
                                style: {
                                    opacity: 0
                                }
                            };
                            else {
                                var h = 0,
                                    u = 0;
                                l.__tmWillDelete || (h = l.__tmNodeWidth / 2, u = l.__tmNodeHeight / 2), a = "nodeGroup" === e ? {
                                    position: [h, u],
                                    style: {
                                        opacity: 0
                                    }
                                } : {
                                    shape: {
                                        x: h,
                                        y: u,
                                        width: 0,
                                        height: 0
                                    },
                                    style: {
                                        opacity: 0
                                    }
                                }
                            }
                            a && s.add(t, a, o, r)
                        }
                    })
                }), HA(this._storage, function(t, i) {
                    HA(t, function(t, n) {
                        var l = e.lastsForAnimation[i][n],
                            h = {};
                        l && ("nodeGroup" === i ? l.old && (h.position = t.position.slice(), t.attr("position", l.old)) : (l.old && (h.shape = a({}, t.shape), t.setShape(l.old)), l.fadein ? (t.setStyle("opacity", 0), h.style = {
                            opacity: 1
                        }) : 1 !== t.style.opacity && (h.style = {
                            opacity: 1
                        })), s.add(t, h, o, r))
                    })
                }, this), this._state = "animating", s.done(GA(function() {
                    this._state = "ready", e.renderFinally()
                }, this)).start()
            }
        },
        _resetController: function(t) {
            var e = this._controller;
            e || ((e = this._controller = new Zh(t.getZr())).enable(this.seriesModel.get("roam")), e.on("pan", GA(this._onPan, this)), e.on("zoom", GA(this._onZoom, this)));
            var i = new Kt(0, 0, t.getWidth(), t.getHeight());
            e.setPointerChecker(function(t, e, n) {
                return i.contain(e, n)
            })
        },
        _clearController: function() {
            var t = this._controller;
            t && (t.dispose(), t = null)
        },
        _onPan: function(t, e) {
            if ("animating" !== this._state && (Math.abs(t) > 3 || Math.abs(e) > 3)) {
                var i = this.seriesModel.getData().tree.root;
                if (!i) return;
                var n = i.getLayout();
                if (!n) return;
                this.api.dispatchAction({
                    type: "treemapMove",
                    from: this.uid,
                    seriesId: this.seriesModel.id,
                    rootRect: {
                        x: n.x + t,
                        y: n.y + e,
                        width: n.width,
                        height: n.height
                    }
                })
            }
        },
        _onZoom: function(t, e, i) {
            if ("animating" !== this._state) {
                var n = this.seriesModel.getData().tree.root;
                if (!n) return;
                var o = n.getLayout();
                if (!o) return;
                var a = new Kt(o.x, o.y, o.width, o.height),
                    r = this.seriesModel.layoutInfo;
                e -= r.x, i -= r.y;
                var s = st();
                ct(s, s, [-e, -i]), ft(s, s, [t, t]), ct(s, s, [e, i]), a.applyTransform(s), this.api.dispatchAction({
                    type: "treemapRender",
                    from: this.uid,
                    seriesId: this.seriesModel.id,
                    rootRect: {
                        x: a.x,
                        y: a.y,
                        width: a.width,
                        height: a.height
                    }
                })
            }
        },
        _initEvents: function(t) {
            t.on("click", function(t) {
                if ("ready" === this._state) {
                    var e = this.seriesModel.get("nodeClick", !0);
                    if (e) {
                        var i = this.findTarget(t.offsetX, t.offsetY);
                        if (i) {
                            var n = i.node;
                            if (n.getLayout().isLeafRoot) this._rootToNode(i);
                            else if ("zoomToNode" === e) this._zoomToNode(i);
                            else if ("link" === e) {
                                var o = n.hostTree.data.getItemModel(n.dataIndex),
                                    a = o.get("link", !0),
                                    r = o.get("target", !0) || "blank";
                                a && window.open(a, r)
                            }
                        }
                    }
                }
            }, this)
        },
        _renderBreadcrumb: function(t, e, i) {
            i || (i = null != t.get("leafDepth", !0) ? {
                node: t.getViewRoot()
            } : this.findTarget(e.getWidth() / 2, e.getHeight() / 2)) || (i = {
                node: t.getData().tree.root
            }), (this._breadcrumb || (this._breadcrumb = new $u(this.group))).render(t, e, i.node, GA(function(e) {
                "animating" !== this._state && (ju(t.getViewRoot(), e) ? this._rootToNode({
                    node: e
                }) : this._zoomToNode({
                    node: e
                }))
            }, this))
        },
        remove: function() {
            this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = {
                nodeGroup: [],
                background: [],
                content: []
            }, this._state = "ready", this._breadcrumb && this._breadcrumb.remove()
        },
        dispose: function() {
            this._clearController()
        },
        _zoomToNode: function(t) {
            this.api.dispatchAction({
                type: "treemapZoomToNode",
                from: this.uid,
                seriesId: this.seriesModel.id,
                targetNode: t.node
            })
        },
        _rootToNode: function(t) {
            this.api.dispatchAction({
                type: "treemapRootToNode",
                from: this.uid,
                seriesId: this.seriesModel.id,
                targetNode: t.node
            })
        },
        findTarget: function(t, e) {
            var i;
            return this.seriesModel.getViewRoot().eachNode({
                attr: "viewChildren",
                order: "preorder"
            }, function(n) {
                var o = this._storage.background[n.getRawIndex()];
                if (o) {
                    var a = o.transformCoordToLocal(t, e),
                        r = o.shape;
                    if (!(r.x <= a[0] && a[0] <= r.x + r.width && r.y <= a[1] && a[1] <= r.y + r.height)) return !1;
                    i = {
                        node: n,
                        offsetX: a[0],
                        offsetY: a[1]
                    }
                }
            }, this), i
        }
    });
    for (var QA = ["treemapZoomToNode", "treemapRender", "treemapMove"], tD = 0; tD < QA.length; tD++) hs({
        type: QA[tD],
        update: "updateView"
    }, function() {});
    hs({
        type: "treemapRootToNode",
        update: "updateView"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "treemap",
            query: t
        }, function(e, i) {
            var n = Zu(t, ["treemapZoomToNode", "treemapRootToNode"], e);
            if (n) {
                var o = e.getViewRoot();
                o && (t.direction = ju(o, n.node) ? "rollUp" : "drillDown"), e.resetViewRoot(n.node)
            }
        })
    });
    var eD = d,
        iD = w,
        nD = -1,
        oD = function(t) {
            var e = t.mappingMethod,
                n = t.type,
                o = this.option = i(t);
            this.type = n, this.mappingMethod = e, this._normalizeData = rD[e];
            var a = aD[n];
            this.applyVisual = a.applyVisual, this.getColorMapper = a.getColorMapper, this._doMap = a._doMap[e], "piecewise" === e ? (oc(o), ic(o)) : "category" === e ? o.categories ? nc(o) : oc(o, !0) : (k("linear" !== e || o.dataExtent), oc(o))
        };
    oD.prototype = {
        constructor: oD,
        mapValueToVisual: function(t) {
            var e = this._normalizeData(t);
            return this._doMap(e, t)
        },
        getNormalizer: function() {
            return m(this._normalizeData, this)
        }
    };
    var aD = oD.visualHandlers = {
            color: {
                applyVisual: sc("color"),
                getColorMapper: function() {
                    var t = this.option;
                    return m("category" === t.mappingMethod ? function(t, e) {
                        return !e && (t = this._normalizeData(t)), lc.call(this, t)
                    } : function(e, i, n) {
                        var o = !!n;
                        return !i && (e = this._normalizeData(e)), n = Ot(e, t.parsedVisual, n), o ? n : Rt(n, "rgba")
                    }, this)
                },
                _doMap: {
                    linear: function(t) {
                        return Rt(Ot(t, this.option.parsedVisual), "rgba")
                    },
                    category: lc,
                    piecewise: function(t, e) {
                        var i = cc.call(this, e);
                        return null == i && (i = Rt(Ot(t, this.option.parsedVisual), "rgba")), i
                    },
                    fixed: hc
                }
            },
            colorHue: ac(function(t, e) {
                return Et(t, e)
            }),
            colorSaturation: ac(function(t, e) {
                return Et(t, null, e)
            }),
            colorLightness: ac(function(t, e) {
                return Et(t, null, null, e)
            }),
            colorAlpha: ac(function(t, e) {
                return zt(t, e)
            }),
            opacity: {
                applyVisual: sc("opacity"),
                _doMap: uc([0, 1])
            },
            symbol: {
                applyVisual: function(t, e, i) {
                    var n = this.mapValueToVisual(t);
                    if (_(n)) i("symbol", n);
                    else if (iD(n))
                        for (var o in n) n.hasOwnProperty(o) && i(o, n[o])
                },
                _doMap: {
                    linear: rc,
                    category: lc,
                    piecewise: function(t, e) {
                        var i = cc.call(this, e);
                        return null == i && (i = rc.call(this, t)), i
                    },
                    fixed: hc
                }
            },
            symbolSize: {
                applyVisual: sc("symbolSize"),
                _doMap: uc([0, 1])
            }
        },
        rD = {
            linear: function(t) {
                return Io(t, this.option.dataExtent, [0, 1], !0)
            },
            piecewise: function(t) {
                var e = this.option.pieceList,
                    i = oD.findPieceIndex(t, e, !0);
                if (null != i) return Io(i, [0, e.length - 1], [0, 1], !0)
            },
            category: function(t) {
                var e = this.option.categories ? this.option.categoryMap[t] : t;
                return null == e ? nD : e
            },
            fixed: B
        };
    oD.listVisualTypes = function() {
        var t = [];
        return d(aD, function(e, i) {
            t.push(i)
        }), t
    }, oD.addVisualHandler = function(t, e) {
        aD[t] = e
    }, oD.isValidType = function(t) {
        return aD.hasOwnProperty(t)
    }, oD.eachVisual = function(t, e, i) {
        w(t) ? d(t, e, i) : e.call(i, t)
    }, oD.mapVisual = function(t, e, i) {
        var n, o = y(t) ? [] : w(t) ? {} : (n = !0, null);
        return oD.eachVisual(t, function(t, a) {
            var r = e.call(i, t, a);
            n ? o = r : o[a] = r
        }), o
    }, oD.retrieveVisuals = function(t) {
        var e, i = {};
        return t && eD(aD, function(n, o) {
            t.hasOwnProperty(o) && (i[o] = t[o], e = !0)
        }), e ? i : null
    }, oD.prepareVisualTypes = function(t) {
        if (iD(t)) {
            var e = [];
            eD(t, function(t, i) {
                e.push(i)
            }), t = e
        } else {
            if (!y(t)) return [];
            t = t.slice()
        }
        return t.sort(function(t, e) {
            return "color" === e && "color" !== t && 0 === t.indexOf("color") ? 1 : -1
        }), t
    }, oD.dependsOn = function(t, e) {
        return "color" === e ? !(!t || 0 !== t.indexOf(e)) : t === e
    }, oD.findPieceIndex = function(t, e, i) {
        function n(e, i) {
            var n = Math.abs(e - t);
            n < a && (a = n, o = i)
        }
        for (var o, a = 1 / 0, r = 0, s = e.length; r < s; r++) {
            var l = e[r].value;
            if (null != l) {
                if (l === t || "string" == typeof l && l === t + "") return r;
                i && n(l, r)
            }
        }
        for (var r = 0, s = e.length; r < s; r++) {
            var h = e[r],
                u = h.interval,
                c = h.close;
            if (u) {
                if (u[0] === -1 / 0) {
                    if (fc(c[1], t, u[1])) return r
                } else if (u[1] === 1 / 0) {
                    if (fc(c[0], u[0], t)) return r
                } else if (fc(c[0], u[0], t) && fc(c[1], t, u[1])) return r;
                i && n(u[0], r), i && n(u[1], r)
            }
        }
        if (i) return t === 1 / 0 ? e.length - 1 : t === -1 / 0 ? 0 : o
    };
    var sD = y,
        lD = "itemStyle",
        hD = {
            seriesType: "treemap",
            reset: function(t, e, i, n) {
                var o = t.getData().tree,
                    a = o.root,
                    r = t.getModel(lD);
                a.isRemoved() || pc(a, {}, f(o.levelModels, function(t) {
                    return t ? t.get(lD) : null
                }), r, t.getViewRoot().getAncestors(), t)
            }
        },
        uD = Math.max,
        cD = Math.min,
        dD = T,
        fD = d,
        pD = ["itemStyle", "borderWidth"],
        gD = ["itemStyle", "gapWidth"],
        mD = ["upperLabel", "show"],
        vD = ["upperLabel", "height"],
        yD = {
            seriesType: "treemap",
            reset: function(t, e, i, n) {
                var o = i.getWidth(),
                    r = i.getHeight(),
                    s = t.option,
                    l = Ko(t.getBoxLayoutParams(), {
                        width: i.getWidth(),
                        height: i.getHeight()
                    }),
                    h = s.size || [],
                    u = To(dD(l.width, h[0]), o),
                    c = To(dD(l.height, h[1]), r),
                    d = n && n.type,
                    f = Zu(n, ["treemapZoomToNode", "treemapRootToNode"], t),
                    p = "treemapRender" === d || "treemapMove" === d ? n.rootRect : null,
                    g = t.getViewRoot(),
                    m = Uu(g);
                if ("treemapMove" !== d) {
                    var v = "treemapZoomToNode" === d ? Cc(t, f, g, u, c) : p ? [p.width, p.height] : [u, c],
                        y = s.sort;
                    y && "asc" !== y && "desc" !== y && (y = "desc");
                    var x = {
                        squareRatio: s.squareRatio,
                        sort: y,
                        leafDepth: s.leafDepth
                    };
                    g.hostTree.clearLayouts();
                    _ = {
                        x: 0,
                        y: 0,
                        width: v[0],
                        height: v[1],
                        area: v[0] * v[1]
                    };
                    g.setLayout(_), bc(g, x, !1, 0);
                    var _ = g.getLayout();
                    fD(m, function(t, e) {
                        var i = (m[e + 1] || g).getValue();
                        t.setLayout(a({
                            dataExtent: [i, i],
                            borderWidth: 0,
                            upperHeight: 0
                        }, _))
                    })
                }
                var w = t.getData().tree.root;
                w.setLayout(Lc(l, p, f), !0), t.setLayoutInfo(l), kc(w, new Kt(-l.x, -l.y, o, r), m, g, 0)
            }
        };
    ds(hD), cs(yD);
    var xD = function(t) {
            this._directed = t || !1, this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this.data, this.edgeData
        },
        _D = xD.prototype;
    _D.type = "graph", _D.isDirected = function() {
        return this._directed
    }, _D.addNode = function(t, e) {
        t = t || "" + e;
        var i = this._nodesMap;
        if (!i[Oc(t)]) {
            var n = new Nc(t, e);
            return n.hostGraph = this, this.nodes.push(n), i[Oc(t)] = n, n
        }
    }, _D.getNodeByIndex = function(t) {
        var e = this.data.getRawIndex(t);
        return this.nodes[e]
    }, _D.getNodeById = function(t) {
        return this._nodesMap[Oc(t)]
    }, _D.addEdge = function(t, e, i) {
        var n = this._nodesMap,
            o = this._edgesMap;
        if ("number" == typeof t && (t = this.nodes[t]), "number" == typeof e && (e = this.nodes[e]), Nc.isInstance(t) || (t = n[Oc(t)]), Nc.isInstance(e) || (e = n[Oc(e)]), t && e) {
            var a = t.id + "-" + e.id;
            if (!o[a]) {
                var r = new Ec(t, e, i);
                return r.hostGraph = this, this._directed && (t.outEdges.push(r), e.inEdges.push(r)), t.edges.push(r), t !== e && e.edges.push(r), this.edges.push(r), o[a] = r, r
            }
        }
    }, _D.getEdgeByIndex = function(t) {
        var e = this.edgeData.getRawIndex(t);
        return this.edges[e]
    }, _D.getEdge = function(t, e) {
        Nc.isInstance(t) && (t = t.id), Nc.isInstance(e) && (e = e.id);
        var i = this._edgesMap;
        return this._directed ? i[t + "-" + e] : i[t + "-" + e] || i[e + "-" + t]
    }, _D.eachNode = function(t, e) {
        for (var i = this.nodes, n = i.length, o = 0; o < n; o++) i[o].dataIndex >= 0 && t.call(e, i[o], o)
    }, _D.eachEdge = function(t, e) {
        for (var i = this.edges, n = i.length, o = 0; o < n; o++) i[o].dataIndex >= 0 && i[o].node1.dataIndex >= 0 && i[o].node2.dataIndex >= 0 && t.call(e, i[o], o)
    }, _D.breadthFirstTraverse = function(t, e, i, n) {
        if (Nc.isInstance(e) || (e = this._nodesMap[Oc(e)]), e) {
            for (var o = "out" === i ? "outEdges" : "in" === i ? "inEdges" : "edges", a = 0; a < this.nodes.length; a++) this.nodes[a].__visited = !1;
            if (!t.call(n, e, null))
                for (var r = [e]; r.length;)
                    for (var s = r.shift(), l = s[o], a = 0; a < l.length; a++) {
                        var h = l[a],
                            u = h.node1 === s ? h.node2 : h.node1;
                        if (!u.__visited) {
                            if (t.call(n, u, s)) return;
                            r.push(u), u.__visited = !0
                        }
                    }
        }
    }, _D.update = function() {
        for (var t = this.data, e = this.edgeData, i = this.nodes, n = this.edges, o = 0, a = i.length; o < a; o++) i[o].dataIndex = -1;
        for (var o = 0, a = t.count(); o < a; o++) i[t.getRawIndex(o)].dataIndex = o;
        e.filterSelf(function(t) {
            var i = n[e.getRawIndex(t)];
            return i.node1.dataIndex >= 0 && i.node2.dataIndex >= 0
        });
        for (var o = 0, a = n.length; o < a; o++) n[o].dataIndex = -1;
        for (var o = 0, a = e.count(); o < a; o++) n[e.getRawIndex(o)].dataIndex = o
    }, _D.clone = function() {
        for (var t = new xD(this._directed), e = this.nodes, i = this.edges, n = 0; n < e.length; n++) t.addNode(e[n].id, e[n].dataIndex);
        for (n = 0; n < i.length; n++) {
            var o = i[n];
            t.addEdge(o.node1.id, o.node2.id, o.dataIndex)
        }
        return t
    }, Nc.prototype = {
        constructor: Nc,
        degree: function() {
            return this.edges.length
        },
        inDegree: function() {
            return this.inEdges.length
        },
        outDegree: function() {
            return this.outEdges.length
        },
        getModel: function(t) {
            if (!(this.dataIndex < 0)) return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)
        }
    }, Ec.prototype.getModel = function(t) {
        if (!(this.dataIndex < 0)) return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)
    };
    var wD = function(t, e) {
        return {
            getValue: function(i) {
                var n = this[t][e];
                return n.get(n.getDimension(i || "value"), this.dataIndex)
            },
            setVisual: function(i, n) {
                this.dataIndex >= 0 && this[t][e].setItemVisual(this.dataIndex, i, n)
            },
            getVisual: function(i, n) {
                return this[t][e].getItemVisual(this.dataIndex, i, n)
            },
            setLayout: function(i, n) {
                this.dataIndex >= 0 && this[t][e].setItemLayout(this.dataIndex, i, n)
            },
            getLayout: function() {
                return this[t][e].getItemLayout(this.dataIndex)
            },
            getGraphicEl: function() {
                return this[t][e].getItemGraphicEl(this.dataIndex)
            },
            getRawIndex: function() {
                return this[t][e].getRawIndex(this.dataIndex)
            }
        }
    };
    u(Nc, wD("hostGraph", "data")), u(Ec, wD("hostGraph", "edgeData")), xD.Node = Nc, xD.Edge = Ec, Gi(Nc), Gi(Ec);
    var bD = function(t, e, i, n, o) {
            for (var a = new xD(n), r = 0; r < t.length; r++) a.addNode(T(t[r].id, t[r].name, r), r);
            for (var s = [], l = [], h = 0, r = 0; r < e.length; r++) {
                var u = e[r],
                    c = u.source,
                    d = u.target;
                a.addEdge(c, d, h) && (l.push(u), s.push(T(u.id, c + " > " + d)), h++)
            }
            var f, p = i.get("coordinateSystem");
            if ("cartesian2d" === p || "polar" === p) f = Bs(t, i);
            else {
                var g = Aa.get(p),
                    m = wI(t, {
                        coordDimensions: (g && "view" !== g.type ? g.dimensions || [] : []).concat(["value"])
                    });
                (f = new yI(m, i)).initData(t)
            }
            var v = new yI(["value"], i);
            return v.initData(l, s), o && o(f, v), pu({
                mainData: f,
                struct: a,
                structAttr: "graph",
                datas: {
                    node: f,
                    edge: v
                },
                datasAttr: {
                    node: "data",
                    edge: "edgeData"
                }
            }), a.update(), a
        },
        SD = vs({
            type: "series.graph",
            init: function(t) {
                SD.superApply(this, "init", arguments), this.legendDataProvider = function() {
                    return this._categoriesData
                }, this.fillDataTextStyle(t.edges || t.links), this._updateCategoriesData()
            },
            mergeOption: function(t) {
                SD.superApply(this, "mergeOption", arguments), this.fillDataTextStyle(t.edges || t.links), this._updateCategoriesData()
            },
            mergeDefaultAndTheme: function(t) {
                SD.superApply(this, "mergeDefaultAndTheme", arguments), Mi(t, ["edgeLabel"], ["show"])
            },
            getInitialData: function(t, e) {
                var i = t.edges || t.links || [],
                    n = t.data || t.nodes || [],
                    o = this;
                if (n && i) return bD(n, i, this, !0, function(t, i) {
                    function n(t) {
                        return (t = this.parsePath(t)) && "label" === t[0] ? r : this.parentModel
                    }
                    t.wrapMethod("getItemModel", function(t) {
                        var e = o._categoriesModels[t.getShallow("category")];
                        return e && (e.parentModel = t.parentModel, t.parentModel = e), t
                    });
                    var a = o.getModel("edgeLabel"),
                        r = new _o({
                            label: a.option
                        }, a.parentModel, e);
                    i.wrapMethod("getItemModel", function(t) {
                        return t.customizeGetParent(n), t
                    })
                }).data
            },
            getGraph: function() {
                return this.getData().graph
            },
            getEdgeData: function() {
                return this.getGraph().edgeData
            },
            getCategoriesData: function() {
                return this._categoriesData
            },
            formatTooltip: function(t, e, i) {
                if ("edge" === i) {
                    var n = this.getData(),
                        o = this.getDataParams(t, i),
                        a = n.graph.getEdgeByIndex(t),
                        r = n.getName(a.node1.dataIndex),
                        s = n.getName(a.node2.dataIndex),
                        l = [];
                    return null != r && l.push(r), null != s && l.push(s), l = Ho(l.join(" > ")), o.value && (l += " : " + Ho(o.value)), l
                }
                return SD.superApply(this, "formatTooltip", arguments)
            },
            _updateCategoriesData: function() {
                var t = f(this.option.categories || [], function(t) {
                        return null != t.value ? t : a({
                            value: 0
                        }, t)
                    }),
                    e = new yI(["value"], this);
                e.initData(t), this._categoriesData = e, this._categoriesModels = e.mapArray(function(t) {
                    return e.getItemModel(t, !0)
                })
            },
            setZoom: function(t) {
                this.option.zoom = t
            },
            setCenter: function(t) {
                this.option.center = t
            },
            isAnimationEnabled: function() {
                return SD.superCall(this, "isAnimationEnabled") && !("force" === this.get("layout") && this.get("force.layoutAnimation"))
            },
            defaultOption: {
                zlevel: 0,
                z: 2,
                coordinateSystem: "view",
                legendHoverLink: !0,
                hoverAnimation: !0,
                layout: null,
                focusNodeAdjacency: !1,
                circular: {
                    rotateLabel: !1
                },
                force: {
                    initLayout: null,
                    repulsion: [0, 50],
                    gravity: .1,
                    edgeLength: 30,
                    layoutAnimation: !0
                },
                left: "center",
                top: "center",
                symbol: "circle",
                symbolSize: 10,
                edgeSymbol: ["none", "none"],
                edgeSymbolSize: 10,
                edgeLabel: {
                    position: "middle"
                },
                draggable: !1,
                roam: !1,
                center: null,
                zoom: 1,
                nodeScaleRatio: .6,
                label: {
                    show: !1,
                    formatter: "{b}"
                },
                itemStyle: {},
                lineStyle: {
                    color: "#aaa",
                    width: 1,
                    curveness: 0,
                    opacity: .5
                },
                emphasis: {
                    label: {
                        show: !0
                    }
                }
            }
        }),
        MD = Gb.prototype,
        ID = Fb.prototype,
        TD = Nn({
            type: "ec-line",
            style: {
                stroke: "#000",
                fill: null
            },
            shape: {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                percent: 1,
                cpx1: null,
                cpy1: null
            },
            buildPath: function(t, e) {
                (zc(e) ? MD : ID).buildPath(t, e)
            },
            pointAt: function(t) {
                return zc(this.shape) ? MD.pointAt.call(this, t) : ID.pointAt.call(this, t)
            },
            tangentAt: function(t) {
                var e = this.shape,
                    i = zc(e) ? [e.x2 - e.x1, e.y2 - e.y1] : ID.tangentAt.call(this, t);
                return q(i, i)
            }
        }),
        AD = ["fromSymbol", "toSymbol"],
        DD = Wc.prototype;
    DD.beforeUpdate = function() {
        var t = this,
            e = t.childOfName("fromSymbol"),
            i = t.childOfName("toSymbol"),
            n = t.childOfName("label");
        if (e || i || !n.ignore) {
            for (var o = 1, a = this.parent; a;) a.scale && (o /= a.scale[0]), a = a.parent;
            var r = t.childOfName("line");
            if (this.__dirty || r.__dirty) {
                var s = r.shape.percent,
                    l = r.pointAt(0),
                    h = r.pointAt(s),
                    u = U([], h, l);
                if (q(u, u), e && (e.attr("position", l), c = r.tangentAt(0), e.attr("rotation", Math.PI / 2 - Math.atan2(c[1], c[0])), e.attr("scale", [o * s, o * s])), i) {
                    i.attr("position", h);
                    var c = r.tangentAt(1);
                    i.attr("rotation", -Math.PI / 2 - Math.atan2(c[1], c[0])), i.attr("scale", [o * s, o * s])
                }
                if (!n.ignore) {
                    n.attr("position", h);
                    var d, f, p, g = 5 * o;
                    if ("end" === n.__position) d = [u[0] * g + h[0], u[1] * g + h[1]], f = u[0] > .8 ? "left" : u[0] < -.8 ? "right" : "center", p = u[1] > .8 ? "top" : u[1] < -.8 ? "bottom" : "middle";
                    else if ("middle" === n.__position) {
                        var m = s / 2,
                            v = [(c = r.tangentAt(m))[1], -c[0]],
                            y = r.pointAt(m);
                        v[1] > 0 && (v[0] = -v[0], v[1] = -v[1]), d = [y[0] + v[0] * g, y[1] + v[1] * g], f = "center", p = "bottom";
                        var x = -Math.atan2(c[1], c[0]);
                        h[0] < l[0] && (x = Math.PI + x), n.attr("rotation", x)
                    } else d = [-u[0] * g + l[0], -u[1] * g + l[1]], f = u[0] > .8 ? "right" : u[0] < -.8 ? "left" : "center", p = u[1] > .8 ? "bottom" : u[1] < -.8 ? "top" : "middle";
                    n.attr({
                        style: {
                            textVerticalAlign: n.__verticalAlign || p,
                            textAlign: n.__textAlign || f
                        },
                        position: d,
                        scale: [o, o]
                    })
                }
            }
        }
    }, DD._createLine = function(t, e, i) {
        var n = t.hostModel,
            o = Vc(t.getItemLayout(e));
        o.shape.percent = 0, fo(o, {
            shape: {
                percent: 1
            }
        }, n, e), this.add(o);
        var a = new Cb({
            name: "label"
        });
        this.add(a), d(AD, function(i) {
            var n = Bc(i, t, e);
            this.add(n), this[Rc(i)] = t.getItemVisual(e, i)
        }, this), this._updateCommonStl(t, e, i)
    }, DD.updateData = function(t, e, i) {
        var n = t.hostModel,
            o = this.childOfName("line"),
            a = t.getItemLayout(e),
            r = {
                shape: {}
            };
        Gc(r.shape, a), co(o, r, n, e), d(AD, function(i) {
            var n = t.getItemVisual(e, i),
                o = Rc(i);
            if (this[o] !== n) {
                this.remove(this.childOfName(i));
                var a = Bc(i, t, e);
                this.add(a)
            }
            this[o] = n
        }, this), this._updateCommonStl(t, e, i)
    }, DD._updateCommonStl = function(t, e, i) {
        var n = t.hostModel,
            o = this.childOfName("line"),
            a = i && i.lineStyle,
            s = i && i.hoverLineStyle,
            l = i && i.labelModel,
            h = i && i.hoverLabelModel;
        if (!i || t.hasItemOption) {
            var u = t.getItemModel(e);
            a = u.getModel("lineStyle").getLineStyle(), s = u.getModel("emphasis.lineStyle").getLineStyle(), l = u.getModel("label"), h = u.getModel("emphasis.label")
        }
        var c = t.getItemVisual(e, "color"),
            f = D(t.getItemVisual(e, "opacity"), a.opacity, 1);
        o.useStyle(r({
            strokeNoScale: !0,
            fill: "none",
            stroke: c,
            opacity: f
        }, a)), o.hoverStyle = s, d(AD, function(t) {
            var e = this.childOfName(t);
            e && (e.setColor(c), e.setStyle({
                opacity: f
            }))
        }, this);
        var p, g, m, v = l.getShallow("show"),
            y = h.getShallow("show"),
            x = this.childOfName("label");
        if (v || y) {
            if (p = c || "#000", null == (g = n.getFormattedLabel(e, "normal", t.dataType))) {
                var _ = n.getRawValue(e);
                g = null == _ ? t.getName(e) : isFinite(_) ? Ao(_) : _
            }
            m = A(n.getFormattedLabel(e, "emphasis", t.dataType), g)
        }
        if (v) {
            var w = io(x.style, l, {
                text: g
            }, {
                autoColor: p
            });
            x.__textAlign = w.textAlign, x.__verticalAlign = w.textVerticalAlign, x.__position = l.get("position") || "middle"
        } else x.setStyle("text", null);
        x.hoverStyle = y ? {
            text: m,
            textFill: h.getTextColor(!0),
            fontStyle: h.getShallow("fontStyle"),
            fontWeight: h.getShallow("fontWeight"),
            fontSize: h.getShallow("fontSize"),
            fontFamily: h.getShallow("fontFamily")
        } : {
            text: null
        }, x.ignore = !v && !y, to(this)
    }, DD.highlight = function() {
        this.trigger("emphasis")
    }, DD.downplay = function() {
        this.trigger("normal")
    }, DD.updateLayout = function(t, e) {
        this.setLinePoints(t.getItemLayout(e))
    }, DD.setLinePoints = function(t) {
        var e = this.childOfName("line");
        Gc(e.shape, t), e.dirty()
    }, h(Wc, S_);
    var CD = Fc.prototype;
    CD.isPersistent = function() {
        return !0
    }, CD.updateData = function(t) {
        var e = this,
            i = e.group,
            n = e._lineData;
        e._lineData = t, n || i.removeAll();
        var o = Uc(t);
        t.diff(n).add(function(i) {
            Hc(e, t, i, o)
        }).update(function(i, a) {
            Zc(e, n, t, a, i, o)
        }).remove(function(t) {
            i.remove(n.getItemGraphicEl(t))
        }).execute()
    }, CD.updateLayout = function() {
        var t = this._lineData;
        t.eachItemGraphicEl(function(e, i) {
            e.updateLayout(t, i)
        }, this)
    }, CD.incrementalPrepareUpdate = function(t) {
        this._seriesScope = Uc(t), this._lineData = null, this.group.removeAll()
    }, CD.incrementalUpdate = function(t, e) {
        for (var i = t.start; i < t.end; i++)
            if (Xc(e.getItemLayout(i))) {
                var n = new this._ctor(e, i, this._seriesScope);
                n.traverse(function(t) {
                    t.isGroup || (t.incremental = t.useHoverLayer = !0)
                }), this.group.add(n)
            }
    }, CD.remove = function() {
        this._clearIncremental(), this._incremental = null, this.group.removeAll()
    }, CD._clearIncremental = function() {
        var t = this._incremental;
        t && t.clearDisplaybles()
    };
    var LD = [],
        kD = [],
        PD = [],
        OD = Ji,
        ND = Gx,
        ED = Math.abs,
        zD = function(t, e) {
            function i(t) {
                var e = t.getVisual("symbolSize");
                return e instanceof Array && (e = (e[0] + e[1]) / 2), e
            }
            var n = [],
                o = nn,
                a = [
                    [],
                    [],
                    []
                ],
                r = [
                    [],
                    []
                ],
                s = [];
            e /= 2, t.eachEdge(function(t, l) {
                var h = t.getLayout(),
                    u = t.getVisual("fromSymbol"),
                    c = t.getVisual("toSymbol");
                h.__original || (h.__original = [W(h[0]), W(h[1])], h[2] && h.__original.push(W(h[2])));
                var d = h.__original;
                if (null != h[2]) {
                    if (G(a[0], d[0]), G(a[1], d[2]), G(a[2], d[1]), u && "none" != u) {
                        var f = i(t.node1),
                            p = Yc(a, d[0], f * e);
                        o(a[0][0], a[1][0], a[2][0], p, n), a[0][0] = n[3], a[1][0] = n[4], o(a[0][1], a[1][1], a[2][1], p, n), a[0][1] = n[3], a[1][1] = n[4]
                    }
                    if (c && "none" != c) {
                        var f = i(t.node2),
                            p = Yc(a, d[1], f * e);
                        o(a[0][0], a[1][0], a[2][0], p, n), a[1][0] = n[1], a[2][0] = n[2], o(a[0][1], a[1][1], a[2][1], p, n), a[1][1] = n[1], a[2][1] = n[2]
                    }
                    G(h[0], a[0]), G(h[1], a[2]), G(h[2], a[1])
                } else {
                    if (G(r[0], d[0]), G(r[1], d[1]), U(s, r[1], r[0]), q(s, s), u && "none" != u) {
                        f = i(t.node1);
                        Z(r[0], r[0], s, f * e)
                    }
                    if (c && "none" != c) {
                        f = i(t.node2);
                        Z(r[1], r[1], s, -f * e)
                    }
                    G(h[0], r[0]), G(h[1], r[1])
                }
            })
        },
        RD = ["itemStyle", "opacity"],
        BD = ["lineStyle", "opacity"];
    ys({
        type: "graph",
        init: function(t, e) {
            var i = new Ml,
                n = new Fc,
                o = this.group;
            this._controller = new Zh(e.getZr()), this._controllerHost = {
                target: o
            }, o.add(i.group), o.add(n.group), this._symbolDraw = i, this._lineDraw = n, this._firstRender = !0
        },
        render: function(t, e, i) {
            var n = t.coordinateSystem;
            this._model = t, this._nodeScaleRatio = t.get("nodeScaleRatio");
            var o = this._symbolDraw,
                a = this._lineDraw,
                r = this.group;
            if ("view" === n.type) {
                var s = {
                    position: n.position,
                    scale: n.scale
                };
                this._firstRender ? r.attr(s) : co(r, s, t)
            }
            zD(t.getGraph(), this._getNodeGlobalScale(t));
            var l = t.getData();
            o.updateData(l);
            var h = t.getEdgeData();
            a.updateData(h), this._updateNodeAndLinkScale(), this._updateController(t, e, i), clearTimeout(this._layoutTimeout);
            var u = t.forceLayout,
                c = t.get("force.layoutAnimation");
            u && this._startForceLayoutIteration(u, c), l.eachItemGraphicEl(function(e, n) {
                var o = l.getItemModel(n);
                e.off("drag").off("dragend");
                var a = l.getItemModel(n).get("draggable");
                a && e.on("drag", function() {
                    u && (u.warmUp(), !this._layouting && this._startForceLayoutIteration(u, c), u.setFixed(n), l.setItemLayout(n, e.position))
                }, this).on("dragend", function() {
                    u && u.setUnfixed(n)
                }, this), e.setDraggable(a && u), e.off("mouseover", e.__focusNodeAdjacency), e.off("mouseout", e.__unfocusNodeAdjacency), o.get("focusNodeAdjacency") && (e.on("mouseover", e.__focusNodeAdjacency = function() {
                    i.dispatchAction({
                        type: "focusNodeAdjacency",
                        seriesId: t.id,
                        dataIndex: e.dataIndex
                    })
                }), e.on("mouseout", e.__unfocusNodeAdjacency = function() {
                    i.dispatchAction({
                        type: "unfocusNodeAdjacency",
                        seriesId: t.id
                    })
                }))
            }, this), l.graph.eachEdge(function(e) {
                var n = e.getGraphicEl();
                n.off("mouseover", n.__focusNodeAdjacency), n.off("mouseout", n.__unfocusNodeAdjacency), e.getModel().get("focusNodeAdjacency") && (n.on("mouseover", n.__focusNodeAdjacency = function() {
                    i.dispatchAction({
                        type: "focusNodeAdjacency",
                        seriesId: t.id,
                        edgeDataIndex: e.dataIndex
                    })
                }), n.on("mouseout", n.__unfocusNodeAdjacency = function() {
                    i.dispatchAction({
                        type: "unfocusNodeAdjacency",
                        seriesId: t.id
                    })
                }))
            });
            var d = "circular" === t.get("layout") && t.get("circular.rotateLabel"),
                f = l.getLayout("cx"),
                p = l.getLayout("cy");
            l.eachItemGraphicEl(function(t, e) {
                var i = t.getSymbolPath();
                if (d) {
                    var n = l.getItemLayout(e),
                        o = Math.atan2(n[1] - p, n[0] - f);
                    o < 0 && (o = 2 * Math.PI + o);
                    var a = n[0] < f;
                    a && (o -= Math.PI);
                    var r = a ? "left" : "right";
                    i.setStyle({
                        textRotation: -o,
                        textPosition: r,
                        textOrigin: "center"
                    }), i.hoverStyle && (i.hoverStyle.textPosition = r)
                } else i.setStyle({
                    textRotation: 0
                })
            }), this._firstRender = !1
        },
        dispose: function() {
            this._controller && this._controller.dispose(), this._controllerHost = {}
        },
        focusNodeAdjacency: function(t, e, i, n) {
            var o = this._model.getData().graph,
                a = n.dataIndex,
                r = n.edgeDataIndex,
                s = o.getNodeByIndex(a),
                l = o.getEdgeByIndex(r);
            (s || l) && (o.eachNode(function(t) {
                $c(t, RD, .1)
            }), o.eachEdge(function(t) {
                $c(t, BD, .1)
            }), s && (Kc(s, RD), d(s.edges, function(t) {
                t.dataIndex < 0 || (Kc(t, BD), Kc(t.node1, RD), Kc(t.node2, RD))
            })), l && (Kc(l, BD), Kc(l.node1, RD), Kc(l.node2, RD)))
        },
        unfocusNodeAdjacency: function(t, e, i, n) {
            var o = this._model.getData().graph;
            o.eachNode(function(t) {
                $c(t, RD)
            }), o.eachEdge(function(t) {
                $c(t, BD)
            })
        },
        _startForceLayoutIteration: function(t, e) {
            var i = this;
            ! function n() {
                t.step(function(t) {
                    i.updateLayout(i._model), (i._layouting = !t) && (e ? i._layoutTimeout = setTimeout(n, 16) : n())
                })
            }()
        },
        _updateController: function(t, e, i) {
            var n = this._controller,
                o = this._controllerHost,
                a = this.group;
            n.setPointerChecker(function(e, n, o) {
                var r = a.getBoundingRect();
                return r.applyTransform(a.transform), r.contain(n, o) && !tu(e, i, t)
            }), "view" === t.coordinateSystem.type ? (n.enable(t.get("roam")), o.zoomLimit = t.get("scaleLimit"), o.zoom = t.coordinateSystem.getZoom(), n.off("pan").off("zoom").on("pan", function(e, n) {
                Jh(o, e, n), i.dispatchAction({
                    seriesId: t.id,
                    type: "graphRoam",
                    dx: e,
                    dy: n
                })
            }).on("zoom", function(e, n, a) {
                Qh(o, e, n, a), i.dispatchAction({
                    seriesId: t.id,
                    type: "graphRoam",
                    zoom: e,
                    originX: n,
                    originY: a
                }), this._updateNodeAndLinkScale(), zD(t.getGraph(), this._getNodeGlobalScale(t)), this._lineDraw.updateLayout()
            }, this)) : n.disable()
        },
        _updateNodeAndLinkScale: function() {
            var t = this._model,
                e = t.getData(),
                i = this._getNodeGlobalScale(t),
                n = [i, i];
            e.eachItemGraphicEl(function(t, e) {
                t.attr("scale", n)
            })
        },
        _getNodeGlobalScale: function(t) {
            var e = t.coordinateSystem;
            if ("view" !== e.type) return 1;
            var i = this._nodeScaleRatio,
                n = e.scale,
                o = n && n[0] || 1;
            return ((e.getZoom() - 1) * i + 1) / o
        },
        updateLayout: function(t) {
            zD(t.getGraph(), this._getNodeGlobalScale(t)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout()
        },
        remove: function(t, e) {
            this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove()
        }
    }), hs({
        type: "graphRoam",
        event: "graphRoam",
        update: "none"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            query: t
        }, function(e) {
            var i = au(e.coordinateSystem, t);
            e.setCenter && e.setCenter(i.center), e.setZoom && e.setZoom(i.zoom)
        })
    }), hs({
        type: "focusNodeAdjacency",
        event: "focusNodeAdjacency",
        update: "series.graph:focusNodeAdjacency"
    }, function() {}), hs({
        type: "unfocusNodeAdjacency",
        event: "unfocusNodeAdjacency",
        update: "series.graph:unfocusNodeAdjacency"
    }, function() {});
    var VD = Z;
    ls(function(t) {
        var e = t.findComponents({
            mainType: "legend"
        });
        e && e.length && t.eachSeriesByType("graph", function(t) {
            var i = t.getCategoriesData(),
                n = t.getGraph().data,
                o = i.mapArray(i.getName);
            n.filterSelf(function(t) {
                var i = n.getItemModel(t).getShallow("category");
                if (null != i) {
                    "number" == typeof i && (i = o[i]);
                    for (var a = 0; a < e.length; a++)
                        if (!e[a].isSelected(i)) return !1
                }
                return !0
            })
        }, this)
    }), ds(bT("graph", "circle", null)), ds(function(t) {
        var e = {};
        t.eachSeriesByType("graph", function(t) {
            var i = t.getCategoriesData(),
                n = t.getData(),
                o = {};
            i.each(function(n) {
                var a = i.getName(n);
                o["ec-" + a] = n;
                var r = i.getItemModel(n).get("itemStyle.color") || t.getColorFromPalette(a, e);
                i.setItemVisual(n, "color", r)
            }), i.count() && n.each(function(t) {
                var e = n.getItemModel(t).getShallow("category");
                null != e && ("string" == typeof e && (e = o["ec-" + e]), n.getItemVisual(t, "color", !0) || n.setItemVisual(t, "color", i.getItemVisual(e, "color")))
            })
        })
    }), ds(function(t) {
        t.eachSeriesByType("graph", function(t) {
            var e = t.getGraph(),
                i = t.getEdgeData(),
                n = Jc(t.get("edgeSymbol")),
                o = Jc(t.get("edgeSymbolSize")),
                a = "lineStyle.color".split("."),
                r = "lineStyle.opacity".split(".");
            i.setVisual("fromSymbol", n && n[0]), i.setVisual("toSymbol", n && n[1]), i.setVisual("fromSymbolSize", o && o[0]), i.setVisual("toSymbolSize", o && o[1]), i.setVisual("color", t.get(a)), i.setVisual("opacity", t.get(r)), i.each(function(t) {
                var n = i.getItemModel(t),
                    o = e.getEdgeByIndex(t),
                    s = Jc(n.getShallow("symbol", !0)),
                    l = Jc(n.getShallow("symbolSize", !0)),
                    h = n.get(a),
                    u = n.get(r);
                switch (h) {
                    case "source":
                        h = o.node1.getVisual("color");
                        break;
                    case "target":
                        h = o.node2.getVisual("color")
                }
                s[0] && o.setVisual("fromSymbol", s[0]), s[1] && o.setVisual("toSymbol", s[1]), l[0] && o.setVisual("fromSymbolSize", l[0]), l[1] && o.setVisual("toSymbolSize", l[1]), o.setVisual("color", h), o.setVisual("opacity", u)
            })
        })
    }), cs(function(t, e) {
        t.eachSeriesByType("graph", function(t) {
            var e = t.get("layout"),
                i = t.coordinateSystem;
            if (i && "view" !== i.type) {
                var n = t.getData(),
                    o = [];
                d(i.dimensions, function(t) {
                    o = o.concat(n.mapDimension(t, !0))
                });
                for (var a = 0; a < n.count(); a++) {
                    for (var r = [], s = !1, l = 0; l < o.length; l++) {
                        var h = n.get(o[l], a);
                        isNaN(h) || (s = !0), r.push(h)
                    }
                    s ? n.setItemLayout(a, i.dataToPoint(r)) : n.setItemLayout(a, [NaN, NaN])
                }
                td(n.graph)
            } else e && "none" !== e || Qc(t)
        })
    }), cs(function(t) {
        t.eachSeriesByType("graph", function(t) {
            "circular" === t.get("layout") && ed(t)
        })
    }), cs(function(t) {
        t.eachSeriesByType("graph", function(t) {
            var e = t.coordinateSystem;
            if (!e || "view" === e.type)
                if ("force" === t.get("layout")) {
                    var i = t.preservedPoints || {},
                        n = t.getGraph(),
                        o = n.data,
                        a = n.edgeData,
                        r = t.getModel("force"),
                        s = r.get("initLayout");
                    t.preservedPoints ? o.each(function(t) {
                        var e = o.getId(t);
                        o.setItemLayout(t, i[e] || [NaN, NaN])
                    }) : s && "none" !== s ? "circular" === s && ed(t) : Qc(t);
                    var l = o.getDataExtent("value"),
                        h = a.getDataExtent("value"),
                        u = r.get("repulsion"),
                        c = r.get("edgeLength");
                    y(u) || (u = [u, u]), y(c) || (c = [c, c]), c = [c[1], c[0]];
                    var d = o.mapArray("value", function(t, e) {
                            var i = o.getItemLayout(e),
                                n = Io(t, l, u);
                            return isNaN(n) && (n = (u[0] + u[1]) / 2), {
                                w: n,
                                rep: n,
                                fixed: o.getItemModel(e).get("fixed"),
                                p: !i || isNaN(i[0]) || isNaN(i[1]) ? null : i
                            }
                        }),
                        f = a.mapArray("value", function(t, e) {
                            var i = n.getEdgeByIndex(e),
                                o = Io(t, h, c);
                            return isNaN(o) && (o = (c[0] + c[1]) / 2), {
                                n1: d[i.node1.dataIndex],
                                n2: d[i.node2.dataIndex],
                                d: o,
                                curveness: i.getModel().get("lineStyle.curveness") || 0
                            }
                        }),
                        p = (e = t.coordinateSystem).getBoundingRect(),
                        g = id(d, f, {
                            rect: p,
                            gravity: r.get("gravity")
                        }),
                        m = g.step;
                    g.step = function(t) {
                        for (var e = 0, a = d.length; e < a; e++) d[e].fixed && G(d[e].p, n.getNodeByIndex(e).getLayout());
                        m(function(e, a, r) {
                            for (var s = 0, l = e.length; s < l; s++) e[s].fixed || n.getNodeByIndex(s).setLayout(e[s].p), i[o.getId(s)] = e[s].p;
                            for (var s = 0, l = a.length; s < l; s++) {
                                var h = a[s],
                                    u = n.getEdgeByIndex(s),
                                    c = h.n1.p,
                                    d = h.n2.p,
                                    f = u.getLayout();
                                (f = f ? f.slice() : [])[0] = f[0] || [], f[1] = f[1] || [], G(f[0], c), G(f[1], d), +h.curveness && (f[2] = [(c[0] + d[0]) / 2 - (c[1] - d[1]) * h.curveness, (c[1] + d[1]) / 2 - (d[0] - c[0]) * h.curveness]), u.setLayout(f)
                            }
                            t && t(r)
                        })
                    }, t.forceLayout = g, t.preservedPoints = i, g.step()
                } else t.forceLayout = null
        })
    }), us("graphView", {
        create: function(t, e) {
            var i = [];
            return t.eachSeriesByType("graph", function(t) {
                var n = t.get("coordinateSystem");
                if (!n || "view" === n) {
                    var o = t.getData(),
                        a = [],
                        r = [];
                    an(o.mapArray(function(t) {
                        var e = o.getItemModel(t);
                        return [+e.get("x"), +e.get("y")]
                    }), a, r), r[0] - a[0] == 0 && (r[0] += 1, a[0] -= 1), r[1] - a[1] == 0 && (r[1] += 1, a[1] -= 1);
                    var s = (r[0] - a[0]) / (r[1] - a[1]),
                        l = nd(t, e, s);
                    isNaN(s) && (a = [l.x, l.y], r = [l.x + l.width, l.y + l.height]);
                    var h = r[0] - a[0],
                        u = r[1] - a[1],
                        c = l.width,
                        d = l.height,
                        f = t.coordinateSystem = new su;
                    f.zoomLimit = t.get("scaleLimit"), f.setBoundingRect(a[0], a[1], h, u), f.setViewRect(l.x, l.y, c, d), f.setCenter(t.get("center")), f.setZoom(t.get("zoom")), i.push(f)
                }
            }), i
        }
    });
    uM.extend({
        type: "series.gauge",
        getInitialData: function(t, e) {
            var i = t.data || [];
            return y(i) || (i = [i]), t.data = i, rA(this, ["value"])
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            center: ["50%", "50%"],
            legendHoverLink: !0,
            radius: "75%",
            startAngle: 225,
            endAngle: -45,
            clockwise: !0,
            min: 0,
            max: 100,
            splitNumber: 10,
            axisLine: {
                show: !0,
                lineStyle: {
                    color: [
                        [.2, "#91c7ae"],
                        [.8, "#63869e"],
                        [1, "#c23531"]
                    ],
                    width: 30
                }
            },
            splitLine: {
                show: !0,
                length: 30,
                lineStyle: {
                    color: "#eee",
                    width: 2,
                    type: "solid"
                }
            },
            axisTick: {
                show: !0,
                splitNumber: 5,
                length: 8,
                lineStyle: {
                    color: "#eee",
                    width: 1,
                    type: "solid"
                }
            },
            axisLabel: {
                show: !0,
                distance: 5,
                color: "auto"
            },
            pointer: {
                show: !0,
                length: "80%",
                width: 8
            },
            itemStyle: {
                color: "auto"
            },
            title: {
                show: !0,
                offsetCenter: [0, "-40%"],
                color: "#333",
                fontSize: 15
            },
            detail: {
                show: !0,
                backgroundColor: "rgba(0,0,0,0)",
                borderWidth: 0,
                borderColor: "#ccc",
                width: 100,
                height: null,
                padding: [5, 10],
                offsetCenter: [0, "40%"],
                color: "auto",
                fontSize: 30
            }
        }
    });
    var GD = Mn.extend({
            type: "echartsGaugePointer",
            shape: {
                angle: 0,
                width: 10,
                r: 10,
                x: 0,
                y: 0
            },
            buildPath: function(t, e) {
                var i = Math.cos,
                    n = Math.sin,
                    o = e.r,
                    a = e.width,
                    r = e.angle,
                    s = e.x - i(r) * a * (a >= o / 3 ? 1 : 2),
                    l = e.y - n(r) * a * (a >= o / 3 ? 1 : 2);
                r = e.angle - Math.PI / 2, t.moveTo(s, l), t.lineTo(e.x + i(r) * a, e.y + n(r) * a), t.lineTo(e.x + i(e.angle) * o, e.y + n(e.angle) * o), t.lineTo(e.x - i(r) * a, e.y - n(r) * a), t.lineTo(s, l)
            }
        }),
        WD = 2 * Math.PI,
        FD = (cr.extend({
            type: "gauge",
            render: function(t, e, i) {
                this.group.removeAll();
                var n = t.get("axisLine.lineStyle.color"),
                    o = od(t, i);
                this._renderMain(t, e, i, n, o)
            },
            dispose: function() {},
            _renderMain: function(t, e, i, n, o) {
                for (var a = this.group, r = t.getModel("axisLine").getModel("lineStyle"), s = t.get("clockwise"), l = -t.get("startAngle") / 180 * Math.PI, h = -t.get("endAngle") / 180 * Math.PI, u = (h - l) % WD, c = l, d = r.get("width"), f = 0; f < n.length; f++) {
                    var p = Math.min(Math.max(n[f][0], 0), 1),
                        g = new Ob({
                            shape: {
                                startAngle: c,
                                endAngle: h = l + u * p,
                                cx: o.cx,
                                cy: o.cy,
                                clockwise: s,
                                r0: o.r - d,
                                r: o.r
                            },
                            silent: !0
                        });
                    g.setStyle({
                        fill: n[f][1]
                    }), g.setStyle(r.getLineStyle(["color", "borderWidth", "borderColor"])), a.add(g), c = h
                }
                var m = function(t) {
                    if (t <= 0) return n[0][1];
                    for (var e = 0; e < n.length; e++)
                        if (n[e][0] >= t && (0 === e ? 0 : n[e - 1][0]) < t) return n[e][1];
                    return n[e - 1][1]
                };
                if (!s) {
                    var v = l;
                    l = h, h = v
                }
                this._renderTicks(t, e, i, m, o, l, h, s), this._renderPointer(t, e, i, m, o, l, h, s), this._renderTitle(t, e, i, m, o), this._renderDetail(t, e, i, m, o)
            },
            _renderTicks: function(t, e, i, n, o, a, r, s) {
                for (var l = this.group, h = o.cx, u = o.cy, c = o.r, d = +t.get("min"), f = +t.get("max"), p = t.getModel("splitLine"), g = t.getModel("axisTick"), m = t.getModel("axisLabel"), v = t.get("splitNumber"), y = g.get("splitNumber"), x = To(p.get("length"), c), _ = To(g.get("length"), c), w = a, b = (r - a) / v, S = b / y, M = p.getModel("lineStyle").getLineStyle(), I = g.getModel("lineStyle").getLineStyle(), T = 0; T <= v; T++) {
                    var A = Math.cos(w),
                        D = Math.sin(w);
                    if (p.get("show")) {
                        var C = new Gb({
                            shape: {
                                x1: A * c + h,
                                y1: D * c + u,
                                x2: A * (c - x) + h,
                                y2: D * (c - x) + u
                            },
                            style: M,
                            silent: !0
                        });
                        "auto" === M.stroke && C.setStyle({
                            stroke: n(T / v)
                        }), l.add(C)
                    }
                    if (m.get("show")) {
                        var L = ad(Ao(T / v * (f - d) + d), m.get("formatter")),
                            k = m.get("distance"),
                            P = n(T / v);
                        l.add(new Cb({
                            style: io({}, m, {
                                text: L,
                                x: A * (c - x - k) + h,
                                y: D * (c - x - k) + u,
                                textVerticalAlign: D < -.4 ? "top" : D > .4 ? "bottom" : "middle",
                                textAlign: A < -.4 ? "left" : A > .4 ? "right" : "center"
                            }, {
                                autoColor: P
                            }),
                            silent: !0
                        }))
                    }
                    if (g.get("show") && T !== v) {
                        for (var O = 0; O <= y; O++) {
                            var A = Math.cos(w),
                                D = Math.sin(w),
                                N = new Gb({
                                    shape: {
                                        x1: A * c + h,
                                        y1: D * c + u,
                                        x2: A * (c - _) + h,
                                        y2: D * (c - _) + u
                                    },
                                    silent: !0,
                                    style: I
                                });
                            "auto" === I.stroke && N.setStyle({
                                stroke: n((T + O / y) / v)
                            }), l.add(N), w += S
                        }
                        w -= S
                    } else w += b
                }
            },
            _renderPointer: function(t, e, i, n, o, a, r, s) {
                var l = this.group,
                    h = this._data;
                if (t.get("pointer.show")) {
                    var u = [+t.get("min"), +t.get("max")],
                        c = [a, r],
                        d = t.getData(),
                        f = d.mapDimension("value");
                    d.diff(h).add(function(e) {
                        var i = new GD({
                            shape: {
                                angle: a
                            }
                        });
                        fo(i, {
                            shape: {
                                angle: Io(d.get(f, e), u, c, !0)
                            }
                        }, t), l.add(i), d.setItemGraphicEl(e, i)
                    }).update(function(e, i) {
                        var n = h.getItemGraphicEl(i);
                        co(n, {
                            shape: {
                                angle: Io(d.get(f, e), u, c, !0)
                            }
                        }, t), l.add(n), d.setItemGraphicEl(e, n)
                    }).remove(function(t) {
                        var e = h.getItemGraphicEl(t);
                        l.remove(e)
                    }).execute(), d.eachItemGraphicEl(function(t, e) {
                        var i = d.getItemModel(e),
                            a = i.getModel("pointer");
                        t.setShape({
                            x: o.cx,
                            y: o.cy,
                            width: To(a.get("width"), o.r),
                            r: To(a.get("length"), o.r)
                        }), t.useStyle(i.getModel("itemStyle").getItemStyle()), "auto" === t.style.fill && t.setStyle("fill", n(Io(d.get(f, e), u, [0, 1], !0))), to(t, i.getModel("emphasis.itemStyle").getItemStyle())
                    }), this._data = d
                } else h && h.eachItemGraphicEl(function(t) {
                    l.remove(t)
                })
            },
            _renderTitle: function(t, e, i, n, o) {
                var a = t.getData(),
                    r = a.mapDimension("value"),
                    s = t.getModel("title");
                if (s.get("show")) {
                    var l = s.get("offsetCenter"),
                        h = o.cx + To(l[0], o.r),
                        u = o.cy + To(l[1], o.r),
                        c = +t.get("min"),
                        d = +t.get("max"),
                        f = n(Io(t.getData().get(r, 0), [c, d], [0, 1], !0));
                    this.group.add(new Cb({
                        silent: !0,
                        style: io({}, s, {
                            x: h,
                            y: u,
                            text: a.getName(0),
                            textAlign: "center",
                            textVerticalAlign: "middle"
                        }, {
                            autoColor: f,
                            forceRich: !0
                        })
                    }))
                }
            },
            _renderDetail: function(t, e, i, n, o) {
                var a = t.getModel("detail"),
                    r = +t.get("min"),
                    s = +t.get("max");
                if (a.get("show")) {
                    var l = a.get("offsetCenter"),
                        h = o.cx + To(l[0], o.r),
                        u = o.cy + To(l[1], o.r),
                        c = To(a.get("width"), o.r),
                        d = To(a.get("height"), o.r),
                        f = t.getData(),
                        p = f.get(f.mapDimension("value"), 0),
                        g = n(Io(p, [r, s], [0, 1], !0));
                    this.group.add(new Cb({
                        silent: !0,
                        style: io({}, a, {
                            x: h,
                            y: u,
                            text: ad(p, a.get("formatter")),
                            textWidth: isNaN(c) ? null : c,
                            textHeight: isNaN(d) ? null : d,
                            textAlign: "center",
                            textVerticalAlign: "middle"
                        }, {
                            autoColor: g,
                            forceRich: !0
                        })
                    }))
                }
            }
        }), vs({
            type: "series.funnel",
            init: function(t) {
                FD.superApply(this, "init", arguments), this.legendDataProvider = function() {
                    return this.getRawData()
                }, this._defaultLabelLine(t)
            },
            getInitialData: function(t, e) {
                return rA(this, ["value"])
            },
            _defaultLabelLine: function(t) {
                Mi(t, "labelLine", ["show"]);
                var e = t.labelLine,
                    i = t.emphasis.labelLine;
                e.show = e.show && t.label.show, i.show = i.show && t.emphasis.label.show
            },
            getDataParams: function(t) {
                var e = this.getData(),
                    i = FD.superCall(this, "getDataParams", t),
                    n = e.mapDimension("value"),
                    o = e.getSum(n);
                return i.percent = o ? +(e.get(n, t) / o * 100).toFixed(2) : 0, i.$vars.push("percent"), i
            },
            defaultOption: {
                zlevel: 0,
                z: 2,
                legendHoverLink: !0,
                left: 80,
                top: 60,
                right: 80,
                bottom: 60,
                minSize: "0%",
                maxSize: "100%",
                sort: "descending",
                gap: 0,
                funnelAlign: "center",
                label: {
                    show: !0,
                    position: "outer"
                },
                labelLine: {
                    show: !0,
                    length: 20,
                    lineStyle: {
                        width: 1,
                        type: "solid"
                    }
                },
                itemStyle: {
                    borderColor: "#fff",
                    borderWidth: 1
                },
                emphasis: {
                    label: {
                        show: !0
                    }
                }
            }
        })),
        HD = rd.prototype,
        ZD = ["itemStyle", "opacity"];
    HD.updateData = function(t, e, i) {
        var n = this.childAt(0),
            o = t.hostModel,
            a = t.getItemModel(e),
            s = t.getItemLayout(e),
            l = t.getItemModel(e).get(ZD);
        l = null == l ? 1 : l, n.useStyle({}), i ? (n.setShape({
            points: s.points
        }), n.setStyle({
            opacity: 0
        }), fo(n, {
            style: {
                opacity: l
            }
        }, o, e)) : co(n, {
            style: {
                opacity: l
            },
            shape: {
                points: s.points
            }
        }, o, e);
        var h = a.getModel("itemStyle"),
            u = t.getItemVisual(e, "color");
        n.setStyle(r({
            lineJoin: "round",
            fill: u
        }, h.getItemStyle(["opacity"]))), n.hoverStyle = h.getModel("emphasis").getItemStyle(), this._updateLabel(t, e), to(this)
    }, HD._updateLabel = function(t, e) {
        var i = this.childAt(1),
            n = this.childAt(2),
            o = t.hostModel,
            a = t.getItemModel(e),
            r = t.getItemLayout(e).label,
            s = t.getItemVisual(e, "color");
        co(i, {
            shape: {
                points: r.linePoints || r.linePoints
            }
        }, o, e), co(n, {
            style: {
                x: r.x,
                y: r.y
            }
        }, o, e), n.attr({
            rotation: r.rotation,
            origin: [r.x, r.y],
            z2: 10
        });
        var l = a.getModel("label"),
            h = a.getModel("emphasis.label"),
            u = a.getModel("labelLine"),
            c = a.getModel("emphasis.labelLine"),
            s = t.getItemVisual(e, "color");
        eo(n.style, n.hoverStyle = {}, l, h, {
            labelFetcher: t.hostModel,
            labelDataIndex: e,
            defaultText: t.getName(e),
            autoColor: s,
            useInsideStyle: !!r.inside
        }, {
            textAlign: r.textAlign,
            textVerticalAlign: r.verticalAlign
        }), n.ignore = n.normalIgnore = !l.get("show"), n.hoverIgnore = !h.get("show"), i.ignore = i.normalIgnore = !u.get("show"), i.hoverIgnore = !c.get("show"), i.setStyle({
            stroke: s
        }), i.setStyle(u.getModel("lineStyle").getLineStyle()), i.hoverStyle = c.getModel("lineStyle").getLineStyle()
    }, h(rd, S_);
    cr.extend({
        type: "funnel",
        render: function(t, e, i) {
            var n = t.getData(),
                o = this._data,
                a = this.group;
            n.diff(o).add(function(t) {
                var e = new rd(n, t);
                n.setItemGraphicEl(t, e), a.add(e)
            }).update(function(t, e) {
                var i = o.getItemGraphicEl(e);
                i.updateData(n, t), a.add(i), n.setItemGraphicEl(t, i)
            }).remove(function(t) {
                var e = o.getItemGraphicEl(t);
                a.remove(e)
            }).execute(), this._data = n
        },
        remove: function() {
            this.group.removeAll(), this._data = null
        },
        dispose: function() {}
    });
    ds(cA("funnel")), cs(function(t, e, i) {
        t.eachSeriesByType("funnel", function(t) {
            var i = t.getData(),
                n = i.mapDimension("value"),
                o = t.get("sort"),
                a = sd(t, e),
                r = ld(i, o),
                s = [To(t.get("minSize"), a.width), To(t.get("maxSize"), a.width)],
                l = i.getDataExtent(n),
                h = t.get("min"),
                u = t.get("max");
            null == h && (h = Math.min(l[0], 0)), null == u && (u = l[1]);
            var c = t.get("funnelAlign"),
                d = t.get("gap"),
                f = (a.height - d * (i.count() - 1)) / i.count(),
                p = a.y,
                g = function(t, e) {
                    var o, r = Io(i.get(n, t) || 0, [h, u], s, !0);
                    switch (c) {
                        case "left":
                            o = a.x;
                            break;
                        case "center":
                            o = a.x + (a.width - r) / 2;
                            break;
                        case "right":
                            o = a.x + a.width - r
                    }
                    return [
                        [o, e],
                        [o + r, e]
                    ]
                };
            "ascending" === o && (f = -f, d = -d, p += a.height, r = r.reverse());
            for (var m = 0; m < r.length; m++) {
                var v = r[m],
                    y = r[m + 1],
                    x = i.getItemModel(v).get("itemStyle.height");
                null == x ? x = f : (x = To(x, a.height), "ascending" === o && (x = -x));
                var _ = g(v, p),
                    w = g(y, p + x);
                p += x + d, i.setItemLayout(v, {
                    points: _.concat(w.slice().reverse())
                })
            }
            hd(i)
        })
    }), ls(gA("funnel"));
    var UD = function(t, e, i, n, o) {
        nT.call(this, t, e, i), this.type = n || "value", this.axisIndex = o
    };
    UD.prototype = {
        constructor: UD,
        model: null,
        isHorizontal: function() {
            return "horizontal" !== this.coordinateSystem.getModel().get("layout")
        }
    }, h(UD, nT);
    var jD = function(t, e, i, n, o, a) {
            e[0] = fd(e[0], i), e[1] = fd(e[1], i), t = t || 0;
            var r = i[1] - i[0];
            null != o && (o = fd(o, [0, r])), null != a && (a = Math.max(a, null != o ? o : 0)), "all" === n && (o = a = Math.abs(e[1] - e[0]), n = 0);
            var s = dd(e, n);
            e[n] += t;
            var l = o || 0,
                h = i.slice();
            s.sign < 0 ? h[0] += l : h[1] -= l, e[n] = fd(e[n], h);
            u = dd(e, n);
            null != o && (u.sign !== s.sign || u.span < o) && (e[1 - n] = e[n] + s.sign * o);
            var u = dd(e, n);
            return null != a && u.span > a && (e[1 - n] = e[n] + u.sign * a), e
        },
        XD = d,
        YD = Math.min,
        qD = Math.max,
        $D = Math.floor,
        KD = Math.ceil,
        JD = Ao,
        QD = Math.PI;
    pd.prototype = {
        type: "parallel",
        constructor: pd,
        _init: function(t, e, i) {
            var n = t.dimensions,
                o = t.parallelAxisIndex;
            XD(n, function(t, i) {
                var n = o[i],
                    a = e.getComponent("parallelAxis", n),
                    r = this._axesMap.set(t, new UD(t, sl(a), [0, 0], a.get("type"), n)),
                    s = "category" === r.type;
                r.onBand = s && a.get("boundaryGap"), r.inverse = a.get("inverse"), a.axis = r, r.model = a, r.coordinateSystem = a.coordinateSystem = this
            }, this)
        },
        update: function(t, e) {
            this._updateAxesFromSeries(this._model, t)
        },
        containPoint: function(t) {
            var e = this._makeLayoutInfo(),
                i = e.axisBase,
                n = e.layoutBase,
                o = e.pixelDimIndex,
                a = t[1 - o],
                r = t[o];
            return a >= i && a <= i + e.axisLength && r >= n && r <= n + e.layoutLength
        },
        getModel: function() {
            return this._model
        },
        _updateAxesFromSeries: function(t, e) {
            e.eachSeries(function(i) {
                if (t.contains(i, e)) {
                    var n = i.getData();
                    XD(this.dimensions, function(t) {
                        var e = this._axesMap.get(t);
                        e.scale.unionExtentFromData(n, n.mapDimension(t)), rl(e.scale, e.model)
                    }, this)
                }
            }, this)
        },
        resize: function(t, e) {
            this._rect = Ko(t.getBoxLayoutParams(), {
                width: e.getWidth(),
                height: e.getHeight()
            }), this._layoutAxes()
        },
        getRect: function() {
            return this._rect
        },
        _makeLayoutInfo: function() {
            var t, e = this._model,
                i = this._rect,
                n = ["x", "y"],
                o = ["width", "height"],
                a = e.get("layout"),
                r = "horizontal" === a ? 0 : 1,
                s = i[o[r]],
                l = [0, s],
                h = this.dimensions.length,
                u = gd(e.get("axisExpandWidth"), l),
                c = gd(e.get("axisExpandCount") || 0, [0, h]),
                d = e.get("axisExpandable") && h > 3 && h > c && c > 1 && u > 0 && s > 0,
                f = e.get("axisExpandWindow");
            f ? (t = gd(f[1] - f[0], l), f[1] = f[0] + t) : (t = gd(u * (c - 1), l), (f = [u * (e.get("axisExpandCenter") || $D(h / 2)) - t / 2])[1] = f[0] + t);
            var p = (s - t) / (h - c);
            p < 3 && (p = 0);
            var g = [$D(JD(f[0] / u, 1)) + 1, KD(JD(f[1] / u, 1)) - 1],
                m = p / u * f[0];
            return {
                layout: a,
                pixelDimIndex: r,
                layoutBase: i[n[r]],
                layoutLength: s,
                axisBase: i[n[1 - r]],
                axisLength: i[o[1 - r]],
                axisExpandable: d,
                axisExpandWidth: u,
                axisCollapseWidth: p,
                axisExpandWindow: f,
                axisCount: h,
                winInnerIndices: g,
                axisExpandWindow0Pos: m
            }
        },
        _layoutAxes: function() {
            var t = this._rect,
                e = this._axesMap,
                i = this.dimensions,
                n = this._makeLayoutInfo(),
                o = n.layout;
            e.each(function(t) {
                var e = [0, n.axisLength],
                    i = t.inverse ? 1 : 0;
                t.setExtent(e[i], e[1 - i])
            }), XD(i, function(i, a) {
                var r = (n.axisExpandable ? vd : md)(a, n),
                    s = {
                        horizontal: {
                            x: r.position,
                            y: n.axisLength
                        },
                        vertical: {
                            x: 0,
                            y: r.position
                        }
                    },
                    l = {
                        horizontal: QD / 2,
                        vertical: 0
                    },
                    h = [s[o].x + t.x, s[o].y + t.y],
                    u = l[o],
                    c = st();
                dt(c, c, u), ct(c, c, h), this._axesLayout[i] = {
                    position: h,
                    rotation: u,
                    transform: c,
                    axisNameAvailableWidth: r.axisNameAvailableWidth,
                    axisLabelShow: r.axisLabelShow,
                    nameTruncateMaxWidth: r.nameTruncateMaxWidth,
                    tickDirection: 1,
                    labelDirection: 1,
                    labelInterval: e.get(i).getLabelInterval()
                }
            }, this)
        },
        getAxis: function(t) {
            return this._axesMap.get(t)
        },
        dataToPoint: function(t, e) {
            return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t), e)
        },
        eachActiveState: function(t, e, i) {
            for (var n = this.dimensions, o = f(n, function(e) {
                    return t.mapDimension(e)
                }), a = this._axesMap, r = this.hasAxisBrushed(), s = 0, l = t.count(); s < l; s++) {
                var h, u = t.getValues(o, s);
                if (r) {
                    h = "active";
                    for (var c = 0, d = n.length; c < d; c++) {
                        var p = n[c];
                        if ("inactive" === a.get(p).model.getActiveState(u[c], c)) {
                            h = "inactive";
                            break
                        }
                    }
                } else h = "normal";
                e.call(i, h, s)
            }
        },
        hasAxisBrushed: function() {
            for (var t = this.dimensions, e = this._axesMap, i = !1, n = 0, o = t.length; n < o; n++) "normal" !== e.get(t[n]).model.getActiveState() && (i = !0);
            return i
        },
        axisCoordToPoint: function(t, e) {
            return go([t, 0], this._axesLayout[e].transform)
        },
        getAxisLayout: function(t) {
            return i(this._axesLayout[t])
        },
        getSlidedAxisExpandWindow: function(t) {
            var e = this._makeLayoutInfo(),
                i = e.pixelDimIndex,
                n = e.axisExpandWindow.slice(),
                o = n[1] - n[0],
                a = [0, e.axisExpandWidth * (e.axisCount - 1)];
            if (!this.containPoint(t)) return {
                behavior: "none",
                axisExpandWindow: n
            };
            var r, s = t[i] - e.layoutBase - e.axisExpandWindow0Pos,
                l = "slide",
                h = e.axisCollapseWidth,
                u = this._model.get("axisExpandSlideTriggerArea"),
                c = null != u[0];
            if (h) c && h && s < o * u[0] ? (l = "jump", r = s - o * u[2]) : c && h && s > o * (1 - u[0]) ? (l = "jump", r = s - o * (1 - u[2])) : (r = s - o * u[1]) >= 0 && (r = s - o * (1 - u[1])) <= 0 && (r = 0), (r *= e.axisExpandWidth / h) ? jD(r, n, a, "all") : l = "none";
            else {
                o = n[1] - n[0];
                (n = [qD(0, a[1] * s / o - o / 2)])[1] = YD(a[1], n[0] + o), n[0] = n[1] - o
            }
            return {
                axisExpandWindow: n,
                behavior: l
            }
        }
    }, Aa.register("parallel", {
        create: function(t, e) {
            var i = [];
            return t.eachComponent("parallel", function(n, o) {
                var a = new pd(n, t, e);
                a.name = "parallel_" + o, a.resize(n, e), n.coordinateSystem = a, a.model = n, i.push(a)
            }), t.eachSeries(function(e) {
                if ("parallel" === e.get("coordinateSystem")) {
                    var i = t.queryComponents({
                        mainType: "parallel",
                        index: e.get("parallelIndex"),
                        id: e.get("parallelId")
                    })[0];
                    e.coordinateSystem = i.coordinateSystem
                }
            }), i
        }
    });
    var tC = IS.extend({
            type: "baseParallelAxis",
            axis: null,
            activeIntervals: [],
            getAreaSelectStyle: function() {
                return Sw([
                    ["fill", "color"],
                    ["lineWidth", "borderWidth"],
                    ["stroke", "borderColor"],
                    ["width", "width"],
                    ["opacity", "opacity"]
                ])(this.getModel("areaSelectStyle"))
            },
            setActiveIntervals: function(t) {
                var e = this.activeIntervals = i(t);
                if (e)
                    for (var n = e.length - 1; n >= 0; n--) Do(e[n])
            },
            getActiveState: function(t) {
                var e = this.activeIntervals;
                if (!e.length) return "normal";
                if (null == t) return "inactive";
                for (var i = 0, n = e.length; i < n; i++)
                    if (e[i][0] <= t && t <= e[i][1]) return "active";
                return "inactive"
            }
        }),
        eC = {
            type: "value",
            dim: null,
            areaSelectStyle: {
                width: 20,
                borderWidth: 1,
                borderColor: "rgba(160,197,232)",
                color: "rgba(160,197,232)",
                opacity: .3
            },
            realtime: !0,
            z: 10
        };
    n(tC.prototype, ZI), kT("parallel", tC, function(t, e) {
        return e.type || (e.data ? "category" : "value")
    }, eC), IS.extend({
        type: "parallel",
        dependencies: ["parallelAxis"],
        coordinateSystem: null,
        dimensions: null,
        parallelAxisIndex: null,
        layoutMode: "box",
        defaultOption: {
            zlevel: 0,
            z: 0,
            left: 80,
            top: 60,
            right: 80,
            bottom: 60,
            layout: "horizontal",
            axisExpandable: !1,
            axisExpandCenter: null,
            axisExpandCount: 0,
            axisExpandWidth: 50,
            axisExpandRate: 17,
            axisExpandDebounce: 50,
            axisExpandSlideTriggerArea: [-.15, .05, .4],
            axisExpandTriggerOn: "click",
            parallelAxisDefault: null
        },
        init: function() {
            IS.prototype.init.apply(this, arguments), this.mergeOption({})
        },
        mergeOption: function(t) {
            var e = this.option;
            t && n(e, t, !0), this._initDimensions()
        },
        contains: function(t, e) {
            var i = t.get("parallelIndex");
            return null != i && e.getComponent("parallel", i) === this
        },
        setAxisExpand: function(t) {
            d(["axisExpandable", "axisExpandCenter", "axisExpandCount", "axisExpandWidth", "axisExpandWindow"], function(e) {
                t.hasOwnProperty(e) && (this.option[e] = t[e])
            }, this)
        },
        _initDimensions: function() {
            var t = this.dimensions = [],
                e = this.parallelAxisIndex = [];
            d(g(this.dependentModels.parallelAxis, function(t) {
                return (t.get("parallelIndex") || 0) === this.componentIndex
            }, this), function(i) {
                t.push("dim" + i.get("dim")), e.push(i.componentIndex)
            })
        }
    }), hs({
        type: "axisAreaSelect",
        event: "axisAreaSelected"
    }, function(t, e) {
        e.eachComponent({
            mainType: "parallelAxis",
            query: t
        }, function(e) {
            e.axis.model.setActiveIntervals(t.intervals)
        })
    }), hs("parallelAxisExpand", function(t, e) {
        e.eachComponent({
            mainType: "parallel",
            query: t
        }, function(e) {
            e.setAxisExpand(t)
        })
    });
    var iC = v,
        nC = d,
        oC = f,
        aC = Math.min,
        rC = Math.max,
        sC = Math.pow,
        lC = 1e4,
        hC = 6,
        uC = 6,
        cC = "globalPan",
        dC = {
            w: [0, 0],
            e: [0, 1],
            n: [1, 0],
            s: [1, 1]
        },
        fC = {
            w: "ew",
            e: "ew",
            n: "ns",
            s: "ns",
            ne: "nesw",
            sw: "nesw",
            nw: "nwse",
            se: "nwse"
        },
        pC = {
            brushStyle: {
                lineWidth: 2,
                stroke: "rgba(0,0,0,0.3)",
                fill: "rgba(0,0,0,0.1)"
            },
            transformable: !0,
            brushMode: "single",
            removeOnClick: !1
        },
        gC = 0;
    yd.prototype = {
        constructor: yd,
        enableBrush: function(t) {
            return this._brushType && _d(this), t.brushType && xd(this, t), this
        },
        setPanels: function(t) {
            if (t && t.length) {
                var e = this._panels = {};
                d(t, function(t) {
                    e[t.panelId] = i(t)
                })
            } else this._panels = null;
            return this
        },
        mount: function(t) {
            t = t || {}, this._enableGlobalPan = t.enableGlobalPan;
            var e = this.group;
            return this._zr.add(e), e.attr({
                position: t.position || [0, 0],
                rotation: t.rotation || 0,
                scale: t.scale || [1, 1]
            }), this._transform = e.getLocalTransform(), this
        },
        eachCover: function(t, e) {
            nC(this._covers, t, e)
        },
        updateCovers: function(t) {
            function e(t, e) {
                return (null != t.id ? t.id : a + e) + "-" + t.brushType
            }

            function o(e, i) {
                var n = t[e];
                if (null != i && r[i] === h) s[e] = r[i];
                else {
                    var o = s[e] = null != i ? (r[i].__brushOption = n, r[i]) : bd(l, wd(l, n));
                    Id(l, o)
                }
            }
            t = f(t, function(t) {
                return n(i(pC), t, !0)
            });
            var a = "\0-brush-index-",
                r = this._covers,
                s = this._covers = [],
                l = this,
                h = this._creatingCover;
            return new ws(r, t, function(t, i) {
                return e(t.__brushOption, i)
            }, e).add(o).update(o).remove(function(t) {
                r[t] !== h && l.group.remove(r[t])
            }).execute(), this
        },
        unmount: function() {
            return this.enableBrush(!1), Cd(this), this._zr.remove(this.group), this
        },
        dispose: function() {
            this.unmount(), this.off()
        }
    }, u(yd, Hx);
    var mC = {
            mousedown: function(t) {
                if (this._dragging) Kd.call(this, t);
                else if (!t.target || !t.target.draggable) {
                    Xd(t);
                    var e = this.group.transformCoordToLocal(t.offsetX, t.offsetY);
                    this._creatingCover = null, (this._creatingPanel = Ad(this, t, e)) && (this._dragging = !0, this._track = [e.slice()])
                }
            },
            mousemove: function(t) {
                var e = this.group.transformCoordToLocal(t.offsetX, t.offsetY);
                if (jd(this, t, e), this._dragging) {
                    Xd(t);
                    var i = qd(this, t, e, !1);
                    i && Ld(this, i)
                }
            },
            mouseup: Kd
        },
        vC = {
            lineX: Jd(0),
            lineY: Jd(1),
            rect: {
                createCover: function(t, e) {
                    return Od(iC(Wd, function(t) {
                        return t
                    }, function(t) {
                        return t
                    }), t, e, ["w", "e", "n", "s", "se", "sw", "ne", "nw"])
                },
                getCreatingRange: function(t) {
                    var e = Pd(t);
                    return Bd(e[1][0], e[1][1], e[0][0], e[0][1])
                },
                updateCoverShape: function(t, e, i, n) {
                    Nd(t, e, i, n)
                },
                updateCommon: Ed,
                contain: Yd
            },
            polygon: {
                createCover: function(t, e) {
                    var i = new S_;
                    return i.add(new Bb({
                        name: "main",
                        style: Rd(e),
                        silent: !0
                    })), i
                },
                getCreatingRange: function(t) {
                    return t
                },
                endCreating: function(t, e) {
                    e.remove(e.childAt(0)), e.add(new Rb({
                        name: "main",
                        draggable: !0,
                        drift: iC(Fd, t, e),
                        ondragend: iC(Ld, t, {
                            isEnd: !0
                        })
                    }))
                },
                updateCoverShape: function(t, e, i, n) {
                    e.childAt(0).setShape({
                        points: Zd(t, e, i)
                    })
                },
                updateCommon: Ed,
                contain: Yd
            }
        },
        yC = ["axisLine", "axisTickLabel", "axisName"],
        xC = ms({
            type: "parallelAxis",
            init: function(t, e) {
                xC.superApply(this, "init", arguments), (this._brushController = new yd(e.getZr())).on("brush", m(this._onBrush, this))
            },
            render: function(t, e, i, n) {
                if (! of (t, e, n)) {
                    this.axisModel = t, this.api = i, this.group.removeAll();
                    var o = this._axisGroup;
                    if (this._axisGroup = new S_, this.group.add(this._axisGroup), t.get("show")) {
                        var r = rf(t, e),
                            s = r.coordinateSystem,
                            l = t.getAreaSelectStyle(),
                            h = l.width,
                            u = t.axis.dim,
                            c = a({
                                strokeContainThreshold: h
                            }, s.getAxisLayout(u)),
                            f = new GT(t, c);
                        d(yC, f.add, f), this._axisGroup.add(f.getGroup()), this._refreshBrushController(c, l, t, r, h, i);
                        var p = n && !1 === n.animation ? null : t;
                        vo(o, this._axisGroup, p)
                    }
                }
            },
            _refreshBrushController: function(t, e, i, n, o, a) {
                var r = i.axis.getExtent(),
                    s = r[1] - r[0],
                    l = Math.min(30, .1 * Math.abs(s)),
                    h = Kt.create({
                        x: r[0],
                        y: -o / 2,
                        width: s,
                        height: o
                    });
                h.x -= l, h.width += 2 * l, this._brushController.mount({
                    enableGlobalPan: !0,
                    rotation: t.rotation,
                    position: t.position
                }).setPanels([{
                    panelId: "pl",
                    clipPath: Qd(h),
                    isTargetByCursor: ef(h, a, n),
                    getLinearBrushOtherExtent: tf(h, 0)
                }]).enableBrush({
                    brushType: "lineX",
                    brushStyle: e,
                    removeOnClick: !0
                }).updateCovers(af(i))
            },
            _onBrush: function(t, e) {
                var i = this.axisModel,
                    n = i.axis,
                    o = f(t, function(t) {
                        return [n.coordToData(t.range[0], !0), n.coordToData(t.range[1], !0)]
                    });
                (!i.option.realtime === e.isEnd || e.removeOnClick) && this.api.dispatchAction({
                    type: "axisAreaSelect",
                    parallelAxisId: i.id,
                    intervals: o
                })
            },
            dispose: function() {
                this._brushController.dispose()
            }
        });
    ms({
        type: "parallel",
        render: function(t, e, i) {
            this._model = t, this._api = i, this._handlers || (this._handlers = {}, d(_C, function(t, e) {
                i.getZr().on(e, this._handlers[e] = m(t, this))
            }, this)), yr(this, "_throttledDispatchExpand", t.get("axisExpandRate"), "fixRate")
        },
        dispose: function(t, e) {
            d(this._handlers, function(t, i) {
                e.getZr().off(i, t)
            }), this._handlers = null
        },
        _throttledDispatchExpand: function(t) {
            this._dispatchExpand(t)
        },
        _dispatchExpand: function(t) {
            t && this._api.dispatchAction(a({
                type: "parallelAxisExpand"
            }, t))
        }
    });
    var _C = {
        mousedown: function(t) {
            sf(this, "click") && (this._mouseDownPoint = [t.offsetX, t.offsetY])
        },
        mouseup: function(t) {
            var e = this._mouseDownPoint;
            if (sf(this, "click") && e) {
                var i = [t.offsetX, t.offsetY];
                if (Math.pow(e[0] - i[0], 2) + Math.pow(e[1] - i[1], 2) > 5) return;
                var n = this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]);
                "none" !== n.behavior && this._dispatchExpand({
                    axisExpandWindow: n.axisExpandWindow
                })
            }
            this._mouseDownPoint = null
        },
        mousemove: function(t) {
            if (!this._mouseDownPoint && sf(this, "mousemove")) {
                var e = this._model,
                    i = e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX, t.offsetY]),
                    n = i.behavior;
                "jump" === n && this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")), this._throttledDispatchExpand("none" === n ? null : {
                    axisExpandWindow: i.axisExpandWindow,
                    animation: "jump" === n && null
                })
            }
        }
    };
    ss(function(t) {
        ud(t), cd(t)
    }), uM.extend({
        type: "series.parallel",
        dependencies: ["parallel"],
        visualColorAccessPath: "lineStyle.color",
        getInitialData: function(t, e) {
            this.option.progressive && (this.option.animation = !1);
            var i = this.getSource();
            return lf(i, this), Bs(i, this)
        },
        getRawIndicesByActiveState: function(t) {
            var e = this.coordinateSystem,
                i = this.getData(),
                n = [];
            return e.eachActiveState(i, function(e, o) {
                t === e && n.push(i.getRawIndex(o))
            }), n
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "parallel",
            parallelIndex: 0,
            label: {
                show: !1
            },
            inactiveOpacity: .05,
            activeOpacity: 1,
            lineStyle: {
                width: 1,
                opacity: .45,
                type: "solid"
            },
            emphasis: {
                label: {
                    show: !1
                }
            },
            progressive: !1,
            smooth: !1,
            animationEasing: "linear"
        }
    });
    cr.extend({
        type: "parallel",
        init: function() {
            this._dataGroup = new S_, this.group.add(this._dataGroup), this._data
        },
        render: function(t, e, i, n) {
            this._renderForNormal(t, n)
        },
        dispose: function() {},
        _renderForNormal: function(t, e) {
            var i = this._dataGroup,
                n = t.getData(),
                o = this._data,
                a = t.coordinateSystem,
                r = a.dimensions,
                s = t.option.smooth ? .3 : null;
            if (n.diff(o).add(function(t) {
                    df(n, i, t, r, a)
                }).update(function(i, s) {
                    var l = o.getItemGraphicEl(s),
                        h = cf(n, i, r, a);
                    n.setItemGraphicEl(i, l), co(l, {
                        shape: {
                            points: h
                        }
                    }, e && !1 === e.animation ? null : t, i)
                }).remove(function(t) {
                    var e = o.getItemGraphicEl(t);
                    i.remove(e)
                }).execute(), ff(n, s), !this._data) {
                var l = uf(a, t, function() {
                    setTimeout(function() {
                        i.removeClipPath()
                    })
                });
                i.setClipPath(l)
            }
            this._data = n
        },
        remove: function() {
            this._dataGroup && this._dataGroup.removeAll(), this._data = null
        }
    });
    var wC = ["lineStyle", "normal", "opacity"];
    ds(function(t) {
        t.eachSeriesByType("parallel", function(e) {
            var i = e.getModel("itemStyle"),
                n = e.getModel("lineStyle"),
                o = t.get("color"),
                a = n.get("color") || i.get("color") || o[e.seriesIndex % o.length],
                r = e.get("inactiveOpacity"),
                s = e.get("activeOpacity"),
                l = e.getModel("lineStyle").getLineStyle(),
                h = e.coordinateSystem,
                u = e.getData(),
                c = {
                    normal: l.opacity,
                    active: s,
                    inactive: r
                };
            h.eachActiveState(u, function(t, e) {
                var i = u.getItemModel(e),
                    n = c[t];
                if ("normal" === t) {
                    var o = i.get(wC, !0);
                    null != o && (n = o)
                }
                u.setItemVisual(e, "opacity", n)
            }), u.setVisual("color", a)
        })
    });
    var bC = uM.extend({
            type: "series.sankey",
            layoutInfo: null,
            getInitialData: function(t) {
                var e = t.edges || t.links,
                    i = t.data || t.nodes;
                if (i && e) return bD(i, e, this, !0).data
            },
            getGraph: function() {
                return this.getData().graph
            },
            getEdgeData: function() {
                return this.getGraph().edgeData
            },
            formatTooltip: function(t, e, i) {
                if ("edge" === i) {
                    var n = this.getDataParams(t, i),
                        o = n.data,
                        a = o.source + " -- " + o.target;
                    return n.value && (a += " : " + n.value), Ho(a)
                }
                return bC.superCall(this, "formatTooltip", t, e)
            },
            defaultOption: {
                zlevel: 0,
                z: 2,
                coordinateSystem: "view",
                layout: null,
                left: "5%",
                top: "5%",
                right: "20%",
                bottom: "5%",
                nodeWidth: 20,
                nodeGap: 8,
                layoutIterations: 32,
                label: {
                    show: !0,
                    position: "right",
                    color: "#000",
                    fontSize: 12
                },
                itemStyle: {
                    borderWidth: 1,
                    borderColor: "#333"
                },
                lineStyle: {
                    color: "#314656",
                    opacity: .2,
                    curveness: .5
                },
                emphasis: {
                    label: {
                        show: !0
                    },
                    lineStyle: {
                        opacity: .6
                    }
                },
                animationEasing: "linear",
                animationDuration: 1e3
            }
        }),
        SC = Nn({
            shape: {
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                cpx1: 0,
                cpy1: 0,
                cpx2: 0,
                cpy2: 0,
                extent: 0
            },
            buildPath: function(t, e) {
                var i = e.extent / 2;
                t.moveTo(e.x1, e.y1 - i), t.bezierCurveTo(e.cpx1, e.cpy1 - i, e.cpx2, e.cpy2 - i, e.x2, e.y2 - i), t.lineTo(e.x2, e.y2 + i), t.bezierCurveTo(e.cpx2, e.cpy2 + i, e.cpx1, e.cpy1 + i, e.x1, e.y1 + i), t.closePath()
            }
        });
    ys({
        type: "sankey",
        _model: null,
        render: function(t, e, i) {
            var n = t.getGraph(),
                o = this.group,
                a = t.layoutInfo,
                r = t.getData(),
                s = t.getData("edge");
            this._model = t, o.removeAll(), o.attr("position", [a.x, a.y]), n.eachEdge(function(e) {
                var i = new SC;
                i.dataIndex = e.dataIndex, i.seriesIndex = t.seriesIndex, i.dataType = "edge";
                var n = e.getModel("lineStyle"),
                    a = n.get("curveness"),
                    r = e.node1.getLayout(),
                    l = e.node2.getLayout(),
                    h = e.getLayout();
                i.shape.extent = Math.max(1, h.dy);
                var u = r.x + r.dx,
                    c = r.y + h.sy + h.dy / 2,
                    d = l.x,
                    f = l.y + h.ty + h.dy / 2,
                    p = u * (1 - a) + d * a,
                    g = c,
                    m = u * a + d * (1 - a),
                    v = f;
                switch (i.setShape({
                    x1: u,
                    y1: c,
                    x2: d,
                    y2: f,
                    cpx1: p,
                    cpy1: g,
                    cpx2: m,
                    cpy2: v
                }), i.setStyle(n.getItemStyle()), i.style.fill) {
                    case "source":
                        i.style.fill = e.node1.getVisual("color");
                        break;
                    case "target":
                        i.style.fill = e.node2.getVisual("color")
                }
                to(i, e.getModel("emphasis.lineStyle").getItemStyle()), o.add(i), s.setItemGraphicEl(e.dataIndex, i)
            }), n.eachNode(function(e) {
                var i = e.getLayout(),
                    n = e.getModel(),
                    a = n.getModel("label"),
                    s = n.getModel("emphasis.label"),
                    l = new Vb({
                        shape: {
                            x: i.x,
                            y: i.y,
                            width: e.getLayout().dx,
                            height: e.getLayout().dy
                        },
                        style: n.getModel("itemStyle").getItemStyle()
                    }),
                    h = e.getModel("emphasis.itemStyle").getItemStyle();
                eo(l.style, h, a, s, {
                    labelFetcher: t,
                    labelDataIndex: e.dataIndex,
                    defaultText: e.id,
                    isRectText: !0
                }), l.setStyle("fill", e.getVisual("color")), to(l, h), o.add(l), r.setItemGraphicEl(e.dataIndex, l), l.dataType = "node"
            }), !this._data && t.get("animation") && o.setClipPath(gf(o.getBoundingRect(), t, function() {
                o.removeClipPath()
            })), this._data = t.getData()
        },
        dispose: function() {}
    });
    cs(function(t, e, i) {
        t.eachSeriesByType("sankey", function(t) {
            var i = t.get("nodeWidth"),
                n = t.get("nodeGap"),
                o = vf(t, e);
            t.layoutInfo = o;
            var a = o.width,
                r = o.height,
                s = t.getGraph(),
                l = s.nodes,
                h = s.edges;
            xf(l), yf(l, h, i, n, a, r, 0 !== g(l, function(t) {
                return 0 === t.getLayout().value
            }).length ? 0 : t.get("layoutIterations"))
        })
    }), ds(function(t, e) {
        t.eachSeriesByType("sankey", function(t) {
            var e = t.getGraph().nodes;
            e.sort(function(t, e) {
                return t.getLayout().value - e.getLayout().value
            });
            var i = e[0].getLayout().value,
                n = e[e.length - 1].getLayout().value;
            d(e, function(e) {
                var o = new oD({
                    type: "color",
                    mappingMethod: "linear",
                    dataExtent: [i, n],
                    visual: t.get("color")
                }).mapValueToVisual(e.getLayout().value);
                e.setVisual("color", o);
                var a = e.getModel().get("itemStyle.color");
                null != a && e.setVisual("color", a)
            })
        })
    });
    var MC = Mn.extend({
            type: "whiskerInBox",
            shape: {},
            buildPath: function(t, e) {
                for (var i in e)
                    if (e.hasOwnProperty(i) && 0 === i.indexOf("ends")) {
                        var n = e[i];
                        t.moveTo(n[0][0], n[0][1]), t.lineTo(n[1][0], n[1][1])
                    }
            }
        }),
        IC = Bf.prototype;
    IC._createContent = function(t, e, i) {
        var n = t.getItemLayout(e),
            o = "horizontal" === n.chartLayout ? 1 : 0,
            a = 0;
        this.add(new Rb({
            shape: {
                points: i ? Vf(n.bodyEnds, o, n) : n.bodyEnds
            },
            style: {
                strokeNoScale: !0
            },
            z2: 100
        })), this.bodyIndex = a++;
        var r = f(n.whiskerEnds, function(t) {
            return i ? Vf(t, o, n) : t
        });
        this.add(new MC({
            shape: Gf(r),
            style: {
                strokeNoScale: !0
            },
            z2: 100
        })), this.whiskerIndex = a++
    }, IC.updateData = function(t, e, i) {
        var n = this._seriesModel = t.hostModel,
            o = t.getItemLayout(e),
            a = tS[i ? "initProps" : "updateProps"];
        a(this.childAt(this.bodyIndex), {
            shape: {
                points: o.bodyEnds
            }
        }, n, e), a(this.childAt(this.whiskerIndex), {
            shape: Gf(o.whiskerEnds)
        }, n, e), this.styleUpdater.call(null, this, t, e)
    }, h(Bf, S_);
    var TC = Wf.prototype;
    TC.updateData = function(t) {
        var e = this.group,
            i = this._data,
            n = this.styleUpdater;
        t.diff(i).add(function(i) {
            if (t.hasValue(i)) {
                var o = new Bf(t, i, n, !0);
                t.setItemGraphicEl(i, o), e.add(o)
            }
        }).update(function(o, a) {
            var r = i.getItemGraphicEl(a);
            t.hasValue(o) ? (r ? r.updateData(t, o) : r = new Bf(t, o, n), e.add(r), t.setItemGraphicEl(o, r)) : e.remove(r)
        }).remove(function(t) {
            var n = i.getItemGraphicEl(t);
            n && e.remove(n)
        }).execute(), this._data = t
    }, TC.remove = function() {
        var t = this.group,
            e = this._data;
        this._data = null, e && e.eachItemGraphicEl(function(e) {
            e && t.remove(e)
        })
    };
    var AC = {
            _baseAxisDim: null,
            getInitialData: function(t, e) {
                var i, n, o = e.getComponent("xAxis", this.get("xAxisIndex")),
                    a = e.getComponent("yAxis", this.get("yAxisIndex")),
                    r = o.get("type"),
                    s = a.get("type");
                "category" === r ? (t.layout = "horizontal", i = o.getOrdinalMeta(), n = !0) : "category" === s ? (t.layout = "vertical", i = a.getOrdinalMeta(), n = !0) : t.layout = t.layout || "horizontal";
                var l = ["x", "y"],
                    h = "horizontal" === t.layout ? 0 : 1,
                    u = this._baseAxisDim = l[h],
                    c = l[1 - h],
                    f = [o, a],
                    p = f[h].get("type"),
                    g = f[1 - h].get("type"),
                    m = t.data;
                if (m && n) {
                    var v = [];
                    d(m, function(t, e) {
                        var i;
                        t.value && y(t.value) ? (i = t.value.slice(), t.value.unshift(e)) : y(t) ? (i = t.slice(), t.unshift(e)) : i = t, v.push(i)
                    }), t.data = v
                }
                var x = this.defaultValueDimensions;
                return rA(this, {
                    coordDimensions: [{
                        name: u,
                        type: Ms(p),
                        ordinalMeta: i,
                        otherDims: {
                            tooltip: !1,
                            itemName: 0
                        },
                        dimsDef: ["base"]
                    }, {
                        name: c,
                        type: Ms(g),
                        dimsDef: x.slice()
                    }],
                    dimensionsCount: x.length + 1
                })
            },
            getBaseAxis: function() {
                var t = this._baseAxisDim;
                return this.ecModel.getComponent(t + "Axis", this.get(t + "AxisIndex")).axis
            }
        },
        DC = {
            init: function() {
                var t = this._whiskerBoxDraw = new Wf(this.getStyleUpdater());
                this.group.add(t.group)
            },
            render: function(t, e, i) {
                this._whiskerBoxDraw.updateData(t.getData())
            },
            remove: function(t) {
                this._whiskerBoxDraw.remove()
            }
        };
    u(uM.extend({
        type: "series.boxplot",
        dependencies: ["xAxis", "yAxis", "grid"],
        defaultValueDimensions: ["min", "Q1", "median", "Q3", "max"],
        dimensions: null,
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "cartesian2d",
            legendHoverLink: !0,
            hoverAnimation: !0,
            layout: null,
            boxWidth: [7, 50],
            itemStyle: {
                color: "#fff",
                borderWidth: 1
            },
            emphasis: {
                itemStyle: {
                    borderWidth: 2,
                    shadowBlur: 5,
                    shadowOffsetX: 2,
                    shadowOffsetY: 2,
                    shadowColor: "rgba(0,0,0,0.4)"
                }
            },
            animationEasing: "elasticOut",
            animationDuration: 800
        }
    }), AC, !0), u(cr.extend({
        type: "boxplot",
        getStyleUpdater: function() {
            return Ff
        },
        dispose: B
    }), DC, !0);
    var CC = ["itemStyle"],
        LC = ["emphasis", "itemStyle"],
        kC = ["itemStyle", "borderColor"],
        PC = d;
    ds(function(t, e) {
        var i = t.get("color");
        t.eachRawSeriesByType("boxplot", function(e) {
            var n = i[e.seriesIndex % i.length],
                o = e.getData();
            o.setVisual({
                legendSymbol: "roundRect",
                color: e.get(kC) || n
            }), t.isSeriesFiltered(e) || o.each(function(t) {
                var e = o.getItemModel(t);
                o.setItemVisual(t, {
                    color: e.get(kC, !0)
                })
            })
        })
    }), cs(function(t) {
        var e = Hf(t);
        PC(e, function(t) {
            var e = t.seriesModels;
            e.length && (Zf(t), PC(e, function(e, i) {
                Uf(e, t.boxOffsetList[i], t.boxWidthList[i])
            }))
        })
    }), u(uM.extend({
        type: "series.candlestick",
        dependencies: ["xAxis", "yAxis", "grid"],
        defaultValueDimensions: ["open", "close", "lowest", "highest"],
        dimensions: null,
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "cartesian2d",
            legendHoverLink: !0,
            hoverAnimation: !0,
            layout: null,
            itemStyle: {
                color: "#c23531",
                color0: "#314656",
                borderWidth: 1,
                borderColor: "#c23531",
                borderColor0: "#314656"
            },
            emphasis: {
                itemStyle: {
                    borderWidth: 2
                }
            },
            barMaxWidth: null,
            barMinWidth: null,
            barWidth: null,
            animationUpdate: !1,
            animationEasing: "linear",
            animationDuration: 300
        },
        getShadowDim: function() {
            return "open"
        },
        brushSelector: function(t, e, i) {
            var n = e.getItemLayout(t);
            return i.rect(n.brushRect)
        }
    }), AC, !0), u(cr.extend({
        type: "candlestick",
        getStyleUpdater: function() {
            return jf
        },
        dispose: B
    }), DC, !0);
    var OC = ["itemStyle"],
        NC = ["emphasis", "itemStyle"],
        EC = ["itemStyle", "borderColor"],
        zC = ["itemStyle", "borderColor0"],
        RC = ["itemStyle", "color"],
        BC = ["itemStyle", "color0"],
        VC = A;
    ss(function(t) {
        t && y(t.series) && d(t.series, function(t) {
            w(t) && "k" === t.type && (t.type = "candlestick")
        })
    }), ds(function(t, e) {
        t.eachRawSeriesByType("candlestick", function(e) {
            var i = e.getData();
            i.setVisual({
                legendSymbol: "roundRect"
            }), t.isSeriesFiltered(e) || i.each(function(t) {
                var e = i.getItemModel(t),
                    n = i.getItemLayout(t).sign;
                i.setItemVisual(t, {
                    color: e.get(n > 0 ? RC : BC),
                    borderColor: e.get(n > 0 ? EC : zC)
                })
            })
        })
    }), cs(function(t) {
        t.eachSeriesByType("candlestick", function(t) {
            var e, i = t.coordinateSystem,
                n = t.getData(),
                o = Xf(t, n),
                a = t.get("layout"),
                r = "horizontal" === a ? 0 : 1,
                s = 1 - r,
                l = ["x", "y"],
                h = [];
            if (d(n.dimensions, function(t) {
                    var i = n.getDimensionInfo(t).coordDim;
                    i === l[s] ? h.push(t) : i === l[r] && (e = t)
                }), !(null == e || h.length < 4)) {
                var u = 0;
                n.each([e].concat(h), function() {
                    function t(t) {
                        var e = [];
                        return e[r] = d, e[s] = t, isNaN(d) || isNaN(t) ? [NaN, NaN] : i.dataToPoint(e)
                    }

                    function e(t, e) {
                        var i = t.slice(),
                            n = t.slice();
                        i[r] = Wn(i[r] + o / 2, 1, !1), n[r] = Wn(n[r] - o / 2, 1, !0), e ? M.push(i, n) : M.push(n, i)
                    }

                    function l(t) {
                        return t[r] = Wn(t[r], 1), t
                    }
                    var c = arguments,
                        d = c[0],
                        f = c[h.length + 1],
                        p = c[1],
                        g = c[2],
                        m = c[3],
                        v = c[4],
                        y = Math.min(p, g),
                        x = Math.max(p, g),
                        _ = t(y),
                        w = t(x),
                        b = t(m),
                        S = [
                            [l(t(v)), l(w)],
                            [l(b), l(_)]
                        ],
                        M = [];
                    e(w, 0), e(_, 1);
                    var I;
                    I = p > g ? -1 : p < g ? 1 : u > 0 ? n.getItemModel(u - 1).get()[2] <= g ? 1 : -1 : 1, n.setItemLayout(f, {
                        chartLayout: a,
                        sign: I,
                        initBaseline: p > g ? w[s] : _[s],
                        bodyEnds: M,
                        whiskerEnds: S,
                        brushRect: function() {
                            var e = t(Math.min(p, g, m, v)),
                                i = t(Math.max(p, g, m, v));
                            return e[r] -= o / 2, i[r] -= o / 2, {
                                x: e[0],
                                y: e[1],
                                width: s ? o : i[0] - e[0],
                                height: s ? i[1] - e[1] : o
                            }
                        }()
                    }), ++u
                }, !0)
            }
        })
    }), uM.extend({
        type: "series.effectScatter",
        dependencies: ["grid", "polar"],
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        },
        brushSelector: "point",
        defaultOption: {
            coordinateSystem: "cartesian2d",
            zlevel: 0,
            z: 2,
            legendHoverLink: !0,
            effectType: "ripple",
            progressive: 0,
            showEffectOn: "render",
            rippleEffect: {
                period: 4,
                scale: 2.5,
                brushType: "fill"
            },
            symbolSize: 10
        }
    });
    var GC = $f.prototype;
    GC.stopEffectAnimation = function() {
        this.childAt(1).removeAll()
    }, GC.startEffectAnimation = function(t) {
        for (var e = t.symbolType, i = t.color, n = this.childAt(1), o = 0; o < 3; o++) {
            var a = dl(e, -1, -1, 2, 2, i);
            a.attr({
                style: {
                    strokeNoScale: !0
                },
                z2: 99,
                silent: !0,
                scale: [.5, .5]
            });
            var r = -o / 3 * t.period + t.effectOffset;
            a.animate("", !0).when(t.period, {
                scale: [t.rippleScale / 2, t.rippleScale / 2]
            }).delay(r).start(), a.animateStyle(!0).when(t.period, {
                opacity: 0
            }).delay(r).start(), n.add(a)
        }
        qf(n, t)
    }, GC.updateEffectAnimation = function(t) {
        for (var e = this._effectCfg, i = this.childAt(1), n = ["symbolType", "period", "rippleScale"], o = 0; o < n.length; o++) {
            var a = n[o];
            if (e[a] !== t[a]) return this.stopEffectAnimation(), void this.startEffectAnimation(t)
        }
        qf(i, t)
    }, GC.highlight = function() {
        this.trigger("emphasis")
    }, GC.downplay = function() {
        this.trigger("normal")
    }, GC.updateData = function(t, e) {
        var i = t.hostModel;
        this.childAt(0).updateData(t, e);
        var n = this.childAt(1),
            o = t.getItemModel(e),
            a = t.getItemVisual(e, "symbol"),
            r = Yf(t.getItemVisual(e, "symbolSize")),
            s = t.getItemVisual(e, "color");
        n.attr("scale", r), n.traverse(function(t) {
            t.attr({
                fill: s
            })
        });
        var l = o.getShallow("symbolOffset");
        if (l) {
            var h = n.position;
            h[0] = To(l[0], r[0]), h[1] = To(l[1], r[1])
        }
        n.rotation = (o.getShallow("symbolRotate") || 0) * Math.PI / 180 || 0;
        var u = {};
        if (u.showEffectOn = i.get("showEffectOn"), u.rippleScale = o.get("rippleEffect.scale"), u.brushType = o.get("rippleEffect.brushType"), u.period = 1e3 * o.get("rippleEffect.period"), u.effectOffset = e / t.count(), u.z = o.getShallow("z") || 0, u.zlevel = o.getShallow("zlevel") || 0, u.symbolType = a, u.color = s, this.off("mouseover").off("mouseout").off("emphasis").off("normal"), "render" === u.showEffectOn) this._effectCfg ? this.updateEffectAnimation(u) : this.startEffectAnimation(u), this._effectCfg = u;
        else {
            this._effectCfg = null, this.stopEffectAnimation();
            var c = this.childAt(0),
                d = function() {
                    c.highlight(), "render" !== u.showEffectOn && this.startEffectAnimation(u)
                },
                f = function() {
                    c.downplay(), "render" !== u.showEffectOn && this.stopEffectAnimation()
                };
            this.on("mouseover", d, this).on("mouseout", f, this).on("emphasis", d, this).on("normal", f, this)
        }
        this._effectCfg = u
    }, GC.fadeOut = function(t) {
        this.off("mouseover").off("mouseout").off("emphasis").off("normal"), t && t()
    }, h($f, S_), ys({
        type: "effectScatter",
        init: function() {
            this._symbolDraw = new Ml($f)
        },
        render: function(t, e, i) {
            var n = t.getData(),
                o = this._symbolDraw;
            o.updateData(n), this.group.add(o.group)
        },
        updateTransform: function(t, e, i) {
            var n = t.getData();
            this.group.dirty();
            var o = ST().reset(t);
            o.progress && o.progress({
                start: 0,
                end: n.count()
            }, n), this._symbolDraw.updateLayout(n)
        },
        _updateGroupTransform: function(t) {
            var e = t.coordinateSystem;
            e && e.getRoamTransform && (this.group.transform = gt(e.getRoamTransform()), this.group.decomposeTransform())
        },
        remove: function(t, e) {
            this._symbolDraw && this._symbolDraw.remove(e)
        },
        dispose: function() {}
    }), ds(bT("effectScatter", "circle")), cs(ST("effectScatter"));
    var WC = "undefined" == typeof window ? global : window,
        FC = WC.Uint32Array || Array,
        HC = WC.Float64Array || Array,
        ZC = uM.extend({
            type: "series.lines",
            dependencies: ["grid", "polar"],
            visualColorAccessPath: "lineStyle.color",
            init: function(t) {
                Kf(t);
                var e = this._processFlatCoordsArray(t.data);
                this._flatCoords = e.flatCoords, this._flatCoordsOffset = e.flatCoordsOffset, e.flatCoords && (t.data = new Float32Array(e.count)), ZC.superApply(this, "init", arguments)
            },
            mergeOption: function(t) {
                if (Kf(t), t.data) {
                    var e = this._processFlatCoordsArray(t.data);
                    this._flatCoords = e.flatCoords, this._flatCoordsOffset = e.flatCoordsOffset, e.flatCoords && (t.data = new Float32Array(e.count))
                }
                ZC.superApply(this, "mergeOption", arguments)
            },
            appendData: function(t) {
                var e = this._processFlatCoordsArray(t.data);
                e.flatCoords && (this._flatCoords ? (this._flatCoords = R(this._flatCoords, e.flatCoords), this._flatCoordsOffset = R(this._flatCoordsOffset, e.flatCoordsOffset)) : (this._flatCoords = e.flatCoords, this._flatCoordsOffset = e.flatCoordsOffset), t.data = new Float32Array(e.count)), this.getRawData().appendData(t.data)
            },
            _getCoordsFromItemModel: function(t) {
                var e = this.getData().getItemModel(t);
                return e.option instanceof Array ? e.option : e.getShallow("coords")
            },
            getLineCoordsCount: function(t) {
                return this._flatCoordsOffset ? this._flatCoordsOffset[2 * t + 1] : this._getCoordsFromItemModel(t).length
            },
            getLineCoords: function(t, e) {
                if (this._flatCoordsOffset) {
                    for (var i = this._flatCoordsOffset[2 * t], n = this._flatCoordsOffset[2 * t + 1], o = 0; o < n; o++) e[o] = e[o] || [], e[o][0] = this._flatCoords[i + 2 * o], e[o][1] = this._flatCoords[i + 2 * o + 1];
                    return n
                }
                for (var a = this._getCoordsFromItemModel(t), o = 0; o < a.length; o++) e[o] = e[o] || [], e[o][0] = a[o][0], e[o][1] = a[o][1];
                return a.length
            },
            _processFlatCoordsArray: function(t) {
                var e = 0;
                if (this._flatCoords && (e = this._flatCoords.length), "number" == typeof t[0]) {
                    for (var i = t.length, n = new FC(i), o = new HC(i), a = 0, r = 0, s = 0, l = 0; l < i;) {
                        s++;
                        var h = t[l++];
                        n[r++] = a + e, n[r++] = h;
                        for (var u = 0; u < h; u++) {
                            var c = t[l++],
                                d = t[l++];
                            o[a++] = c, o[a++] = d
                        }
                    }
                    return {
                        flatCoordsOffset: new Uint32Array(n.buffer, 0, r),
                        flatCoords: o,
                        count: s
                    }
                }
                return {
                    flatCoordsOffset: null,
                    flatCoords: null,
                    count: t.length
                }
            },
            getInitialData: function(t, e) {
                var i = new yI(["value"], this);
                return i.hasItemOption = !1, i.initData(t.data, [], function(t, e, n, o) {
                    if (t instanceof Array) return NaN;
                    i.hasItemOption = !0;
                    var a = t.value;
                    return null != a ? a instanceof Array ? a[o] : a : void 0
                }), i
            },
            formatTooltip: function(t) {
                var e = this.getData().getItemModel(t),
                    i = e.get("name");
                if (i) return i;
                var n = e.get("fromName"),
                    o = e.get("toName"),
                    a = [];
                return null != n && a.push(n), null != o && a.push(o), Ho(a.join(" > "))
            },
            preventIncremental: function() {
                return !!this.get("effect.show")
            },
            getProgressive: function() {
                var t = this.option.progressive;
                return null == t ? this.option.large ? 1e4 : this.get("progressive") : t
            },
            getProgressiveThreshold: function() {
                var t = this.option.progressiveThreshold;
                return null == t ? this.option.large ? 2e4 : this.get("progressiveThreshold") : t
            },
            defaultOption: {
                coordinateSystem: "geo",
                zlevel: 0,
                z: 2,
                legendHoverLink: !0,
                hoverAnimation: !0,
                xAxisIndex: 0,
                yAxisIndex: 0,
                symbol: ["none", "none"],
                symbolSize: [10, 10],
                geoIndex: 0,
                effect: {
                    show: !1,
                    period: 4,
                    constantSpeed: 0,
                    symbol: "circle",
                    symbolSize: 3,
                    loop: !0,
                    trailLength: .2
                },
                large: !1,
                largeThreshold: 2e3,
                incremental: !1,
                incrementalThreshold: 3e3,
                polyline: !1,
                label: {
                    show: !1,
                    position: "end"
                },
                lineStyle: {
                    opacity: .5
                }
            }
        }),
        UC = Jf.prototype;
    UC.createLine = function(t, e, i) {
        return new Wc(t, e, i)
    }, UC._updateEffectSymbol = function(t, e) {
        var i = t.getItemModel(e).getModel("effect"),
            n = i.get("symbolSize"),
            o = i.get("symbol");
        y(n) || (n = [n, n]);
        var a = i.get("color") || t.getItemVisual(e, "color"),
            r = this.childAt(1);
        this._symbolType !== o && (this.remove(r), (r = dl(o, -.5, -.5, 1, 1, a)).z2 = 100, r.culling = !0, this.add(r)), r && (r.setStyle("shadowColor", a), r.setStyle(i.getItemStyle(["color"])), r.attr("scale", n), r.setColor(a), r.attr("scale", n), this._symbolType = o, this._updateEffectAnimation(t, i, e))
    }, UC._updateEffectAnimation = function(t, e, i) {
        var n = this.childAt(1);
        if (n) {
            var o = this,
                a = t.getItemLayout(i),
                r = 1e3 * e.get("period"),
                s = e.get("loop"),
                l = e.get("constantSpeed"),
                h = T(e.get("delay"), function(e) {
                    return e / t.count() * r / 3
                }),
                u = "function" == typeof h;
            if (n.ignore = !0, this.updateAnimationPoints(n, a), l > 0 && (r = this.getLineLength(n) / l * 1e3), r !== this._period || s !== this._loop) {
                n.stopAnimation();
                var c = h;
                u && (c = h(i)), n.__t > 0 && (c = -r * n.__t), n.__t = 0;
                var d = n.animate("", s).when(r, {
                    __t: 1
                }).delay(c).during(function() {
                    o.updateSymbolPosition(n)
                });
                s || d.done(function() {
                    o.remove(n)
                }), d.start()
            }
            this._period = r, this._loop = s
        }
    }, UC.getLineLength = function(t) {
        return Vx(t.__p1, t.__cp1) + Vx(t.__cp1, t.__p2)
    }, UC.updateAnimationPoints = function(t, e) {
        t.__p1 = e[0], t.__p2 = e[1], t.__cp1 = e[2] || [(e[0][0] + e[1][0]) / 2, (e[0][1] + e[1][1]) / 2]
    }, UC.updateData = function(t, e, i) {
        this.childAt(0).updateData(t, e, i), this._updateEffectSymbol(t, e)
    }, UC.updateSymbolPosition = function(t) {
        var e = t.__p1,
            i = t.__p2,
            n = t.__cp1,
            o = t.__t,
            a = t.position,
            r = Ji,
            s = Qi;
        a[0] = r(e[0], n[0], i[0], o), a[1] = r(e[1], n[1], i[1], o);
        var l = s(e[0], n[0], i[0], o),
            h = s(e[1], n[1], i[1], o);
        t.rotation = -Math.atan2(h, l) - Math.PI / 2, t.ignore = !1
    }, UC.updateLayout = function(t, e) {
        this.childAt(0).updateLayout(t, e);
        var i = t.getItemModel(e).getModel("effect");
        this._updateEffectAnimation(t, i, e)
    }, h(Jf, S_);
    var jC = Qf.prototype;
    jC._createPolyline = function(t, e, i) {
        var n = t.getItemLayout(e),
            o = new Bb({
                shape: {
                    points: n
                }
            });
        this.add(o), this._updateCommonStl(t, e, i)
    }, jC.updateData = function(t, e, i) {
        var n = t.hostModel;
        co(this.childAt(0), {
            shape: {
                points: t.getItemLayout(e)
            }
        }, n, e), this._updateCommonStl(t, e, i)
    }, jC._updateCommonStl = function(t, e, i) {
        var n = this.childAt(0),
            o = t.getItemModel(e),
            a = t.getItemVisual(e, "color"),
            s = i && i.lineStyle,
            l = i && i.hoverLineStyle;
        i && !t.hasItemOption || (s = o.getModel("lineStyle").getLineStyle(), l = o.getModel("emphasis.lineStyle").getLineStyle()), n.useStyle(r({
            strokeNoScale: !0,
            fill: "none",
            stroke: a
        }, s)), n.hoverStyle = l, to(this)
    }, jC.updateLayout = function(t, e) {
        this.childAt(0).setShape("points", t.getItemLayout(e))
    }, h(Qf, S_);
    var XC = tp.prototype;
    XC.createLine = function(t, e, i) {
        return new Qf(t, e, i)
    }, XC.updateAnimationPoints = function(t, e) {
        this._points = e;
        for (var i = [0], n = 0, o = 1; o < e.length; o++) {
            var a = e[o - 1],
                r = e[o];
            n += Vx(a, r), i.push(n)
        }
        if (0 !== n) {
            for (o = 0; o < i.length; o++) i[o] /= n;
            this._offsets = i, this._length = n
        }
    }, XC.getLineLength = function(t) {
        return this._length
    }, XC.updateSymbolPosition = function(t) {
        var e = t.__t,
            i = this._points,
            n = this._offsets,
            o = i.length;
        if (n) {
            var a = this._lastFrame;
            if (e < this._lastFramePercent) {
                for (r = Math.min(a + 1, o - 1); r >= 0 && !(n[r] <= e); r--);
                r = Math.min(r, o - 2)
            } else {
                for (var r = a; r < o && !(n[r] > e); r++);
                r = Math.min(r - 1, o - 2)
            }
            J(t.position, i[r], i[r + 1], (e - n[r]) / (n[r + 1] - n[r]));
            var s = i[r + 1][0] - i[r][0],
                l = i[r + 1][1] - i[r][1];
            t.rotation = -Math.atan2(l, s) - Math.PI / 2, this._lastFrame = r, this._lastFramePercent = e, t.ignore = !1
        }
    }, h(tp, Jf);
    var YC = Nn({
            shape: {
                polyline: !1,
                curveness: 0,
                segs: []
            },
            buildPath: function(t, e) {
                var i = e.segs,
                    n = e.curveness;
                if (e.polyline)
                    for (r = 0; r < i.length;) {
                        var o = i[r++];
                        if (o > 0) {
                            t.moveTo(i[r++], i[r++]);
                            for (var a = 1; a < o; a++) t.lineTo(i[r++], i[r++])
                        }
                    } else
                        for (var r = 0; r < i.length;) {
                            var s = i[r++],
                                l = i[r++],
                                h = i[r++],
                                u = i[r++];
                            if (t.moveTo(s, l), n > 0) {
                                var c = (s + h) / 2 - (l - u) * n,
                                    d = (l + u) / 2 - (h - s) * n;
                                t.quadraticCurveTo(c, d, h, u)
                            } else t.lineTo(h, u)
                        }
            },
            findDataIndex: function(t, e) {
                var i = this.shape,
                    n = i.segs,
                    o = i.curveness;
                if (i.polyline)
                    for (var a = 0, r = 0; r < n.length;) {
                        var s = n[r++];
                        if (s > 0)
                            for (var l = n[r++], h = n[r++], u = 1; u < s; u++)
                                if (un(l, h, c = n[r++], d = n[r++])) return a;
                        a++
                    } else
                        for (var a = 0, r = 0; r < n.length;) {
                            var l = n[r++],
                                h = n[r++],
                                c = n[r++],
                                d = n[r++];
                            if (o > 0) {
                                if (dn(l, h, (l + c) / 2 - (h - d) * o, (h + d) / 2 - (c - l) * o, c, d)) return a
                            } else if (un(l, h, c, d)) return a;
                            a++
                        }
                return -1
            }
        }),
        qC = ep.prototype;
    qC.isPersistent = function() {
        return !this._incremental
    }, qC.updateData = function(t) {
        this.group.removeAll();
        var e = new YC({
            rectHover: !0,
            cursor: "default"
        });
        e.setShape({
            segs: t.getLayout("linesPoints")
        }), this._setCommon(e, t), this.group.add(e), this._incremental = null
    }, qC.incrementalPrepareUpdate = function(t) {
        this.group.removeAll(), this._clearIncremental(), t.count() > 5e5 ? (this._incremental || (this._incremental = new On({
            silent: !0
        })), this.group.add(this._incremental)) : this._incremental = null
    }, qC.incrementalUpdate = function(t, e) {
        var i = new YC;
        i.setShape({
            segs: e.getLayout("linesPoints")
        }), this._setCommon(i, e, !!this._incremental), this._incremental ? this._incremental.addDisplayable(i, !0) : (i.rectHover = !0, i.cursor = "default", i.__startIndex = t.start, this.group.add(i))
    }, qC.remove = function() {
        this._clearIncremental(), this._incremental = null, this.group.removeAll()
    }, qC._setCommon = function(t, e, i) {
        var n = e.hostModel;
        t.setShape({
            polyline: n.get("polyline"),
            curveness: n.get("lineStyle.curveness")
        }), t.useStyle(n.getModel("lineStyle").getLineStyle()), t.style.strokeNoScale = !0;
        var o = e.getVisual("color");
        o && t.setStyle("stroke", o), t.setStyle("fill"), i || (t.seriesIndex = n.seriesIndex, t.on("mousemove", function(e) {
            t.dataIndex = null;
            var i = t.findDataIndex(e.offsetX, e.offsetY);
            i > 0 && (t.dataIndex = i + t.__startIndex)
        }))
    }, qC._clearIncremental = function() {
        var t = this._incremental;
        t && t.clearDisplaybles()
    };
    var $C = {
        seriesType: "lines",
        plan: fM(),
        reset: function(t) {
            var e = t.coordinateSystem,
                i = t.get("polyline"),
                n = t.pipelineContext.large;
            return {
                progress: function(o, a) {
                    var r = [];
                    if (n) {
                        var s, l = o.end - o.start;
                        if (i) {
                            for (var h = 0, u = o.start; u < o.end; u++) h += t.getLineCoordsCount(u);
                            s = new Float32Array(l + 2 * h)
                        } else s = new Float32Array(2 * l);
                        for (var c = 0, d = [], u = o.start; u < o.end; u++) {
                            g = t.getLineCoords(u, r), i && (s[c++] = g);
                            for (var f = 0; f < g; f++) d = e.dataToPoint(r[f], !1, d), s[c++] = d[0], s[c++] = d[1]
                        }
                        a.setLayout("linesPoints", s)
                    } else
                        for (u = o.start; u < o.end; u++) {
                            var p = a.getItemModel(u),
                                g = t.getLineCoords(u, r),
                                m = [];
                            if (i)
                                for (var v = 0; v < g; v++) m.push(e.dataToPoint(r[v]));
                            else {
                                m[0] = e.dataToPoint(r[0]), m[1] = e.dataToPoint(r[1]);
                                var y = p.get("lineStyle.curveness"); + y && (m[2] = [(m[0][0] + m[1][0]) / 2 - (m[0][1] - m[1][1]) * y, (m[0][1] + m[1][1]) / 2 - (m[1][0] - m[0][0]) * y])
                            }
                            a.setItemLayout(u, m)
                        }
                }
            }
        }
    };
    ys({
        type: "lines",
        init: function() {},
        render: function(t, e, i) {
            var n = t.getData(),
                o = this._updateLineDraw(n, t),
                a = t.get("zlevel"),
                r = t.get("effect.trailLength"),
                s = i.getZr(),
                l = "svg" === s.painter.getType();
            l || s.painter.getLayer(a).clear(!0), null == this._lastZlevel || l || s.configLayer(this._lastZlevel, {
                motionBlur: !1
            }), this._showEffect(t) && r && (l || s.configLayer(a, {
                motionBlur: !0,
                lastFrameAlpha: Math.max(Math.min(r / 10 + .9, 1), 0)
            })), o.updateData(n), this._lastZlevel = a, this._finished = !0
        },
        incrementalPrepareRender: function(t, e, i) {
            var n = t.getData();
            this._updateLineDraw(n, t).incrementalPrepareUpdate(n), this._clearLayer(i), this._finished = !1
        },
        incrementalRender: function(t, e, i) {
            this._lineDraw.incrementalUpdate(t, e.getData()), this._finished = t.end === e.getData().count()
        },
        updateTransform: function(t, e, i) {
            var n = t.getData();
            if (!this._finished || t.pipelineContext.large) return {
                update: !0
            };
            var o = $C.reset(t);
            o.progress && o.progress({
                start: 0,
                end: n.count()
            }, n), this._lineDraw.updateLayout(), this._clearLayer(i)
        },
        _updateLineDraw: function(t, e) {
            var i = this._lineDraw,
                n = this._showEffect(e),
                o = !!e.get("polyline"),
                a = e.pipelineContext.large;
            return i && n === this._hasEffet && o === this._isPolyline && a === this._isLargeDraw || (i && i.remove(), i = this._lineDraw = a ? new ep : new Fc(o ? n ? tp : Qf : n ? Jf : Wc), this._hasEffet = n, this._isPolyline = o, this._isLargeDraw = a, this.group.removeAll()), this.group.add(i.group), i
        },
        _showEffect: function(t) {
            return !!t.get("effect.show")
        },
        _clearLayer: function(t) {
            var e = t.getZr();
            "svg" === e.painter.getType() || null == this._lastZlevel || e.painter.getLayer(this._lastZlevel).clear(!0)
        },
        remove: function(t, e) {
            this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(e)
        },
        dispose: function() {}
    });
    var KC = "lineStyle.opacity".split("."),
        JC = {
            seriesType: "lines",
            reset: function(t, e, i) {
                var n = ip(t.get("symbol")),
                    o = ip(t.get("symbolSize")),
                    a = t.getData();
                return a.setVisual("fromSymbol", n && n[0]), a.setVisual("toSymbol", n && n[1]), a.setVisual("fromSymbolSize", o && o[0]), a.setVisual("toSymbolSize", o && o[1]), a.setVisual("opacity", t.get(KC)), {
                    dataEach: a.hasItemOption ? function(t, e) {
                        var i = t.getItemModel(e),
                            n = ip(i.getShallow("symbol", !0)),
                            o = ip(i.getShallow("symbolSize", !0)),
                            a = i.get(KC);
                        n[0] && t.setItemVisual(e, "fromSymbol", n[0]), n[1] && t.setItemVisual(e, "toSymbol", n[1]), o[0] && t.setItemVisual(e, "fromSymbolSize", o[0]), o[1] && t.setItemVisual(e, "toSymbolSize", o[1]), t.setItemVisual(e, "opacity", a)
                    } : null
                }
            }
        };
    cs($C), ds(JC), uM.extend({
        type: "series.heatmap",
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        },
        preventIncremental: function() {
            var t = Aa.get(this.get("coordinateSystem"));
            if (t && t.dimensions) return "lng" === t.dimensions[0] && "lat" === t.dimensions[1]
        },
        defaultOption: {
            coordinateSystem: "cartesian2d",
            zlevel: 0,
            z: 2,
            geoIndex: 0,
            blurSize: 30,
            pointSize: 20,
            maxOpacity: 1,
            minOpacity: 0
        }
    });
    np.prototype = {
        update: function(t, e, i, n, o, a) {
            var r = this._getBrush(),
                s = this._getGradient(t, o, "inRange"),
                l = this._getGradient(t, o, "outOfRange"),
                h = this.pointSize + this.blurSize,
                u = this.canvas,
                c = u.getContext("2d"),
                d = t.length;
            u.width = e, u.height = i;
            for (var f = 0; f < d; ++f) {
                var p = t[f],
                    g = p[0],
                    m = p[1],
                    v = n(p[2]);
                c.globalAlpha = v, c.drawImage(r, g - h, m - h)
            }
            if (!u.width || !u.height) return u;
            for (var y = c.getImageData(0, 0, u.width, u.height), x = y.data, _ = 0, w = x.length, b = this.minOpacity, S = this.maxOpacity - b; _ < w;) {
                var v = x[_ + 3] / 256,
                    M = 4 * Math.floor(255 * v);
                if (v > 0) {
                    var I = a(v) ? s : l;
                    v > 0 && (v = v * S + b), x[_++] = I[M], x[_++] = I[M + 1], x[_++] = I[M + 2], x[_++] = I[M + 3] * v * 256
                } else _ += 4
            }
            return c.putImageData(y, 0, 0), u
        },
        _getBrush: function() {
            var t = this._brushCanvas || (this._brushCanvas = Px()),
                e = this.pointSize + this.blurSize,
                i = 2 * e;
            t.width = i, t.height = i;
            var n = t.getContext("2d");
            return n.clearRect(0, 0, i, i), n.shadowOffsetX = i, n.shadowBlur = this.blurSize, n.shadowColor = "#000", n.beginPath(), n.arc(-e, e, this.pointSize, 0, 2 * Math.PI, !0), n.closePath(), n.fill(), t
        },
        _getGradient: function(t, e, i) {
            for (var n = this._gradientPixels, o = n[i] || (n[i] = new Uint8ClampedArray(1024)), a = [0, 0, 0, 0], r = 0, s = 0; s < 256; s++) e[i](s / 255, !0, a), o[r++] = a[0], o[r++] = a[1], o[r++] = a[2], o[r++] = a[3];
            return o
        }
    }, ys({
        type: "heatmap",
        render: function(t, e, i) {
            var n;
            e.eachComponent("visualMap", function(e) {
                e.eachTargetSeries(function(i) {
                    i === t && (n = e)
                })
            }), this.group.removeAll(), this._incrementalDisplayable = null;
            var o = t.coordinateSystem;
            "cartesian2d" === o.type || "calendar" === o.type ? this._renderOnCartesianAndCalendar(t, i, 0, t.getData().count()) : rp(o) && this._renderOnGeo(o, t, n, i)
        },
        incrementalPrepareRender: function(t, e, i) {
            this.group.removeAll()
        },
        incrementalRender: function(t, e, i, n) {
            e.coordinateSystem && this._renderOnCartesianAndCalendar(e, n, t.start, t.end, !0)
        },
        _renderOnCartesianAndCalendar: function(t, e, i, n, o) {
            var r, s, l = t.coordinateSystem;
            if ("cartesian2d" === l.type) {
                var h = l.getAxis("x"),
                    u = l.getAxis("y");
                r = h.getBandWidth(), s = u.getBandWidth()
            }
            for (var c = this.group, d = t.getData(), f = t.getModel("itemStyle").getItemStyle(["color"]), p = t.getModel("emphasis.itemStyle").getItemStyle(), g = t.getModel("label"), m = t.getModel("emphasis.label"), v = l.type, y = "cartesian2d" === v ? [d.mapDimension("x"), d.mapDimension("y"), d.mapDimension("value")] : [d.mapDimension("time"), d.mapDimension("value")], x = i; x < n; x++) {
                var _;
                if ("cartesian2d" === v) {
                    if (isNaN(d.get(y[2], x))) continue;
                    var w = l.dataToPoint([d.get(y[0], x), d.get(y[1], x)]);
                    _ = new Vb({
                        shape: {
                            x: w[0] - r / 2,
                            y: w[1] - s / 2,
                            width: r,
                            height: s
                        },
                        style: {
                            fill: d.getItemVisual(x, "color"),
                            opacity: d.getItemVisual(x, "opacity")
                        }
                    })
                } else {
                    if (isNaN(d.get(y[1], x))) continue;
                    _ = new Vb({
                        z2: 1,
                        shape: l.dataToRect([d.get(y[0], x)]).contentShape,
                        style: {
                            fill: d.getItemVisual(x, "color"),
                            opacity: d.getItemVisual(x, "opacity")
                        }
                    })
                }
                var b = d.getItemModel(x);
                d.hasItemOption && (f = b.getModel("itemStyle").getItemStyle(["color"]), p = b.getModel("emphasis.itemStyle").getItemStyle(), g = b.getModel("label"), m = b.getModel("emphasis.label"));
                var S = t.getRawValue(x),
                    M = "-";
                S && null != S[2] && (M = S[2]), eo(f, p, g, m, {
                    labelFetcher: t,
                    labelDataIndex: x,
                    defaultText: M,
                    isRectText: !0
                }), _.setStyle(f), to(_, d.hasItemOption ? p : a({}, p)), _.incremental = o, o && (_.useHoverLayer = !0), c.add(_), d.setItemGraphicEl(x, _)
            }
        },
        _renderOnGeo: function(t, e, i, n) {
            var o = i.targetVisuals.inRange,
                a = i.targetVisuals.outOfRange,
                r = e.getData(),
                s = this._hmLayer || this._hmLayer || new np;
            s.blurSize = e.get("blurSize"), s.pointSize = e.get("pointSize"), s.minOpacity = e.get("minOpacity"), s.maxOpacity = e.get("maxOpacity");
            var l = t.getViewRect().clone(),
                h = t.getRoamTransform();
            l.applyTransform(h);
            var u = Math.max(l.x, 0),
                c = Math.max(l.y, 0),
                d = Math.min(l.width + l.x, n.getWidth()),
                f = Math.min(l.height + l.y, n.getHeight()),
                p = d - u,
                g = f - c,
                m = [r.mapDimension("lng"), r.mapDimension("lat"), r.mapDimension("value")],
                v = r.mapArray(m, function(e, i, n) {
                    var o = t.dataToPoint([e, i]);
                    return o[0] -= u, o[1] -= c, o.push(n), o
                }),
                y = i.getExtent(),
                x = "visualMap.continuous" === i.type ? ap(y, i.option.range) : op(y, i.getPieceList(), i.option.selected);
            s.update(v, p, g, o.color.getNormalizer(), {
                inRange: o.color.getColorMapper(),
                outOfRange: a.color.getColorMapper()
            }, x);
            var _ = new Je({
                style: {
                    width: p,
                    height: g,
                    x: u,
                    y: c,
                    image: s.canvas
                },
                silent: !0
            });
            this.group.add(_)
        },
        dispose: function() {}
    });
    var QC = tA.extend({
            type: "series.pictorialBar",
            dependencies: ["grid"],
            defaultOption: {
                symbol: "circle",
                symbolSize: null,
                symbolRotate: null,
                symbolPosition: null,
                symbolOffset: null,
                symbolMargin: null,
                symbolRepeat: !1,
                symbolRepeatDirection: "end",
                symbolClip: !1,
                symbolBoundingData: null,
                symbolPatternSize: 400,
                barGap: "-100%",
                progressive: 0,
                hoverAnimation: !1
            },
            getInitialData: function(t) {
                return t.stack = null, QC.superApply(this, "getInitialData", arguments)
            }
        }),
        tL = ["itemStyle", "borderWidth"],
        eL = [{
            xy: "x",
            wh: "width",
            index: 0,
            posDesc: ["left", "right"]
        }, {
            xy: "y",
            wh: "height",
            index: 1,
            posDesc: ["top", "bottom"]
        }],
        iL = new Lb;
    ys({
        type: "pictorialBar",
        render: function(t, e, i) {
            var n = this.group,
                o = t.getData(),
                a = this._data,
                r = t.coordinateSystem,
                s = !!r.getBaseAxis().isHorizontal(),
                l = r.grid.getRect(),
                h = {
                    ecSize: {
                        width: i.getWidth(),
                        height: i.getHeight()
                    },
                    seriesModel: t,
                    coordSys: r,
                    coordSysExtent: [
                        [l.x, l.x + l.width],
                        [l.y, l.y + l.height]
                    ],
                    isHorizontal: s,
                    valueDim: eL[+s],
                    categoryDim: eL[1 - s]
                };
            return o.diff(a).add(function(t) {
                if (o.hasValue(t)) {
                    var e = yp(o, t),
                        i = sp(o, t, e, h),
                        a = bp(o, h, i);
                    o.setItemGraphicEl(t, a), n.add(a), Dp(a, h, i)
                }
            }).update(function(t, e) {
                var i = a.getItemGraphicEl(e);
                if (o.hasValue(t)) {
                    var r = yp(o, t),
                        s = sp(o, t, r, h),
                        l = Ip(o, s);
                    i && l !== i.__pictorialShapeStr && (n.remove(i), o.setItemGraphicEl(t, null), i = null), i ? Sp(i, h, s) : i = bp(o, h, s, !0), o.setItemGraphicEl(t, i), i.__pictorialSymbolMeta = s, n.add(i), Dp(i, h, s)
                } else n.remove(i)
            }).remove(function(t) {
                var e = a.getItemGraphicEl(t);
                e && Mp(a, t, e.__pictorialSymbolMeta.animationModel, e)
            }).execute(), this._data = o, this.group
        },
        dispose: B,
        remove: function(t, e) {
            var i = this.group,
                n = this._data;
            t.get("animation") ? n && n.eachItemGraphicEl(function(e) {
                Mp(n, e.dataIndex, t, e)
            }) : i.removeAll()
        }
    });
    cs(v(il, "pictorialBar")), ds(bT("pictorialBar", "roundRect"));
    var nL = function(t, e, i, n, o) {
        nT.call(this, t, e, i), this.type = n || "value", this.position = o || "bottom", this.orient = null, this._labelInterval = null
    };
    nL.prototype = {
        constructor: nL,
        model: null,
        isHorizontal: function() {
            var t = this.position;
            return "top" === t || "bottom" === t
        },
        pointToData: function(t, e) {
            return this.coordinateSystem.pointToData(t, e)[0]
        },
        toGlobalCoord: null,
        toLocalCoord: null
    }, h(nL, nT), Lp.prototype = {
        type: "singleAxis",
        axisPointerEnabled: !0,
        constructor: Lp,
        _init: function(t, e, i) {
            var n = this.dimension,
                o = new nL(n, sl(t), [0, 0], t.get("type"), t.get("position")),
                a = "category" === o.type;
            o.onBand = a && t.get("boundaryGap"), o.inverse = t.get("inverse"), o.orient = t.get("orient"), t.axis = o, o.model = t, o.coordinateSystem = this, this._axis = o
        },
        update: function(t, e) {
            t.eachSeries(function(t) {
                if (t.coordinateSystem === this) {
                    var e = t.getData();
                    d(e.mapDimension(this.dimension, !0), function(t) {
                        this._axis.scale.unionExtentFromData(e, t)
                    }, this), rl(this._axis.scale, this._axis.model)
                }
            }, this)
        },
        resize: function(t, e) {
            this._rect = Ko({
                left: t.get("left"),
                top: t.get("top"),
                right: t.get("right"),
                bottom: t.get("bottom"),
                width: t.get("width"),
                height: t.get("height")
            }, {
                width: e.getWidth(),
                height: e.getHeight()
            }), this._adjustAxis()
        },
        getRect: function() {
            return this._rect
        },
        _adjustAxis: function() {
            var t = this._rect,
                e = this._axis,
                i = e.isHorizontal(),
                n = i ? [0, t.width] : [0, t.height],
                o = e.reverse ? 1 : 0;
            e.setExtent(n[o], n[1 - o]), this._updateAxisTransform(e, i ? t.x : t.y)
        },
        _updateAxisTransform: function(t, e) {
            var i = t.getExtent(),
                n = i[0] + i[1],
                o = t.isHorizontal();
            t.toGlobalCoord = o ? function(t) {
                return t + e
            } : function(t) {
                return n - t + e
            }, t.toLocalCoord = o ? function(t) {
                return t - e
            } : function(t) {
                return n - t + e
            }
        },
        getAxis: function() {
            return this._axis
        },
        getBaseAxis: function() {
            return this._axis
        },
        getAxes: function() {
            return [this._axis]
        },
        getTooltipAxes: function() {
            return {
                baseAxes: [this.getAxis()]
            }
        },
        containPoint: function(t) {
            var e = this.getRect(),
                i = this.getAxis();
            return "horizontal" === i.orient ? i.contain(i.toLocalCoord(t[0])) && t[1] >= e.y && t[1] <= e.y + e.height : i.contain(i.toLocalCoord(t[1])) && t[0] >= e.y && t[0] <= e.y + e.height
        },
        pointToData: function(t) {
            var e = this.getAxis();
            return [e.coordToData(e.toLocalCoord(t["horizontal" === e.orient ? 0 : 1]))]
        },
        dataToPoint: function(t) {
            var e = this.getAxis(),
                i = this.getRect(),
                n = [],
                o = "horizontal" === e.orient ? 0 : 1;
            return t instanceof Array && (t = t[0]), n[o] = e.toGlobalCoord(e.dataToCoord(+t)), n[1 - o] = 0 === o ? i.y + i.height / 2 : i.x + i.width / 2, n
        }
    }, Aa.register("single", {
        create: function(t, e) {
            var i = [];
            return t.eachComponent("singleAxis", function(n, o) {
                var a = new Lp(n, t, e);
                a.name = "single_" + o, a.resize(n, e), n.coordinateSystem = a, i.push(a)
            }), t.eachSeries(function(e) {
                if ("singleAxis" === e.get("coordinateSystem")) {
                    var i = t.queryComponents({
                        mainType: "singleAxis",
                        index: e.get("singleAxisIndex"),
                        id: e.get("singleAxisId")
                    })[0];
                    e.coordinateSystem = i && i.coordinateSystem
                }
            }), i
        },
        dimensions: Lp.prototype.dimensions
    });
    var oL = GT.getInterval,
        aL = GT.ifIgnoreOnTick,
        rL = ["axisLine", "axisTickLabel", "axisName"],
        sL = XT.extend({
            type: "singleAxis",
            axisPointerClass: "SingleAxisPointer",
            render: function(t, e, i, n) {
                var o = this.group;
                o.removeAll();
                var a = kp(t),
                    r = new GT(t, a);
                d(rL, r.add, r), o.add(r.getGroup()), t.get("splitLine.show") && this._splitLine(t, a.labelInterval), sL.superCall(this, "render", t, e, i, n)
            },
            _splitLine: function(t, e) {
                var i = t.axis;
                if (!i.scale.isBlank()) {
                    var n = t.getModel("splitLine"),
                        o = n.getModel("lineStyle"),
                        a = o.get("width"),
                        r = o.get("color"),
                        s = oL(n, e);
                    r = r instanceof Array ? r : [r];
                    for (var l = t.coordinateSystem.getRect(), h = i.isHorizontal(), u = [], c = 0, d = i.getTicksCoords(), f = [], p = [], g = t.get("axisLabel.showMinLabel"), m = t.get("axisLabel.showMaxLabel"), v = 0; v < d.length; ++v)
                        if (!aL(i, v, s, d.length, g, m)) {
                            var y = i.toGlobalCoord(d[v]);
                            h ? (f[0] = y, f[1] = l.y, p[0] = y, p[1] = l.y + l.height) : (f[0] = l.x, f[1] = y, p[0] = l.x + l.width, p[1] = y);
                            var x = c++ % r.length;
                            u[x] = u[x] || [], u[x].push(new Gb(Vn({
                                shape: {
                                    x1: f[0],
                                    y1: f[1],
                                    x2: p[0],
                                    y2: p[1]
                                },
                                style: {
                                    lineWidth: a
                                },
                                silent: !0
                            })))
                        } for (v = 0; v < u.length; ++v) this.group.add(Qb(u[v], {
                        style: {
                            stroke: r[v % r.length],
                            lineDash: o.getLineDash(a),
                            lineWidth: a
                        },
                        silent: !0
                    }))
                }
            }
        }),
        lL = IS.extend({
            type: "singleAxis",
            layoutMode: "box",
            axis: null,
            coordinateSystem: null,
            getCoordSysModel: function() {
                return this
            }
        }),
        hL = {
            left: "5%",
            top: "5%",
            right: "5%",
            bottom: "5%",
            type: "value",
            position: "bottom",
            orient: "horizontal",
            axisLine: {
                show: !0,
                lineStyle: {
                    width: 2,
                    type: "solid"
                }
            },
            tooltip: {
                show: !0
            },
            axisTick: {
                show: !0,
                length: 6,
                lineStyle: {
                    width: 2
                }
            },
            axisLabel: {
                show: !0,
                interval: "auto"
            },
            splitLine: {
                show: !0,
                lineStyle: {
                    type: "dashed",
                    opacity: .2
                }
            }
        };
    n(lL.prototype, ZI), kT("single", lL, function(t, e) {
        return e.type || (e.data ? "category" : "value")
    }, hL);
    var uL = function(t, e) {
            var i, n = [],
                o = t.seriesIndex;
            if (null == o || !(i = e.getSeriesByIndex(o))) return {
                point: []
            };
            var a = i.getData(),
                r = ki(a, t);
            if (null == r || r < 0 || y(r)) return {
                point: []
            };
            var s = a.getItemGraphicEl(r),
                l = i.coordinateSystem;
            if (i.getTooltipPosition) n = i.getTooltipPosition(r) || [];
            else if (l && l.dataToPoint) n = l.dataToPoint(a.getValues(f(l.dimensions, function(t) {
                return a.mapDimension(t)
            }), r, !0)) || [];
            else if (s) {
                var h = s.getBoundingRect().clone();
                h.applyTransform(s.transform), n = [h.x + h.width / 2, h.y + h.height / 2]
            }
            return {
                point: n,
                el: s
            }
        },
        cL = d,
        dL = v,
        fL = Pi(),
        pL = (gs({
            type: "axisPointer",
            coordSysAxesInfo: null,
            defaultOption: {
                show: "auto",
                triggerOn: null,
                zlevel: 0,
                z: 50,
                type: "line",
                snap: !1,
                triggerTooltip: !0,
                value: null,
                status: null,
                link: [],
                animation: null,
                animationDurationUpdate: 200,
                lineStyle: {
                    color: "#aaa",
                    width: 1,
                    type: "solid"
                },
                shadowStyle: {
                    color: "rgba(150,150,150,0.3)"
                },
                label: {
                    show: !0,
                    formatter: null,
                    precision: "auto",
                    margin: 3,
                    color: "#fff",
                    padding: [5, 7, 5, 7],
                    backgroundColor: "auto",
                    borderColor: null,
                    borderWidth: 0,
                    shadowBlur: 3,
                    shadowColor: "#aaa"
                },
                handle: {
                    show: !1,
                    icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
                    size: 45,
                    margin: 50,
                    color: "#333",
                    shadowBlur: 3,
                    shadowColor: "#aaa",
                    shadowOffsetX: 0,
                    shadowOffsetY: 2,
                    throttle: 40
                }
            }
        }), Pi()),
        gL = d,
        mL = ms({
            type: "axisPointer",
            render: function(t, e, i) {
                var n = e.getComponent("tooltip"),
                    o = t.get("triggerOn") || n && n.get("triggerOn") || "mousemove|click";
                Fp("axisPointer", i, function(t, e, i) {
                    "none" !== o && ("leave" === t || o.indexOf(t) >= 0) && i({
                        type: "updateAxisPointer",
                        currTrigger: t,
                        x: e && e.offsetX,
                        y: e && e.offsetY
                    })
                })
            },
            remove: function(t, e) {
                Yp(e.getZr(), "axisPointer"), mL.superApply(this._model, "remove", arguments)
            },
            dispose: function(t, e) {
                Yp("axisPointer", e), mL.superApply(this._model, "dispose", arguments)
            }
        }),
        vL = Pi(),
        yL = i,
        xL = m;
    (qp.prototype = {
        _group: null,
        _lastGraphicKey: null,
        _handle: null,
        _dragging: !1,
        _lastValue: null,
        _lastStatus: null,
        _payloadInfo: null,
        animationThreshold: 15,
        render: function(t, e, i, n) {
            var o = e.get("value"),
                a = e.get("status");
            if (this._axisModel = t, this._axisPointerModel = e, this._api = i, n || this._lastValue !== o || this._lastStatus !== a) {
                this._lastValue = o, this._lastStatus = a;
                var r = this._group,
                    s = this._handle;
                if (!a || "hide" === a) return r && r.hide(), void(s && s.hide());
                r && r.show(), s && s.show();
                var l = {};
                this.makeElOption(l, o, t, e, i);
                var h = l.graphicKey;
                h !== this._lastGraphicKey && this.clear(i), this._lastGraphicKey = h;
                var u = this._moveAnimation = this.determineAnimation(t, e);
                if (r) {
                    var c = v($p, e, u);
                    this.updatePointerEl(r, l, c, e), this.updateLabelEl(r, l, c, e)
                } else r = this._group = new S_, this.createPointerEl(r, l, t, e), this.createLabelEl(r, l, t, e), i.getZr().add(r);
                tg(r, e, !0), this._renderHandle(o)
            }
        },
        remove: function(t) {
            this.clear(t)
        },
        dispose: function(t) {
            this.clear(t)
        },
        determineAnimation: function(t, e) {
            var i = e.get("animation"),
                n = t.axis,
                o = "category" === n.type,
                a = e.get("snap");
            if (!a && !o) return !1;
            if ("auto" === i || null == i) {
                var r = this.animationThreshold;
                if (o && n.getBandWidth() > r) return !0;
                if (a) {
                    var s = vh(t).seriesDataCount,
                        l = n.getExtent();
                    return Math.abs(l[0] - l[1]) / s > r
                }
                return !1
            }
            return !0 === i
        },
        makeElOption: function(t, e, i, n, o) {},
        createPointerEl: function(t, e, i, n) {
            var o = e.pointer;
            if (o) {
                var a = vL(t).pointerEl = new tS[o.type](yL(e.pointer));
                t.add(a)
            }
        },
        createLabelEl: function(t, e, i, n) {
            if (e.label) {
                var o = vL(t).labelEl = new Vb(yL(e.label));
                t.add(o), Jp(o, n)
            }
        },
        updatePointerEl: function(t, e, i) {
            var n = vL(t).pointerEl;
            n && (n.setStyle(e.pointer.style), i(n, {
                shape: e.pointer.shape
            }))
        },
        updateLabelEl: function(t, e, i, n) {
            var o = vL(t).labelEl;
            o && (o.setStyle(e.label.style), i(o, {
                shape: e.label.shape,
                position: e.label.position
            }), Jp(o, n))
        },
        _renderHandle: function(t) {
            if (!this._dragging && this.updateHandleTransform) {
                var e = this._axisPointerModel,
                    i = this._api.getZr(),
                    n = this._handle,
                    o = e.getModel("handle"),
                    a = e.get("status");
                if (!o.get("show") || !a || "hide" === a) return n && i.remove(n), void(this._handle = null);
                var r;
                this._handle || (r = !0, n = this._handle = xo(o.get("icon"), {
                    cursor: "move",
                    draggable: !0,
                    onmousemove: function(t) {
                        Q_(t.event)
                    },
                    onmousedown: xL(this._onHandleDragMove, this, 0, 0),
                    drift: xL(this._onHandleDragMove, this),
                    ondragend: xL(this._onHandleDragEnd, this)
                }), i.add(n)), tg(n, e, !1);
                var s = ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
                n.setStyle(o.getItemStyle(null, s));
                var l = o.get("size");
                y(l) || (l = [l, l]), n.attr("scale", [l[0] / 2, l[1] / 2]), yr(this, "_doDispatchAxisPointer", o.get("throttle") || 0, "fixRate"), this._moveHandleToValue(t, r)
            }
        },
        _moveHandleToValue: function(t, e) {
            $p(this._axisPointerModel, !e && this._moveAnimation, this._handle, Qp(this.getHandleTransform(t, this._axisModel, this._axisPointerModel)))
        },
        _onHandleDragMove: function(t, e) {
            var i = this._handle;
            if (i) {
                this._dragging = !0;
                var n = this.updateHandleTransform(Qp(i), [t, e], this._axisModel, this._axisPointerModel);
                this._payloadInfo = n, i.stopAnimation(), i.attr(Qp(n)), vL(i).lastProp = null, this._doDispatchAxisPointer()
            }
        },
        _doDispatchAxisPointer: function() {
            if (this._handle) {
                var t = this._payloadInfo,
                    e = this._axisModel;
                this._api.dispatchAction({
                    type: "updateAxisPointer",
                    x: t.cursorPoint[0],
                    y: t.cursorPoint[1],
                    tooltipOption: t.tooltipOption,
                    axesInfo: [{
                        axisDim: e.axis.dim,
                        axisIndex: e.componentIndex
                    }]
                })
            }
        },
        _onHandleDragEnd: function(t) {
            if (this._dragging = !1, this._handle) {
                var e = this._axisPointerModel.get("value");
                this._moveHandleToValue(e), this._api.dispatchAction({
                    type: "hideTip"
                })
            }
        },
        getHandleTransform: null,
        updateHandleTransform: null,
        clear: function(t) {
            this._lastValue = null, this._lastStatus = null;
            var e = t.getZr(),
                i = this._group,
                n = this._handle;
            e && i && (this._lastGraphicKey = null, i && e.remove(i), n && e.remove(n), this._group = null, this._handle = null, this._payloadInfo = null)
        },
        doClear: function() {},
        buildLabel: function(t, e, i) {
            return i = i || 0, {
                x: t[i],
                y: t[1 - i],
                width: e[i],
                height: e[1 - i]
            }
        }
    }).constructor = qp, Vi(qp);
    var _L = qp.extend({
            makeElOption: function(t, e, i, n, o) {
                var a = i.axis,
                    r = a.grid,
                    s = n.get("type"),
                    l = ug(r, a).getOtherAxis(a).getGlobalExtent(),
                    h = a.toGlobalCoord(a.dataToCoord(e, !0));
                if (s && "none" !== s) {
                    var u = eg(n),
                        c = wL[s](a, h, l, u);
                    c.style = u, t.graphicKey = c.type, t.pointer = c
                }
                rg(e, t, Sh(r.model, i), i, n, o)
            },
            getHandleTransform: function(t, e, i) {
                var n = Sh(e.axis.grid.model, e, {
                    labelInside: !1
                });
                return n.labelMargin = i.get("handle.margin"), {
                    position: ag(e.axis, t, n),
                    rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0)
                }
            },
            updateHandleTransform: function(t, e, i, n) {
                var o = i.axis,
                    a = o.grid,
                    r = o.getGlobalExtent(!0),
                    s = ug(a, o).getOtherAxis(o).getGlobalExtent(),
                    l = "x" === o.dim ? 0 : 1,
                    h = t.position;
                h[l] += e[l], h[l] = Math.min(r[1], h[l]), h[l] = Math.max(r[0], h[l]);
                var u = (s[1] + s[0]) / 2,
                    c = [u, u];
                c[l] = h[l];
                var d = [{
                    verticalAlign: "middle"
                }, {
                    align: "center"
                }];
                return {
                    position: h,
                    rotation: t.rotation,
                    cursorPoint: c,
                    tooltipOption: d[l]
                }
            }
        }),
        wL = {
            line: function(t, e, i, n) {
                var o = sg([e, i[0]], [e, i[1]], cg(t));
                return Vn({
                    shape: o,
                    style: n
                }), {
                    type: "Line",
                    shape: o
                }
            },
            shadow: function(t, e, i, n) {
                var o = t.getBandWidth(),
                    a = i[1] - i[0];
                return {
                    type: "Rect",
                    shape: lg([e - o / 2, i[0]], [o, a], cg(t))
                }
            }
        };
    XT.registerAxisPointerClass("CartesianAxisPointer", _L), ss(function(t) {
        if (t) {
            (!t.axisPointer || 0 === t.axisPointer.length) && (t.axisPointer = {});
            var e = t.axisPointer.link;
            e && !y(e) && (t.axisPointer.link = [e])
        }
    }), ls(FM.PROCESSOR.STATISTIC, function(t, e) {
        t.getComponent("axisPointer").coordSysAxesInfo = uh(t, e)
    }), hs({
        type: "updateAxisPointer",
        event: "updateAxisPointer",
        update: ":updateAxisPointer"
    }, function(t, e, i) {
        var n = t.currTrigger,
            o = [t.x, t.y],
            a = t,
            r = t.dispatchAction || m(i.dispatchAction, i),
            s = e.getComponent("axisPointer").coordSysAxesInfo;
        if (s) {
            Wp(o) && (o = uL({
                seriesIndex: a.seriesIndex,
                dataIndex: a.dataIndex
            }, e).point);
            var l = Wp(o),
                h = a.axesInfo,
                u = s.axesInfo,
                c = "leave" === n || Wp(o),
                d = {},
                f = {},
                p = {
                    list: [],
                    map: {}
                },
                g = {
                    showPointer: dL(Np, f),
                    showTooltip: dL(Ep, p)
                };
            cL(s.coordSysMap, function(t, e) {
                var i = l || t.containPoint(o);
                cL(s.coordSysAxesInfo[e], function(t, e) {
                    var n = t.axis,
                        a = Vp(h, t);
                    if (!c && i && (!h || a)) {
                        var r = a && a.value;
                        null != r || l || (r = n.pointToData(o)), null != r && Pp(t, r, g, !1, d)
                    }
                })
            });
            var v = {};
            return cL(u, function(t, e) {
                var i = t.linkGroup;
                i && !f[e] && cL(i.axesInfo, function(e, n) {
                    var o = f[n];
                    if (e !== t && o) {
                        var a = o.value;
                        i.mapper && (a = t.axis.scale.parse(i.mapper(a, Gp(e), Gp(t)))), v[t.key] = a
                    }
                })
            }), cL(v, function(t, e) {
                Pp(u[e], t, g, !0, d)
            }), zp(f, u, d), Rp(p, o, t, r), Bp(u, 0, i), d
        }
    });
    var bL = ["x", "y"],
        SL = ["width", "height"],
        ML = qp.extend({
            makeElOption: function(t, e, i, n, o) {
                var a = i.axis,
                    r = a.coordinateSystem,
                    s = fg(r, 1 - dg(a)),
                    l = r.dataToPoint(e)[0],
                    h = n.get("type");
                if (h && "none" !== h) {
                    var u = eg(n),
                        c = IL[h](a, l, s, u);
                    c.style = u, t.graphicKey = c.type, t.pointer = c
                }
                rg(e, t, kp(i), i, n, o)
            },
            getHandleTransform: function(t, e, i) {
                var n = kp(e, {
                    labelInside: !1
                });
                return n.labelMargin = i.get("handle.margin"), {
                    position: ag(e.axis, t, n),
                    rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0)
                }
            },
            updateHandleTransform: function(t, e, i, n) {
                var o = i.axis,
                    a = o.coordinateSystem,
                    r = dg(o),
                    s = fg(a, r),
                    l = t.position;
                l[r] += e[r], l[r] = Math.min(s[1], l[r]), l[r] = Math.max(s[0], l[r]);
                var h = fg(a, 1 - r),
                    u = (h[1] + h[0]) / 2,
                    c = [u, u];
                return c[r] = l[r], {
                    position: l,
                    rotation: t.rotation,
                    cursorPoint: c,
                    tooltipOption: {
                        verticalAlign: "middle"
                    }
                }
            }
        }),
        IL = {
            line: function(t, e, i, n) {
                var o = sg([e, i[0]], [e, i[1]], dg(t));
                return Vn({
                    shape: o,
                    style: n
                }), {
                    type: "Line",
                    shape: o
                }
            },
            shadow: function(t, e, i, n) {
                var o = t.getBandWidth(),
                    a = i[1] - i[0];
                return {
                    type: "Rect",
                    shape: lg([e - o / 2, i[0]], [o, a], dg(t))
                }
            }
        };
    XT.registerAxisPointerClass("SingleAxisPointer", ML), ms({
        type: "single"
    });
    var TL = uM.extend({
        type: "series.themeRiver",
        dependencies: ["singleAxis"],
        nameMap: null,
        init: function(t) {
            TL.superApply(this, "init", arguments), this.legendDataProvider = function() {
                return this.getRawData()
            }
        },
        fixData: function(t) {
            for (var e = t.length, i = f(mf().key(function(t) {
                    return t[2]
                }).entries(t), function(t) {
                    return {
                        name: t.key,
                        dataList: t.values
                    }
                }), n = i.length, o = -1, a = -1, r = 0; r < n; ++r) {
                var s = i[r].dataList.length;
                s > o && (o = s, a = r)
            }
            for (var l = 0; l < n; ++l)
                if (l !== a)
                    for (var h = i[l].name, u = 0; u < o; ++u) {
                        for (var c = i[a].dataList[u][0], d = i[l].dataList.length, p = -1, g = 0; g < d; ++g)
                            if (i[l].dataList[g][0] === c) {
                                p = g;
                                break
                            } - 1 === p && (t[e] = [], t[e][0] = c, t[e][1] = 0, t[e][2] = h, e++)
                    }
            return t
        },
        getInitialData: function(t, e) {
            for (var i = e.queryComponents({
                    mainType: "singleAxis",
                    index: this.get("singleAxisIndex"),
                    id: this.get("singleAxisId")
                })[0].get("type"), n = g(t.data, function(t) {
                    return void 0 !== t[2]
                }), o = this.fixData(n || []), a = [], r = this.nameMap = z(), s = 0, l = 0; l < o.length; ++l) a.push(o[l][2]), r.get(o[l][2]) || (r.set(o[l][2], s), s++);
            var h = wI(o, {
                    coordDimensions: ["single"],
                    dimensionsDefine: [{
                        name: "time",
                        type: Ms(i)
                    }, {
                        name: "value",
                        type: "float"
                    }, {
                        name: "name",
                        type: "ordinal"
                    }],
                    encodeDefine: {
                        single: 0,
                        value: 1,
                        itemName: 2
                    }
                }),
                u = new yI(h, this);
            return u.initData(o), u
        },
        getLayerSeries: function() {
            for (var t = this.getData(), e = t.count(), i = [], n = 0; n < e; ++n) i[n] = n;
            for (var o = f(mf().key(function(e) {
                    return t.get("name", e)
                }).entries(i), function(t) {
                    return {
                        name: t.key,
                        indices: t.values
                    }
                }), a = t.mapDimension("single"), r = 0; r < o.length; ++r) o[r].indices.sort(function(e, i) {
                return t.get(a, e) - t.get(a, i)
            });
            return o
        },
        getAxisTooltipData: function(t, e, i) {
            y(t) || (t = t ? [t] : []);
            for (var n, o = this.getData(), a = this.getLayerSeries(), r = [], s = a.length, l = 0; l < s; ++l) {
                for (var h = Number.MAX_VALUE, u = -1, c = a[l].indices.length, d = 0; d < c; ++d) {
                    var f = o.get(t[0], a[l].indices[d]),
                        p = Math.abs(f - e);
                    p <= h && (n = f, h = p, u = a[l].indices[d])
                }
                r.push(u)
            }
            return {
                dataIndices: r,
                nestestValue: n
            }
        },
        formatTooltip: function(t) {
            var e = this.getData(),
                i = e.getName(t),
                n = e.get(e.mapDimension("value"), t);
            return (isNaN(n) || null == n) && (n = "-"), Ho(i + " : " + n)
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            coordinateSystem: "singleAxis",
            boundaryGap: ["10%", "10%"],
            singleAxisIndex: 0,
            animationEasing: "linear",
            label: {
                margin: 4,
                textAlign: "right",
                show: !0,
                position: "left",
                color: "#000",
                fontSize: 11
            },
            emphasis: {
                label: {
                    show: !0
                }
            }
        }
    });
    ys({
        type: "themeRiver",
        init: function() {
            this._layers = []
        },
        render: function(t, e, i) {
            function n(t) {
                return t.name
            }

            function o(e, i, n) {
                var o = this._layers;
                if ("remove" !== e) {
                    for (var h, u = [], c = [], f = l[i].indices, p = 0; p < f.length; p++) {
                        var g = r.getItemLayout(f[p]),
                            m = g.x,
                            v = g.y0,
                            y = g.y;
                        u.push([m, v]), c.push([m, v + y]), h = r.getItemVisual(f[p], "color")
                    }
                    var x, _, w = r.getItemLayout(f[0]),
                        b = r.getItemModel(f[p - 1]),
                        S = b.getModel("label"),
                        M = S.get("margin");
                    if ("add" === e) {
                        I = d[i] = new S_;
                        x = new wT({
                            shape: {
                                points: u,
                                stackedOnPoints: c,
                                smooth: .4,
                                stackedOnSmooth: .4,
                                smoothConstraint: !1
                            },
                            z2: 0
                        }), _ = new Cb({
                            style: {
                                x: w.x - M,
                                y: w.y0 + w.y / 2
                            }
                        }), I.add(x), I.add(_), s.add(I), x.setClipPath(pg(x.getBoundingRect(), t, function() {
                            x.removeClipPath()
                        }))
                    } else {
                        var I = o[n];
                        x = I.childAt(0), _ = I.childAt(1), s.add(I), d[i] = I, co(x, {
                            shape: {
                                points: u,
                                stackedOnPoints: c
                            }
                        }, t), co(_, {
                            style: {
                                x: w.x - M,
                                y: w.y0 + w.y / 2
                            }
                        }, t)
                    }
                    var T = b.getModel("emphasis.itemStyle"),
                        A = b.getModel("itemStyle");
                    io(_.style, S, {
                        text: S.get("show") ? t.getFormattedLabel(f[p - 1], "normal") || r.getName(f[p - 1]) : null,
                        textVerticalAlign: "middle"
                    }), x.setStyle(a({
                        fill: h
                    }, A.getItemStyle(["color"]))), to(x, T.getItemStyle())
                } else s.remove(o[i])
            }
            var r = t.getData(),
                s = this.group,
                l = t.getLayerSeries(),
                h = r.getLayout("layoutInfo"),
                u = h.rect,
                c = h.boundaryGap;
            s.attr("position", [0, u.y + c[0]]);
            var d = {};
            new ws(this._layersSeries || [], l, n, n).add(m(o, this, "add")).update(m(o, this, "update")).remove(m(o, this, "remove")).execute(), this._layersSeries = l, this._layers = d
        },
        dispose: function() {}
    });
    cs(function(t, e) {
        t.eachSeriesByType("themeRiver", function(t) {
            var e = t.getData(),
                i = t.coordinateSystem,
                n = {},
                o = i.getRect();
            n.rect = o;
            var a = t.get("boundaryGap"),
                r = i.getAxis();
            n.boundaryGap = a, "horizontal" === r.orient ? (a[0] = To(a[0], o.height), a[1] = To(a[1], o.height), gg(e, t, o.height - a[0] - a[1])) : (a[0] = To(a[0], o.width), a[1] = To(a[1], o.width), gg(e, t, o.width - a[0] - a[1])), e.setLayout("layoutInfo", n)
        })
    }), ds(function(t) {
        t.eachSeriesByType("themeRiver", function(t) {
            var e = t.getData(),
                i = t.getRawData(),
                n = t.get("color"),
                o = z();
            e.each(function(t) {
                o.set(e.getRawIndex(t), t)
            }), i.each(function(a) {
                var r = i.getName(a),
                    s = n[(t.nameMap.get(r) - 1) % n.length];
                i.setItemVisual(a, "color", s);
                var l = o.get(a);
                null != l && e.setItemVisual(l, "color", s)
            })
        })
    }), ls(gA("themeRiver")), uM.extend({
        type: "series.sunburst",
        _viewRoot: null,
        getInitialData: function(t, e) {
            var i = {
                name: t.name,
                children: t.data
            };
            vg(i);
            var n = t.levels || [],
                o = {};
            return o.levels = n, bu.createTree(i, this, o).data
        },
        optionUpdated: function() {
            this.resetViewRoot()
        },
        getDataParams: function(t) {
            var e = uM.prototype.getDataParams.apply(this, arguments),
                i = this.getData().tree.getNodeByDataIndex(t);
            return e.treePathInfo = Xu(i, this), e
        },
        defaultOption: {
            zlevel: 0,
            z: 2,
            center: ["50%", "50%"],
            radius: [0, "75%"],
            clockwise: !0,
            startAngle: 90,
            minAngle: 0,
            percentPrecision: 2,
            stillShowZeroSum: !0,
            highlightPolicy: "descendant",
            nodeClick: "rootToNode",
            renderLabelForZeroData: !1,
            label: {
                rotate: "radial",
                show: !0,
                opacity: 1,
                align: "center",
                position: "inside",
                distance: 5,
                silent: !0,
                emphasis: {}
            },
            itemStyle: {
                borderWidth: 1,
                borderColor: "white",
                opacity: 1,
                emphasis: {},
                highlight: {
                    opacity: 1
                },
                downplay: {
                    opacity: .9
                }
            },
            animationType: "expansion",
            animationDuration: 1e3,
            animationDurationUpdate: 500,
            animationEasing: "cubicOut",
            data: [],
            levels: [],
            sort: "desc"
        },
        getViewRoot: function() {
            return this._viewRoot
        },
        resetViewRoot: function(t) {
            t ? this._viewRoot = t : t = this._viewRoot;
            var e = this.getRawData().tree.root;
            t && (t === e || e.contains(t)) || (this._viewRoot = e)
        }
    });
    var AL = {
            NONE: "none",
            DESCENDANT: "descendant",
            ANCESTOR: "ancestor",
            SELF: "self"
        },
        DL = 2,
        CL = 4,
        LL = yg.prototype;
    LL.updateData = function(t, e, i, o, s) {
        this.node = e, e.piece = this, o = o || this._seriesModel, s = s || this._ecModel;
        var l = this.childAt(0);
        l.dataIndex = e.dataIndex;
        var h = e.getModel(),
            u = e.getLayout(),
            c = a({}, u);
        c.label = null;
        var d, f = xg(e, 0, s),
            p = h.getModel("itemStyle").getItemStyle();
        d = r({
            lineJoin: "bevel",
            fill: (d = "normal" === i ? p : n(h.getModel(i + ".itemStyle").getItemStyle(), p)).fill || f
        }, d), t ? (l.setShape(c), l.shape.r = u.r0, co(l, {
            shape: {
                r: u.r
            }
        }, o, e.dataIndex), l.useStyle(d)) : co(l, {
            shape: c,
            style: d
        }, o), "normal" === i && (l.hoverStyle = h.getModel("emphasis.itemStyle").getItemStyle(), to(this)), this._updateLabel(o, s, f);
        var g = h.getShallow("cursor");
        if (g && l.attr("cursor", g), t) {
            var m = o.getShallow("highlightPolicy");
            this._initEvents(l, e, o, m)
        }
        this._seriesModel = o || this._seriesModel, this._ecModel = s || this._ecModel
    }, LL.onEmphasis = function(t) {
        var e = this;
        this.node.hostTree.root.eachNode(function(i) {
            i.piece && (e.node === i ? i.piece.updateData(!1, i, "emphasis") : wg(i, e.node, t) ? i.piece.childAt(0).trigger("highlight") : t !== AL.NONE && i.piece.childAt(0).trigger("downplay"))
        })
    }, LL.onNormal = function() {
        this.node.hostTree.root.eachNode(function(t) {
            t.piece && t.piece.updateData(!1, t, "normal")
        })
    }, LL.onHighlight = function() {
        this.updateData(!1, this.node, "highlight")
    }, LL.onDownplay = function() {
        this.updateData(!1, this.node, "downplay")
    }, LL._updateLabel = function(t, e, i) {
        var n = this.node.getModel(),
            o = n.getModel("label"),
            a = n.getModel("label.emphasis"),
            r = T(t.getFormattedLabel(this.node.dataIndex, "normal", null, null, "label"), this.node.name);
        o.get("show") || (r = "");
        var s = this.childAt(1);
        eo(s.style, s.hoverStyle = {}, o, a, {
            defaultText: o.getShallow("show") ? r : null,
            autoColor: i,
            useInsideStyle: !0
        });
        var l, h = this.node.getLayout(),
            u = (h.startAngle + h.endAngle) / 2,
            c = Math.cos(u),
            d = Math.sin(u),
            f = o.get("position"),
            p = o.get("distance") || 0,
            g = o.get("align");
        "outside" === f ? (l = h.r + p, g = u > Math.PI / 2 ? "right" : "left") : g && "center" !== g ? "left" === g ? (l = h.r0 + p, u > Math.PI / 2 && (g = "right")) : "right" === g && (l = h.r - p, u > Math.PI / 2 && (g = "left")) : (l = (h.r + h.r0) / 2, g = "center"), s.attr("style", {
            text: r,
            textAlign: g,
            textVerticalAlign: o.get("verticalAlign") || "middle",
            opacity: o.get("opacity")
        });
        var m = l * c + h.cx,
            v = l * d + h.cy;
        s.attr("position", [m, v]);
        var y = o.getShallow("rotate"),
            x = 0;
        "radial" === y ? (x = -u) < -Math.PI / 2 && (x += Math.PI) : "tangential" === y ? (x = Math.PI / 2 - u) > Math.PI / 2 ? x -= Math.PI : x < -Math.PI / 2 && (x += Math.PI) : "number" == typeof y && (x = y * Math.PI / 180), s.attr("rotation", x)
    }, LL._initEvents = function(t, e, i, n) {
        t.off("mouseover").off("mouseout").off("emphasis").off("normal");
        var o = this,
            a = function() {
                o.onEmphasis(n)
            },
            r = function() {
                o.onNormal()
            };
        i.isAnimationEnabled() && t.on("mouseover", a).on("mouseout", r).on("emphasis", a).on("normal", r).on("downplay", function() {
            o.onDownplay()
        }).on("highlight", function() {
            o.onHighlight()
        })
    }, h(yg, S_);
    cr.extend({
        type: "sunburst",
        init: function() {},
        render: function(t, e, i, n) {
            function o(i, n) {
                if (u || !i || i.getValue() || (i = null), i !== s && n !== s)
                    if (n && n.piece) i ? n.piece.updateData(!1, i, "normal", t, e) : a(n);
                    else if (i) {
                    var o = new yg(i, t, e);
                    h.add(o)
                }
            }

            function a(t) {
                t && t.piece && (h.remove(t.piece), t.piece = null)
            }
            var r = this;
            this.seriesModel = t, this.api = i, this.ecModel = e;
            var s = t.getData().tree.root,
                l = t.getViewRoot(),
                h = this.group,
                u = t.get("renderLabelForZeroData"),
                c = [];
            l.eachNode(function(t) {
                c.push(t)
            });
            var d = this._oldChildren || [];
            if (function(t, e) {
                    function i(t) {
                        return t.getId()
                    }

                    function n(i, n) {
                        o(null == i ? null : t[i], null == n ? null : e[n])
                    }
                    0 === t.length && 0 === e.length || new ws(e, t, i, i).add(n).update(n).remove(v(n, null)).execute()
                }(c, d), function(i, n) {
                    if (n.depth > 0) {
                        i.piece ? i.piece.updateData(!1, i, "normal", t, e) : (i.piece = new yg(i, t, e), h.add(i.piece)), n.piece._onclickEvent && n.piece.off("click", n.piece._onclickEvent);
                        var o = function(t) {
                            r._rootToNode(n.parentNode)
                        };
                        n.piece._onclickEvent = o, i.piece.on("click", o)
                    } else i.piece && (h.remove(i.piece), i.piece = null)
                }(s, l), n && n.highlight && n.highlight.piece) {
                var f = t.getShallow("highlightPolicy");
                n.highlight.piece.onEmphasis(f)
            } else if (n && n.unhighlight) {
                var p = s.piece;
                !p && s.children.length && (p = s.children[0].piece), p && p.onNormal()
            }
            this._initEvents(), this._oldChildren = c
        },
        dispose: function() {},
        _initEvents: function() {
            var t = this,
                e = function(e) {
                    var i = t.seriesModel.get("nodeClick", !0);
                    if (i) {
                        var n = !1;
                        t.seriesModel.getViewRoot().eachNode(function(o) {
                            if (!n && o.piece && o.piece.childAt(0) === e.target) {
                                if ("rootToNode" === i) t._rootToNode(o);
                                else if ("link" === i) {
                                    var a = o.getModel(),
                                        r = a.get("link", !0);
                                    if (r) {
                                        var s = a.get("target", !0) || "_blank";
                                        r && window.open(r, s)
                                    }
                                }
                                n = !0
                            }
                        })
                    }
                };
            this.group._onclickEvent && this.group.off("click", this.group._onclickEvent), this.group.on("click", e), this.group._onclickEvent = e
        },
        _rootToNode: function(t) {
            t !== this.seriesModel.getViewRoot() && this.api.dispatchAction({
                type: "sunburstRootToNode",
                from: this.uid,
                seriesId: this.seriesModel.id,
                targetNode: t
            })
        },
        containPoint: function(t, e) {
            var i = e.getData().getItemLayout(0);
            if (i) {
                var n = t[0] - i.cx,
                    o = t[1] - i.cy,
                    a = Math.sqrt(n * n + o * o);
                return a <= i.r && a >= i.r0
            }
        }
    });
    var kL = "sunburstRootToNode";
    hs({
        type: kL,
        update: "updateView"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "sunburst",
            query: t
        }, function(e, i) {
            var n = Zu(t, [kL], e);
            if (n) {
                var o = e.getViewRoot();
                o && (t.direction = ju(o, n.node) ? "rollUp" : "drillDown"), e.resetViewRoot(n.node)
            }
        })
    });
    var PL = "sunburstHighlight";
    hs({
        type: PL,
        update: "updateView"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "sunburst",
            query: t
        }, function(e, i) {
            var n = Zu(t, [PL], e);
            n && (t.highlight = n.node)
        })
    });
    hs({
        type: "sunburstUnhighlight",
        update: "updateView"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "sunburst",
            query: t
        }, function(e, i) {
            t.unhighlight = !0
        })
    });
    var OL = Math.PI / 180;
    ds(v(cA, "sunburst")), cs(v(function(t, e, i, n) {
        e.eachSeriesByType(t, function(t) {
            var e = t.get("center"),
                n = t.get("radius");
            y(n) || (n = [0, n]), y(e) || (e = [e, e]);
            var o = i.getWidth(),
                a = i.getHeight(),
                r = Math.min(o, a),
                s = To(e[0], o),
                l = To(e[1], a),
                h = To(n[0], r / 2),
                u = To(n[1], r / 2),
                c = -t.get("startAngle") * OL,
                f = t.get("minAngle") * OL,
                p = t.getData().tree.root,
                g = t.getViewRoot(),
                m = g.depth,
                v = t.get("sort");
            null != v && bg(g, v);
            var x = 0;
            d(g.children, function(t) {
                !isNaN(t.getValue()) && x++
            });
            var _ = g.getValue(),
                w = Math.PI / (_ || x) * 2,
                b = g.depth > 0,
                S = g.height - (b ? -1 : 1),
                M = (u - h) / (S || 1),
                I = t.get("clockwise"),
                T = t.get("stillShowZeroSum"),
                A = I ? 1 : -1,
                D = function(t, e) {
                    if (t) {
                        var i = e;
                        if (t !== p) {
                            var n = t.getValue(),
                                o = 0 === _ && T ? w : n * w;
                            o < f && (o = f), i = e + A * o;
                            var a = t.depth - m - (b ? -1 : 1),
                                u = h + M * a,
                                c = h + M * (a + 1),
                                g = t.getModel();
                            null != g.get("r0") && (u = To(g.get("r0"), r / 2)), null != g.get("r") && (c = To(g.get("r"), r / 2)), t.setLayout({
                                angle: o,
                                startAngle: e,
                                endAngle: i,
                                clockwise: I,
                                cx: s,
                                cy: l,
                                r0: u,
                                r: c
                            })
                        }
                        if (t.children && t.children.length) {
                            var v = 0;
                            d(t.children, function(t) {
                                v += D(t, e + v)
                            })
                        }
                        return i - e
                    }
                };
            if (b) {
                var C = h,
                    L = h + M,
                    k = 2 * Math.PI;
                p.setLayout({
                    angle: k,
                    startAngle: c,
                    endAngle: c + k,
                    clockwise: I,
                    cx: s,
                    cy: l,
                    r0: C,
                    r: L
                })
            }
            D(g, c)
        })
    }, "sunburst")), ls(v(gA, "sunburst"));
    var NL = ["itemStyle"],
        EL = ["emphasis", "itemStyle"],
        zL = ["label"],
        RL = ["emphasis", "label"],
        BL = "e\0\0",
        VL = {
            cartesian2d: function(t) {
                var e = t.grid.getRect();
                return {
                    coordSys: {
                        type: "cartesian2d",
                        x: e.x,
                        y: e.y,
                        width: e.width,
                        height: e.height
                    },
                    api: {
                        coord: function(e) {
                            return t.dataToPoint(e)
                        },
                        size: m(Mg, t)
                    }
                }
            },
            geo: function(t) {
                var e = t.getBoundingRect();
                return {
                    coordSys: {
                        type: "geo",
                        x: e.x,
                        y: e.y,
                        width: e.width,
                        height: e.height
                    },
                    api: {
                        coord: function(e, i) {
                            return t.dataToPoint(e, i)
                        },
                        size: m(Ig, t)
                    }
                }
            },
            singleAxis: function(t) {
                var e = t.getRect();
                return {
                    coordSys: {
                        type: "singleAxis",
                        x: e.x,
                        y: e.y,
                        width: e.width,
                        height: e.height
                    },
                    api: {
                        coord: function(e) {
                            return t.dataToPoint(e)
                        },
                        size: m(Tg, t)
                    }
                }
            },
            polar: function(t) {
                var e = t.getRadiusAxis(),
                    i = t.getAngleAxis(),
                    n = e.getExtent();
                return n[0] > n[1] && n.reverse(), {
                    coordSys: {
                        type: "polar",
                        cx: t.cx,
                        cy: t.cy,
                        r: n[1],
                        r0: n[0]
                    },
                    api: {
                        coord: m(function(n) {
                            var o = e.dataToRadius(n[0]),
                                a = i.dataToAngle(n[1]),
                                r = t.coordToPoint([o, a]);
                            return r.push(o, a * Math.PI / 180), r
                        }),
                        size: m(Ag, t)
                    }
                }
            },
            calendar: function(t) {
                var e = t.getRect(),
                    i = t.getRangeInfo();
                return {
                    coordSys: {
                        type: "calendar",
                        x: e.x,
                        y: e.y,
                        width: e.width,
                        height: e.height,
                        cellWidth: t.getCellWidth(),
                        cellHeight: t.getCellHeight(),
                        rangeInfo: {
                            start: i.start,
                            end: i.end,
                            weeks: i.weeks,
                            dayCount: i.allDay
                        }
                    },
                    api: {
                        coord: function(e, i) {
                            return t.dataToPoint(e, i)
                        }
                    }
                }
            }
        };
    vs({
        type: "series.custom",
        dependencies: ["grid", "polar", "geo", "singleAxis", "calendar"],
        defaultOption: {
            coordinateSystem: "cartesian2d",
            zlevel: 0,
            z: 2,
            legendHoverLink: !0
        },
        getInitialData: function(t, e) {
            return Bs(this.getSource(), this)
        }
    }), ys({
        type: "custom",
        _data: null,
        render: function(t, e, i) {
            var n = this._data,
                o = t.getData(),
                a = this.group,
                r = kg(t, o, e, i);
            this.group.removeAll(), o.diff(n).add(function(e) {
                o.hasValue(e) && Og(null, e, r(e), t, a, o)
            }).update(function(e, i) {
                var s = n.getItemGraphicEl(i);
                o.hasValue(e) ? Og(s, e, r(e), t, a, o) : s && a.remove(s)
            }).remove(function(t) {
                var e = n.getItemGraphicEl(t);
                e && a.remove(e)
            }).execute(), this._data = o
        },
        incrementalPrepareRender: function(t, e, i) {
            this.group.removeAll(), this._data = null
        },
        incrementalRender: function(t, e, i, n) {
            for (var o = e.getData(), a = kg(e, o, i, n), r = t.start; r < t.end; r++) Og(null, r, a(r), e, this.group, o).traverse(function(t) {
                t.isGroup || (t.incremental = !0, t.useHoverLayer = !0)
            })
        },
        dispose: B
    }), ss(function(t) {
        var e = t.graphic;
        y(e) ? e[0] && e[0].elements ? t.graphic = [t.graphic[0]] : t.graphic = [{
            elements: e
        }] : e && !e.elements && (t.graphic = [{
            elements: [e]
        }])
    });
    var GL = gs({
        type: "graphic",
        defaultOption: {
            elements: [],
            parentId: null
        },
        _elOptionsToUpdate: null,
        mergeOption: function(t) {
            var e = this.option.elements;
            this.option.elements = null, GL.superApply(this, "mergeOption", arguments), this.option.elements = e
        },
        optionUpdated: function(t, e) {
            var i = this.option,
                n = (e ? i : t).elements,
                o = i.elements = e ? [] : i.elements,
                a = [];
            this._flatten(n, a);
            var r = Ai(o, a);
            Di(r);
            var s = this._elOptionsToUpdate = [];
            d(r, function(t, e) {
                var i = t.option;
                i && (s.push(i), Hg(t, i), Zg(o, e, i), Ug(o[e], i))
            }, this);
            for (var l = o.length - 1; l >= 0; l--) null == o[l] ? o.splice(l, 1) : delete o[l].$action
        },
        _flatten: function(t, e, i) {
            d(t, function(t) {
                if (t) {
                    i && (t.parentOption = i), e.push(t);
                    var n = t.children;
                    "group" === t.type && n && this._flatten(n, e, t), delete t.children
                }
            }, this)
        },
        useElOptionsToUpdate: function() {
            var t = this._elOptionsToUpdate;
            return this._elOptionsToUpdate = null, t
        }
    });
    ms({
        type: "graphic",
        init: function(t, e) {
            this._elMap = z(), this._lastGraphicModel
        },
        render: function(t, e, i) {
            t !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = t, this._updateElements(t, i), this._relocate(t, i)
        },
        _updateElements: function(t, e) {
            var i = t.useElOptionsToUpdate();
            if (i) {
                var n = this._elMap,
                    o = this.group;
                d(i, function(t) {
                    var e = t.$action,
                        i = t.id,
                        a = n.get(i),
                        r = t.parentId,
                        s = null != r ? n.get(r) : o;
                    if ("text" === t.type) {
                        var l = t.style;
                        t.hv && t.hv[1] && (l.textVerticalAlign = l.textBaseline = null), !l.hasOwnProperty("textFill") && l.fill && (l.textFill = l.fill), !l.hasOwnProperty("textStroke") && l.stroke && (l.textStroke = l.stroke)
                    }
                    var h = Wg(t);
                    e && "merge" !== e ? "replace" === e ? (Gg(a, n), Vg(i, s, h, n)) : "remove" === e && Gg(a, n) : a ? a.attr(h) : Vg(i, s, h, n);
                    var u = n.get(i);
                    u && (u.__ecGraphicWidth = t.width, u.__ecGraphicHeight = t.height)
                })
            }
        },
        _relocate: function(t, e) {
            for (var i = t.option.elements, n = this.group, o = this._elMap, a = i.length - 1; a >= 0; a--) {
                var r = i[a],
                    s = o.get(r.id);
                if (s) {
                    var l = s.parent;
                    Jo(s, r, l === n ? {
                        width: e.getWidth(),
                        height: e.getHeight()
                    } : {
                        width: l.__ecGraphicWidth || 0,
                        height: l.__ecGraphicHeight || 0
                    }, null, {
                        hv: r.hv,
                        boundingMode: r.bounding
                    })
                }
            }
        },
        _clear: function() {
            var t = this._elMap;
            t.each(function(e) {
                Gg(e, t)
            }), this._elMap = z()
        },
        dispose: function() {
            this._clear()
        }
    });
    var WL = gs({
        type: "legend.plain",
        dependencies: ["series"],
        layoutMode: {
            type: "box",
            ignoreSize: !0
        },
        init: function(t, e, i) {
            this.mergeDefaultAndTheme(t, i), t.selected = t.selected || {}
        },
        mergeOption: function(t) {
            WL.superCall(this, "mergeOption", t)
        },
        optionUpdated: function() {
            this._updateData(this.ecModel);
            var t = this._data;
            if (t[0] && "single" === this.get("selectedMode")) {
                for (var e = !1, i = 0; i < t.length; i++) {
                    var n = t[i].get("name");
                    if (this.isSelected(n)) {
                        this.select(n), e = !0;
                        break
                    }
                }!e && this.select(t[0].get("name"))
            }
        },
        _updateData: function(t) {
            var e = [],
                i = [];
            t.eachRawSeries(function(n) {
                var o = n.name;
                i.push(o);
                var a;
                if (n.legendDataProvider) {
                    var r = n.legendDataProvider(),
                        s = r.mapArray(r.getName);
                    t.isSeriesFiltered(n) || (i = i.concat(s)), s.length ? e = e.concat(s) : a = o
                } else a = o;
                a && a !== vw && e.push(a)
            }), this._availableNames = i;
            var n = f(this.get("data") || e, function(t) {
                return "string" != typeof t && "number" != typeof t || (t = {
                    name: t
                }), new _o(t, this, this.ecModel)
            }, this);
            this._data = n
        },
        getData: function() {
            return this._data
        },
        select: function(t) {
            var e = this.option.selected;
            "single" === this.get("selectedMode") && d(this._data, function(t) {
                e[t.get("name")] = !1
            }), e[t] = !0
        },
        unSelect: function(t) {
            "single" !== this.get("selectedMode") && (this.option.selected[t] = !1)
        },
        toggleSelected: function(t) {
            var e = this.option.selected;
            e.hasOwnProperty(t) || (e[t] = !0), this[e[t] ? "unSelect" : "select"](t)
        },
        isSelected: function(t) {
            var e = this.option.selected;
            return !(e.hasOwnProperty(t) && !e[t]) && l(this._availableNames, t) >= 0
        },
        defaultOption: {
            zlevel: 0,
            z: 4,
            show: !0,
            orient: "horizontal",
            left: "center",
            top: 0,
            align: "auto",
            backgroundColor: "rgba(0,0,0,0)",
            borderColor: "#ccc",
            borderRadius: 0,
            borderWidth: 0,
            padding: 5,
            itemGap: 10,
            itemWidth: 25,
            itemHeight: 14,
            inactiveColor: "#ccc",
            textStyle: {
                color: "#333"
            },
            selectedMode: !0,
            tooltip: {
                show: !1
            }
        }
    });
    hs("legendToggleSelect", "legendselectchanged", v(jg, "toggleSelected")), hs("legendSelect", "legendselected", v(jg, "select")), hs("legendUnSelect", "legendunselected", v(jg, "unSelect"));
    var FL = v,
        HL = d,
        ZL = S_,
        UL = ms({
            type: "legend.plain",
            newlineDisabled: !1,
            init: function() {
                this.group.add(this._contentGroup = new ZL), this._backgroundEl
            },
            getContentGroup: function() {
                return this._contentGroup
            },
            render: function(t, e, i) {
                if (this.resetInner(), t.get("show", !0)) {
                    var n = t.get("align");
                    n && "auto" !== n || (n = "right" === t.get("left") && "vertical" === t.get("orient") ? "right" : "left"), this.renderInner(n, t, e, i);
                    var o = t.getBoxLayoutParams(),
                        a = {
                            width: i.getWidth(),
                            height: i.getHeight()
                        },
                        s = t.get("padding"),
                        l = Ko(o, a, s),
                        h = this.layoutInner(t, n, l),
                        u = Ko(r({
                            width: h.width,
                            height: h.height
                        }, o), a, s);
                    this.group.attr("position", [u.x - h.x, u.y - h.y]), this.group.add(this._backgroundEl = Yg(h, t))
                }
            },
            resetInner: function() {
                this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl)
            },
            renderInner: function(t, e, i, n) {
                var o = this.getContentGroup(),
                    a = z(),
                    r = e.get("selectedMode");
                HL(e.getData(), function(s, l) {
                    var h = s.get("name");
                    if (this.newlineDisabled || "" !== h && "\n" !== h) {
                        var u = i.getSeriesByName(h)[0];
                        if (!a.get(h))
                            if (u) {
                                var c = u.getData(),
                                    d = c.getVisual("color");
                                "function" == typeof d && (d = d(u.getDataParams(0)));
                                var f = c.getVisual("legendSymbol") || "roundRect",
                                    p = c.getVisual("symbol");
                                this._createItem(h, l, s, e, f, p, t, d, r).on("click", FL(qg, h, n)).on("mouseover", FL($g, u, null, n)).on("mouseout", FL(Kg, u, null, n)), a.set(h, !0)
                            } else i.eachRawSeries(function(i) {
                                if (!a.get(h) && i.legendDataProvider) {
                                    var o = i.legendDataProvider(),
                                        u = o.indexOfName(h);
                                    if (u < 0) return;
                                    var c = o.getItemVisual(u, "color");
                                    this._createItem(h, l, s, e, "roundRect", null, t, c, r).on("click", FL(qg, h, n)).on("mouseover", FL($g, i, h, n)).on("mouseout", FL(Kg, i, h, n)), a.set(h, !0)
                                }
                            }, this)
                    } else o.add(new ZL({
                        newline: !0
                    }))
                }, this)
            },
            _createItem: function(t, e, i, n, o, r, s, l, h) {
                var u = n.get("itemWidth"),
                    c = n.get("itemHeight"),
                    d = n.get("inactiveColor"),
                    f = n.isSelected(t),
                    p = new ZL,
                    g = i.getModel("textStyle"),
                    m = i.get("icon"),
                    v = i.getModel("tooltip"),
                    y = v.parentModel;
                if (o = m || o, p.add(dl(o, 0, 0, u, c, f ? l : d, !0)), !m && r && (r !== o || "none" == r)) {
                    var x = .8 * c;
                    "none" === r && (r = "circle"), p.add(dl(r, (u - x) / 2, (c - x) / 2, x, x, f ? l : d))
                }
                var _ = "left" === s ? u + 5 : -5,
                    w = s,
                    b = n.get("formatter"),
                    S = t;
                "string" == typeof b && b ? S = b.replace("{name}", null != t ? t : "") : "function" == typeof b && (S = b(t)), p.add(new Cb({
                    style: io({}, g, {
                        text: S,
                        x: _,
                        y: c / 2,
                        textFill: f ? g.getTextColor() : d,
                        textAlign: w,
                        textVerticalAlign: "middle"
                    })
                }));
                var M = new Vb({
                    shape: p.getBoundingRect(),
                    invisible: !0,
                    tooltip: v.get("show") ? a({
                        content: t,
                        formatter: y.get("formatter", !0) || function() {
                            return t
                        },
                        formatterParams: {
                            componentType: "legend",
                            legendIndex: n.componentIndex,
                            name: t,
                            $vars: ["name"]
                        }
                    }, v.option) : null
                });
                return p.add(M), p.eachChild(function(t) {
                    t.silent = !0
                }), M.silent = !h, this.getContentGroup().add(p), to(p), p.__legendDataIndex = e, p
            },
            layoutInner: function(t, e, i) {
                var n = this.getContentGroup();
                bS(t.get("orient"), n, t.get("itemGap"), i.width, i.height);
                var o = n.getBoundingRect();
                return n.attr("position", [-o.x, -o.y]), this.group.getBoundingRect()
            }
        });
    ls(function(t) {
        var e = t.findComponents({
            mainType: "legend"
        });
        e && e.length && t.filterSeries(function(t) {
            for (var i = 0; i < e.length; i++)
                if (!e[i].isSelected(t.name)) return !1;
            return !0
        })
    }), IS.registerSubTypeDefaulter("legend", function() {
        return "plain"
    });
    var jL = WL.extend({
            type: "legend.scroll",
            setScrollDataIndex: function(t) {
                this.option.scrollDataIndex = t
            },
            defaultOption: {
                scrollDataIndex: 0,
                pageButtonItemGap: 5,
                pageButtonGap: null,
                pageButtonPosition: "end",
                pageFormatter: "{current}/{total}",
                pageIcons: {
                    horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
                    vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
                },
                pageIconColor: "#2f4554",
                pageIconInactiveColor: "#aaa",
                pageIconSize: 15,
                pageTextStyle: {
                    color: "#333"
                },
                animationDurationUpdate: 800
            },
            init: function(t, e, i, n) {
                var o = ea(t);
                jL.superCall(this, "init", t, e, i, n), Jg(this, t, o)
            },
            mergeOption: function(t, e) {
                jL.superCall(this, "mergeOption", t, e), Jg(this, this.option, t)
            },
            getOrient: function() {
                return "vertical" === this.get("orient") ? {
                    index: 1,
                    name: "vertical"
                } : {
                    index: 0,
                    name: "horizontal"
                }
            }
        }),
        XL = S_,
        YL = ["width", "height"],
        qL = ["x", "y"],
        $L = UL.extend({
            type: "legend.scroll",
            newlineDisabled: !0,
            init: function() {
                $L.superCall(this, "init"), this._currentIndex = 0, this.group.add(this._containerGroup = new XL), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new XL), this._showController
            },
            resetInner: function() {
                $L.superCall(this, "resetInner"), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null
            },
            renderInner: function(t, e, i, n) {
                function o(t, i) {
                    var o = t + "DataIndex",
                        l = xo(e.get("pageIcons", !0)[e.getOrient().name][i], {
                            onclick: m(a._pageGo, a, o, e, n)
                        }, {
                            x: -s[0] / 2,
                            y: -s[1] / 2,
                            width: s[0],
                            height: s[1]
                        });
                    l.name = t, r.add(l)
                }
                var a = this;
                $L.superCall(this, "renderInner", t, e, i, n);
                var r = this._controllerGroup,
                    s = e.get("pageIconSize", !0);
                y(s) || (s = [s, s]), o("pagePrev", 0);
                var l = e.getModel("pageTextStyle");
                r.add(new Cb({
                    name: "pageText",
                    style: {
                        textFill: l.getTextColor(),
                        font: l.getFont(),
                        textVerticalAlign: "middle",
                        textAlign: "center"
                    },
                    silent: !0
                })), o("pageNext", 1)
            },
            layoutInner: function(t, e, i) {
                var n = this.getContentGroup(),
                    o = this._containerGroup,
                    a = this._controllerGroup,
                    r = t.getOrient().index,
                    s = YL[r],
                    l = YL[1 - r],
                    h = qL[1 - r];
                bS(t.get("orient"), n, t.get("itemGap"), r ? i.width : null, r ? null : i.height), bS("horizontal", a, t.get("pageButtonItemGap", !0));
                var u = n.getBoundingRect(),
                    c = a.getBoundingRect(),
                    d = this._showController = u[s] > i[s],
                    f = [-u.x, -u.y];
                f[r] = n.position[r];
                var p = [0, 0],
                    g = [-c.x, -c.y],
                    m = A(t.get("pageButtonGap", !0), t.get("itemGap", !0));
                d && ("end" === t.get("pageButtonPosition", !0) ? g[r] += i[s] - c[s] : p[r] += c[s] + m), g[1 - r] += u[l] / 2 - c[l] / 2, n.attr("position", f), o.attr("position", p), a.attr("position", g);
                var v = this.group.getBoundingRect();
                if ((v = {
                        x: 0,
                        y: 0
                    })[s] = d ? i[s] : u[s], v[l] = Math.max(u[l], c[l]), v[h] = Math.min(0, c[h] + g[1 - r]), o.__rectSize = i[s], d) {
                    var y = {
                        x: 0,
                        y: 0
                    };
                    y[s] = Math.max(i[s] - c[s] - m, 0), y[l] = v[l], o.setClipPath(new Vb({
                        shape: y
                    })), o.__rectSize = y[s]
                } else a.eachChild(function(t) {
                    t.attr({
                        invisible: !0,
                        silent: !0
                    })
                });
                var x = this._getPageInfo(t);
                return null != x.pageIndex && co(n, {
                    position: x.contentPosition
                }, !!d && t), this._updatePageInfoView(t, x), v
            },
            _pageGo: function(t, e, i) {
                var n = this._getPageInfo(e)[t];
                null != n && i.dispatchAction({
                    type: "legendScroll",
                    scrollDataIndex: n,
                    legendId: e.id
                })
            },
            _updatePageInfoView: function(t, e) {
                var i = this._controllerGroup;
                d(["pagePrev", "pageNext"], function(n) {
                    var o = null != e[n + "DataIndex"],
                        a = i.childOfName(n);
                    a && (a.setStyle("fill", o ? t.get("pageIconColor", !0) : t.get("pageIconInactiveColor", !0)), a.cursor = o ? "pointer" : "default")
                });
                var n = i.childOfName("pageText"),
                    o = t.get("pageFormatter"),
                    a = e.pageIndex,
                    r = null != a ? a + 1 : 0,
                    s = e.pageCount;
                n && o && n.setStyle("text", _(o) ? o.replace("{current}", r).replace("{total}", s) : o({
                    current: r,
                    total: s
                }))
            },
            _getPageInfo: function(t) {
                function e(t) {
                    var e = t.getBoundingRect().clone();
                    return e[f] += t.position[u], e
                }
                var i, n, o, a, r = t.get("scrollDataIndex", !0),
                    s = this.getContentGroup(),
                    l = s.getBoundingRect(),
                    h = this._containerGroup.__rectSize,
                    u = t.getOrient().index,
                    c = YL[u],
                    d = YL[1 - u],
                    f = qL[u],
                    p = s.position.slice();
                this._showController ? s.eachChild(function(t) {
                    t.__legendDataIndex === r && (a = t)
                }) : a = s.childAt(0);
                var g = h ? Math.ceil(l[c] / h) : 0;
                if (a) {
                    var m = a.getBoundingRect(),
                        v = a.position[u] + m[f];
                    p[u] = -v - l[f], i = Math.floor(g * (v + m[f] + h / 2) / l[c]), i = l[c] && g ? Math.max(0, Math.min(g - 1, i)) : -1;
                    var y = {
                        x: 0,
                        y: 0
                    };
                    y[c] = h, y[d] = l[d], y[f] = -p[u] - l[f];
                    var x, _ = s.children();
                    if (s.eachChild(function(t, i) {
                            var n = e(t);
                            n.intersect(y) && (null == x && (x = i), o = t.__legendDataIndex), i === _.length - 1 && n[f] + n[c] <= y[f] + y[c] && (o = null)
                        }), null != x) {
                        var w = e(_[x]);
                        if (y[f] = w[f] + w[c] - y[c], x <= 0 && w[f] >= y[f]) n = null;
                        else {
                            for (; x > 0 && e(_[x - 1]).intersect(y);) x--;
                            n = _[x].__legendDataIndex
                        }
                    }
                }
                return {
                    contentPosition: p,
                    pageIndex: i,
                    pageCount: g,
                    pagePrevDataIndex: n,
                    pageNextDataIndex: o
                }
            }
        });
    hs("legendScroll", "legendscroll", function(t, e) {
        var i = t.scrollDataIndex;
        null != i && e.eachComponent({
            mainType: "legend",
            subType: "scroll",
            query: t
        }, function(t) {
            t.setScrollDataIndex(i)
        })
    }), gs({
        type: "tooltip",
        dependencies: ["axisPointer"],
        defaultOption: {
            zlevel: 0,
            z: 8,
            show: !0,
            showContent: !0,
            trigger: "item",
            triggerOn: "mousemove|click",
            alwaysShowContent: !1,
            displayMode: "single",
            confine: !1,
            showDelay: 0,
            hideDelay: 100,
            transitionDuration: .4,
            enterable: !1,
            backgroundColor: "rgba(50,50,50,0.7)",
            borderColor: "#333",
            borderRadius: 4,
            borderWidth: 0,
            padding: 5,
            extraCssText: "",
            axisPointer: {
                type: "line",
                axis: "auto",
                animation: "auto",
                animationDurationUpdate: 200,
                animationEasingUpdate: "exponentialOut",
                crossStyle: {
                    color: "#999",
                    width: 1,
                    type: "dashed",
                    textStyle: {}
                }
            },
            textStyle: {
                color: "#fff",
                fontSize: 14
            }
        }
    });
    var KL = d,
        JL = Fo,
        QL = ["", "-webkit-", "-moz-", "-o-"];
    im.prototype = {
        constructor: im,
        _enterable: !0,
        update: function() {
            var t = this._container,
                e = t.currentStyle || document.defaultView.getComputedStyle(t),
                i = t.style;
            "absolute" !== i.position && "absolute" !== e.position && (i.position = "relative")
        },
        show: function(t) {
            clearTimeout(this._hideTimeout);
            var e = this.el;
            e.style.cssText = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + em(t) + ";left:" + this._x + "px;top:" + this._y + "px;" + (t.get("extraCssText") || ""), e.style.display = e.innerHTML ? "block" : "none", this._show = !0
        },
        setContent: function(t) {
            this.el.innerHTML = null == t ? "" : t
        },
        setEnterable: function(t) {
            this._enterable = t
        },
        getSize: function() {
            var t = this.el;
            return [t.clientWidth, t.clientHeight]
        },
        moveTo: function(t, e) {
            var i, n = this._zr;
            n && n.painter && (i = n.painter.getViewportRootOffset()) && (t += i.offsetLeft, e += i.offsetTop);
            var o = this.el.style;
            o.left = t + "px", o.top = e + "px", this._x = t, this._y = e
        },
        hide: function() {
            this.el.style.display = "none", this._show = !1
        },
        hideLater: function(t) {
            !this._show || this._inContent && this._enterable || (t ? (this._hideDelay = t, this._show = !1, this._hideTimeout = setTimeout(m(this.hide, this), t)) : this.hide())
        },
        isShow: function() {
            return this._show
        }
    };
    var tk = m,
        ek = d,
        ik = To,
        nk = new Vb({
            shape: {
                x: -1,
                y: -1,
                width: 2,
                height: 2
            }
        });
    ms({
        type: "tooltip",
        init: function(t, e) {
            if (!_x.node) {
                var i = new im(e.getDom(), e);
                this._tooltipContent = i
            }
        },
        render: function(t, e, i) {
            if (!_x.node && !_x.wxa) {
                this.group.removeAll(), this._tooltipModel = t, this._ecModel = e, this._api = i, this._lastDataByCoordSys = null, this._alwaysShowContent = t.get("alwaysShowContent");
                var n = this._tooltipContent;
                n.update(), n.setEnterable(t.get("enterable")), this._initGlobalListener(), this._keepShow()
            }
        },
        _initGlobalListener: function() {
            var t = this._tooltipModel.get("triggerOn");
            Fp("itemTooltip", this._api, tk(function(e, i, n) {
                "none" !== t && (t.indexOf(e) >= 0 ? this._tryShow(i, n) : "leave" === e && this._hide(n))
            }, this))
        },
        _keepShow: function() {
            var t = this._tooltipModel,
                e = this._ecModel,
                i = this._api;
            if (null != this._lastX && null != this._lastY && "none" !== t.get("triggerOn")) {
                var n = this;
                clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function() {
                    n.manuallyShowTip(t, e, i, {
                        x: n._lastX,
                        y: n._lastY
                    })
                })
            }
        },
        manuallyShowTip: function(t, e, i, n) {
            if (n.from !== this.uid && !_x.node) {
                var o = om(n, i);
                this._ticket = "";
                var a = n.dataByCoordSys;
                if (n.tooltip && null != n.x && null != n.y) {
                    var r = nk;
                    r.position = [n.x, n.y], r.update(), r.tooltip = n.tooltip, this._tryShow({
                        offsetX: n.x,
                        offsetY: n.y,
                        target: r
                    }, o)
                } else if (a) this._tryShow({
                    offsetX: n.x,
                    offsetY: n.y,
                    position: n.position,
                    event: {},
                    dataByCoordSys: n.dataByCoordSys,
                    tooltipOption: n.tooltipOption
                }, o);
                else if (null != n.seriesIndex) {
                    if (this._manuallyAxisShowTip(t, e, i, n)) return;
                    var s = uL(n, e),
                        l = s.point[0],
                        h = s.point[1];
                    null != l && null != h && this._tryShow({
                        offsetX: l,
                        offsetY: h,
                        position: n.position,
                        target: s.el,
                        event: {}
                    }, o)
                } else null != n.x && null != n.y && (i.dispatchAction({
                    type: "updateAxisPointer",
                    x: n.x,
                    y: n.y
                }), this._tryShow({
                    offsetX: n.x,
                    offsetY: n.y,
                    position: n.position,
                    target: i.getZr().findHover(n.x, n.y).target,
                    event: {}
                }, o))
            }
        },
        manuallyHideTip: function(t, e, i, n) {
            var o = this._tooltipContent;
            !this._alwaysShowContent && this._tooltipModel && o.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = null, n.from !== this.uid && this._hide(om(n, i))
        },
        _manuallyAxisShowTip: function(t, e, i, n) {
            var o = n.seriesIndex,
                a = n.dataIndex,
                r = e.getComponent("axisPointer").coordSysAxesInfo;
            if (null != o && null != a && null != r) {
                var s = e.getSeriesByIndex(o);
                if (s && "axis" === (t = nm([s.getData().getItemModel(a), s, (s.coordinateSystem || {}).model, t])).get("trigger")) return i.dispatchAction({
                    type: "updateAxisPointer",
                    seriesIndex: o,
                    dataIndex: a,
                    position: n.position
                }), !0
            }
        },
        _tryShow: function(t, e) {
            var i = t.target;
            if (this._tooltipModel) {
                this._lastX = t.offsetX, this._lastY = t.offsetY;
                var n = t.dataByCoordSys;
                n && n.length ? this._showAxisTooltip(n, t) : i && null != i.dataIndex ? (this._lastDataByCoordSys = null, this._showSeriesItemTooltip(t, i, e)) : i && i.tooltip ? (this._lastDataByCoordSys = null, this._showComponentItemTooltip(t, i, e)) : (this._lastDataByCoordSys = null, this._hide(e))
            }
        },
        _showOrMove: function(t, e) {
            var i = t.get("showDelay");
            e = m(e, this), clearTimeout(this._showTimout), i > 0 ? this._showTimout = setTimeout(e, i) : e()
        },
        _showAxisTooltip: function(t, e) {
            var i = this._ecModel,
                n = this._tooltipModel,
                o = [e.offsetX, e.offsetY],
                a = [],
                r = [],
                s = nm([e.tooltipOption, n]);
            ek(t, function(t) {
                ek(t.dataByAxis, function(t) {
                    var e = i.getComponent(t.axisDim + "Axis", t.axisIndex),
                        n = t.value,
                        o = [];
                    if (e && null != n) {
                        var s = og(n, e.axis, i, t.seriesDataIndices, t.valueLabelOpt);
                        d(t.seriesDataIndices, function(a) {
                            var l = i.getSeriesByIndex(a.seriesIndex),
                                h = a.dataIndexInside,
                                u = l && l.getDataParams(h);
                            u.axisDim = t.axisDim, u.axisIndex = t.axisIndex, u.axisType = t.axisType, u.axisId = t.axisId, u.axisValue = ul(e.axis, n), u.axisValueLabel = s, u && (r.push(u), o.push(l.formatTooltip(h, !0)))
                        });
                        var l = s;
                        a.push((l ? Ho(l) + "<br />" : "") + o.join("<br />"))
                    }
                })
            }, this), a.reverse(), a = a.join("<br /><br />");
            var l = e.position;
            this._showOrMove(s, function() {
                this._updateContentNotChangedOnAxis(t) ? this._updatePosition(s, l, o[0], o[1], this._tooltipContent, r) : this._showTooltipContent(s, a, r, Math.random(), o[0], o[1], l)
            })
        },
        _showSeriesItemTooltip: function(t, e, i) {
            var n = this._ecModel,
                o = e.seriesIndex,
                a = n.getSeriesByIndex(o),
                r = e.dataModel || a,
                s = e.dataIndex,
                l = e.dataType,
                h = r.getData(),
                u = nm([h.getItemModel(s), r, a && (a.coordinateSystem || {}).model, this._tooltipModel]),
                c = u.get("trigger");
            if (null == c || "item" === c) {
                var d = r.getDataParams(s, l),
                    f = r.formatTooltip(s, !1, l),
                    p = "item_" + r.name + "_" + s;
                this._showOrMove(u, function() {
                    this._showTooltipContent(u, f, d, p, t.offsetX, t.offsetY, t.position, t.target)
                }), i({
                    type: "showTip",
                    dataIndexInside: s,
                    dataIndex: h.getRawIndex(s),
                    seriesIndex: o,
                    from: this.uid
                })
            }
        },
        _showComponentItemTooltip: function(t, e, i) {
            var n = e.tooltip;
            if ("string" == typeof n) {
                var o = n;
                n = {
                    content: o,
                    formatter: o
                }
            }
            var a = new _o(n, this._tooltipModel, this._ecModel),
                r = a.get("content"),
                s = Math.random();
            this._showOrMove(a, function() {
                this._showTooltipContent(a, r, a.get("formatterParams") || {}, s, t.offsetX, t.offsetY, t.position, e)
            }), i({
                type: "showTip",
                from: this.uid
            })
        },
        _showTooltipContent: function(t, e, i, n, o, a, r, s) {
            if (this._ticket = "", t.get("showContent") && t.get("show")) {
                var l = this._tooltipContent,
                    h = t.get("formatter");
                r = r || t.get("position");
                var u = e;
                if (h && "string" == typeof h) u = Zo(h, i, !0);
                else if ("function" == typeof h) {
                    var c = tk(function(e, n) {
                        e === this._ticket && (l.setContent(n), this._updatePosition(t, r, o, a, l, i, s))
                    }, this);
                    this._ticket = n, u = h(i, n, c)
                }
                l.setContent(u), l.show(t), this._updatePosition(t, r, o, a, l, i, s)
            }
        },
        _updatePosition: function(t, e, i, n, o, a, r) {
            var s = this._api.getWidth(),
                l = this._api.getHeight();
            e = e || t.get("position");
            var h = o.getSize(),
                u = t.get("align"),
                c = t.get("verticalAlign"),
                d = r && r.getBoundingRect().clone();
            if (r && d.applyTransform(r.transform), "function" == typeof e && (e = e([i, n], a, o.el, d, {
                    viewSize: [s, l],
                    contentSize: h.slice()
                })), y(e)) i = ik(e[0], s), n = ik(e[1], l);
            else if (w(e)) {
                e.width = h[0], e.height = h[1];
                var f = Ko(e, {
                    width: s,
                    height: l
                });
                i = f.x, n = f.y, u = null, c = null
            } else "string" == typeof e && r ? (i = (p = lm(e, d, h))[0], n = p[1]) : (i = (p = am(i, n, o.el, s, l, u ? null : 20, c ? null : 20))[0], n = p[1]);
            if (u && (i -= hm(u) ? h[0] / 2 : "right" === u ? h[0] : 0), c && (n -= hm(c) ? h[1] / 2 : "bottom" === c ? h[1] : 0), t.get("confine")) {
                var p = rm(i, n, o.el, s, l);
                i = p[0], n = p[1]
            }
            o.moveTo(i, n)
        },
        _updateContentNotChangedOnAxis: function(t) {
            var e = this._lastDataByCoordSys,
                i = !!e && e.length === t.length;
            return i && ek(e, function(e, n) {
                var o = e.dataByAxis || {},
                    a = (t[n] || {}).dataByAxis || [];
                (i &= o.length === a.length) && ek(o, function(t, e) {
                    var n = a[e] || {},
                        o = t.seriesDataIndices || [],
                        r = n.seriesDataIndices || [];
                    (i &= t.value === n.value && t.axisType === n.axisType && t.axisId === n.axisId && o.length === r.length) && ek(o, function(t, e) {
                        var n = r[e];
                        i &= t.seriesIndex === n.seriesIndex && t.dataIndex === n.dataIndex
                    })
                })
            }), this._lastDataByCoordSys = t, !!i
        },
        _hide: function(t) {
            this._lastDataByCoordSys = null, t({
                type: "hideTip",
                from: this.uid
            })
        },
        dispose: function(t, e) {
            _x.node || (this._tooltipContent.hide(), Yp("itemTooltip", e))
        }
    }), hs({
        type: "showTip",
        event: "showTip",
        update: "tooltip:manuallyShowTip"
    }, function() {}), hs({
        type: "hideTip",
        event: "hideTip",
        update: "tooltip:manuallyHideTip"
    }, function() {}), fm.prototype = {
        constructor: fm,
        pointToData: function(t, e) {
            return this.polar.pointToData(t, e)["radius" === this.dim ? 0 : 1]
        },
        dataToRadius: nT.prototype.dataToCoord,
        radiusToData: nT.prototype.coordToData
    }, h(fm, nT), pm.prototype = {
        constructor: pm,
        pointToData: function(t, e) {
            return this.polar.pointToData(t, e)["radius" === this.dim ? 0 : 1]
        },
        dataToAngle: nT.prototype.dataToCoord,
        angleToData: nT.prototype.coordToData
    }, h(pm, nT);
    var ok = function(t) {
        this.name = t || "", this.cx = 0, this.cy = 0, this._radiusAxis = new fm, this._angleAxis = new pm, this._radiusAxis.polar = this._angleAxis.polar = this
    };
    ok.prototype = {
        type: "polar",
        axisPointerEnabled: !0,
        constructor: ok,
        dimensions: ["radius", "angle"],
        model: null,
        containPoint: function(t) {
            var e = this.pointToCoord(t);
            return this._radiusAxis.contain(e[0]) && this._angleAxis.contain(e[1])
        },
        containData: function(t) {
            return this._radiusAxis.containData(t[0]) && this._angleAxis.containData(t[1])
        },
        getAxis: function(t) {
            return this["_" + t + "Axis"]
        },
        getAxes: function() {
            return [this._radiusAxis, this._angleAxis]
        },
        getAxesByScale: function(t) {
            var e = [],
                i = this._angleAxis,
                n = this._radiusAxis;
            return i.scale.type === t && e.push(i), n.scale.type === t && e.push(n), e
        },
        getAngleAxis: function() {
            return this._angleAxis
        },
        getRadiusAxis: function() {
            return this._radiusAxis
        },
        getOtherAxis: function(t) {
            var e = this._angleAxis;
            return t === e ? this._radiusAxis : e
        },
        getBaseAxis: function() {
            return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAngleAxis()
        },
        getTooltipAxes: function(t) {
            var e = null != t && "auto" !== t ? this.getAxis(t) : this.getBaseAxis();
            return {
                baseAxes: [e],
                otherAxes: [this.getOtherAxis(e)]
            }
        },
        dataToPoint: function(t, e) {
            return this.coordToPoint([this._radiusAxis.dataToRadius(t[0], e), this._angleAxis.dataToAngle(t[1], e)])
        },
        pointToData: function(t, e) {
            var i = this.pointToCoord(t);
            return [this._radiusAxis.radiusToData(i[0], e), this._angleAxis.angleToData(i[1], e)]
        },
        pointToCoord: function(t) {
            var e = t[0] - this.cx,
                i = t[1] - this.cy,
                n = this.getAngleAxis(),
                o = n.getExtent(),
                a = Math.min(o[0], o[1]),
                r = Math.max(o[0], o[1]);
            n.inverse ? a = r - 360 : r = a + 360;
            var s = Math.sqrt(e * e + i * i);
            e /= s, i /= s;
            for (var l = Math.atan2(-i, e) / Math.PI * 180, h = l < a ? 1 : -1; l < a || l > r;) l += 360 * h;
            return [s, l]
        },
        coordToPoint: function(t) {
            var e = t[0],
                i = t[1] / 180 * Math.PI;
            return [Math.cos(i) * e + this.cx, -Math.sin(i) * e + this.cy]
        }
    };
    var ak = IS.extend({
        type: "polarAxis",
        axis: null,
        getCoordSysModel: function() {
            return this.ecModel.queryComponents({
                mainType: "polar",
                index: this.option.polarIndex,
                id: this.option.polarId
            })[0]
        }
    });
    n(ak.prototype, ZI);
    var rk = {
        angle: {
            startAngle: 90,
            clockwise: !0,
            splitNumber: 12,
            axisLabel: {
                rotate: !1
            }
        },
        radius: {
            splitNumber: 5
        }
    };
    kT("angle", ak, gm, rk.angle), kT("radius", ak, gm, rk.radius), gs({
        type: "polar",
        dependencies: ["polarAxis", "angleAxis"],
        coordinateSystem: null,
        findAxisModel: function(t) {
            var e;
            return this.ecModel.eachComponent(t, function(t) {
                t.getCoordSysModel() === this && (e = t)
            }, this), e
        },
        defaultOption: {
            zlevel: 0,
            z: 0,
            center: ["50%", "50%"],
            radius: "80%"
        }
    });
    var sk = {
        dimensions: ok.prototype.dimensions,
        create: function(t, e) {
            var i = [];
            return t.eachComponent("polar", function(t, n) {
                var o = new ok(n);
                o.update = vm;
                var a = o.getRadiusAxis(),
                    r = o.getAngleAxis(),
                    s = t.findAxisModel("radiusAxis"),
                    l = t.findAxisModel("angleAxis");
                ym(a, s), ym(r, l), mm(o, t, e), i.push(o), t.coordinateSystem = o, o.model = t
            }), t.eachSeries(function(e) {
                if ("polar" === e.get("coordinateSystem")) {
                    var i = t.queryComponents({
                        mainType: "polar",
                        index: e.get("polarIndex"),
                        id: e.get("polarId")
                    })[0];
                    e.coordinateSystem = i.coordinateSystem
                }
            }), i
        }
    };
    Aa.register("polar", sk);
    var lk = ["axisLine", "axisLabel", "axisTick", "splitLine", "splitArea"];
    XT.extend({
        type: "angleAxis",
        axisPointerClass: "PolarAxisPointer",
        render: function(t, e) {
            if (this.group.removeAll(), t.get("show")) {
                var i = t.axis,
                    n = i.polar,
                    o = n.getRadiusAxis().getExtent(),
                    a = i.getTicksCoords();
                "category" !== i.type && a.pop(), d(lk, function(e) {
                    !t.get(e + ".show") || i.scale.isBlank() && "axisLine" !== e || this["_" + e](t, n, a, o)
                }, this)
            }
        },
        _axisLine: function(t, e, i, n) {
            var o = t.getModel("axisLine.lineStyle"),
                a = new Lb({
                    shape: {
                        cx: e.cx,
                        cy: e.cy,
                        r: n[_m(e)]
                    },
                    style: o.getLineStyle(),
                    z2: 1,
                    silent: !0
                });
            a.style.fill = null, this.group.add(a)
        },
        _axisTick: function(t, e, i, n) {
            var o = t.getModel("axisTick"),
                a = (o.get("inside") ? -1 : 1) * o.get("length"),
                s = n[_m(e)],
                l = f(i, function(t) {
                    return new Gb({
                        shape: xm(e, [s, s + a], t)
                    })
                });
            this.group.add(Qb(l, {
                style: r(o.getModel("lineStyle").getLineStyle(), {
                    stroke: t.get("axisLine.lineStyle.color")
                })
            }))
        },
        _axisLabel: function(t, e, i, n) {
            for (var o = t.axis, a = t.getCategories(), r = t.getModel("axisLabel"), s = t.getFormattedLabels(), l = r.get("margin"), h = o.getLabelsCoords(), u = 0; u < i.length; u++) {
                var c = n[_m(e)],
                    d = e.coordToPoint([c + l, h[u]]),
                    f = e.cx,
                    p = e.cy,
                    g = Math.abs(d[0] - f) / c < .3 ? "center" : d[0] > f ? "left" : "right",
                    m = Math.abs(d[1] - p) / c < .3 ? "middle" : d[1] > p ? "top" : "bottom";
                a && a[u] && a[u].textStyle && (r = new _o(a[u].textStyle, r, r.ecModel));
                var v = new Cb({
                    silent: !0
                });
                this.group.add(v), io(v.style, r, {
                    x: d[0],
                    y: d[1],
                    textFill: r.getTextColor() || t.get("axisLine.lineStyle.color"),
                    text: s[u],
                    textAlign: g,
                    textVerticalAlign: m
                })
            }
        },
        _splitLine: function(t, e, i, n) {
            var o = t.getModel("splitLine").getModel("lineStyle"),
                a = o.get("color"),
                s = 0;
            a = a instanceof Array ? a : [a];
            for (var l = [], h = 0; h < i.length; h++) {
                var u = s++ % a.length;
                l[u] = l[u] || [], l[u].push(new Gb({
                    shape: xm(e, n, i[h])
                }))
            }
            for (h = 0; h < l.length; h++) this.group.add(Qb(l[h], {
                style: r({
                    stroke: a[h % a.length]
                }, o.getLineStyle()),
                silent: !0,
                z: t.get("z")
            }))
        },
        _splitArea: function(t, e, i, n) {
            var o = t.getModel("splitArea").getModel("areaStyle"),
                a = o.get("color"),
                s = 0;
            a = a instanceof Array ? a : [a];
            for (var l = [], h = Math.PI / 180, u = -i[0] * h, c = Math.min(n[0], n[1]), d = Math.max(n[0], n[1]), f = t.get("clockwise"), p = 1; p < i.length; p++) {
                var g = s++ % a.length;
                l[g] = l[g] || [], l[g].push(new Ob({
                    shape: {
                        cx: e.cx,
                        cy: e.cy,
                        r0: c,
                        r: d,
                        startAngle: u,
                        endAngle: -i[p] * h,
                        clockwise: f
                    },
                    silent: !0
                })), u = -i[p] * h
            }
            for (p = 0; p < l.length; p++) this.group.add(Qb(l[p], {
                style: r({
                    fill: a[p % a.length]
                }, o.getAreaStyle()),
                silent: !0
            }))
        }
    });
    var hk = ["axisLine", "axisTickLabel", "axisName"],
        uk = ["splitLine", "splitArea"];
    XT.extend({
        type: "radiusAxis",
        axisPointerClass: "PolarAxisPointer",
        render: function(t, e) {
            if (this.group.removeAll(), t.get("show")) {
                var i = t.axis,
                    n = i.polar,
                    o = n.getAngleAxis(),
                    a = i.getTicksCoords(),
                    r = o.getExtent()[0],
                    s = i.getExtent(),
                    l = wm(n, t, r),
                    h = new GT(t, l);
                d(hk, h.add, h), this.group.add(h.getGroup()), d(uk, function(e) {
                    t.get(e + ".show") && !i.scale.isBlank() && this["_" + e](t, n, r, s, a)
                }, this)
            }
        },
        _splitLine: function(t, e, i, n, o) {
            var a = t.getModel("splitLine").getModel("lineStyle"),
                s = a.get("color"),
                l = 0;
            s = s instanceof Array ? s : [s];
            for (var h = [], u = 0; u < o.length; u++) {
                var c = l++ % s.length;
                h[c] = h[c] || [], h[c].push(new Lb({
                    shape: {
                        cx: e.cx,
                        cy: e.cy,
                        r: o[u]
                    },
                    silent: !0
                }))
            }
            for (u = 0; u < h.length; u++) this.group.add(Qb(h[u], {
                style: r({
                    stroke: s[u % s.length],
                    fill: null
                }, a.getLineStyle()),
                silent: !0
            }))
        },
        _splitArea: function(t, e, i, n, o) {
            var a = t.getModel("splitArea").getModel("areaStyle"),
                s = a.get("color"),
                l = 0;
            s = s instanceof Array ? s : [s];
            for (var h = [], u = o[0], c = 1; c < o.length; c++) {
                var d = l++ % s.length;
                h[d] = h[d] || [], h[d].push(new Ob({
                    shape: {
                        cx: e.cx,
                        cy: e.cy,
                        r0: u,
                        r: o[c],
                        startAngle: 0,
                        endAngle: 2 * Math.PI
                    },
                    silent: !0
                })), u = o[c]
            }
            for (c = 0; c < h.length; c++) this.group.add(Qb(h[c], {
                style: r({
                    fill: s[c % s.length]
                }, a.getAreaStyle()),
                silent: !0
            }))
        }
    });
    var ck = qp.extend({
            makeElOption: function(t, e, i, n, o) {
                var a = i.axis;
                "angle" === a.dim && (this.animationThreshold = Math.PI / 18);
                var r, s = a.polar,
                    l = s.getOtherAxis(a).getExtent();
                r = a["dataTo" + Yo(a.dim)](e);
                var h = n.get("type");
                if (h && "none" !== h) {
                    var u = eg(n),
                        c = dk[h](a, s, r, l, u);
                    c.style = u, t.graphicKey = c.type, t.pointer = c
                }
                ig(t, i, n, o, bm(e, i, 0, s, n.get("label.margin")))
            }
        }),
        dk = {
            line: function(t, e, i, n, o) {
                return "angle" === t.dim ? {
                    type: "Line",
                    shape: sg(e.coordToPoint([n[0], i]), e.coordToPoint([n[1], i]))
                } : {
                    type: "Circle",
                    shape: {
                        cx: e.cx,
                        cy: e.cy,
                        r: i
                    }
                }
            },
            shadow: function(t, e, i, n, o) {
                var a = t.getBandWidth(),
                    r = Math.PI / 180;
                return "angle" === t.dim ? {
                    type: "Sector",
                    shape: hg(e.cx, e.cy, n[0], n[1], (-i - a / 2) * r, (a / 2 - i) * r)
                } : {
                    type: "Sector",
                    shape: hg(e.cx, e.cy, i - a / 2, i + a / 2, 0, 2 * Math.PI)
                }
            }
        };
    XT.registerAxisPointerClass("PolarAxisPointer", ck), cs(v(function(t, e, i) {
        var n = i.getWidth(),
            o = i.getHeight(),
            a = {},
            r = {},
            s = dm(g(e.getSeriesByType(t), function(t) {
                return !e.isSeriesFiltered(t) && t.coordinateSystem && "polar" === t.coordinateSystem.type
            }));
        e.eachSeriesByType(t, function(t) {
            if ("polar" === t.coordinateSystem.type) {
                var e = t.getData(),
                    i = t.coordinateSystem,
                    l = i.getAngleAxis(),
                    h = i.getBaseAxis(),
                    u = um(t),
                    c = s[cm(h)][u],
                    d = c.offset,
                    f = c.width,
                    p = i.getOtherAxis(h),
                    g = t.get("center") || ["50%", "50%"],
                    m = To(g[0], n),
                    v = To(g[1], o),
                    y = t.get("barMinHeight") || 0,
                    x = t.get("barMinAngle") || 0,
                    _ = p.getExtent()[0],
                    w = p.model.get("max"),
                    b = p.model.get("min"),
                    S = [e.mapDimension("radius"), e.mapDimension("angle")],
                    M = e.mapArray(S, function(t, e) {
                        return i.dataToPoint([t, e])
                    }, !0);
                a[u] = a[u] || [], r[u] = r[u] || [], e.each(e.mapDimension(p.dim), function(t, n) {
                    if (!isNaN(t)) {
                        a[u][n] || (a[u][n] = {
                            p: _,
                            n: _
                        }, r[u][n] = {
                            p: _,
                            n: _
                        });
                        var o, s, h, c, g = t >= 0 ? "p" : "n",
                            S = i.pointToCoord(M[n]),
                            I = r[u][n][g];
                        if ("radius" === p.dim) o = I, s = S[0], c = (h = (-S[1] + d) * Math.PI / 180) + f * Math.PI / 180, Math.abs(s) < y && (s = o + (s < 0 ? -1 : 1) * y), r[u][n][g] = s;
                        else {
                            s = (o = S[0] + d) + f, null != w && (t = Math.min(t, w)), null != b && (t = Math.max(t, b));
                            var T = l.dataToAngle(t);
                            Math.abs(T - I) < x && (T = I - (t < 0 ? -1 : 1) * x), h = -I * Math.PI / 180, c = -T * Math.PI / 180;
                            var A = l.getExtent(),
                                D = T;
                            D === A[0] && t > 0 ? D = A[1] : D === A[1] && t < 0 && (D = A[0]), r[u][n][g] = D
                        }
                        e.setItemLayout(n, {
                            cx: m,
                            cy: v,
                            r0: o,
                            r: s,
                            startAngle: h,
                            endAngle: c
                        })
                    }
                }, !0)
            }
        }, this)
    }, "bar")), ms({
        type: "polar"
    }), u(IS.extend({
        type: "geo",
        coordinateSystem: null,
        layoutMode: "box",
        init: function(t) {
            IS.prototype.init.apply(this, arguments), Mi(t, "label", ["show"])
        },
        optionUpdated: function() {
            var t = this.option,
                e = this;
            t.regions = OA.getFilledRegions(t.regions, t.map, t.nameMap), this._optionModelMap = p(t.regions || [], function(t, i) {
                return i.name && t.set(i.name, new _o(i, e)), t
            }, z()), this.updateSelectedMap(t.regions)
        },
        defaultOption: {
            zlevel: 0,
            z: 0,
            show: !0,
            left: "center",
            top: "center",
            aspectScale: .75,
            silent: !1,
            map: "",
            boundingCoords: null,
            center: null,
            zoom: 1,
            scaleLimit: null,
            label: {
                show: !1,
                color: "#000"
            },
            itemStyle: {
                borderWidth: .5,
                borderColor: "#444",
                color: "#eee"
            },
            emphasis: {
                label: {
                    show: !0,
                    color: "rgb(100,0,0)"
                },
                itemStyle: {
                    color: "rgba(255,215,0,0.8)"
                }
            },
            regions: []
        },
        getRegionModel: function(t) {
            return this._optionModelMap.get(t) || new _o(null, this, this.ecModel)
        },
        getFormattedLabel: function(t, e) {
            var i = this.getRegionModel(t).get("label." + e + ".formatter"),
                n = {
                    name: t
                };
            return "function" == typeof i ? (n.status = e, i(n)) : "string" == typeof i ? i.replace("{a}", null != t ? t : "") : void 0
        },
        setZoom: function(t) {
            this.option.zoom = t
        },
        setCenter: function(t) {
            this.option.center = t
        }
    }), sA), ms({
        type: "geo",
        init: function(t, e) {
            var i = new ou(e, !0);
            this._mapDraw = i, this.group.add(i.group)
        },
        render: function(t, e, i, n) {
            if (!n || "geoToggleSelect" !== n.type || n.from !== this.uid) {
                var o = this._mapDraw;
                t.get("show") ? o.draw(t, e, i, this, n) : this._mapDraw.group.removeAll(), this.group.silent = t.get("silent")
            }
        },
        dispose: function() {
            this._mapDraw && this._mapDraw.remove()
        }
    }), Sm("toggleSelected", {
        type: "geoToggleSelect",
        event: "geoselectchanged"
    }), Sm("select", {
        type: "geoSelect",
        event: "geoselected"
    }), Sm("unSelect", {
        type: "geoUnSelect",
        event: "geounselected"
    });
    var fk = ["rect", "polygon", "keep", "clear"],
        pk = d,
        gk = {
            lineX: Lm(0),
            lineY: Lm(1),
            rect: {
                point: function(t, e, i) {
                    return t && i.boundingRect.contain(t[0], t[1])
                },
                rect: function(t, e, i) {
                    return t && i.boundingRect.intersect(t)
                }
            },
            polygon: {
                point: function(t, e, i) {
                    return t && i.boundingRect.contain(t[0], t[1]) && pl(i.range, t[0], t[1])
                },
                rect: function(t, e, i) {
                    var n = i.range;
                    if (!t || n.length <= 1) return !1;
                    var o = t.x,
                        a = t.y,
                        r = t.width,
                        s = t.height,
                        l = n[0];
                    return !!(pl(n, o, a) || pl(n, o + r, a) || pl(n, o, a + s) || pl(n, o + r, a + s) || Kt.create(t).contain(l[0], l[1]) || Pm(o, a, o + r, a, n) || Pm(o, a, o, a + s, n) || Pm(o + r, a, o + r, a + s, n) || Pm(o, a + s, o + r, a + s, n)) || void 0
                }
            }
        },
        mk = d,
        vk = l,
        yk = v,
        xk = ["dataToPoint", "pointToData"],
        _k = ["grid", "xAxis", "yAxis", "geo", "graph", "polar", "radiusAxis", "angleAxis", "bmap"],
        wk = zm.prototype;
    wk.setOutputRanges = function(t, e) {
        this.matchOutputRanges(t, e, function(t, e, i) {
            if ((t.coordRanges || (t.coordRanges = [])).push(e), !t.coordRange) {
                t.coordRange = e;
                var n = Ik[t.brushType](0, i, e);
                t.__rangeOffset = {
                    offset: Tk[t.brushType](n.values, t.range, [1, 1]),
                    xyMinMax: n.xyMinMax
                }
            }
        })
    }, wk.matchOutputRanges = function(t, e, i) {
        mk(t, function(t) {
            var n = this.findTargetInfo(t, e);
            n && !0 !== n && d(n.coordSyses, function(n) {
                var o = Ik[t.brushType](1, n, t.range);
                i(t, o.values, n, e)
            })
        }, this)
    }, wk.setInputRanges = function(t, e) {
        mk(t, function(t) {
            var i = this.findTargetInfo(t, e);
            if (t.range = t.range || [], i && !0 !== i) {
                t.panelId = i.panelId;
                var n = Ik[t.brushType](0, i.coordSys, t.coordRange),
                    o = t.__rangeOffset;
                t.range = o ? Tk[t.brushType](n.values, o.offset, Wm(n.xyMinMax, o.xyMinMax)) : n.values
            }
        }, this)
    }, wk.makePanelOpts = function(t, e) {
        return f(this._targetInfoList, function(i) {
            var n = i.getPanelRect();
            return {
                panelId: i.panelId,
                defaultBrushType: e && e(i),
                clipPath: Qd(n),
                isTargetByCursor: ef(n, t, i.coordSysModel),
                getLinearBrushOtherExtent: tf(n)
            }
        })
    }, wk.controlSeries = function(t, e, i) {
        var n = this.findTargetInfo(t, i);
        return !0 === n || n && vk(n.coordSyses, e.coordinateSystem) >= 0
    }, wk.findTargetInfo = function(t, e) {
        for (var i = this._targetInfoList, n = Bm(e, t), o = 0; o < i.length; o++) {
            var a = i[o],
                r = t.panelId;
            if (r) {
                if (a.panelId === r) return a
            } else
                for (o = 0; o < Sk.length; o++)
                    if (Sk[o](n, a)) return a
        }
        return !0
    };
    var bk = {
            grid: function(t, e) {
                var i = t.xAxisModels,
                    n = t.yAxisModels,
                    o = t.gridModels,
                    a = z(),
                    r = {},
                    s = {};
                (i || n || o) && (mk(i, function(t) {
                    var e = t.axis.grid.model;
                    a.set(e.id, e), r[e.id] = !0
                }), mk(n, function(t) {
                    var e = t.axis.grid.model;
                    a.set(e.id, e), s[e.id] = !0
                }), mk(o, function(t) {
                    a.set(t.id, t), r[t.id] = !0, s[t.id] = !0
                }), a.each(function(t) {
                    var o = t.coordinateSystem,
                        a = [];
                    mk(o.getCartesians(), function(t, e) {
                        (vk(i, t.getAxis("x").model) >= 0 || vk(n, t.getAxis("y").model) >= 0) && a.push(t)
                    }), e.push({
                        panelId: "grid--" + t.id,
                        gridModel: t,
                        coordSysModel: t,
                        coordSys: a[0],
                        coordSyses: a,
                        getPanelRect: Mk.grid,
                        xAxisDeclared: r[t.id],
                        yAxisDeclared: s[t.id]
                    })
                }))
            },
            geo: function(t, e) {
                mk(t.geoModels, function(t) {
                    var i = t.coordinateSystem;
                    e.push({
                        panelId: "geo--" + t.id,
                        geoModel: t,
                        coordSysModel: t,
                        coordSys: i,
                        coordSyses: [i],
                        getPanelRect: Mk.geo
                    })
                })
            }
        },
        Sk = [function(t, e) {
            var i = t.xAxisModel,
                n = t.yAxisModel,
                o = t.gridModel;
            return !o && i && (o = i.axis.grid.model), !o && n && (o = n.axis.grid.model), o && o === e.gridModel
        }, function(t, e) {
            var i = t.geoModel;
            return i && i === e.geoModel
        }],
        Mk = {
            grid: function() {
                return this.coordSys.grid.getRect().clone()
            },
            geo: function() {
                var t = this.coordSys,
                    e = t.getBoundingRect().clone();
                return e.applyTransform(po(t)), e
            }
        },
        Ik = {
            lineX: yk(Vm, 0),
            lineY: yk(Vm, 1),
            rect: function(t, e, i) {
                var n = e[xk[t]]([i[0][0], i[1][0]]),
                    o = e[xk[t]]([i[0][1], i[1][1]]),
                    a = [Rm([n[0], o[0]]), Rm([n[1], o[1]])];
                return {
                    values: a,
                    xyMinMax: a
                }
            },
            polygon: function(t, e, i) {
                var n = [
                    [1 / 0, -1 / 0],
                    [1 / 0, -1 / 0]
                ];
                return {
                    values: f(i, function(i) {
                        var o = e[xk[t]](i);
                        return n[0][0] = Math.min(n[0][0], o[0]), n[1][0] = Math.min(n[1][0], o[1]), n[0][1] = Math.max(n[0][1], o[0]), n[1][1] = Math.max(n[1][1], o[1]), o
                    }),
                    xyMinMax: n
                }
            }
        },
        Tk = {
            lineX: yk(Gm, 0),
            lineY: yk(Gm, 1),
            rect: function(t, e, i) {
                return [
                    [t[0][0] - i[0] * e[0][0], t[0][1] - i[0] * e[0][1]],
                    [t[1][0] - i[1] * e[1][0], t[1][1] - i[1] * e[1][1]]
                ]
            },
            polygon: function(t, e, i) {
                return f(t, function(t, n) {
                    return [t[0] - i[0] * e[n][0], t[1] - i[1] * e[n][1]]
                })
            }
        },
        Ak = ["inBrush", "outOfBrush"],
        Dk = "__ecBrushSelect",
        Ck = "__ecInBrushSelectEvent",
        Lk = FM.VISUAL.BRUSH;
    cs(Lk, function(t, e, i) {
        t.eachComponent({
            mainType: "brush"
        }, function(e) {
            i && "takeGlobalCursor" === i.type && e.setBrushOption("brush" === i.key ? i.brushOption : {
                brushType: !1
            }), (e.brushTargetManager = new zm(e.option, t)).setInputRanges(e.areas, t)
        })
    }), ds(Lk, function(t, e, n) {
        var o, a, s = [];
        t.eachComponent({
            mainType: "brush"
        }, function(e, n) {
            function l(t) {
                return "all" === m || v[t]
            }

            function h(t) {
                return !!t.length
            }

            function u(t, e) {
                var i = t.coordinateSystem;
                w |= i.hasAxisBrushed(), l(e) && i.eachActiveState(t.getData(), function(t, e) {
                    "active" === t && (x[e] = 1)
                })
            }

            function c(i, n, o) {
                var a = jm(i);
                if (a && !Xm(e, n) && (d(b, function(n) {
                        a[n.brushType] && e.brushTargetManager.controlSeries(n, i, t) && o.push(n), w |= h(o)
                    }), l(n) && h(o))) {
                    var r = i.getData();
                    r.each(function(t) {
                        Um(a, o, r, t) && (x[t] = 1)
                    })
                }
            }
            var p = {
                brushId: e.id,
                brushIndex: n,
                brushName: e.name,
                areas: i(e.areas),
                selected: []
            };
            s.push(p);
            var g = e.option,
                m = g.brushLink,
                v = [],
                x = [],
                _ = [],
                w = 0;
            n || (o = g.throttleType, a = g.throttleDelay);
            var b = f(e.areas, function(t) {
                    return Ym(r({
                        boundingRect: kk[t.brushType](t)
                    }, t))
                }),
                S = Tm(e.option, Ak, function(t) {
                    t.mappingMethod = "fixed"
                });
            y(m) && d(m, function(t) {
                v[t] = 1
            }), t.eachSeries(function(t, e) {
                var i = _[e] = [];
                "parallel" === t.subType ? u(t, e) : c(t, e, i)
            }), t.eachSeries(function(t, e) {
                var i = {
                    seriesId: t.id,
                    seriesIndex: e,
                    seriesName: t.name,
                    dataIndex: []
                };
                p.selected.push(i);
                var n = jm(t),
                    o = _[e],
                    a = t.getData(),
                    r = l(e) ? function(t) {
                        return x[t] ? (i.dataIndex.push(a.getRawIndex(t)), "inBrush") : "outOfBrush"
                    } : function(t) {
                        return Um(n, o, a, t) ? (i.dataIndex.push(a.getRawIndex(t)), "inBrush") : "outOfBrush"
                    };
                (l(e) ? w : h(o)) && Dm(Ak, S, a, r)
            })
        }), Hm(e, o, a, s, n)
    });
    var kk = {
            lineX: B,
            lineY: B,
            rect: function(t) {
                return qm(t.range)
            },
            polygon: function(t) {
                for (var e, i = t.range, n = 0, o = i.length; n < o; n++) {
                    e = e || [
                        [1 / 0, -1 / 0],
                        [1 / 0, -1 / 0]
                    ];
                    var a = i[n];
                    a[0] < e[0][0] && (e[0][0] = a[0]), a[0] > e[0][1] && (e[0][1] = a[0]), a[1] < e[1][0] && (e[1][0] = a[1]), a[1] > e[1][1] && (e[1][1] = a[1])
                }
                return e && qm(e)
            }
        },
        Pk = ["#ddd"];
    gs({
        type: "brush",
        dependencies: ["geo", "grid", "xAxis", "yAxis", "parallel", "series"],
        defaultOption: {
            toolbox: null,
            brushLink: null,
            seriesIndex: "all",
            geoIndex: null,
            xAxisIndex: null,
            yAxisIndex: null,
            brushType: "rect",
            brushMode: "single",
            transformable: !0,
            brushStyle: {
                borderWidth: 1,
                color: "rgba(120,140,180,0.3)",
                borderColor: "rgba(120,140,180,0.8)"
            },
            throttleType: "fixRate",
            throttleDelay: 0,
            removeOnClick: !0,
            z: 1e4
        },
        areas: [],
        brushType: null,
        brushOption: {},
        coordInfoList: [],
        optionUpdated: function(t, e) {
            var i = this.option;
            !e && Am(i, t, ["inBrush", "outOfBrush"]), i.inBrush = i.inBrush || {}, i.outOfBrush = i.outOfBrush || {
                color: Pk
            }
        },
        setAreas: function(t) {
            t && (this.areas = f(t, function(t) {
                return $m(this.option, t)
            }, this))
        },
        setBrushOption: function(t) {
            this.brushOption = $m(this.option, t), this.brushType = this.brushOption.brushType
        }
    });
    ms({
        type: "brush",
        init: function(t, e) {
            this.ecModel = t, this.api = e, this.model, (this._brushController = new yd(e.getZr())).on("brush", m(this._onBrush, this)).mount()
        },
        render: function(t) {
            return this.model = t, Km.apply(this, arguments)
        },
        updateView: Km,
        dispose: function() {
            this._brushController.dispose()
        },
        _onBrush: function(t, e) {
            var n = this.model.id;
            this.model.brushTargetManager.setOutputRanges(t, this.ecModel), (!e.isEnd || e.removeOnClick) && this.api.dispatchAction({
                type: "brush",
                brushId: n,
                areas: i(t),
                $from: n
            })
        }
    }), hs({
        type: "brush",
        event: "brush"
    }, function(t, e) {
        e.eachComponent({
            mainType: "brush",
            query: t
        }, function(e) {
            e.setAreas(t.areas)
        })
    }), hs({
        type: "brushSelect",
        event: "brushSelected",
        update: "none"
    }, function() {});
    var Ok = {},
        Nk = wM.toolbox.brush;
    tv.defaultOption = {
        show: !0,
        type: ["rect", "polygon", "lineX", "lineY", "keep", "clear"],
        icon: {
            rect: "M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",
            polygon: "M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",
            lineX: "M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",
            lineY: "M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",
            keep: "M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",
            clear: "M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"
        },
        title: i(Nk.title)
    };
    var Ek = tv.prototype;
    Ek.render = Ek.updateView = function(t, e, i) {
        var n, o, a;
        e.eachComponent({
            mainType: "brush"
        }, function(t) {
            n = t.brushType, o = t.brushOption.brushMode || "single", a |= t.areas.length
        }), this._brushType = n, this._brushMode = o, d(t.get("type", !0), function(e) {
            t.setIconStatus(e, ("keep" === e ? "multiple" === o : "clear" === e ? a : e === n) ? "emphasis" : "normal")
        })
    }, Ek.getIcons = function() {
        var t = this.model,
            e = t.get("icon", !0),
            i = {};
        return d(t.get("type", !0), function(t) {
            e[t] && (i[t] = e[t])
        }), i
    }, Ek.onclick = function(t, e, i) {
        var n = this._brushType,
            o = this._brushMode;
        "clear" === i ? (e.dispatchAction({
            type: "axisAreaSelect",
            intervals: []
        }), e.dispatchAction({
            type: "brush",
            command: "clear",
            areas: []
        })) : e.dispatchAction({
            type: "takeGlobalCursor",
            key: "brush",
            brushOption: {
                brushType: "keep" === i ? n : n !== i && i,
                brushMode: "keep" === i ? "multiple" === o ? "single" : "multiple" : o
            }
        })
    }, Jm("brush", tv), ss(function(t, e) {
        var i = t && t.brush;
        if (y(i) || (i = i ? [i] : []), i.length) {
            var n = [];
            d(i, function(t) {
                var e = t.hasOwnProperty("toolbox") ? t.toolbox : [];
                e instanceof Array && (n = n.concat(e))
            });
            var o = t && t.toolbox;
            y(o) && (o = o[0]), o || (o = {
                feature: {}
            }, t.toolbox = [o]);
            var a = o.feature || (o.feature = {}),
                r = a.brush || (a.brush = {}),
                s = r.type || (r.type = []);
            s.push.apply(s, n), Mm(s), e && !s.length && s.push.apply(s, fk)
        }
    });
    ev.prototype = {
        constructor: ev,
        type: "calendar",
        dimensions: ["time", "value"],
        getDimensionsInfo: function() {
            return [{
                name: "time",
                type: "time"
            }]
        },
        getRangeInfo: function() {
            return this._rangeInfo
        },
        getModel: function() {
            return this._model
        },
        getRect: function() {
            return this._rect
        },
        getCellWidth: function() {
            return this._sw
        },
        getCellHeight: function() {
            return this._sh
        },
        getOrient: function() {
            return this._orient
        },
        getFirstDayOfWeek: function() {
            return this._firstDayOfWeek
        },
        getDateInfo: function(t) {
            var e = (t = Eo(t)).getFullYear(),
                i = t.getMonth() + 1;
            i = i < 10 ? "0" + i : i;
            var n = t.getDate();
            n = n < 10 ? "0" + n : n;
            var o = t.getDay();
            return o = Math.abs((o + 7 - this.getFirstDayOfWeek()) % 7), {
                y: e,
                m: i,
                d: n,
                day: o,
                time: t.getTime(),
                formatedDate: e + "-" + i + "-" + n,
                date: t
            }
        },
        getNextNDay: function(t, e) {
            return 0 === (e = e || 0) ? this.getDateInfo(t) : ((t = new Date(this.getDateInfo(t).time)).setDate(t.getDate() + e), this.getDateInfo(t))
        },
        update: function(t, e) {
            function i(t, e) {
                return null != t[e] && "auto" !== t[e]
            }
            this._firstDayOfWeek = +this._model.getModel("dayLabel").get("firstDay"), this._orient = this._model.get("orient"), this._lineWidth = this._model.getModel("itemStyle").getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption());
            var n = this._rangeInfo.weeks || 1,
                o = ["width", "height"],
                a = this._model.get("cellSize").slice(),
                r = this._model.getBoxLayoutParams(),
                s = "horizontal" === this._orient ? [n, 7] : [7, n];
            d([0, 1], function(t) {
                i(a, t) && (r[o[t]] = a[t] * s[t])
            });
            var l = {
                    width: e.getWidth(),
                    height: e.getHeight()
                },
                h = this._rect = Ko(r, l);
            d([0, 1], function(t) {
                i(a, t) || (a[t] = h[o[t]] / s[t])
            }), this._sw = a[0], this._sh = a[1]
        },
        dataToPoint: function(t, e) {
            y(t) && (t = t[0]), null == e && (e = !0);
            var i = this.getDateInfo(t),
                n = this._rangeInfo,
                o = i.formatedDate;
            if (e && !(i.time >= n.start.time && i.time <= n.end.time)) return [NaN, NaN];
            var a = i.day,
                r = this._getRangeInfo([n.start.time, o]).nthWeek;
            return "vertical" === this._orient ? [this._rect.x + a * this._sw + this._sw / 2, this._rect.y + r * this._sh + this._sh / 2] : [this._rect.x + r * this._sw + this._sw / 2, this._rect.y + a * this._sh + this._sh / 2]
        },
        pointToData: function(t) {
            var e = this.pointToDate(t);
            return e && e.time
        },
        dataToRect: function(t, e) {
            var i = this.dataToPoint(t, e);
            return {
                contentShape: {
                    x: i[0] - (this._sw - this._lineWidth) / 2,
                    y: i[1] - (this._sh - this._lineWidth) / 2,
                    width: this._sw - this._lineWidth,
                    height: this._sh - this._lineWidth
                },
                center: i,
                tl: [i[0] - this._sw / 2, i[1] - this._sh / 2],
                tr: [i[0] + this._sw / 2, i[1] - this._sh / 2],
                br: [i[0] + this._sw / 2, i[1] + this._sh / 2],
                bl: [i[0] - this._sw / 2, i[1] + this._sh / 2]
            }
        },
        pointToDate: function(t) {
            var e = Math.floor((t[0] - this._rect.x) / this._sw) + 1,
                i = Math.floor((t[1] - this._rect.y) / this._sh) + 1,
                n = this._rangeInfo.range;
            return "vertical" === this._orient ? this._getDateByWeeksAndDay(i, e - 1, n) : this._getDateByWeeksAndDay(e, i - 1, n)
        },
        convertToPixel: v(iv, "dataToPoint"),
        convertFromPixel: v(iv, "pointToData"),
        _initRangeOption: function() {
            var t = this._model.get("range"),
                e = t;
            if (y(e) && 1 === e.length && (e = e[0]), /^\d{4}$/.test(e) && (t = [e + "-01-01", e + "-12-31"]), /^\d{4}[\/|-]\d{1,2}$/.test(e)) {
                var i = this.getDateInfo(e),
                    n = i.date;
                n.setMonth(n.getMonth() + 1);
                var o = this.getNextNDay(n, -1);
                t = [i.formatedDate, o.formatedDate]
            }
            /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e) && (t = [e, e]);
            var a = this._getRangeInfo(t);
            return a.start.time > a.end.time && t.reverse(), t
        },
        _getRangeInfo: function(t) {
            var e;
            (t = [this.getDateInfo(t[0]), this.getDateInfo(t[1])])[0].time > t[1].time && (e = !0, t.reverse());
            var i = Math.floor(t[1].time / 864e5) - Math.floor(t[0].time / 864e5) + 1,
                n = new Date(t[0].time),
                o = n.getDate(),
                a = t[1].date.getDate();
            if (n.setDate(o + i - 1), n.getDate() !== a)
                for (var r = n.getTime() - t[1].time > 0 ? 1 : -1; n.getDate() !== a && (n.getTime() - t[1].time) * r > 0;) i -= r, n.setDate(o + i - 1);
            var s = Math.floor((i + t[0].day + 6) / 7),
                l = e ? 1 - s : s - 1;
            return e && t.reverse(), {
                range: [t[0].formatedDate, t[1].formatedDate],
                start: t[0],
                end: t[1],
                allDay: i,
                weeks: s,
                nthWeek: l,
                fweek: t[0].day,
                lweek: t[1].day
            }
        },
        _getDateByWeeksAndDay: function(t, e, i) {
            var n = this._getRangeInfo(i);
            if (t > n.weeks || 0 === t && e < n.fweek || t === n.weeks && e > n.lweek) return !1;
            var o = 7 * (t - 1) - n.fweek + e,
                a = new Date(n.start.time);
            return a.setDate(n.start.d + o), this.getDateInfo(a)
        }
    }, ev.dimensions = ev.prototype.dimensions, ev.getDimensionsInfo = ev.prototype.getDimensionsInfo, ev.create = function(t, e) {
        var i = [];
        return t.eachComponent("calendar", function(n) {
            var o = new ev(n, t, e);
            i.push(o), n.coordinateSystem = o
        }), t.eachSeries(function(t) {
            "calendar" === t.get("coordinateSystem") && (t.coordinateSystem = i[t.get("calendarIndex") || 0])
        }), i
    }, Aa.register("calendar", ev);
    var zk = IS.extend({
            type: "calendar",
            coordinateSystem: null,
            defaultOption: {
                zlevel: 0,
                z: 2,
                left: 80,
                top: 60,
                cellSize: 20,
                orient: "horizontal",
                splitLine: {
                    show: !0,
                    lineStyle: {
                        color: "#000",
                        width: 1,
                        type: "solid"
                    }
                },
                itemStyle: {
                    color: "#fff",
                    borderWidth: 1,
                    borderColor: "#ccc"
                },
                dayLabel: {
                    show: !0,
                    firstDay: 0,
                    position: "start",
                    margin: "50%",
                    nameMap: "en",
                    color: "#000"
                },
                monthLabel: {
                    show: !0,
                    position: "start",
                    margin: 5,
                    align: "center",
                    nameMap: "en",
                    formatter: null,
                    color: "#000"
                },
                yearLabel: {
                    show: !0,
                    position: null,
                    margin: 30,
                    formatter: null,
                    color: "#ccc",
                    fontFamily: "sans-serif",
                    fontWeight: "bolder",
                    fontSize: 20
                }
            },
            init: function(t, e, i, n) {
                var o = ea(t);
                zk.superApply(this, "init", arguments), nv(t, o)
            },
            mergeOption: function(t, e) {
                zk.superApply(this, "mergeOption", arguments), nv(this.option, t)
            }
        }),
        Rk = {
            EN: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            CN: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"]
        },
        Bk = {
            EN: ["S", "M", "T", "W", "T", "F", "S"],
            CN: ["日", "一", "二", "三", "四", "五", "六"]
        };
    ms({
        type: "calendar",
        _tlpoints: null,
        _blpoints: null,
        _firstDayOfMonth: null,
        _firstDayPoints: null,
        render: function(t, e, i) {
            var n = this.group;
            n.removeAll();
            var o = t.coordinateSystem,
                a = o.getRangeInfo(),
                r = o.getOrient();
            this._renderDayRect(t, a, n), this._renderLines(t, a, r, n), this._renderYearText(t, a, r, n), this._renderMonthText(t, r, n), this._renderWeekText(t, a, r, n)
        },
        _renderDayRect: function(t, e, i) {
            for (var n = t.coordinateSystem, o = t.getModel("itemStyle").getItemStyle(), a = n.getCellWidth(), r = n.getCellHeight(), s = e.start.time; s <= e.end.time; s = n.getNextNDay(s, 1).time) {
                var l = n.dataToRect([s], !1).tl,
                    h = new Vb({
                        shape: {
                            x: l[0],
                            y: l[1],
                            width: a,
                            height: r
                        },
                        cursor: "default",
                        style: o
                    });
                i.add(h)
            }
        },
        _renderLines: function(t, e, i, n) {
            function o(e) {
                a._firstDayOfMonth.push(r.getDateInfo(e)), a._firstDayPoints.push(r.dataToRect([e], !1).tl);
                var o = a._getLinePointsOfOneWeek(t, e, i);
                a._tlpoints.push(o[0]), a._blpoints.push(o[o.length - 1]), l && a._drawSplitline(o, s, n)
            }
            var a = this,
                r = t.coordinateSystem,
                s = t.getModel("splitLine.lineStyle").getLineStyle(),
                l = t.get("splitLine.show"),
                h = s.lineWidth;
            this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = [];
            for (var u = e.start, c = 0; u.time <= e.end.time; c++) {
                o(u.formatedDate), 0 === c && (u = r.getDateInfo(e.start.y + "-" + e.start.m));
                var d = u.date;
                d.setMonth(d.getMonth() + 1), u = r.getDateInfo(d)
            }
            o(r.getNextNDay(e.end.time, 1).formatedDate), l && this._drawSplitline(a._getEdgesPoints(a._tlpoints, h, i), s, n), l && this._drawSplitline(a._getEdgesPoints(a._blpoints, h, i), s, n)
        },
        _getEdgesPoints: function(t, e, i) {
            var n = [t[0].slice(), t[t.length - 1].slice()],
                o = "horizontal" === i ? 0 : 1;
            return n[0][o] = n[0][o] - e / 2, n[1][o] = n[1][o] + e / 2, n
        },
        _drawSplitline: function(t, e, i) {
            var n = new Bb({
                z2: 20,
                shape: {
                    points: t
                },
                style: e
            });
            i.add(n)
        },
        _getLinePointsOfOneWeek: function(t, e, i) {
            var n = t.coordinateSystem;
            e = n.getDateInfo(e);
            for (var o = [], a = 0; a < 7; a++) {
                var r = n.getNextNDay(e.time, a),
                    s = n.dataToRect([r.time], !1);
                o[2 * r.day] = s.tl, o[2 * r.day + 1] = s["horizontal" === i ? "bl" : "tr"]
            }
            return o
        },
        _formatterLabel: function(t, e) {
            return "string" == typeof t && t ? Uo(t, e) : "function" == typeof t ? t(e) : e.nameMap
        },
        _yearTextPositionControl: function(t, e, i, n, o) {
            e = e.slice();
            var a = ["center", "bottom"];
            "bottom" === n ? (e[1] += o, a = ["center", "top"]) : "left" === n ? e[0] -= o : "right" === n ? (e[0] += o, a = ["center", "top"]) : e[1] -= o;
            var r = 0;
            return "left" !== n && "right" !== n || (r = Math.PI / 2), {
                rotation: r,
                position: e,
                style: {
                    textAlign: a[0],
                    textVerticalAlign: a[1]
                }
            }
        },
        _renderYearText: function(t, e, i, n) {
            var o = t.getModel("yearLabel");
            if (o.get("show")) {
                var a = o.get("margin"),
                    r = o.get("position");
                r || (r = "horizontal" !== i ? "top" : "left");
                var s = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]],
                    l = (s[0][0] + s[1][0]) / 2,
                    h = (s[0][1] + s[1][1]) / 2,
                    u = "horizontal" === i ? 0 : 1,
                    c = {
                        top: [l, s[u][1]],
                        bottom: [l, s[1 - u][1]],
                        left: [s[1 - u][0], h],
                        right: [s[u][0], h]
                    },
                    d = e.start.y; + e.end.y > +e.start.y && (d = d + "-" + e.end.y);
                var f = o.get("formatter"),
                    p = {
                        start: e.start.y,
                        end: e.end.y,
                        nameMap: d
                    },
                    g = this._formatterLabel(f, p),
                    m = new Cb({
                        z2: 30
                    });
                io(m.style, o, {
                    text: g
                }), m.attr(this._yearTextPositionControl(m, c[r], i, r, a)), n.add(m)
            }
        },
        _monthTextPositionControl: function(t, e, i, n, o) {
            var a = "left",
                r = "top",
                s = t[0],
                l = t[1];
            return "horizontal" === i ? (l += o, e && (a = "center"), "start" === n && (r = "bottom")) : (s += o, e && (r = "middle"), "start" === n && (a = "right")), {
                x: s,
                y: l,
                textAlign: a,
                textVerticalAlign: r
            }
        },
        _renderMonthText: function(t, e, i) {
            var n = t.getModel("monthLabel");
            if (n.get("show")) {
                var o = n.get("nameMap"),
                    r = n.get("margin"),
                    s = n.get("position"),
                    l = n.get("align"),
                    h = [this._tlpoints, this._blpoints];
                _(o) && (o = Rk[o.toUpperCase()] || []);
                var u = "start" === s ? 0 : 1,
                    c = "horizontal" === e ? 0 : 1;
                r = "start" === s ? -r : r;
                for (var d = "center" === l, f = 0; f < h[u].length - 1; f++) {
                    var p = h[u][f].slice(),
                        g = this._firstDayOfMonth[f];
                    if (d) {
                        var m = this._firstDayPoints[f];
                        p[c] = (m[c] + h[0][f + 1][c]) / 2
                    }
                    var v = n.get("formatter"),
                        y = o[+g.m - 1],
                        x = {
                            yyyy: g.y,
                            yy: (g.y + "").slice(2),
                            MM: g.m,
                            M: +g.m,
                            nameMap: y
                        },
                        w = this._formatterLabel(v, x),
                        b = new Cb({
                            z2: 30
                        });
                    a(io(b.style, n, {
                        text: w
                    }), this._monthTextPositionControl(p, d, e, s, r)), i.add(b)
                }
            }
        },
        _weekTextPositionControl: function(t, e, i, n, o) {
            var a = "center",
                r = "middle",
                s = t[0],
                l = t[1],
                h = "start" === i;
            return "horizontal" === e ? (s = s + n + (h ? 1 : -1) * o[0] / 2, a = h ? "right" : "left") : (l = l + n + (h ? 1 : -1) * o[1] / 2, r = h ? "bottom" : "top"), {
                x: s,
                y: l,
                textAlign: a,
                textVerticalAlign: r
            }
        },
        _renderWeekText: function(t, e, i, n) {
            var o = t.getModel("dayLabel");
            if (o.get("show")) {
                var r = t.coordinateSystem,
                    s = o.get("position"),
                    l = o.get("nameMap"),
                    h = o.get("margin"),
                    u = r.getFirstDayOfWeek();
                _(l) && (l = Bk[l.toUpperCase()] || []);
                var c = r.getNextNDay(e.end.time, 7 - e.lweek).time,
                    d = [r.getCellWidth(), r.getCellHeight()];
                h = To(h, d["horizontal" === i ? 0 : 1]), "start" === s && (c = r.getNextNDay(e.start.time, -(7 + e.fweek)).time, h = -h);
                for (var f = 0; f < 7; f++) {
                    var p = r.getNextNDay(c, f),
                        g = r.dataToRect([p.time], !1).center,
                        m = f;
                    m = Math.abs((f + u) % 7);
                    var v = new Cb({
                        z2: 30
                    });
                    a(io(v.style, o, {
                        text: l[m]
                    }), this._weekTextPositionControl(g, i, s, h, d)), n.add(v)
                }
            }
        }
    }), gs({
        type: "title",
        layoutMode: {
            type: "box",
            ignoreSize: !0
        },
        defaultOption: {
            zlevel: 0,
            z: 6,
            show: !0,
            text: "",
            target: "blank",
            subtext: "",
            subtarget: "blank",
            left: 0,
            top: 0,
            backgroundColor: "rgba(0,0,0,0)",
            borderColor: "#ccc",
            borderWidth: 0,
            padding: 5,
            itemGap: 10,
            textStyle: {
                fontSize: 18,
                fontWeight: "bolder",
                color: "#333"
            },
            subtextStyle: {
                color: "#aaa"
            }
        }
    }), ms({
        type: "title",
        render: function(t, e, i) {
            if (this.group.removeAll(), t.get("show")) {
                var n = this.group,
                    o = t.getModel("textStyle"),
                    a = t.getModel("subtextStyle"),
                    r = t.get("textAlign"),
                    s = t.get("textBaseline"),
                    l = new Cb({
                        style: io({}, o, {
                            text: t.get("text"),
                            textFill: o.getTextColor()
                        }, {
                            disableBox: !0
                        }),
                        z2: 10
                    }),
                    h = l.getBoundingRect(),
                    u = t.get("subtext"),
                    c = new Cb({
                        style: io({}, a, {
                            text: u,
                            textFill: a.getTextColor(),
                            y: h.height + t.get("itemGap"),
                            textVerticalAlign: "top"
                        }, {
                            disableBox: !0
                        }),
                        z2: 10
                    }),
                    d = t.get("link"),
                    f = t.get("sublink");
                l.silent = !d, c.silent = !f, d && l.on("click", function() {
                    window.open(d, "_" + t.get("target"))
                }), f && c.on("click", function() {
                    window.open(f, "_" + t.get("subtarget"))
                }), n.add(l), u && n.add(c);
                var p = n.getBoundingRect(),
                    g = t.getBoxLayoutParams();
                g.width = p.width, g.height = p.height;
                var m = Ko(g, {
                    width: i.getWidth(),
                    height: i.getHeight()
                }, t.get("padding"));
                r || ("middle" === (r = t.get("left") || t.get("right")) && (r = "center"), "right" === r ? m.x += m.width : "center" === r && (m.x += m.width / 2)), s || ("center" === (s = t.get("top") || t.get("bottom")) && (s = "middle"), "bottom" === s ? m.y += m.height : "middle" === s && (m.y += m.height / 2), s = s || "top"), n.attr("position", [m.x, m.y]);
                var v = {
                    textAlign: r,
                    textVerticalAlign: s
                };
                l.setStyle(v), c.setStyle(v), p = n.getBoundingRect();
                var y = m.margin,
                    x = t.getItemStyle(["color", "opacity"]);
                x.fill = t.get("backgroundColor");
                var _ = new Vb({
                    shape: {
                        x: p.x - y[3],
                        y: p.y - y[0],
                        width: p.width + y[1] + y[3],
                        height: p.height + y[0] + y[2],
                        r: t.get("borderRadius")
                    },
                    style: x,
                    silent: !0
                });
                Gn(_), n.add(_)
            }
        }
    }), IS.registerSubTypeDefaulter("dataZoom", function() {
        return "slider"
    });
    var Vk = ["cartesian2d", "polar", "singleAxis"],
        Gk = function(t, e) {
            var i = f(t = t.slice(), Yo),
                n = f(e = (e || []).slice(), Yo);
            return function(o, a) {
                d(t, function(t, r) {
                    for (var s = {
                            name: t,
                            capital: i[r]
                        }, l = 0; l < e.length; l++) s[e[l]] = t + n[l];
                    o.call(a, s)
                })
            }
        }(["x", "y", "z", "radius", "angle", "single"], ["axisIndex", "axis", "index", "id"]),
        Wk = d,
        Fk = Do,
        Hk = function(t, e, i, n) {
            this._dimName = t, this._axisIndex = e, this._valueWindow, this._percentWindow, this._dataExtent, this._minMaxSpan, this.ecModel = n, this._dataZoomModel = i, this.hasSeriesStacked
        };
    Hk.prototype = {
        constructor: Hk,
        hostedBy: function(t) {
            return this._dataZoomModel === t
        },
        getDataValueWindow: function() {
            return this._valueWindow.slice()
        },
        getDataPercentWindow: function() {
            return this._percentWindow.slice()
        },
        getTargetSeriesModels: function() {
            var t = [],
                e = this.ecModel;
            return e.eachSeries(function(i) {
                if (ov(i.get("coordinateSystem"))) {
                    var n = this._dimName,
                        o = e.queryComponents({
                            mainType: n + "Axis",
                            index: i.get(n + "AxisIndex"),
                            id: i.get(n + "AxisId")
                        })[0];
                    this._axisIndex === (o && o.componentIndex) && t.push(i)
                }
            }, this), t
        },
        getAxisModel: function() {
            return this.ecModel.getComponent(this._dimName + "Axis", this._axisIndex)
        },
        getOtherAxisModel: function() {
            var t, e, i = this._dimName,
                n = this.ecModel,
                o = this.getAxisModel();
            "x" === i || "y" === i ? (e = "gridIndex", t = "x" === i ? "y" : "x") : (e = "polarIndex", t = "angle" === i ? "radius" : "angle");
            var a;
            return n.eachComponent(t + "Axis", function(t) {
                (t.get(e) || 0) === (o.get(e) || 0) && (a = t)
            }), a
        },
        getMinMaxSpan: function() {
            return i(this._minMaxSpan)
        },
        calculateDataWindow: function(t) {
            var e = this._dataExtent,
                i = this.getAxisModel().axis.scale,
                n = this._dataZoomModel.getRangePropMode(),
                o = [0, 100],
                a = [t.start, t.end],
                r = [];
            return Wk(["startValue", "endValue"], function(e) {
                r.push(null != t[e] ? i.parse(t[e]) : null)
            }), Wk([0, 1], function(t) {
                var s = r[t],
                    l = a[t];
                "percent" === n[t] ? (null == l && (l = o[t]), s = i.parse(Io(l, o, e, !0))) : l = Io(s, e, o, !0), r[t] = s, a[t] = l
            }), {
                valueWindow: Fk(r),
                percentWindow: Fk(a)
            }
        },
        reset: function(t) {
            if (t === this._dataZoomModel) {
                var e = this.getTargetSeriesModels();
                this._dataExtent = rv(this, this._dimName, e), this.hasSeriesStacked = !1, Wk(e, function(t) {
                    var e = t.getData(),
                        i = e.mapDimension(this._dimName);
                    e.isStacked(i) && (this.hasSeriesStacked = !0)
                }, this);
                var i = this.calculateDataWindow(t.option);
                this._valueWindow = i.valueWindow, this._percentWindow = i.percentWindow, hv(this), lv(this)
            }
        },
        restore: function(t) {
            t === this._dataZoomModel && (this._valueWindow = this._percentWindow = null, lv(this, !0))
        },
        filterData: function(t, e) {
            function i(t) {
                return t >= r[0] && t <= r[1]
            }
            if (t === this._dataZoomModel) {
                var n = this._dimName,
                    o = this.getTargetSeriesModels(),
                    a = t.get("filterMode"),
                    r = this._valueWindow;
                if ("none" !== a) {
                    var s = this.getOtherAxisModel();
                    t.get("$fromToolbox") && s && s.hasSeriesStacked && (a = "empty"), Wk(o, function(t) {
                        var e = t.getData(),
                            o = e.mapDimension(n, !0);
                        "weakFilter" === a ? e.filterSelf(function(t) {
                            for (var i, n, a, s = 0; s < o.length; s++) {
                                var l = e.get(o[s], t),
                                    h = !isNaN(l),
                                    u = l < r[0],
                                    c = l > r[1];
                                if (h && !u && !c) return !0;
                                h && (a = !0), u && (i = !0), c && (n = !0)
                            }
                            return a && i && n
                        }) : Wk(o, function(n) {
                            if ("empty" === a) t.setData(e.map(n, function(t) {
                                return i(t) ? t : NaN
                            }));
                            else {
                                var o = {};
                                o[n] = r, e.selectRange(o)
                            }
                        }), Wk(o, function(t) {
                            e.setApproximateExtent(r, t)
                        })
                    })
                }
            }
        }
    };
    var Zk = d,
        Uk = Gk,
        jk = gs({
            type: "dataZoom",
            dependencies: ["xAxis", "yAxis", "zAxis", "radiusAxis", "angleAxis", "singleAxis", "series"],
            defaultOption: {
                zlevel: 0,
                z: 4,
                orient: null,
                xAxisIndex: null,
                yAxisIndex: null,
                filterMode: "filter",
                throttle: null,
                start: 0,
                end: 100,
                startValue: null,
                endValue: null,
                minSpan: null,
                maxSpan: null,
                minValueSpan: null,
                maxValueSpan: null,
                rangeMode: null
            },
            init: function(t, e, i) {
                this._dataIntervalByAxis = {}, this._dataInfo = {}, this._axisProxies = {}, this.textStyleModel, this._autoThrottle = !0, this._rangePropMode = ["percent", "percent"];
                var n = uv(t);
                this.mergeDefaultAndTheme(t, i), this.doInit(n)
            },
            mergeOption: function(t) {
                var e = uv(t);
                n(this.option, t, !0), this.doInit(e)
            },
            doInit: function(t) {
                var e = this.option;
                _x.canvasSupported || (e.realtime = !1), this._setDefaultThrottle(t), cv(this, t), Zk([
                    ["start", "startValue"],
                    ["end", "endValue"]
                ], function(t, i) {
                    "value" === this._rangePropMode[i] && (e[t[0]] = null)
                }, this), this.textStyleModel = this.getModel("textStyle"), this._resetTarget(), this._giveAxisProxies()
            },
            _giveAxisProxies: function() {
                var t = this._axisProxies;
                this.eachTargetAxis(function(e, i, n, o) {
                    var a = this.dependentModels[e.axis][i],
                        r = a.__dzAxisProxy || (a.__dzAxisProxy = new Hk(e.name, i, this, o));
                    t[e.name + "_" + i] = r
                }, this)
            },
            _resetTarget: function() {
                var t = this.option,
                    e = this._judgeAutoMode();
                Uk(function(e) {
                    var i = e.axisIndex;
                    t[i] = Si(t[i])
                }, this), "axisIndex" === e ? this._autoSetAxisIndex() : "orient" === e && this._autoSetOrient()
            },
            _judgeAutoMode: function() {
                var t = this.option,
                    e = !1;
                Uk(function(i) {
                    null != t[i.axisIndex] && (e = !0)
                }, this);
                var i = t.orient;
                return null == i && e ? "orient" : e ? void 0 : (null == i && (t.orient = "horizontal"), "axisIndex")
            },
            _autoSetAxisIndex: function() {
                var t = !0,
                    e = this.get("orient", !0),
                    i = this.option,
                    n = this.dependentModels;
                if (t) {
                    var o = "vertical" === e ? "y" : "x";
                    n[o + "Axis"].length ? (i[o + "AxisIndex"] = [0], t = !1) : Zk(n.singleAxis, function(n) {
                        t && n.get("orient", !0) === e && (i.singleAxisIndex = [n.componentIndex], t = !1)
                    })
                }
                t && Uk(function(e) {
                    if (t) {
                        var n = [],
                            o = this.dependentModels[e.axis];
                        if (o.length && !n.length)
                            for (var a = 0, r = o.length; a < r; a++) "category" === o[a].get("type") && n.push(a);
                        i[e.axisIndex] = n, n.length && (t = !1)
                    }
                }, this), t && this.ecModel.eachSeries(function(t) {
                    this._isSeriesHasAllAxesTypeOf(t, "value") && Uk(function(e) {
                        var n = i[e.axisIndex],
                            o = t.get(e.axisIndex),
                            a = t.get(e.axisId);
                        l(n, o = t.ecModel.queryComponents({
                            mainType: e.axis,
                            index: o,
                            id: a
                        })[0].componentIndex) < 0 && n.push(o)
                    })
                }, this)
            },
            _autoSetOrient: function() {
                var t;
                this.eachTargetAxis(function(e) {
                    !t && (t = e.name)
                }, this), this.option.orient = "y" === t ? "vertical" : "horizontal"
            },
            _isSeriesHasAllAxesTypeOf: function(t, e) {
                var i = !0;
                return Uk(function(n) {
                    var o = t.get(n.axisIndex),
                        a = this.dependentModels[n.axis][o];
                    a && a.get("type") === e || (i = !1)
                }, this), i
            },
            _setDefaultThrottle: function(t) {
                if (t.hasOwnProperty("throttle") && (this._autoThrottle = !1), this._autoThrottle) {
                    var e = this.ecModel.option;
                    this.option.throttle = e.animation && e.animationDurationUpdate > 0 ? 100 : 20
                }
            },
            getFirstTargetAxisModel: function() {
                var t;
                return Uk(function(e) {
                    if (null == t) {
                        var i = this.get(e.axisIndex);
                        i.length && (t = this.dependentModels[e.axis][i[0]])
                    }
                }, this), t
            },
            eachTargetAxis: function(t, e) {
                var i = this.ecModel;
                Uk(function(n) {
                    Zk(this.get(n.axisIndex), function(o) {
                        t.call(e, n, o, this, i)
                    }, this)
                }, this)
            },
            getAxisProxy: function(t, e) {
                return this._axisProxies[t + "_" + e]
            },
            getAxisModel: function(t, e) {
                var i = this.getAxisProxy(t, e);
                return i && i.getAxisModel()
            },
            setRawRange: function(t, e) {
                var i = this.option;
                Zk([
                    ["start", "startValue"],
                    ["end", "endValue"]
                ], function(e) {
                    null == t[e[0]] && null == t[e[1]] || (i[e[0]] = t[e[0]], i[e[1]] = t[e[1]])
                }, this), !e && cv(this, t)
            },
            getPercentRange: function() {
                var t = this.findRepresentativeAxisProxy();
                if (t) return t.getDataPercentWindow()
            },
            getValueRange: function(t, e) {
                if (null != t || null != e) return this.getAxisProxy(t, e).getDataValueWindow();
                var i = this.findRepresentativeAxisProxy();
                return i ? i.getDataValueWindow() : void 0
            },
            findRepresentativeAxisProxy: function(t) {
                if (t) return t.__dzAxisProxy;
                var e = this._axisProxies;
                for (var i in e)
                    if (e.hasOwnProperty(i) && e[i].hostedBy(this)) return e[i];
                for (var i in e)
                    if (e.hasOwnProperty(i) && !e[i].hostedBy(this)) return e[i]
            },
            getRangePropMode: function() {
                return this._rangePropMode.slice()
            }
        }),
        Xk = cM.extend({
            type: "dataZoom",
            render: function(t, e, i, n) {
                this.dataZoomModel = t, this.ecModel = e, this.api = i
            },
            getTargetCoordInfo: function() {
                function t(t, e, i, n) {
                    for (var o, a = 0; a < i.length; a++)
                        if (i[a].model === t) {
                            o = i[a];
                            break
                        } o || i.push(o = {
                        model: t,
                        axisModels: [],
                        coordIndex: n
                    }), o.axisModels.push(e)
                }
                var e = this.dataZoomModel,
                    i = this.ecModel,
                    n = {};
                return e.eachTargetAxis(function(e, o) {
                    var a = i.getComponent(e.axis, o);
                    if (a) {
                        var r = a.getCoordSysModel();
                        r && t(r, a, n[r.mainType] || (n[r.mainType] = []), r.componentIndex)
                    }
                }, this), n
            }
        }),
        Yk = (jk.extend({
            type: "dataZoom.slider",
            layoutMode: "box",
            defaultOption: {
                show: !0,
                right: "ph",
                top: "ph",
                width: "ph",
                height: "ph",
                left: null,
                bottom: null,
                backgroundColor: "rgba(47,69,84,0)",
                dataBackground: {
                    lineStyle: {
                        color: "#2f4554",
                        width: .5,
                        opacity: .3
                    },
                    areaStyle: {
                        color: "rgba(47,69,84,0.3)",
                        opacity: .3
                    }
                },
                borderColor: "#ddd",
                fillerColor: "rgba(167,183,204,0.4)",
                handleIcon: "M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",
                handleSize: "100%",
                handleStyle: {
                    color: "#a7b7cc"
                },
                labelPrecision: null,
                labelFormatter: null,
                showDetail: !0,
                showDataShadow: "auto",
                realtime: !0,
                zoomLock: !1,
                textStyle: {
                    color: "#333"
                }
            }
        }), Vb),
        qk = Io,
        $k = Do,
        Kk = m,
        Jk = d,
        Qk = "horizontal",
        tP = 5,
        eP = ["line", "bar", "candlestick", "scatter"],
        iP = Xk.extend({
            type: "dataZoom.slider",
            init: function(t, e) {
                this._displayables = {}, this._orient, this._range, this._handleEnds, this._size, this._handleWidth, this._handleHeight, this._location, this._dragging, this._dataShadowInfo, this.api = e
            },
            render: function(t, e, i, n) {
                iP.superApply(this, "render", arguments), yr(this, "_dispatchZoomAction", this.dataZoomModel.get("throttle"), "fixRate"), this._orient = t.get("orient"), !1 !== this.dataZoomModel.get("show") ? (n && "dataZoom" === n.type && n.from === this.uid || this._buildView(), this._updateView()) : this.group.removeAll()
            },
            remove: function() {
                iP.superApply(this, "remove", arguments), xr(this, "_dispatchZoomAction")
            },
            dispose: function() {
                iP.superApply(this, "dispose", arguments), xr(this, "_dispatchZoomAction")
            },
            _buildView: function() {
                var t = this.group;
                t.removeAll(), this._resetLocation(), this._resetInterval();
                var e = this._displayables.barGroup = new S_;
                this._renderBackground(), this._renderHandle(), this._renderDataShadow(), t.add(e), this._positionGroup()
            },
            _resetLocation: function() {
                var t = this.dataZoomModel,
                    e = this.api,
                    i = this._findCoordRect(),
                    n = {
                        width: e.getWidth(),
                        height: e.getHeight()
                    },
                    o = this._orient === Qk ? {
                        right: n.width - i.x - i.width,
                        top: n.height - 30 - 7,
                        width: i.width,
                        height: 30
                    } : {
                        right: 7,
                        top: i.y,
                        width: 30,
                        height: i.height
                    },
                    a = ea(t.option);
                d(["right", "top", "width", "height"], function(t) {
                    "ph" === a[t] && (a[t] = o[t])
                });
                var r = Ko(a, n, t.padding);
                this._location = {
                    x: r.x,
                    y: r.y
                }, this._size = [r.width, r.height], "vertical" === this._orient && this._size.reverse()
            },
            _positionGroup: function() {
                var t = this.group,
                    e = this._location,
                    i = this._orient,
                    n = this.dataZoomModel.getFirstTargetAxisModel(),
                    o = n && n.get("inverse"),
                    a = this._displayables.barGroup,
                    r = (this._dataShadowInfo || {}).otherAxisInverse;
                a.attr(i !== Qk || o ? i === Qk && o ? {
                    scale: r ? [-1, 1] : [-1, -1]
                } : "vertical" !== i || o ? {
                    scale: r ? [-1, -1] : [-1, 1],
                    rotation: Math.PI / 2
                } : {
                    scale: r ? [1, -1] : [1, 1],
                    rotation: Math.PI / 2
                } : {
                    scale: r ? [1, 1] : [1, -1]
                });
                var s = t.getBoundingRect([a]);
                t.attr("position", [e.x - s.x, e.y - s.y])
            },
            _getViewExtent: function() {
                return [0, this._size[0]]
            },
            _renderBackground: function() {
                var t = this.dataZoomModel,
                    e = this._size,
                    i = this._displayables.barGroup;
                i.add(new Yk({
                    silent: !0,
                    shape: {
                        x: 0,
                        y: 0,
                        width: e[0],
                        height: e[1]
                    },
                    style: {
                        fill: t.get("backgroundColor")
                    },
                    z2: -40
                })), i.add(new Yk({
                    shape: {
                        x: 0,
                        y: 0,
                        width: e[0],
                        height: e[1]
                    },
                    style: {
                        fill: "transparent"
                    },
                    z2: 0,
                    onclick: m(this._onClickPanelClick, this)
                }))
            },
            _renderDataShadow: function() {
                var t = this._dataShadowInfo = this._prepareDataShadowInfo();
                if (t) {
                    var e = this._size,
                        i = t.series,
                        n = i.getRawData(),
                        o = i.getShadowDim ? i.getShadowDim() : t.otherDim;
                    if (null != o) {
                        var a = n.getDataExtent(o),
                            s = .3 * (a[1] - a[0]);
                        a = [a[0] - s, a[1] + s];
                        var l, h = [0, e[1]],
                            u = [0, e[0]],
                            c = [
                                [e[0], 0],
                                [0, 0]
                            ],
                            d = [],
                            f = u[1] / (n.count() - 1),
                            p = 0,
                            g = Math.round(n.count() / e[0]);
                        n.each([o], function(t, e) {
                            if (g > 0 && e % g) p += f;
                            else {
                                var i = null == t || isNaN(t) || "" === t,
                                    n = i ? 0 : qk(t, a, h, !0);
                                i && !l && e ? (c.push([c[c.length - 1][0], 0]), d.push([d[d.length - 1][0], 0])) : !i && l && (c.push([p, 0]), d.push([p, 0])), c.push([p, n]), d.push([p, n]), p += f, l = i
                            }
                        });
                        var m = this.dataZoomModel;
                        this._displayables.barGroup.add(new Rb({
                            shape: {
                                points: c
                            },
                            style: r({
                                fill: m.get("dataBackgroundColor")
                            }, m.getModel("dataBackground.areaStyle").getAreaStyle()),
                            silent: !0,
                            z2: -20
                        })), this._displayables.barGroup.add(new Bb({
                            shape: {
                                points: d
                            },
                            style: m.getModel("dataBackground.lineStyle").getLineStyle(),
                            silent: !0,
                            z2: -19
                        }))
                    }
                }
            },
            _prepareDataShadowInfo: function() {
                var t = this.dataZoomModel,
                    e = t.get("showDataShadow");
                if (!1 !== e) {
                    var i, n = this.ecModel;
                    return t.eachTargetAxis(function(o, a) {
                        d(t.getAxisProxy(o.name, a).getTargetSeriesModels(), function(t) {
                            if (!(i || !0 !== e && l(eP, t.get("type")) < 0)) {
                                var r, s = n.getComponent(o.axis, a).axis,
                                    h = dv(o.name),
                                    u = t.coordinateSystem;
                                null != h && u.getOtherAxis && (r = u.getOtherAxis(s).inverse), h = t.getData().mapDimension(h), i = {
                                    thisAxis: s,
                                    series: t,
                                    thisDim: o.name,
                                    otherDim: h,
                                    otherAxisInverse: r
                                }
                            }
                        }, this)
                    }, this), i
                }
            },
            _renderHandle: function() {
                var t = this._displayables,
                    e = t.handles = [],
                    i = t.handleLabels = [],
                    n = this._displayables.barGroup,
                    o = this._size,
                    a = this.dataZoomModel;
                n.add(t.filler = new Yk({
                    draggable: !0,
                    cursor: fv(this._orient),
                    drift: Kk(this._onDragMove, this, "all"),
                    onmousemove: function(t) {
                        Q_(t.event)
                    },
                    ondragstart: Kk(this._showDataInfo, this, !0),
                    ondragend: Kk(this._onDragEnd, this),
                    onmouseover: Kk(this._showDataInfo, this, !0),
                    onmouseout: Kk(this._showDataInfo, this, !1),
                    style: {
                        fill: a.get("fillerColor"),
                        textPosition: "inside"
                    }
                })), n.add(new Yk(Gn({
                    silent: !0,
                    shape: {
                        x: 0,
                        y: 0,
                        width: o[0],
                        height: o[1]
                    },
                    style: {
                        stroke: a.get("dataBackgroundColor") || a.get("borderColor"),
                        lineWidth: 1,
                        fill: "rgba(0,0,0,0)"
                    }
                }))), Jk([0, 1], function(t) {
                    var o = xo(a.get("handleIcon"), {
                            cursor: fv(this._orient),
                            draggable: !0,
                            drift: Kk(this._onDragMove, this, t),
                            onmousemove: function(t) {
                                Q_(t.event)
                            },
                            ondragend: Kk(this._onDragEnd, this),
                            onmouseover: Kk(this._showDataInfo, this, !0),
                            onmouseout: Kk(this._showDataInfo, this, !1)
                        }, {
                            x: -1,
                            y: 0,
                            width: 2,
                            height: 2
                        }),
                        r = o.getBoundingRect();
                    this._handleHeight = To(a.get("handleSize"), this._size[1]), this._handleWidth = r.width / r.height * this._handleHeight, o.setStyle(a.getModel("handleStyle").getItemStyle());
                    var s = a.get("handleColor");
                    null != s && (o.style.fill = s), n.add(e[t] = o);
                    var l = a.textStyleModel;
                    this.group.add(i[t] = new Cb({
                        silent: !0,
                        invisible: !0,
                        style: {
                            x: 0,
                            y: 0,
                            text: "",
                            textVerticalAlign: "middle",
                            textAlign: "center",
                            textFill: l.getTextColor(),
                            textFont: l.getFont()
                        },
                        z2: 10
                    }))
                }, this)
            },
            _resetInterval: function() {
                var t = this._range = this.dataZoomModel.getPercentRange(),
                    e = this._getViewExtent();
                this._handleEnds = [qk(t[0], [0, 100], e, !0), qk(t[1], [0, 100], e, !0)]
            },
            _updateInterval: function(t, e) {
                var i = this.dataZoomModel,
                    n = this._handleEnds,
                    o = this._getViewExtent(),
                    a = i.findRepresentativeAxisProxy().getMinMaxSpan(),
                    r = [0, 100];
                jD(e, n, o, i.get("zoomLock") ? "all" : t, null != a.minSpan ? qk(a.minSpan, r, o, !0) : null, null != a.maxSpan ? qk(a.maxSpan, r, o, !0) : null), this._range = $k([qk(n[0], o, r, !0), qk(n[1], o, r, !0)])
            },
            _updateView: function(t) {
                var e = this._displayables,
                    i = this._handleEnds,
                    n = $k(i.slice()),
                    o = this._size;
                Jk([0, 1], function(t) {
                    var n = e.handles[t],
                        a = this._handleHeight;
                    n.attr({
                        scale: [a / 2, a / 2],
                        position: [i[t], o[1] / 2 - a / 2]
                    })
                }, this), e.filler.setShape({
                    x: n[0],
                    y: 0,
                    width: n[1] - n[0],
                    height: o[1]
                }), this._updateDataInfo(t)
            },
            _updateDataInfo: function(t) {
                function e(t) {
                    var e = po(n.handles[t].parent, this.group),
                        i = mo(0 === t ? "right" : "left", e),
                        s = this._handleWidth / 2 + tP,
                        l = go([c[t] + (0 === t ? -s : s), this._size[1] / 2], e);
                    o[t].setStyle({
                        x: l[0],
                        y: l[1],
                        textVerticalAlign: a === Qk ? "middle" : i,
                        textAlign: a === Qk ? i : "center",
                        text: r[t]
                    })
                }
                var i = this.dataZoomModel,
                    n = this._displayables,
                    o = n.handleLabels,
                    a = this._orient,
                    r = ["", ""];
                if (i.get("showDetail")) {
                    var s = i.findRepresentativeAxisProxy();
                    if (s) {
                        var l = s.getAxisModel().axis,
                            h = this._range,
                            u = t ? s.calculateDataWindow({
                                start: h[0],
                                end: h[1]
                            }).valueWindow : s.getDataValueWindow();
                        r = [this._formatLabel(u[0], l), this._formatLabel(u[1], l)]
                    }
                }
                var c = $k(this._handleEnds.slice());
                e.call(this, 0), e.call(this, 1)
            },
            _formatLabel: function(t, e) {
                var i = this.dataZoomModel,
                    n = i.get("labelFormatter"),
                    o = i.get("labelPrecision");
                null != o && "auto" !== o || (o = e.getPixelPrecision());
                var a = null == t || isNaN(t) ? "" : "category" === e.type || "time" === e.type ? e.scale.getLabel(Math.round(t)) : t.toFixed(Math.min(o, 20));
                return x(n) ? n(t, a) : _(n) ? n.replace("{value}", a) : a
            },
            _showDataInfo: function(t) {
                t = this._dragging || t;
                var e = this._displayables.handleLabels;
                e[0].attr("invisible", !t), e[1].attr("invisible", !t)
            },
            _onDragMove: function(t, e, i) {
                this._dragging = !0;
                var n = go([e, i], this._displayables.barGroup.getLocalTransform(), !0);
                this._updateInterval(t, n[0]);
                var o = this.dataZoomModel.get("realtime");
                this._updateView(!o), o && this._dispatchZoomAction()
            },
            _onDragEnd: function() {
                this._dragging = !1, this._showDataInfo(!1), !this.dataZoomModel.get("realtime") && this._dispatchZoomAction()
            },
            _onClickPanelClick: function(t) {
                var e = this._size,
                    i = this._displayables.barGroup.transformCoordToLocal(t.offsetX, t.offsetY);
                if (!(i[0] < 0 || i[0] > e[0] || i[1] < 0 || i[1] > e[1])) {
                    var n = this._handleEnds,
                        o = (n[0] + n[1]) / 2;
                    this._updateInterval("all", i[0] - o), this._updateView(), this._dispatchZoomAction()
                }
            },
            _dispatchZoomAction: function() {
                var t = this._range;
                this.api.dispatchAction({
                    type: "dataZoom",
                    from: this.uid,
                    dataZoomId: this.dataZoomModel.id,
                    start: t[0],
                    end: t[1]
                })
            },
            _findCoordRect: function() {
                var t;
                if (Jk(this.getTargetCoordInfo(), function(e) {
                        if (!t && e.length) {
                            var i = e[0].model.coordinateSystem;
                            t = i.getRect && i.getRect()
                        }
                    }), !t) {
                    var e = this.api.getWidth(),
                        i = this.api.getHeight();
                    t = {
                        x: .2 * e,
                        y: .2 * i,
                        width: .6 * e,
                        height: .6 * i
                    }
                }
                return t
            }
        });
    jk.extend({
        type: "dataZoom.inside",
        defaultOption: {
            disabled: !1,
            zoomLock: !1,
            zoomOnMouseWheel: !0,
            moveOnMouseMove: !0,
            preventDefaultMouseMove: !0
        }
    });
    var nP = v,
        oP = "\0_ec_dataZoom_roams",
        aP = m,
        rP = Xk.extend({
            type: "dataZoom.inside",
            init: function(t, e) {
                this._range
            },
            render: function(t, e, i, n) {
                rP.superApply(this, "render", arguments), mv(n, t.id) && (this._range = t.getPercentRange()), d(this.getTargetCoordInfo(), function(e, n) {
                    var o = f(e, function(t) {
                        return vv(t.model)
                    });
                    d(e, function(e) {
                        var a = e.model,
                            r = t.option;
                        pv(i, {
                            coordId: vv(a),
                            allCoordIds: o,
                            containsPoint: function(t, e, i) {
                                return a.coordinateSystem.containPoint([e, i])
                            },
                            dataZoomId: t.id,
                            throttleRate: t.get("throttle", !0),
                            panGetRange: aP(this._onPan, this, e, n),
                            zoomGetRange: aP(this._onZoom, this, e, n),
                            zoomLock: r.zoomLock,
                            disabled: r.disabled,
                            roamControllerOpt: {
                                zoomOnMouseWheel: r.zoomOnMouseWheel,
                                moveOnMouseMove: r.moveOnMouseMove,
                                preventDefaultMouseMove: r.preventDefaultMouseMove
                            }
                        })
                    }, this)
                }, this)
            },
            dispose: function() {
                gv(this.api, this.dataZoomModel.id), rP.superApply(this, "dispose", arguments), this._range = null
            },
            _onPan: function(t, e, i, n, o, a, r, s, l) {
                var h = this._range.slice(),
                    u = t.axisModels[0];
                if (u) {
                    var c = sP[e]([a, r], [s, l], u, i, t),
                        d = c.signal * (h[1] - h[0]) * c.pixel / c.pixelLength;
                    return jD(d, h, [0, 100], "all"), this._range = h
                }
            },
            _onZoom: function(t, e, i, n, o, a) {
                var r = this._range.slice(),
                    s = t.axisModels[0];
                if (s) {
                    var l = sP[e](null, [o, a], s, i, t),
                        h = (l.signal > 0 ? l.pixelStart + l.pixelLength - l.pixel : l.pixel - l.pixelStart) / l.pixelLength * (r[1] - r[0]) + r[0];
                    n = Math.max(1 / n, 0), r[0] = (r[0] - h) * n + h, r[1] = (r[1] - h) * n + h;
                    var u = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();
                    return jD(0, r, [0, 100], 0, u.minSpan, u.maxSpan), this._range = r
                }
            }
        }),
        sP = {
            grid: function(t, e, i, n, o) {
                var a = i.axis,
                    r = {},
                    s = o.model.coordinateSystem.getRect();
                return t = t || [0, 0], "x" === a.dim ? (r.pixel = e[0] - t[0], r.pixelLength = s.width, r.pixelStart = s.x, r.signal = a.inverse ? 1 : -1) : (r.pixel = e[1] - t[1], r.pixelLength = s.height, r.pixelStart = s.y, r.signal = a.inverse ? -1 : 1), r
            },
            polar: function(t, e, i, n, o) {
                var a = i.axis,
                    r = {},
                    s = o.model.coordinateSystem,
                    l = s.getRadiusAxis().getExtent(),
                    h = s.getAngleAxis().getExtent();
                return t = t ? s.pointToCoord(t) : [0, 0], e = s.pointToCoord(e), "radiusAxis" === i.mainType ? (r.pixel = e[0] - t[0], r.pixelLength = l[1] - l[0], r.pixelStart = l[0], r.signal = a.inverse ? 1 : -1) : (r.pixel = e[1] - t[1], r.pixelLength = h[1] - h[0], r.pixelStart = h[0], r.signal = a.inverse ? -1 : 1), r
            },
            singleAxis: function(t, e, i, n, o) {
                var a = i.axis,
                    r = o.model.coordinateSystem.getRect(),
                    s = {};
                return t = t || [0, 0], "horizontal" === a.orient ? (s.pixel = e[0] - t[0], s.pixelLength = r.width, s.pixelStart = r.x, s.signal = a.inverse ? 1 : -1) : (s.pixel = e[1] - t[1], s.pixelLength = r.height, s.pixelStart = r.y, s.signal = a.inverse ? -1 : 1), s
            }
        };
    ls({
        getTargetSeries: function(t) {
            var e = z();
            return t.eachComponent("dataZoom", function(t) {
                t.eachTargetAxis(function(t, i, n) {
                    d(n.getAxisProxy(t.name, i).getTargetSeriesModels(), function(t) {
                        e.set(t.uid, t)
                    })
                })
            }), e
        },
        isOverallFilter: !0,
        overallReset: function(t, e) {
            t.eachComponent("dataZoom", function(t) {
                t.eachTargetAxis(function(t, i, n) {
                    n.getAxisProxy(t.name, i).reset(n, e)
                }), t.eachTargetAxis(function(t, i, n) {
                    n.getAxisProxy(t.name, i).filterData(n, e)
                })
            }), t.eachComponent("dataZoom", function(t) {
                var e = t.findRepresentativeAxisProxy(),
                    i = e.getDataPercentWindow(),
                    n = e.getDataValueWindow();
                t.setRawRange({
                    start: i[0],
                    end: i[1],
                    startValue: n[0],
                    endValue: n[1]
                }, !0)
            })
        }
    }), hs("dataZoom", function(t, e) {
        var i = av(m(e.eachComponent, e, "dataZoom"), Gk, function(t, e) {
                return t.get(e.axisIndex)
            }),
            n = [];
        e.eachComponent({
            mainType: "dataZoom",
            query: t
        }, function(t, e) {
            n.push.apply(n, i(t).nodes)
        }), d(n, function(e, i) {
            e.setRawRange({
                start: t.start,
                end: t.end,
                startValue: t.startValue,
                endValue: t.endValue
            })
        })
    });
    var lP = d,
        hP = function(t) {
            var e = t && t.visualMap;
            y(e) || (e = e ? [e] : []), lP(e, function(t) {
                if (t) {
                    Tv(t, "splitList") && !Tv(t, "pieces") && (t.pieces = t.splitList, delete t.splitList);
                    var e = t.pieces;
                    e && y(e) && lP(e, function(t) {
                        w(t) && (Tv(t, "start") && !Tv(t, "min") && (t.min = t.start), Tv(t, "end") && !Tv(t, "max") && (t.max = t.end))
                    })
                }
            })
        };
    IS.registerSubTypeDefaulter("visualMap", function(t) {
        return t.categories || (t.pieces ? t.pieces.length > 0 : t.splitNumber > 0) && !t.calculable ? "piecewise" : "continuous"
    });
    var uP = FM.VISUAL.COMPONENT;
    ds(uP, {
        createOnAllSeries: !0,
        reset: function(t, e) {
            var i = [];
            return e.eachComponent("visualMap", function(e) {
                e.isTargetSeries(t) && i.push(Cm(e.stateList, e.targetVisuals, m(e.getValueState, e), e.getDataDimension(t.getData())))
            }), i
        }
    }), ds(uP, {
        createOnAllSeries: !0,
        reset: function(t, e) {
            var i = t.getData(),
                n = [];
            e.eachComponent("visualMap", function(e) {
                if (e.isTargetSeries(t)) {
                    var o = e.getVisualMeta(m(Av, null, t, e)) || {
                            stops: [],
                            outerColors: []
                        },
                        a = e.getDataDimension(i),
                        r = i.getDimensionInfo(a);
                    null != r && (o.dimension = r.index, n.push(o))
                }
            }), t.getData().setVisual("visualMeta", n)
        }
    });
    var cP = {
            get: function(t, e, n) {
                var o = i((dP[t] || {})[e]);
                return n && y(o) ? o[o.length - 1] : o
            }
        },
        dP = {
            color: {
                active: ["#006edd", "#e0ffff"],
                inactive: ["rgba(0,0,0,0)"]
            },
            colorHue: {
                active: [0, 360],
                inactive: [0, 0]
            },
            colorSaturation: {
                active: [.3, 1],
                inactive: [0, 0]
            },
            colorLightness: {
                active: [.9, .5],
                inactive: [0, 0]
            },
            colorAlpha: {
                active: [.3, 1],
                inactive: [0, 0]
            },
            opacity: {
                active: [.3, 1],
                inactive: [0, 0]
            },
            symbol: {
                active: ["circle", "roundRect", "diamond"],
                inactive: ["none"]
            },
            symbolSize: {
                active: [10, 50],
                inactive: [0, 0]
            }
        },
        fP = oD.mapVisual,
        pP = oD.eachVisual,
        gP = y,
        mP = d,
        vP = Do,
        yP = Io,
        xP = B,
        _P = gs({
            type: "visualMap",
            dependencies: ["series"],
            stateList: ["inRange", "outOfRange"],
            replacableOptionKeys: ["inRange", "outOfRange", "target", "controller", "color"],
            dataBound: [-1 / 0, 1 / 0],
            layoutMode: {
                type: "box",
                ignoreSize: !0
            },
            defaultOption: {
                show: !0,
                zlevel: 0,
                z: 4,
                seriesIndex: "all",
                min: 0,
                max: 200,
                dimension: null,
                inRange: null,
                outOfRange: null,
                left: 0,
                right: null,
                top: null,
                bottom: 0,
                itemWidth: null,
                itemHeight: null,
                inverse: !1,
                orient: "vertical",
                backgroundColor: "rgba(0,0,0,0)",
                borderColor: "#ccc",
                contentColor: "#5793f3",
                inactiveColor: "#aaa",
                borderWidth: 0,
                padding: 5,
                textGap: 10,
                precision: 0,
                color: null,
                formatter: null,
                text: null,
                textStyle: {
                    color: "#333"
                }
            },
            init: function(t, e, i) {
                this._dataExtent, this.targetVisuals = {}, this.controllerVisuals = {}, this.textStyleModel, this.itemSize, this.mergeDefaultAndTheme(t, i)
            },
            optionUpdated: function(t, e) {
                var i = this.option;
                _x.canvasSupported || (i.realtime = !1), !e && Am(i, t, this.replacableOptionKeys), this.textStyleModel = this.getModel("textStyle"), this.resetItemSize(), this.completeVisualOption()
            },
            resetVisual: function(t) {
                var e = this.stateList;
                t = m(t, this), this.controllerVisuals = Tm(this.option.controller, e, t), this.targetVisuals = Tm(this.option.target, e, t)
            },
            getTargetSeriesIndices: function() {
                var t = this.option.seriesIndex,
                    e = [];
                return null == t || "all" === t ? this.ecModel.eachSeries(function(t, i) {
                    e.push(i)
                }) : e = Si(t), e
            },
            eachTargetSeries: function(t, e) {
                d(this.getTargetSeriesIndices(), function(i) {
                    t.call(e, this.ecModel.getSeriesByIndex(i))
                }, this)
            },
            isTargetSeries: function(t) {
                var e = !1;
                return this.eachTargetSeries(function(i) {
                    i === t && (e = !0)
                }), e
            },
            formatValueText: function(t, e, i) {
                function n(t) {
                    return t === l[0] ? "min" : t === l[1] ? "max" : (+t).toFixed(Math.min(s, 20))
                }
                var o, a, r = this.option,
                    s = r.precision,
                    l = this.dataBound,
                    h = r.formatter;
                return i = i || ["<", ">"], y(t) && (t = t.slice(), o = !0), a = e ? t : o ? [n(t[0]), n(t[1])] : n(t), _(h) ? h.replace("{value}", o ? a[0] : a).replace("{value2}", o ? a[1] : a) : x(h) ? o ? h(t[0], t[1]) : h(t) : o ? t[0] === l[0] ? i[0] + " " + a[1] : t[1] === l[1] ? i[1] + " " + a[0] : a[0] + " - " + a[1] : a
            },
            resetExtent: function() {
                var t = this.option,
                    e = vP([t.min, t.max]);
                this._dataExtent = e
            },
            getDataDimension: function(t) {
                var e = this.option.dimension,
                    i = t.dimensions;
                if (null != e || i.length) return t.getDimension(null != e ? e : i.length - 1)
            },
            getExtent: function() {
                return this._dataExtent.slice()
            },
            completeVisualOption: function() {
                function t(t) {
                    gP(o.color) && !t.inRange && (t.inRange = {
                        color: o.color.slice().reverse()
                    }), t.inRange = t.inRange || {
                        color: e.get("gradientColor")
                    }, mP(this.stateList, function(e) {
                        var i = t[e];
                        if (_(i)) {
                            var n = cP.get(i, "active", l);
                            n ? (t[e] = {}, t[e][i] = n) : delete t[e]
                        }
                    }, this)
                }
                var e = this.ecModel,
                    o = this.option,
                    a = {
                        inRange: o.inRange,
                        outOfRange: o.outOfRange
                    },
                    r = o.target || (o.target = {}),
                    s = o.controller || (o.controller = {});
                n(r, a), n(s, a);
                var l = this.isCategory();
                t.call(this, r), t.call(this, s),
                    function(t, e, i) {
                        var n = t[e],
                            o = t[i];
                        n && !o && (o = t[i] = {}, mP(n, function(t, e) {
                            if (oD.isValidType(e)) {
                                var i = cP.get(e, "inactive", l);
                                null != i && (o[e] = i, "color" !== e || o.hasOwnProperty("opacity") || o.hasOwnProperty("colorAlpha") || (o.opacity = [0, 0]))
                            }
                        }))
                    }.call(this, r, "inRange", "outOfRange"),
                    function(t) {
                        var e = (t.inRange || {}).symbol || (t.outOfRange || {}).symbol,
                            n = (t.inRange || {}).symbolSize || (t.outOfRange || {}).symbolSize,
                            o = this.get("inactiveColor");
                        mP(this.stateList, function(a) {
                            var r = this.itemSize,
                                s = t[a];
                            s || (s = t[a] = {
                                color: l ? o : [o]
                            }), null == s.symbol && (s.symbol = e && i(e) || (l ? "roundRect" : ["roundRect"])), null == s.symbolSize && (s.symbolSize = n && i(n) || (l ? r[0] : [r[0], r[0]])), s.symbol = fP(s.symbol, function(t) {
                                return "none" === t || "square" === t ? "roundRect" : t
                            });
                            var h = s.symbolSize;
                            if (null != h) {
                                var u = -1 / 0;
                                pP(h, function(t) {
                                    t > u && (u = t)
                                }), s.symbolSize = fP(h, function(t) {
                                    return yP(t, [0, u], [0, r[0]], !0)
                                })
                            }
                        }, this)
                    }.call(this, s)
            },
            resetItemSize: function() {
                this.itemSize = [parseFloat(this.get("itemWidth")), parseFloat(this.get("itemHeight"))]
            },
            isCategory: function() {
                return !!this.option.categories
            },
            setSelected: xP,
            getValueState: xP,
            getVisualMeta: xP
        }),
        wP = [20, 140],
        bP = _P.extend({
            type: "visualMap.continuous",
            defaultOption: {
                align: "auto",
                calculable: !1,
                range: null,
                realtime: !0,
                itemHeight: null,
                itemWidth: null,
                hoverLink: !0,
                hoverLinkDataSize: null,
                hoverLinkOnHandle: null
            },
            optionUpdated: function(t, e) {
                bP.superApply(this, "optionUpdated", arguments), this.resetExtent(), this.resetVisual(function(t) {
                    t.mappingMethod = "linear", t.dataExtent = this.getExtent()
                }), this._resetRange()
            },
            resetItemSize: function() {
                bP.superApply(this, "resetItemSize", arguments);
                var t = this.itemSize;
                "horizontal" === this._orient && t.reverse(), (null == t[0] || isNaN(t[0])) && (t[0] = wP[0]), (null == t[1] || isNaN(t[1])) && (t[1] = wP[1])
            },
            _resetRange: function() {
                var t = this.getExtent(),
                    e = this.option.range;
                !e || e.auto ? (t.auto = 1, this.option.range = t) : y(e) && (e[0] > e[1] && e.reverse(), e[0] = Math.max(e[0], t[0]), e[1] = Math.min(e[1], t[1]))
            },
            completeVisualOption: function() {
                _P.prototype.completeVisualOption.apply(this, arguments), d(this.stateList, function(t) {
                    var e = this.option.controller[t].symbolSize;
                    e && e[0] !== e[1] && (e[0] = 0)
                }, this)
            },
            setSelected: function(t) {
                this.option.range = t.slice(), this._resetRange()
            },
            getSelected: function() {
                var t = this.getExtent(),
                    e = Do((this.get("range") || []).slice());
                return e[0] > t[1] && (e[0] = t[1]), e[1] > t[1] && (e[1] = t[1]), e[0] < t[0] && (e[0] = t[0]), e[1] < t[0] && (e[1] = t[0]), e
            },
            getValueState: function(t) {
                var e = this.option.range,
                    i = this.getExtent();
                return (e[0] <= i[0] || e[0] <= t) && (e[1] >= i[1] || t <= e[1]) ? "inRange" : "outOfRange"
            },
            findTargetDataIndices: function(t) {
                var e = [];
                return this.eachTargetSeries(function(i) {
                    var n = [],
                        o = i.getData();
                    o.each(this.getDataDimension(o), function(e, i) {
                        t[0] <= e && e <= t[1] && n.push(i)
                    }, !0, this), e.push({
                        seriesId: i.id,
                        dataIndex: n
                    })
                }, this), e
            },
            getVisualMeta: function(t) {
                function e(e, i) {
                    o.push({
                        value: e,
                        color: t(e, i)
                    })
                }
                for (var i = Dv(0, 0, this.getExtent()), n = Dv(0, 0, this.option.range.slice()), o = [], a = 0, r = 0, s = n.length, l = i.length; r < l && (!n.length || i[r] <= n[0]); r++) i[r] < n[a] && e(i[r], "outOfRange");
                for (h = 1; a < s; a++, h = 0) h && o.length && e(n[a], "outOfRange"), e(n[a], "inRange");
                for (var h = 1; r < l; r++)(!n.length || n[n.length - 1] < i[r]) && (h && (o.length && e(o[o.length - 1].value, "outOfRange"), h = 0), e(i[r], "outOfRange"));
                var u = o.length;
                return {
                    stops: o,
                    outerColors: [u ? o[0].color : "transparent", u ? o[u - 1].color : "transparent"]
                }
            }
        }),
        SP = ms({
            type: "visualMap",
            autoPositionValues: {
                left: 1,
                right: 1,
                top: 1,
                bottom: 1
            },
            init: function(t, e) {
                this.ecModel = t, this.api = e, this.visualMapModel
            },
            render: function(t, e, i, n) {
                this.visualMapModel = t, !1 !== t.get("show") ? this.doRender.apply(this, arguments) : this.group.removeAll()
            },
            renderBackground: function(t) {
                var e = this.visualMapModel,
                    i = dS(e.get("padding") || 0),
                    n = t.getBoundingRect();
                t.add(new Vb({
                    z2: -1,
                    silent: !0,
                    shape: {
                        x: n.x - i[3],
                        y: n.y - i[0],
                        width: n.width + i[3] + i[1],
                        height: n.height + i[0] + i[2]
                    },
                    style: {
                        fill: e.get("backgroundColor"),
                        stroke: e.get("borderColor"),
                        lineWidth: e.get("borderWidth")
                    }
                }))
            },
            getControllerVisual: function(t, e, i) {
                function n(t) {
                    return s[t]
                }

                function o(t, e) {
                    s[t] = e
                }
                var a = (i = i || {}).forceState,
                    r = this.visualMapModel,
                    s = {};
                if ("symbol" === e && (s.symbol = r.get("itemSymbol")), "color" === e) {
                    var l = r.get("contentColor");
                    s.color = l
                }
                var h = r.controllerVisuals[a || r.getValueState(t)];
                return d(oD.prepareVisualTypes(h), function(a) {
                    var r = h[a];
                    i.convertOpacityToAlpha && "opacity" === a && (a = "colorAlpha", r = h.__alphaForOpacity), oD.dependsOn(a, e) && r && r.applyVisual(t, n, o)
                }), s[e]
            },
            positionGroup: function(t) {
                var e = this.visualMapModel,
                    i = this.api;
                Jo(t, e.getBoxLayoutParams(), {
                    width: i.getWidth(),
                    height: i.getHeight()
                })
            },
            doRender: B
        }),
        MP = Io,
        IP = d,
        TP = Math.min,
        AP = Math.max,
        DP = 12,
        CP = 6,
        LP = SP.extend({
            type: "visualMap.continuous",
            init: function() {
                LP.superApply(this, "init", arguments), this._shapes = {}, this._dataInterval = [], this._handleEnds = [], this._orient, this._useHandle, this._hoverLinkDataIndices = [], this._dragging, this._hovering
            },
            doRender: function(t, e, i, n) {
                n && "selectDataRange" === n.type && n.from === this.uid || this._buildView()
            },
            _buildView: function() {
                this.group.removeAll();
                var t = this.visualMapModel,
                    e = this.group;
                this._orient = t.get("orient"), this._useHandle = t.get("calculable"), this._resetInterval(), this._renderBar(e);
                var i = t.get("text");
                this._renderEndsText(e, i, 0), this._renderEndsText(e, i, 1), this._updateView(!0), this.renderBackground(e), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(e)
            },
            _renderEndsText: function(t, e, i) {
                if (e) {
                    var n = e[1 - i];
                    n = null != n ? n + "" : "";
                    var o = this.visualMapModel,
                        a = o.get("textGap"),
                        r = o.itemSize,
                        s = this._shapes.barGroup,
                        l = this._applyTransform([r[0] / 2, 0 === i ? -a : r[1] + a], s),
                        h = this._applyTransform(0 === i ? "bottom" : "top", s),
                        u = this._orient,
                        c = this.visualMapModel.textStyleModel;
                    this.group.add(new Cb({
                        style: {
                            x: l[0],
                            y: l[1],
                            textVerticalAlign: "horizontal" === u ? "middle" : h,
                            textAlign: "horizontal" === u ? h : "center",
                            text: n,
                            textFont: c.getFont(),
                            textFill: c.getTextColor()
                        }
                    }))
                }
            },
            _renderBar: function(t) {
                var e = this.visualMapModel,
                    i = this._shapes,
                    n = e.itemSize,
                    o = this._orient,
                    a = this._useHandle,
                    r = Cv(e, this.api, n),
                    s = i.barGroup = this._createBarGroup(r);
                s.add(i.outOfRange = kv()), s.add(i.inRange = kv(null, a ? zv(this._orient) : null, m(this._dragHandle, this, "all", !1), m(this._dragHandle, this, "all", !0)));
                var l = e.textStyleModel.getTextRect("国"),
                    h = AP(l.width, l.height);
                a && (i.handleThumbs = [], i.handleLabels = [], i.handleLabelPoints = [], this._createHandle(s, 0, n, h, o, r), this._createHandle(s, 1, n, h, o, r)), this._createIndicator(s, n, h, o), t.add(s)
            },
            _createHandle: function(t, e, i, n, o) {
                var a = m(this._dragHandle, this, e, !1),
                    r = m(this._dragHandle, this, e, !0),
                    s = kv(Pv(e, n), zv(this._orient), a, r);
                s.position[0] = i[0], t.add(s);
                var l = this.visualMapModel.textStyleModel,
                    h = new Cb({
                        draggable: !0,
                        drift: a,
                        onmousemove: function(t) {
                            Q_(t.event)
                        },
                        ondragend: r,
                        style: {
                            x: 0,
                            y: 0,
                            text: "",
                            textFont: l.getFont(),
                            textFill: l.getTextColor()
                        }
                    });
                this.group.add(h);
                var u = ["horizontal" === o ? n / 2 : 1.5 * n, "horizontal" === o ? 0 === e ? -1.5 * n : 1.5 * n : 0 === e ? -n / 2 : n / 2],
                    c = this._shapes;
                c.handleThumbs[e] = s, c.handleLabelPoints[e] = u, c.handleLabels[e] = h
            },
            _createIndicator: function(t, e, i, n) {
                var o = kv([
                    [0, 0]
                ], "move");
                o.position[0] = e[0], o.attr({
                    invisible: !0,
                    silent: !0
                }), t.add(o);
                var a = this.visualMapModel.textStyleModel,
                    r = new Cb({
                        silent: !0,
                        invisible: !0,
                        style: {
                            x: 0,
                            y: 0,
                            text: "",
                            textFont: a.getFont(),
                            textFill: a.getTextColor()
                        }
                    });
                this.group.add(r);
                var s = ["horizontal" === n ? i / 2 : CP + 3, 0],
                    l = this._shapes;
                l.indicator = o, l.indicatorLabel = r, l.indicatorLabelPoint = s
            },
            _dragHandle: function(t, e, i, n) {
                if (this._useHandle) {
                    if (this._dragging = !e, !e) {
                        var o = this._applyTransform([i, n], this._shapes.barGroup, !0);
                        this._updateInterval(t, o[1]), this._updateView()
                    }
                    e === !this.visualMapModel.get("realtime") && this.api.dispatchAction({
                        type: "selectDataRange",
                        from: this.uid,
                        visualMapId: this.visualMapModel.id,
                        selected: this._dataInterval.slice()
                    }), e ? !this._hovering && this._clearHoverLinkToSeries() : Ev(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[t], !1)
                }
            },
            _resetInterval: function() {
                var t = this.visualMapModel,
                    e = this._dataInterval = t.getSelected(),
                    i = t.getExtent(),
                    n = [0, t.itemSize[1]];
                this._handleEnds = [MP(e[0], i, n, !0), MP(e[1], i, n, !0)]
            },
            _updateInterval: function(t, e) {
                e = e || 0;
                var i = this.visualMapModel,
                    n = this._handleEnds,
                    o = [0, i.itemSize[1]];
                jD(e, n, o, t, 0);
                var a = i.getExtent();
                this._dataInterval = [MP(n[0], o, a, !0), MP(n[1], o, a, !0)]
            },
            _updateView: function(t) {
                var e = this.visualMapModel,
                    i = e.getExtent(),
                    n = this._shapes,
                    o = [0, e.itemSize[1]],
                    a = t ? o : this._handleEnds,
                    r = this._createBarVisual(this._dataInterval, i, a, "inRange"),
                    s = this._createBarVisual(i, i, o, "outOfRange");
                n.inRange.setStyle({
                    fill: r.barColor,
                    opacity: r.opacity
                }).setShape("points", r.barPoints), n.outOfRange.setStyle({
                    fill: s.barColor,
                    opacity: s.opacity
                }).setShape("points", s.barPoints), this._updateHandle(a, r)
            },
            _createBarVisual: function(t, e, i, n) {
                var o = {
                        forceState: n,
                        convertOpacityToAlpha: !0
                    },
                    a = this._makeColorGradient(t, o),
                    r = [this.getControllerVisual(t[0], "symbolSize", o), this.getControllerVisual(t[1], "symbolSize", o)],
                    s = this._createBarPoints(i, r);
                return {
                    barColor: new jb(0, 0, 0, 1, a),
                    barPoints: s,
                    handlesColor: [a[0].color, a[a.length - 1].color]
                }
            },
            _makeColorGradient: function(t, e) {
                var i = [],
                    n = (t[1] - t[0]) / 100;
                i.push({
                    color: this.getControllerVisual(t[0], "color", e),
                    offset: 0
                });
                for (var o = 1; o < 100; o++) {
                    var a = t[0] + n * o;
                    if (a > t[1]) break;
                    i.push({
                        color: this.getControllerVisual(a, "color", e),
                        offset: o / 100
                    })
                }
                return i.push({
                    color: this.getControllerVisual(t[1], "color", e),
                    offset: 1
                }), i
            },
            _createBarPoints: function(t, e) {
                var i = this.visualMapModel.itemSize;
                return [
                    [i[0] - e[0], t[0]],
                    [i[0], t[0]],
                    [i[0], t[1]],
                    [i[0] - e[1], t[1]]
                ]
            },
            _createBarGroup: function(t) {
                var e = this._orient,
                    i = this.visualMapModel.get("inverse");
                return new S_("horizontal" !== e || i ? "horizontal" === e && i ? {
                    scale: "bottom" === t ? [-1, 1] : [1, 1],
                    rotation: -Math.PI / 2
                } : "vertical" !== e || i ? {
                    scale: "left" === t ? [1, 1] : [-1, 1]
                } : {
                    scale: "left" === t ? [1, -1] : [-1, -1]
                } : {
                    scale: "bottom" === t ? [1, 1] : [-1, 1],
                    rotation: Math.PI / 2
                })
            },
            _updateHandle: function(t, e) {
                if (this._useHandle) {
                    var i = this._shapes,
                        n = this.visualMapModel,
                        o = i.handleThumbs,
                        a = i.handleLabels;
                    IP([0, 1], function(r) {
                        var s = o[r];
                        s.setStyle("fill", e.handlesColor[r]), s.position[1] = t[r];
                        var l = go(i.handleLabelPoints[r], po(s, this.group));
                        a[r].setStyle({
                            x: l[0],
                            y: l[1],
                            text: n.formatValueText(this._dataInterval[r]),
                            textVerticalAlign: "middle",
                            textAlign: this._applyTransform("horizontal" === this._orient ? 0 === r ? "bottom" : "top" : "left", i.barGroup)
                        })
                    }, this)
                }
            },
            _showIndicator: function(t, e, i, n) {
                var o = this.visualMapModel,
                    a = o.getExtent(),
                    r = o.itemSize,
                    s = [0, r[1]],
                    l = MP(t, a, s, !0),
                    h = this._shapes,
                    u = h.indicator;
                if (u) {
                    u.position[1] = l, u.attr("invisible", !1), u.setShape("points", Ov(!!i, n, l, r[1]));
                    var c = {
                            convertOpacityToAlpha: !0
                        },
                        d = this.getControllerVisual(t, "color", c);
                    u.setStyle("fill", d);
                    var f = go(h.indicatorLabelPoint, po(u, this.group)),
                        p = h.indicatorLabel;
                    p.attr("invisible", !1);
                    var g = this._applyTransform("left", h.barGroup),
                        m = this._orient;
                    p.setStyle({
                        text: (i || "") + o.formatValueText(e),
                        textVerticalAlign: "horizontal" === m ? g : "middle",
                        textAlign: "horizontal" === m ? "center" : g,
                        x: f[0],
                        y: f[1]
                    })
                }
            },
            _enableHoverLinkToSeries: function() {
                var t = this;
                this._shapes.barGroup.on("mousemove", function(e) {
                    if (t._hovering = !0, !t._dragging) {
                        var i = t.visualMapModel.itemSize,
                            n = t._applyTransform([e.offsetX, e.offsetY], t._shapes.barGroup, !0, !0);
                        n[1] = TP(AP(0, n[1]), i[1]), t._doHoverLinkToSeries(n[1], 0 <= n[0] && n[0] <= i[0])
                    }
                }).on("mouseout", function() {
                    t._hovering = !1, !t._dragging && t._clearHoverLinkToSeries()
                })
            },
            _enableHoverLinkFromSeries: function() {
                var t = this.api.getZr();
                this.visualMapModel.option.hoverLink ? (t.on("mouseover", this._hoverLinkFromSeriesMouseOver, this), t.on("mouseout", this._hideIndicator, this)) : this._clearHoverLinkFromSeries()
            },
            _doHoverLinkToSeries: function(t, e) {
                var i = this.visualMapModel,
                    n = i.itemSize;
                if (i.option.hoverLink) {
                    var o = [0, n[1]],
                        a = i.getExtent();
                    t = TP(AP(o[0], t), o[1]);
                    var r = Nv(i, a, o),
                        s = [t - r, t + r],
                        l = MP(t, o, a, !0),
                        h = [MP(s[0], o, a, !0), MP(s[1], o, a, !0)];
                    s[0] < o[0] && (h[0] = -1 / 0), s[1] > o[1] && (h[1] = 1 / 0), e && (h[0] === -1 / 0 ? this._showIndicator(l, h[1], "< ", r) : h[1] === 1 / 0 ? this._showIndicator(l, h[0], "> ", r) : this._showIndicator(l, l, "≈ ", r));
                    var u = this._hoverLinkDataIndices,
                        c = [];
                    (e || Ev(i)) && (c = this._hoverLinkDataIndices = i.findTargetDataIndices(h));
                    var d = Li(u, c);
                    this._dispatchHighDown("downplay", Lv(d[0])), this._dispatchHighDown("highlight", Lv(d[1]))
                }
            },
            _hoverLinkFromSeriesMouseOver: function(t) {
                var e = t.target,
                    i = this.visualMapModel;
                if (e && null != e.dataIndex) {
                    var n = this.ecModel.getSeriesByIndex(e.seriesIndex);
                    if (i.isTargetSeries(n)) {
                        var o = n.getData(e.dataType),
                            a = o.get(i.getDataDimension(o), e.dataIndex, !0);
                        isNaN(a) || this._showIndicator(a, a)
                    }
                }
            },
            _hideIndicator: function() {
                var t = this._shapes;
                t.indicator && t.indicator.attr("invisible", !0), t.indicatorLabel && t.indicatorLabel.attr("invisible", !0)
            },
            _clearHoverLinkToSeries: function() {
                this._hideIndicator();
                var t = this._hoverLinkDataIndices;
                this._dispatchHighDown("downplay", Lv(t)), t.length = 0
            },
            _clearHoverLinkFromSeries: function() {
                this._hideIndicator();
                var t = this.api.getZr();
                t.off("mouseover", this._hoverLinkFromSeriesMouseOver), t.off("mouseout", this._hideIndicator)
            },
            _applyTransform: function(t, e, i, n) {
                var o = po(e, n ? null : this.group);
                return tS[y(t) ? "applyTransform" : "transformDirection"](t, o, i)
            },
            _dispatchHighDown: function(t, e) {
                e && e.length && this.api.dispatchAction({
                    type: t,
                    batch: e
                })
            },
            dispose: function() {
                this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries()
            },
            remove: function() {
                this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries()
            }
        });
    hs({
        type: "selectDataRange",
        event: "dataRangeSelected",
        update: "update"
    }, function(t, e) {
        e.eachComponent({
            mainType: "visualMap",
            query: t
        }, function(e) {
            e.setSelected(t.selected)
        })
    }), ss(hP);
    var kP = _P.extend({
            type: "visualMap.piecewise",
            defaultOption: {
                selected: null,
                minOpen: !1,
                maxOpen: !1,
                align: "auto",
                itemWidth: 20,
                itemHeight: 14,
                itemSymbol: "roundRect",
                pieceList: null,
                categories: null,
                splitNumber: 5,
                selectedMode: "multiple",
                itemGap: 10,
                hoverLink: !0,
                showLabel: null
            },
            optionUpdated: function(t, e) {
                kP.superApply(this, "optionUpdated", arguments), this._pieceList = [], this.resetExtent();
                var n = this._mode = this._determineMode();
                PP[this._mode].call(this), this._resetSelected(t, e);
                var o = this.option.categories;
                this.resetVisual(function(t, e) {
                    "categories" === n ? (t.mappingMethod = "category", t.categories = i(o)) : (t.dataExtent = this.getExtent(), t.mappingMethod = "piecewise", t.pieceList = f(this._pieceList, function(t) {
                        var t = i(t);
                        return "inRange" !== e && (t.visual = null), t
                    }))
                })
            },
            completeVisualOption: function() {
                function t(t, e, i) {
                    return t && t[e] && (w(t[e]) ? t[e].hasOwnProperty(i) : t[e] === i)
                }
                var e = this.option,
                    i = {},
                    n = oD.listVisualTypes(),
                    o = this.isCategory();
                d(e.pieces, function(t) {
                    d(n, function(e) {
                        t.hasOwnProperty(e) && (i[e] = 1)
                    })
                }), d(i, function(i, n) {
                    var a = 0;
                    d(this.stateList, function(i) {
                        a |= t(e, i, n) || t(e.target, i, n)
                    }, this), !a && d(this.stateList, function(t) {
                        (e[t] || (e[t] = {}))[n] = cP.get(n, "inRange" === t ? "active" : "inactive", o)
                    })
                }, this), _P.prototype.completeVisualOption.apply(this, arguments)
            },
            _resetSelected: function(t, e) {
                var i = this.option,
                    n = this._pieceList,
                    o = (e ? i : t).selected || {};
                if (i.selected = o, d(n, function(t, e) {
                        var i = this.getSelectedMapKey(t);
                        o.hasOwnProperty(i) || (o[i] = !0)
                    }, this), "single" === i.selectedMode) {
                    var a = !1;
                    d(n, function(t, e) {
                        var i = this.getSelectedMapKey(t);
                        o[i] && (a ? o[i] = !1 : a = !0)
                    }, this)
                }
            },
            getSelectedMapKey: function(t) {
                return "categories" === this._mode ? t.value + "" : t.index + ""
            },
            getPieceList: function() {
                return this._pieceList
            },
            _determineMode: function() {
                var t = this.option;
                return t.pieces && t.pieces.length > 0 ? "pieces" : this.option.categories ? "categories" : "splitNumber"
            },
            setSelected: function(t) {
                this.option.selected = i(t)
            },
            getValueState: function(t) {
                var e = oD.findPieceIndex(t, this._pieceList);
                return null != e && this.option.selected[this.getSelectedMapKey(this._pieceList[e])] ? "inRange" : "outOfRange"
            },
            findTargetDataIndices: function(t) {
                var e = [];
                return this.eachTargetSeries(function(i) {
                    var n = [],
                        o = i.getData();
                    o.each(this.getDataDimension(o), function(e, i) {
                        oD.findPieceIndex(e, this._pieceList) === t && n.push(i)
                    }, !0, this), e.push({
                        seriesId: i.id,
                        dataIndex: n
                    })
                }, this), e
            },
            getRepresentValue: function(t) {
                var e;
                if (this.isCategory()) e = t.value;
                else if (null != t.value) e = t.value;
                else {
                    var i = t.interval || [];
                    e = i[0] === -1 / 0 && i[1] === 1 / 0 ? 0 : (i[0] + i[1]) / 2
                }
                return e
            },
            getVisualMeta: function(t) {
                function e(e, a) {
                    var r = o.getRepresentValue({
                        interval: e
                    });
                    a || (a = o.getValueState(r));
                    var s = t(r, a);
                    e[0] === -1 / 0 ? n[0] = s : e[1] === 1 / 0 ? n[1] = s : i.push({
                        value: e[0],
                        color: s
                    }, {
                        value: e[1],
                        color: s
                    })
                }
                if (!this.isCategory()) {
                    var i = [],
                        n = [],
                        o = this,
                        a = this._pieceList.slice();
                    if (a.length) {
                        var r = a[0].interval[0];
                        r !== -1 / 0 && a.unshift({
                            interval: [-1 / 0, r]
                        }), (r = a[a.length - 1].interval[1]) !== 1 / 0 && a.push({
                            interval: [r, 1 / 0]
                        })
                    } else a.push({
                        interval: [-1 / 0, 1 / 0]
                    });
                    var s = -1 / 0;
                    return d(a, function(t) {
                        var i = t.interval;
                        i && (i[0] > s && e([s, i[0]], "outOfRange"), e(i.slice()), s = i[1])
                    }, this), {
                        stops: i,
                        outerColors: n
                    }
                }
            }
        }),
        PP = {
            splitNumber: function() {
                var t = this.option,
                    e = this._pieceList,
                    i = Math.min(t.precision, 20),
                    n = this.getExtent(),
                    o = t.splitNumber;
                o = Math.max(parseInt(o, 10), 1), t.splitNumber = o;
                for (var a = (n[1] - n[0]) / o; + a.toFixed(i) !== a && i < 5;) i++;
                t.precision = i, a = +a.toFixed(i);
                var r = 0;
                t.minOpen && e.push({
                    index: r++,
                    interval: [-1 / 0, n[0]],
                    close: [0, 0]
                });
                for (var s = n[0], l = r + o; r < l; s += a) {
                    var h = r === o - 1 ? n[1] : s + a;
                    e.push({
                        index: r++,
                        interval: [s, h],
                        close: [1, 1]
                    })
                }
                t.maxOpen && e.push({
                    index: r++,
                    interval: [n[1], 1 / 0],
                    close: [0, 0]
                }), Vo(e), d(e, function(t) {
                    t.text = this.formatValueText(t.interval)
                }, this)
            },
            categories: function() {
                var t = this.option;
                d(t.categories, function(t) {
                    this._pieceList.push({
                        text: this.formatValueText(t, !0),
                        value: t
                    })
                }, this), Rv(t, this._pieceList)
            },
            pieces: function() {
                var t = this.option,
                    e = this._pieceList;
                d(t.pieces, function(t, i) {
                    w(t) || (t = {
                        value: t
                    });
                    var n = {
                        text: "",
                        index: i
                    };
                    if (null != t.label && (n.text = t.label), t.hasOwnProperty("value")) {
                        var o = n.value = t.value;
                        n.interval = [o, o], n.close = [1, 1]
                    } else {
                        for (var a = n.interval = [], r = n.close = [0, 0], s = [1, 0, 1], l = [-1 / 0, 1 / 0], h = [], u = 0; u < 2; u++) {
                            for (var c = [
                                    ["gte", "gt", "min"],
                                    ["lte", "lt", "max"]
                                ][u], d = 0; d < 3 && null == a[u]; d++) a[u] = t[c[d]], r[u] = s[d], h[u] = 2 === d;
                            null == a[u] && (a[u] = l[u])
                        }
                        h[0] && a[1] === 1 / 0 && (r[0] = 0), h[1] && a[0] === -1 / 0 && (r[1] = 0), a[0] === a[1] && r[0] && r[1] && (n.value = a[0])
                    }
                    n.visual = oD.retrieveVisuals(t), e.push(n)
                }, this), Rv(t, e), Vo(e), d(e, function(t) {
                    var e = t.close,
                        i = [
                            ["<", "≤"][e[1]],
                            [">", "≥"][e[0]]
                        ];
                    t.text = t.text || this.formatValueText(null != t.value ? t.value : t.interval, !1, i)
                }, this)
            }
        };
    SP.extend({
        type: "visualMap.piecewise",
        doRender: function() {
            var t = this.group;
            t.removeAll();
            var e = this.visualMapModel,
                i = e.get("textGap"),
                n = e.textStyleModel,
                o = n.getFont(),
                a = n.getTextColor(),
                r = this._getItemAlign(),
                s = e.itemSize,
                l = this._getViewData(),
                h = l.endsText,
                u = T(e.get("showLabel", !0), !h);
            h && this._renderEndsText(t, h[0], s, u, r), d(l.viewPieceList, function(n) {
                var l = n.piece,
                    h = new S_;
                h.onclick = m(this._onItemClick, this, l), this._enableHoverLink(h, n.indexInModelPieceList);
                var c = e.getRepresentValue(l);
                if (this._createItemSymbol(h, c, [0, 0, s[0], s[1]]), u) {
                    var d = this.visualMapModel.getValueState(c);
                    h.add(new Cb({
                        style: {
                            x: "right" === r ? -i : s[0] + i,
                            y: s[1] / 2,
                            text: l.text,
                            textVerticalAlign: "middle",
                            textAlign: r,
                            textFont: o,
                            textFill: a,
                            opacity: "outOfRange" === d ? .5 : 1
                        }
                    }))
                }
                t.add(h)
            }, this), h && this._renderEndsText(t, h[1], s, u, r), bS(e.get("orient"), t, e.get("itemGap")), this.renderBackground(t), this.positionGroup(t)
        },
        _enableHoverLink: function(t, e) {
            function i(t) {
                var i = this.visualMapModel;
                i.option.hoverLink && this.api.dispatchAction({
                    type: t,
                    batch: Lv(i.findTargetDataIndices(e))
                })
            }
            t.on("mouseover", m(i, this, "highlight")).on("mouseout", m(i, this, "downplay"))
        },
        _getItemAlign: function() {
            var t = this.visualMapModel,
                e = t.option;
            if ("vertical" === e.orient) return Cv(t, this.api, t.itemSize);
            var i = e.align;
            return i && "auto" !== i || (i = "left"), i
        },
        _renderEndsText: function(t, e, i, n, o) {
            if (e) {
                var a = new S_,
                    r = this.visualMapModel.textStyleModel;
                a.add(new Cb({
                    style: {
                        x: n ? "right" === o ? i[0] : 0 : i[0] / 2,
                        y: i[1] / 2,
                        textVerticalAlign: "middle",
                        textAlign: n ? o : "center",
                        text: e,
                        textFont: r.getFont(),
                        textFill: r.getTextColor()
                    }
                })), t.add(a)
            }
        },
        _getViewData: function() {
            var t = this.visualMapModel,
                e = f(t.getPieceList(), function(t, e) {
                    return {
                        piece: t,
                        indexInModelPieceList: e
                    }
                }),
                i = t.get("text"),
                n = t.get("orient"),
                o = t.get("inverse");
            return ("horizontal" === n ? o : !o) ? e.reverse() : i && (i = i.slice().reverse()), {
                viewPieceList: e,
                endsText: i
            }
        },
        _createItemSymbol: function(t, e, i) {
            t.add(dl(this.getControllerVisual(e, "symbol"), i[0], i[1], i[2], i[3], this.getControllerVisual(e, "color")))
        },
        _onItemClick: function(t) {
            var e = this.visualMapModel,
                n = e.option,
                o = i(n.selected),
                a = e.getSelectedMapKey(t);
            "single" === n.selectedMode ? (o[a] = !0, d(o, function(t, e) {
                o[e] = e === a
            })) : o[a] = !o[a], this.api.dispatchAction({
                type: "selectDataRange",
                from: this.uid,
                visualMapId: this.visualMapModel.id,
                selected: o
            })
        }
    });
    ss(hP);
    var OP = Wo,
        NP = Ho,
        EP = gs({
            type: "marker",
            dependencies: ["series", "grid", "polar", "geo"],
            init: function(t, e, i, n) {
                this.mergeDefaultAndTheme(t, i), this.mergeOption(t, i, n.createdBySelf, !0)
            },
            isAnimationEnabled: function() {
                if (_x.node) return !1;
                var t = this.__hostSeries;
                return this.getShallow("animation") && t && t.isAnimationEnabled()
            },
            mergeOption: function(t, e, i, n) {
                var o = this.constructor,
                    r = this.mainType + "Model";
                i || e.eachSeries(function(t) {
                    var i = t.get(this.mainType),
                        s = t[r];
                    i && i.data ? (s ? s.mergeOption(i, e, !0) : (n && Bv(i), d(i.data, function(t) {
                        t instanceof Array ? (Bv(t[0]), Bv(t[1])) : Bv(t)
                    }), a(s = new o(i, this, e), {
                        mainType: this.mainType,
                        seriesIndex: t.seriesIndex,
                        name: t.name,
                        createdBySelf: !0
                    }), s.__hostSeries = t), t[r] = s) : t[r] = null
                }, this)
            },
            formatTooltip: function(t) {
                var e = this.getData(),
                    i = this.getRawValue(t),
                    n = y(i) ? f(i, OP).join(", ") : OP(i),
                    o = e.getName(t),
                    a = NP(this.name);
                return (null != i || o) && (a += "<br />"), o && (a += NP(o), null != i && (a += " : ")), null != i && (a += NP(n)), a
            },
            getData: function() {
                return this._data
            },
            setData: function(t) {
                this._data = t
            }
        });
    u(EP, sM), EP.extend({
        type: "markPoint",
        defaultOption: {
            zlevel: 0,
            z: 5,
            symbol: "pin",
            symbolSize: 50,
            tooltip: {
                trigger: "item"
            },
            label: {
                show: !0,
                position: "inside"
            },
            itemStyle: {
                borderWidth: 2
            },
            emphasis: {
                label: {
                    show: !0
                }
            }
        }
    });
    var zP = l,
        RP = v,
        BP = {
            min: RP(Fv, "min"),
            max: RP(Fv, "max"),
            average: RP(Fv, "average")
        },
        VP = ms({
            type: "marker",
            init: function() {
                this.markerGroupMap = z()
            },
            render: function(t, e, i) {
                var n = this.markerGroupMap;
                n.each(function(t) {
                    t.__keep = !1
                });
                var o = this.type + "Model";
                e.eachSeries(function(t) {
                    var n = t[o];
                    n && this.renderSeries(t, n, e, i)
                }, this), n.each(function(t) {
                    !t.__keep && this.group.remove(t.group)
                }, this)
            },
            renderSeries: function() {}
        });
    VP.extend({
        type: "markPoint",
        updateTransform: function(t, e, i) {
            e.eachSeries(function(t) {
                var e = t.markPointModel;
                e && (qv(e.getData(), t, i), this.markerGroupMap.get(t.id).updateLayout(e))
            }, this)
        },
        renderSeries: function(t, e, i, n) {
            var o = t.coordinateSystem,
                a = t.id,
                r = t.getData(),
                s = this.markerGroupMap,
                l = s.get(a) || s.set(a, new Ml),
                h = $v(o, t, e);
            e.setData(h), qv(e.getData(), t, n), h.each(function(t) {
                var i = h.getItemModel(t),
                    n = i.getShallow("symbolSize");
                "function" == typeof n && (n = n(e.getRawValue(t), e.getDataParams(t))), h.setItemVisual(t, {
                    symbolSize: n,
                    color: i.get("itemStyle.color") || r.getVisual("color"),
                    symbol: i.getShallow("symbol")
                })
            }), l.updateData(h), this.group.add(l.group), h.eachItemGraphicEl(function(t) {
                t.traverse(function(t) {
                    t.dataModel = e
                })
            }), l.__keep = !0, l.group.silent = e.get("silent") || t.get("silent")
        }
    }), ss(function(t) {
        t.markPoint = t.markPoint || {}
    }), EP.extend({
        type: "markLine",
        defaultOption: {
            zlevel: 0,
            z: 5,
            symbol: ["circle", "arrow"],
            symbolSize: [8, 16],
            precision: 2,
            tooltip: {
                trigger: "item"
            },
            label: {
                show: !0,
                position: "end"
            },
            lineStyle: {
                type: "dashed"
            },
            emphasis: {
                label: {
                    show: !0
                },
                lineStyle: {
                    width: 3
                }
            },
            animationEasing: "linear"
        }
    });
    var GP = function(t, e, o, r) {
        var s = t.getData(),
            l = r.type;
        if (!y(r) && ("min" === l || "max" === l || "average" === l || null != r.xAxis || null != r.yAxis)) {
            var h, u;
            if (null != r.yAxis || null != r.xAxis) h = null != r.yAxis ? "y" : "x", e.getAxis(h), u = T(r.yAxis, r.xAxis);
            else {
                var c = Zv(r, s, e, t);
                h = c.valueDataDim, c.valueAxis, u = Yv(s, h, l)
            }
            var d = "x" === h ? 0 : 1,
                f = 1 - d,
                p = i(r),
                g = {};
            p.type = null, p.coord = [], g.coord = [], p.coord[f] = -1 / 0, g.coord[f] = 1 / 0;
            var m = o.get("precision");
            m >= 0 && "number" == typeof u && (u = +u.toFixed(Math.min(m, 20))), p.coord[d] = g.coord[d] = u, r = [p, g, {
                type: l,
                valueIndex: r.valueIndex,
                value: u
            }]
        }
        return r = [Hv(t, r[0]), Hv(t, r[1]), a({}, r[2])], r[2].type = r[2].type || "", n(r[2], r[0]), n(r[2], r[1]), r
    };
    VP.extend({
        type: "markLine",
        updateTransform: function(t, e, i) {
            e.eachSeries(function(t) {
                var e = t.markLineModel;
                if (e) {
                    var n = e.getData(),
                        o = e.__from,
                        a = e.__to;
                    o.each(function(e) {
                        ty(o, e, !0, t, i), ty(a, e, !1, t, i)
                    }), n.each(function(t) {
                        n.setItemLayout(t, [o.getItemLayout(t), a.getItemLayout(t)])
                    }), this.markerGroupMap.get(t.id).updateLayout()
                }
            }, this)
        },
        renderSeries: function(t, e, i, n) {
            function o(e, i, o) {
                var a = e.getItemModel(i);
                ty(e, i, o, t, n), e.setItemVisual(i, {
                    symbolSize: a.get("symbolSize") || g[o ? 0 : 1],
                    symbol: a.get("symbol", !0) || p[o ? 0 : 1],
                    color: a.get("itemStyle.color") || s.getVisual("color")
                })
            }
            var a = t.coordinateSystem,
                r = t.id,
                s = t.getData(),
                l = this.markerGroupMap,
                h = l.get(r) || l.set(r, new Fc);
            this.group.add(h.group);
            var u = ey(a, t, e),
                c = u.from,
                d = u.to,
                f = u.line;
            e.__from = c, e.__to = d, e.setData(f);
            var p = e.get("symbol"),
                g = e.get("symbolSize");
            y(p) || (p = [p, p]), "number" == typeof g && (g = [g, g]), u.from.each(function(t) {
                o(c, t, !0), o(d, t, !1)
            }), f.each(function(t) {
                var e = f.getItemModel(t).get("lineStyle.color");
                f.setItemVisual(t, {
                    color: e || c.getItemVisual(t, "color")
                }), f.setItemLayout(t, [c.getItemLayout(t), d.getItemLayout(t)]), f.setItemVisual(t, {
                    fromSymbolSize: c.getItemVisual(t, "symbolSize"),
                    fromSymbol: c.getItemVisual(t, "symbol"),
                    toSymbolSize: d.getItemVisual(t, "symbolSize"),
                    toSymbol: d.getItemVisual(t, "symbol")
                })
            }), h.updateData(f), u.line.eachItemGraphicEl(function(t, i) {
                t.traverse(function(t) {
                    t.dataModel = e
                })
            }), h.__keep = !0, h.group.silent = e.get("silent") || t.get("silent")
        }
    }), ss(function(t) {
        t.markLine = t.markLine || {}
    }), EP.extend({
        type: "markArea",
        defaultOption: {
            zlevel: 0,
            z: 1,
            tooltip: {
                trigger: "item"
            },
            animation: !1,
            label: {
                show: !0,
                position: "top"
            },
            itemStyle: {
                borderWidth: 0
            },
            emphasis: {
                label: {
                    show: !0,
                    position: "top"
                }
            }
        }
    });
    var WP = function(t, e, i, n) {
            var a = Hv(t, n[0]),
                r = Hv(t, n[1]),
                s = T,
                l = a.coord,
                h = r.coord;
            l[0] = s(l[0], -1 / 0), l[1] = s(l[1], -1 / 0), h[0] = s(h[0], 1 / 0), h[1] = s(h[1], 1 / 0);
            var u = o([{}, a, r]);
            return u.coord = [a.coord, r.coord], u.x0 = a.x, u.y0 = a.y, u.x1 = r.x, u.y1 = r.y, u
        },
        FP = [
            ["x0", "y0"],
            ["x1", "y0"],
            ["x1", "y1"],
            ["x0", "y1"]
        ];
    VP.extend({
        type: "markArea",
        updateTransform: function(t, e, i) {
            e.eachSeries(function(t) {
                var e = t.markAreaModel;
                if (e) {
                    var n = e.getData();
                    n.each(function(e) {
                        var o = f(FP, function(o) {
                            return ay(n, e, o, t, i)
                        });
                        n.setItemLayout(e, o), n.getItemGraphicEl(e).setShape("points", o)
                    })
                }
            }, this)
        },
        renderSeries: function(t, e, i, n) {
            var o = t.coordinateSystem,
                a = t.name,
                s = t.getData(),
                l = this.markerGroupMap,
                h = l.get(a) || l.set(a, {
                    group: new S_
                });
            this.group.add(h.group), h.__keep = !0;
            var u = ry(o, t, e);
            e.setData(u), u.each(function(e) {
                u.setItemLayout(e, f(FP, function(i) {
                    return ay(u, e, i, t, n)
                })), u.setItemVisual(e, {
                    color: s.getVisual("color")
                })
            }), u.diff(h.__data).add(function(t) {
                var e = new Rb({
                    shape: {
                        points: u.getItemLayout(t)
                    }
                });
                u.setItemGraphicEl(t, e), h.group.add(e)
            }).update(function(t, i) {
                var n = h.__data.getItemGraphicEl(i);
                co(n, {
                    shape: {
                        points: u.getItemLayout(t)
                    }
                }, e, t), h.group.add(n), u.setItemGraphicEl(t, n)
            }).remove(function(t) {
                var e = h.__data.getItemGraphicEl(t);
                h.group.remove(e)
            }).execute(), u.eachItemGraphicEl(function(t, i) {
                var n = u.getItemModel(i),
                    o = n.getModel("label"),
                    a = n.getModel("emphasis.label"),
                    s = u.getItemVisual(i, "color");
                t.useStyle(r(n.getModel("itemStyle").getItemStyle(), {
                    fill: zt(s, .4),
                    stroke: s
                })), t.hoverStyle = n.getModel("emphasis.itemStyle").getItemStyle(), eo(t.style, t.hoverStyle, o, a, {
                    labelFetcher: e,
                    labelDataIndex: i,
                    defaultText: u.getName(i) || "",
                    isRectText: !0,
                    autoColor: s
                }), to(t, {}), t.dataModel = e
            }), h.__data = u, h.group.silent = e.get("silent") || t.get("silent")
        }
    }), ss(function(t) {
        t.markArea = t.markArea || {}
    });
    IS.registerSubTypeDefaulter("timeline", function() {
        return "slider"
    }), hs({
        type: "timelineChange",
        event: "timelineChanged",
        update: "prepareAndUpdate"
    }, function(t, e) {
        var i = e.getComponent("timeline");
        return i && null != t.currentIndex && (i.setCurrentIndex(t.currentIndex), !i.get("loop", !0) && i.isIndexMax() && i.setPlayState(!1)), e.resetOption("timeline"), r({
            currentIndex: i.option.currentIndex
        }, t)
    }), hs({
        type: "timelinePlayChange",
        event: "timelinePlayChanged",
        update: "update"
    }, function(t, e) {
        var i = e.getComponent("timeline");
        i && null != t.playState && i.setPlayState(t.playState)
    });
    var HP = IS.extend({
        type: "timeline",
        layoutMode: "box",
        defaultOption: {
            zlevel: 0,
            z: 4,
            show: !0,
            axisType: "time",
            realtime: !0,
            left: "20%",
            top: null,
            right: "20%",
            bottom: 0,
            width: null,
            height: 40,
            padding: 5,
            controlPosition: "left",
            autoPlay: !1,
            rewind: !1,
            loop: !0,
            playInterval: 2e3,
            currentIndex: 0,
            itemStyle: {},
            label: {
                color: "#000"
            },
            data: []
        },
        init: function(t, e, i) {
            this._data, this._names, this.mergeDefaultAndTheme(t, i), this._initData()
        },
        mergeOption: function(t) {
            HP.superApply(this, "mergeOption", arguments), this._initData()
        },
        setCurrentIndex: function(t) {
            null == t && (t = this.option.currentIndex);
            var e = this._data.count();
            this.option.loop ? t = (t % e + e) % e : (t >= e && (t = e - 1), t < 0 && (t = 0)), this.option.currentIndex = t
        },
        getCurrentIndex: function() {
            return this.option.currentIndex
        },
        isIndexMax: function() {
            return this.getCurrentIndex() >= this._data.count() - 1
        },
        setPlayState: function(t) {
            this.option.autoPlay = !!t
        },
        getPlayState: function() {
            return !!this.option.autoPlay
        },
        _initData: function() {
            var t = this.option,
                e = t.data || [],
                n = t.axisType,
                o = this._names = [];
            if ("category" === n) {
                var a = [];
                d(e, function(t, e) {
                    var n, r = Ii(t);
                    w(t) ? (n = i(t)).value = e : n = e, a.push(n), _(r) || null != r && !isNaN(r) || (r = ""), o.push(r + "")
                }), e = a
            }
            var r = {
                category: "ordinal",
                time: "time"
            } [n] || "number";
            (this._data = new yI([{
                name: "value",
                type: r
            }], this)).initData(e, o)
        },
        getData: function() {
            return this._data
        },
        getCategories: function() {
            if ("category" === this.get("axisType")) return this._names.slice()
        }
    });
    u(HP.extend({
        type: "timeline.slider",
        defaultOption: {
            backgroundColor: "rgba(0,0,0,0)",
            borderColor: "#ccc",
            borderWidth: 0,
            orient: "horizontal",
            inverse: !1,
            tooltip: {
                trigger: "item"
            },
            symbol: "emptyCircle",
            symbolSize: 10,
            lineStyle: {
                show: !0,
                width: 2,
                color: "#304654"
            },
            label: {
                position: "auto",
                show: !0,
                interval: "auto",
                rotate: 0,
                color: "#304654"
            },
            itemStyle: {
                color: "#304654",
                borderWidth: 1
            },
            checkpointStyle: {
                symbol: "circle",
                symbolSize: 13,
                color: "#c23531",
                borderWidth: 5,
                borderColor: "rgba(194,53,49, 0.5)",
                animation: !0,
                animationDuration: 300,
                animationEasing: "quinticInOut"
            },
            controlStyle: {
                show: !0,
                showPlayBtn: !0,
                showPrevBtn: !0,
                showNextBtn: !0,
                itemSize: 22,
                itemGap: 12,
                position: "left",
                playIcon: "path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",
                stopIcon: "path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",
                nextIcon: "path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",
                prevIcon: "path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",
                color: "#304654",
                borderColor: "#304654",
                borderWidth: 1
            },
            emphasis: {
                label: {
                    show: !0,
                    color: "#c23531"
                },
                itemStyle: {
                    color: "#c23531"
                },
                controlStyle: {
                    color: "#c23531",
                    borderColor: "#c23531",
                    borderWidth: 2
                }
            },
            data: []
        }
    }), sM);
    var ZP = cM.extend({
            type: "timeline"
        }),
        UP = function(t, e, i, n) {
            nT.call(this, t, e, i), this.type = n || "value", this._autoLabelInterval, this.model = null
        };
    UP.prototype = {
        constructor: UP,
        getLabelInterval: function() {
            var t = this.model,
                e = t.getModel("label"),
                i = e.get("interval");
            return null != i && "auto" != i ? i : ((i = this._autoLabelInterval) || (i = this._autoLabelInterval = ll(f(this.scale.getTicks(), this.dataToCoord, this), hl(this, e.get("formatter")), e.getFont(), "horizontal" === t.get("orient") ? 0 : 90, e.get("rotate"))), i)
        },
        isLabelIgnored: function(t) {
            if ("category" === this.type) {
                var e = this.getLabelInterval();
                return "function" == typeof e && !e(t, this.scale.getLabel(t)) || t % (e + 1)
            }
        }
    }, h(UP, nT);
    var jP = m,
        XP = d,
        YP = Math.PI;
    ZP.extend({
        type: "timeline.slider",
        init: function(t, e) {
            this.api = e, this._axis, this._viewRect, this._timer, this._currentPointer, this._mainGroup, this._labelGroup
        },
        render: function(t, e, i, n) {
            if (this.model = t, this.api = i, this.ecModel = e, this.group.removeAll(), t.get("show", !0)) {
                var o = this._layout(t, i),
                    a = this._createGroup("mainGroup"),
                    r = this._createGroup("labelGroup"),
                    s = this._axis = this._createAxis(o, t);
                t.formatTooltip = function(t) {
                    return Ho(s.scale.getLabel(t))
                }, XP(["AxisLine", "AxisTick", "Control", "CurrentPointer"], function(e) {
                    this["_render" + e](o, a, s, t)
                }, this), this._renderAxisLabel(o, r, s, t), this._position(o, t)
            }
            this._doPlayStop()
        },
        remove: function() {
            this._clearTimer(), this.group.removeAll()
        },
        dispose: function() {
            this._clearTimer()
        },
        _layout: function(t, e) {
            var i = t.get("label.position"),
                n = t.get("orient"),
                o = uy(t, e);
            null == i || "auto" === i ? i = "horizontal" === n ? o.y + o.height / 2 < e.getHeight() / 2 ? "-" : "+" : o.x + o.width / 2 < e.getWidth() / 2 ? "+" : "-" : isNaN(i) && (i = {
                horizontal: {
                    top: "-",
                    bottom: "+"
                },
                vertical: {
                    left: "-",
                    right: "+"
                }
            } [n][i]);
            var a = {
                    horizontal: "center",
                    vertical: i >= 0 || "+" === i ? "left" : "right"
                },
                r = {
                    horizontal: i >= 0 || "+" === i ? "top" : "bottom",
                    vertical: "middle"
                },
                s = {
                    horizontal: 0,
                    vertical: YP / 2
                },
                l = "vertical" === n ? o.height : o.width,
                h = t.getModel("controlStyle"),
                u = h.get("show", !0),
                c = u ? h.get("itemSize") : 0,
                d = u ? h.get("itemGap") : 0,
                f = c + d,
                p = t.get("label.rotate") || 0;
            p = p * YP / 180;
            var g, m, v, y, x = h.get("position", !0),
                _ = u && h.get("showPlayBtn", !0),
                w = u && h.get("showPrevBtn", !0),
                b = u && h.get("showNextBtn", !0),
                S = 0,
                M = l;
            return "left" === x || "bottom" === x ? (_ && (g = [0, 0], S += f), w && (m = [S, 0], S += f), b && (v = [M - c, 0], M -= f)) : (_ && (g = [M - c, 0], M -= f), w && (m = [0, 0], S += f), b && (v = [M - c, 0], M -= f)), y = [S, M], t.get("inverse") && y.reverse(), {
                viewRect: o,
                mainLength: l,
                orient: n,
                rotation: s[n],
                labelRotation: p,
                labelPosOpt: i,
                labelAlign: t.get("label.align") || a[n],
                labelBaseline: t.get("label.verticalAlign") || t.get("label.baseline") || r[n],
                playPosition: g,
                prevBtnPosition: m,
                nextBtnPosition: v,
                axisExtent: y,
                controlSize: c,
                controlGap: d
            }
        },
        _position: function(t, e) {
            function i(t) {
                var e = t.position;
                t.origin = [c[0][0] - e[0], c[1][0] - e[1]]
            }

            function n(t) {
                return [
                    [t.x, t.x + t.width],
                    [t.y, t.y + t.height]
                ]
            }

            function o(t, e, i, n, o) {
                t[n] += i[n][o] - e[n][o]
            }
            var a = this._mainGroup,
                r = this._labelGroup,
                s = t.viewRect;
            if ("vertical" === t.orient) {
                var l = st(),
                    h = s.x,
                    u = s.y + s.height;
                ct(l, l, [-h, -u]), dt(l, l, -YP / 2), ct(l, l, [h, u]), (s = s.clone()).applyTransform(l)
            }
            var c = n(s),
                d = n(a.getBoundingRect()),
                f = n(r.getBoundingRect()),
                p = a.position,
                g = r.position;
            g[0] = p[0] = c[0][0];
            var m = t.labelPosOpt;
            if (isNaN(m)) o(p, d, c, 1, v = "+" === m ? 0 : 1), o(g, f, c, 1, 1 - v);
            else {
                var v = m >= 0 ? 0 : 1;
                o(p, d, c, 1, v), g[1] = p[1] + m
            }
            a.attr("position", p), r.attr("position", g), a.rotation = r.rotation = t.rotation, i(a), i(r)
        },
        _createAxis: function(t, e) {
            var i = e.getData(),
                n = e.get("axisType"),
                o = sl(e, n),
                a = i.getDataExtent("value");
            o.setExtent(a[0], a[1]), this._customizeScale(o, i), o.niceTicks();
            var r = new UP("value", o, t.axisExtent, n);
            return r.model = e, r
        },
        _customizeScale: function(t, e) {
            t.getTicks = function() {
                return e.mapArray(["value"], function(t) {
                    return t
                })
            }, t.getTicksLabels = function() {
                return f(this.getTicks(), t.getLabel, t)
            }
        },
        _createGroup: function(t) {
            var e = this["_" + t] = new S_;
            return this.group.add(e), e
        },
        _renderAxisLine: function(t, e, i, n) {
            var o = i.getExtent();
            n.get("lineStyle.show") && e.add(new Gb({
                shape: {
                    x1: o[0],
                    y1: 0,
                    x2: o[1],
                    y2: 0
                },
                style: a({
                    lineCap: "round"
                }, n.getModel("lineStyle").getLineStyle()),
                silent: !0,
                z2: 1
            }))
        },
        _renderAxisTick: function(t, e, i, n) {
            var o = n.getData(),
                a = i.scale.getTicks();
            XP(a, function(t, a) {
                var r = i.dataToCoord(t),
                    s = o.getItemModel(a),
                    l = s.getModel("itemStyle"),
                    h = s.getModel("emphasis.itemStyle"),
                    u = {
                        position: [r, 0],
                        onclick: jP(this._changeTimeline, this, a)
                    },
                    c = dy(s, l, e, u);
                to(c, h.getItemStyle()), s.get("tooltip") ? (c.dataIndex = a, c.dataModel = n) : c.dataIndex = c.dataModel = null
            }, this)
        },
        _renderAxisLabel: function(t, e, i, n) {
            var o = n.getModel("label");
            if (o.get("show")) {
                var a = n.getData(),
                    r = i.scale.getTicks(),
                    s = hl(i, o.get("formatter")),
                    l = i.getLabelInterval();
                XP(r, function(n, o) {
                    if (!i.isLabelIgnored(o, l)) {
                        var r = a.getItemModel(o),
                            h = r.getModel("label"),
                            u = r.getModel("emphasis.label"),
                            c = i.dataToCoord(n),
                            d = new Cb({
                                position: [c, 0],
                                rotation: t.labelRotation - t.rotation,
                                onclick: jP(this._changeTimeline, this, o),
                                silent: !1
                            });
                        io(d.style, h, {
                            text: s[o],
                            textAlign: t.labelAlign,
                            textVerticalAlign: t.labelBaseline
                        }), e.add(d), to(d, io({}, u))
                    }
                }, this)
            }
        },
        _renderControl: function(t, e, i, n) {
            function o(t, i, o, u) {
                if (t) {
                    var c = cy(n, i, h, {
                        position: t,
                        origin: [a / 2, 0],
                        rotation: u ? -r : 0,
                        rectHover: !0,
                        style: s,
                        onclick: o
                    });
                    e.add(c), to(c, l)
                }
            }
            var a = t.controlSize,
                r = t.rotation,
                s = n.getModel("controlStyle").getItemStyle(),
                l = n.getModel("emphasis.controlStyle").getItemStyle(),
                h = [0, -a / 2, a, a],
                u = n.getPlayState(),
                c = n.get("inverse", !0);
            o(t.nextBtnPosition, "controlStyle.nextIcon", jP(this._changeTimeline, this, c ? "-" : "+")), o(t.prevBtnPosition, "controlStyle.prevIcon", jP(this._changeTimeline, this, c ? "+" : "-")), o(t.playPosition, "controlStyle." + (u ? "stopIcon" : "playIcon"), jP(this._handlePlayClick, this, !u), !0)
        },
        _renderCurrentPointer: function(t, e, i, n) {
            var o = n.getData(),
                a = n.getCurrentIndex(),
                r = o.getItemModel(a).getModel("checkpointStyle"),
                s = this,
                l = {
                    onCreate: function(t) {
                        t.draggable = !0, t.drift = jP(s._handlePointerDrag, s), t.ondragend = jP(s._handlePointerDragend, s), fy(t, a, i, n, !0)
                    },
                    onUpdate: function(t) {
                        fy(t, a, i, n)
                    }
                };
            this._currentPointer = dy(r, r, this._mainGroup, {}, this._currentPointer, l)
        },
        _handlePlayClick: function(t) {
            this._clearTimer(), this.api.dispatchAction({
                type: "timelinePlayChange",
                playState: t,
                from: this.uid
            })
        },
        _handlePointerDrag: function(t, e, i) {
            this._clearTimer(), this._pointerChangeTimeline([i.offsetX, i.offsetY])
        },
        _handlePointerDragend: function(t) {
            this._pointerChangeTimeline([t.offsetX, t.offsetY], !0)
        },
        _pointerChangeTimeline: function(t, e) {
            var i = this._toAxisCoord(t)[0],
                n = Do(this._axis.getExtent().slice());
            i > n[1] && (i = n[1]), i < n[0] && (i = n[0]), this._currentPointer.position[0] = i, this._currentPointer.dirty();
            var o = this._findNearestTick(i),
                a = this.model;
            (e || o !== a.getCurrentIndex() && a.get("realtime")) && this._changeTimeline(o)
        },
        _doPlayStop: function() {
            this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(jP(function() {
                var t = this.model;
                this._changeTimeline(t.getCurrentIndex() + (t.get("rewind", !0) ? -1 : 1))
            }, this), this.model.get("playInterval")))
        },
        _toAxisCoord: function(t) {
            return go(t, this._mainGroup.getLocalTransform(), !0)
        },
        _findNearestTick: function(t) {
            var e, i = this.model.getData(),
                n = 1 / 0,
                o = this._axis;
            return i.each(["value"], function(i, a) {
                var r = o.dataToCoord(i),
                    s = Math.abs(r - t);
                s < n && (n = s, e = a)
            }), e
        },
        _clearTimer: function() {
            this._timer && (clearTimeout(this._timer), this._timer = null)
        },
        _changeTimeline: function(t) {
            var e = this.model.getCurrentIndex();
            "+" === t ? t = e + 1 : "-" === t && (t = e - 1), this.api.dispatchAction({
                type: "timelineChange",
                currentIndex: t,
                from: this.uid
            })
        }
    }), ss(function(t) {
        var e = t && t.timeline;
        y(e) || (e = e ? [e] : []), d(e, function(t) {
            t && sy(t)
        })
    });
    var qP = gs({
        type: "toolbox",
        layoutMode: {
            type: "box",
            ignoreSize: !0
        },
        mergeDefaultAndTheme: function(t) {
            qP.superApply(this, "mergeDefaultAndTheme", arguments), d(this.option.feature, function(t, e) {
                var i = Qm(e);
                i && n(t, i.defaultOption)
            })
        },
        defaultOption: {
            show: !0,
            z: 6,
            zlevel: 0,
            orient: "horizontal",
            left: "right",
            top: "top",
            backgroundColor: "transparent",
            borderColor: "#ccc",
            borderRadius: 0,
            borderWidth: 0,
            padding: 5,
            itemSize: 15,
            itemGap: 8,
            showTitle: !0,
            iconStyle: {
                borderColor: "#666",
                color: "none"
            },
            emphasis: {
                iconStyle: {
                    borderColor: "#3E98C5"
                }
            }
        }
    });
    ms({
        type: "toolbox",
        render: function(t, e, i, n) {
            function o(o, r) {
                var s, c = u[o],
                    d = u[r],
                    f = new _o(l[c], t, t.ecModel);
                if (c && !d) {
                    if (py(c)) s = {
                        model: f,
                        onclick: f.option.onclick,
                        featureName: c
                    };
                    else {
                        var p = Qm(c);
                        if (!p) return;
                        s = new p(f, e, i)
                    }
                    h[c] = s
                } else {
                    if (!(s = h[d])) return;
                    s.model = f, s.ecModel = e, s.api = i
                }
                c || !d ? f.get("show") && !s.unusable ? (a(f, s, c), f.setIconStatus = function(t, e) {
                    var i = this.option,
                        n = this.iconPaths;
                    i.iconStatus = i.iconStatus || {}, i.iconStatus[t] = e, n[t] && n[t].trigger(e)
                }, s.render && s.render(f, e, i, n)) : s.remove && s.remove(e, i) : s.dispose && s.dispose(e, i)
            }

            function a(n, o, a) {
                var l = n.getModel("iconStyle"),
                    h = n.getModel("emphasis.iconStyle"),
                    u = o.getIcons ? o.getIcons() : n.get("icon"),
                    c = n.get("title") || {};
                if ("string" == typeof u) {
                    var f = u,
                        p = c;
                    c = {}, (u = {})[a] = f, c[a] = p
                }
                var g = n.iconPaths = {};
                d(u, function(a, u) {
                    var d = xo(a, {}, {
                        x: -s / 2,
                        y: -s / 2,
                        width: s,
                        height: s
                    });
                    d.setStyle(l.getItemStyle()), d.hoverStyle = h.getItemStyle(), to(d), t.get("showTitle") && (d.__title = c[u], d.on("mouseover", function() {
                        var t = h.getItemStyle();
                        d.setStyle({
                            text: c[u],
                            textPosition: t.textPosition || "bottom",
                            textFill: t.fill || t.stroke || "#000",
                            textAlign: t.textAlign || "center"
                        })
                    }).on("mouseout", function() {
                        d.setStyle({
                            textFill: null
                        })
                    })), d.trigger(n.get("iconStatus." + u) || "normal"), r.add(d), d.on("click", m(o.onclick, o, e, i, u)), g[u] = d
                })
            }
            var r = this.group;
            if (r.removeAll(), t.get("show")) {
                var s = +t.get("itemSize"),
                    l = t.get("feature") || {},
                    h = this._features || (this._features = {}),
                    u = [];
                d(l, function(t, e) {
                    u.push(e)
                }), new ws(this._featureNames || [], u).add(o).update(o).remove(v(o, null)).execute(), this._featureNames = u, Xg(r, t, i), r.add(Yg(r.getBoundingRect(), t)), r.eachChild(function(t) {
                    var e = t.__title,
                        n = t.hoverStyle;
                    if (n && e) {
                        var o = me(e, ke(n)),
                            a = t.position[0] + r.position[0],
                            l = !1;
                        t.position[1] + r.position[1] + s + o.height > i.getHeight() && (n.textPosition = "top", l = !0);
                        var h = l ? -5 - o.height : s + 8;
                        a + o.width / 2 > i.getWidth() ? (n.textPosition = ["100%", h], n.textAlign = "right") : a - o.width / 2 < 0 && (n.textPosition = [0, h], n.textAlign = "left")
                    }
                })
            }
        },
        updateView: function(t, e, i, n) {
            d(this._features, function(t) {
                t.updateView && t.updateView(t.model, e, i, n)
            })
        },
        remove: function(t, e) {
            d(this._features, function(i) {
                i.remove && i.remove(t, e)
            }), this.group.removeAll()
        },
        dispose: function(t, e) {
            d(this._features, function(i) {
                i.dispose && i.dispose(t, e)
            })
        }
    });
    var $P = wM.toolbox.saveAsImage;
    gy.defaultOption = {
        show: !0,
        icon: "M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",
        title: $P.title,
        type: "png",
        name: "",
        excludeComponents: ["toolbox"],
        pixelRatio: 1,
        lang: $P.lang.slice()
    }, gy.prototype.unusable = !_x.canvasSupported, gy.prototype.onclick = function(t, e) {
        var i = this.model,
            n = i.get("name") || t.get("title.0.text") || "echarts",
            o = document.createElement("a"),
            a = i.get("type", !0) || "png";
        o.download = n + "." + a, o.target = "_blank";
        var r = e.getConnectedDataURL({
            type: a,
            backgroundColor: i.get("backgroundColor", !0) || t.get("backgroundColor") || "#fff",
            excludeComponents: i.get("excludeComponents"),
            pixelRatio: i.get("pixelRatio")
        });
        if (o.href = r, "function" != typeof MouseEvent || _x.browser.ie || _x.browser.edge)
            if (window.navigator.msSaveOrOpenBlob) {
                for (var s = atob(r.split(",")[1]), l = s.length, h = new Uint8Array(l); l--;) h[l] = s.charCodeAt(l);
                var u = new Blob([h]);
                window.navigator.msSaveOrOpenBlob(u, n + "." + a)
            } else {
                var c = i.get("lang"),
                    d = '<body style="margin:0;"><img src="' + r + '" style="max-width:100%;" title="' + (c && c[0] || "") + '" /></body>';
                window.open().document.write(d)
            }
        else {
            var f = new MouseEvent("click", {
                view: window,
                bubbles: !0,
                cancelable: !1
            });
            o.dispatchEvent(f)
        }
    }, Jm("saveAsImage", gy);
    var KP = wM.toolbox.magicType;
    my.defaultOption = {
        show: !0,
        type: [],
        icon: {
            line: "M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",
            bar: "M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",
            stack: "M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",
            tiled: "M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"
        },
        title: i(KP.title),
        option: {},
        seriesIndex: {}
    };
    var JP = my.prototype;
    JP.getIcons = function() {
        var t = this.model,
            e = t.get("icon"),
            i = {};
        return d(t.get("type"), function(t) {
            e[t] && (i[t] = e[t])
        }), i
    };
    var QP = {
            line: function(t, e, i, o) {
                if ("bar" === t) return n({
                    id: e,
                    type: "line",
                    data: i.get("data"),
                    stack: i.get("stack"),
                    markPoint: i.get("markPoint"),
                    markLine: i.get("markLine")
                }, o.get("option.line") || {}, !0)
            },
            bar: function(t, e, i, o) {
                if ("line" === t) return n({
                    id: e,
                    type: "bar",
                    data: i.get("data"),
                    stack: i.get("stack"),
                    markPoint: i.get("markPoint"),
                    markLine: i.get("markLine")
                }, o.get("option.bar") || {}, !0)
            },
            stack: function(t, e, i, o) {
                if ("line" === t || "bar" === t) return n({
                    id: e,
                    stack: "__ec_magicType_stack__"
                }, o.get("option.stack") || {}, !0)
            },
            tiled: function(t, e, i, o) {
                if ("line" === t || "bar" === t) return n({
                    id: e,
                    stack: ""
                }, o.get("option.tiled") || {}, !0)
            }
        },
        tO = [
            ["line", "bar"],
            ["stack", "tiled"]
        ];
    JP.onclick = function(t, e, i) {
        var n = this.model,
            o = n.get("seriesIndex." + i);
        if (QP[i]) {
            var a = {
                series: []
            };
            d(tO, function(t) {
                l(t, i) >= 0 && d(t, function(t) {
                    n.setIconStatus(t, "normal")
                })
            }), n.setIconStatus(i, "emphasis"), t.eachComponent({
                mainType: "series",
                query: null == o ? null : {
                    seriesIndex: o
                }
            }, function(e) {
                var o = e.subType,
                    s = e.id,
                    l = QP[i](o, s, e, n);
                l && (r(l, e.option), a.series.push(l));
                var h = e.coordinateSystem;
                if (h && "cartesian2d" === h.type && ("line" === i || "bar" === i)) {
                    var u = h.getAxesByScale("ordinal")[0];
                    if (u) {
                        var c = u.dim + "Axis",
                            d = t.queryComponents({
                                mainType: c,
                                index: e.get(name + "Index"),
                                id: e.get(name + "Id")
                            })[0].componentIndex;
                        a[c] = a[c] || [];
                        for (var f = 0; f <= d; f++) a[c][d] = a[c][d] || {};
                        a[c][d].boundaryGap = "bar" === i
                    }
                }
            }), e.dispatchAction({
                type: "changeMagicType",
                currentType: i,
                newOption: a
            })
        }
    }, hs({
        type: "changeMagicType",
        event: "magicTypeChanged",
        update: "prepareAndUpdate"
    }, function(t, e) {
        e.mergeOption(t.newOption)
    }), Jm("magicType", my);
    var eO = wM.toolbox.dataView,
        iO = new Array(60).join("-"),
        nO = "\t",
        oO = new RegExp("[" + nO + "]+", "g");
    Ty.defaultOption = {
        show: !0,
        readOnly: !1,
        optionToContent: null,
        contentToOption: null,
        icon: "M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",
        title: i(eO.title),
        lang: i(eO.lang),
        backgroundColor: "#fff",
        textColor: "#000",
        textareaColor: "#fff",
        textareaBorderColor: "#333",
        buttonColor: "#c23531",
        buttonTextColor: "#fff"
    }, Ty.prototype.onclick = function(t, e) {
        function i() {
            n.removeChild(a), x._dom = null
        }
        var n = e.getDom(),
            o = this.model;
        this._dom && n.removeChild(this._dom);
        var a = document.createElement("div");
        a.style.cssText = "position:absolute;left:5px;top:5px;bottom:5px;right:5px;", a.style.backgroundColor = o.get("backgroundColor") || "#fff";
        var r = document.createElement("h4"),
            s = o.get("lang") || [];
        r.innerHTML = s[0] || o.get("title"), r.style.cssText = "margin: 10px 20px;", r.style.color = o.get("textColor");
        var l = document.createElement("div"),
            h = document.createElement("textarea");
        l.style.cssText = "display:block;width:100%;overflow:auto;";
        var u = o.get("optionToContent"),
            c = o.get("contentToOption"),
            d = _y(t);
        if ("function" == typeof u) {
            var f = u(e.getOption());
            "string" == typeof f ? l.innerHTML = f : M(f) && l.appendChild(f)
        } else l.appendChild(h), h.readOnly = o.get("readOnly"), h.style.cssText = "width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;", h.style.color = o.get("textColor"), h.style.borderColor = o.get("textareaBorderColor"), h.style.backgroundColor = o.get("textareaColor"), h.value = d.value;
        var p = d.meta,
            g = document.createElement("div");
        g.style.cssText = "position:absolute;bottom:0;left:0;right:0;";
        var m = "float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",
            v = document.createElement("div"),
            y = document.createElement("div");
        m += ";background-color:" + o.get("buttonColor"), m += ";color:" + o.get("buttonTextColor");
        var x = this;
        hi(v, "click", i), hi(y, "click", function() {
            var t;
            try {
                t = "function" == typeof c ? c(l, e.getOption()) : Iy(h.value, p)
            } catch (t) {
                throw i(), new Error("Data view format error " + t)
            }
            t && e.dispatchAction({
                type: "changeDataView",
                newOption: t
            }), i()
        }), v.innerHTML = s[1], y.innerHTML = s[2], y.style.cssText = m, v.style.cssText = m, !o.get("readOnly") && g.appendChild(y), g.appendChild(v), hi(h, "keydown", function(t) {
            if (9 === (t.keyCode || t.which)) {
                var e = this.value,
                    i = this.selectionStart,
                    n = this.selectionEnd;
                this.value = e.substring(0, i) + nO + e.substring(n), this.selectionStart = this.selectionEnd = i + 1, Q_(t)
            }
        }), a.appendChild(r), a.appendChild(l), a.appendChild(g), l.style.height = n.clientHeight - 80 + "px", n.appendChild(a), this._dom = a
    }, Ty.prototype.remove = function(t, e) {
        this._dom && e.getDom().removeChild(this._dom)
    }, Ty.prototype.dispose = function(t, e) {
        this.remove(t, e)
    }, Jm("dataView", Ty), hs({
        type: "changeDataView",
        event: "dataViewChanged",
        update: "prepareAndUpdate"
    }, function(t, e) {
        var i = [];
        d(t.newOption.series, function(t) {
            var n = e.getSeriesByName(t.name)[0];
            if (n) {
                var o = n.get("data");
                i.push({
                    name: t.name,
                    data: Ay(t.data, o)
                })
            } else i.push(a({
                type: "scatter"
            }, t))
        }), e.mergeOption(r({
            series: i
        }, t.newOption))
    });
    var aO = d,
        rO = "\0_ec_hist_store";
    jk.extend({
        type: "dataZoom.select"
    }), Xk.extend({
        type: "dataZoom.select"
    });
    var sO = wM.toolbox.dataZoom,
        lO = d,
        hO = "\0_ec_\0toolbox-dataZoom_";
    Oy.defaultOption = {
        show: !0,
        icon: {
            zoom: "M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",
            back: "M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"
        },
        title: i(sO.title)
    };
    var uO = Oy.prototype;
    uO.render = function(t, e, i, n) {
        this.model = t, this.ecModel = e, this.api = i, zy(t, e, this, n, i), Ey(t, e)
    }, uO.onclick = function(t, e, i) {
        cO[i].call(this)
    }, uO.remove = function(t, e) {
        this._brushController.unmount()
    }, uO.dispose = function(t, e) {
        this._brushController.dispose()
    };
    var cO = {
        zoom: function() {
            var t = !this._isZoomActive;
            this.api.dispatchAction({
                type: "takeGlobalCursor",
                key: "dataZoomSelect",
                dataZoomSelectActive: t
            })
        },
        back: function() {
            this._dispatchZoomAction(Cy(this.ecModel))
        }
    };
    uO._onBrush = function(t, e) {
        function i(t, e, i) {
            var r = e.getAxis(t),
                s = r.model,
                l = n(t, s, a),
                h = l.findRepresentativeAxisProxy(s).getMinMaxSpan();
            null == h.minValueSpan && null == h.maxValueSpan || (i = jD(0, i.slice(), r.scale.getExtent(), 0, h.minValueSpan, h.maxValueSpan)), l && (o[l.id] = {
                dataZoomId: l.id,
                startValue: i[0],
                endValue: i[1]
            })
        }

        function n(t, e, i) {
            var n;
            return i.eachComponent({
                mainType: "dataZoom",
                subType: "select"
            }, function(i) {
                i.getAxisModel(t, e.componentIndex) && (n = i)
            }), n
        }
        if (e.isEnd && t.length) {
            var o = {},
                a = this.ecModel;
            this._brushController.updateCovers([]), new zm(Ny(this.model.option), a, {
                include: ["grid"]
            }).matchOutputRanges(t, a, function(t, e, n) {
                if ("cartesian2d" === n.type) {
                    var o = t.brushType;
                    "rect" === o ? (i("x", n, e[0]), i("y", n, e[1])) : i({
                        lineX: "x",
                        lineY: "y"
                    } [o], n, e)
                }
            }), Dy(a, o), this._dispatchZoomAction(o)
        }
    }, uO._dispatchZoomAction = function(t) {
        var e = [];
        lO(t, function(t, n) {
            e.push(i(t))
        }), e.length && this.api.dispatchAction({
            type: "dataZoom",
            from: this.uid,
            batch: e
        })
    }, Jm("dataZoom", Oy), ss(function(t) {
        function e(t, e) {
            if (e) {
                var o = t + "Index",
                    a = e[o];
                null == a || "all" == a || y(a) || (a = !1 === a || "none" === a ? [] : [a]), i(t, function(e, i) {
                    if (null == a || "all" == a || -1 !== l(a, i)) {
                        var r = {
                            type: "select",
                            $fromToolbox: !0,
                            id: hO + t + i
                        };
                        r[o] = i, n.push(r)
                    }
                })
            }
        }

        function i(e, i) {
            var n = t[e];
            y(n) || (n = n ? [n] : []), lO(n, i)
        }
        if (t) {
            var n = t.dataZoom || (t.dataZoom = []);
            y(n) || (t.dataZoom = n = [n]);
            var o = t.toolbox;
            if (o && (y(o) && (o = o[0]), o && o.feature)) {
                var a = o.feature.dataZoom;
                e("xAxis", a), e("yAxis", a)
            }
        }
    });
    var dO = wM.toolbox.restore;
    Ry.defaultOption = {
        show: !0,
        icon: "M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",
        title: dO.title
    }, Ry.prototype.onclick = function(t, e, i) {
        Ly(t), e.dispatchAction({
            type: "restore",
            from: this.uid
        })
    }, Jm("restore", Ry), hs({
        type: "restore",
        event: "restore",
        update: "prepareAndUpdate"
    }, function(t, e) {
        e.resetOption("recreate")
    });
    var fO, pO = "urn:schemas-microsoft-com:vml",
        gO = "undefined" == typeof window ? null : window,
        mO = !1,
        vO = gO && gO.document;
    if (vO && !_x.canvasSupported) try {
        !vO.namespaces.zrvml && vO.namespaces.add("zrvml", pO), fO = function(t) {
            return vO.createElement("<zrvml:" + t + ' class="zrvml">')
        }
    } catch (t) {
        fO = function(t) {
            return vO.createElement("<" + t + ' xmlns="' + pO + '" class="zrvml">')
        }
    }
    var yO = ab.CMD,
        xO = Math.round,
        _O = Math.sqrt,
        wO = Math.abs,
        bO = Math.cos,
        SO = Math.sin,
        MO = Math.max;
    if (!_x.canvasSupported) {
        var IO = 21600,
            TO = IO / 2,
            AO = function(t) {
                t.style.cssText = "position:absolute;left:0;top:0;width:1px;height:1px;", t.coordsize = IO + "," + IO, t.coordorigin = "0,0"
            },
            DO = function(t) {
                return String(t).replace(/&/g, "&amp;").replace(/"/g, "&quot;")
            },
            CO = function(t, e, i) {
                return "rgb(" + [t, e, i].join(",") + ")"
            },
            LO = function(t, e) {
                e && t && e.parentNode !== t && t.appendChild(e)
            },
            kO = function(t, e) {
                e && t && e.parentNode === t && t.removeChild(e)
            },
            PO = function(t, e, i) {
                return 1e5 * (parseFloat(t) || 0) + 1e3 * (parseFloat(e) || 0) + i
            },
            OO = function(t, e) {
                return "string" == typeof t ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t
            },
            NO = function(t, e, i) {
                var n = Dt(e);
                i = +i, isNaN(i) && (i = 1), n && (t.color = CO(n[0], n[1], n[2]), t.opacity = i * n[3])
            },
            EO = function(t) {
                var e = Dt(t);
                return [CO(e[0], e[1], e[2]), e[3]]
            },
            zO = function(t, e, i) {
                var n = e.fill;
                if (null != n)
                    if (n instanceof Ub) {
                        var o, a = 0,
                            r = [0, 0],
                            s = 0,
                            l = 1,
                            h = i.getBoundingRect(),
                            u = h.width,
                            c = h.height;
                        if ("linear" === n.type) {
                            o = "gradient";
                            var d = i.transform,
                                f = [n.x * u, n.y * c],
                                p = [n.x2 * u, n.y2 * c];
                            d && (Q(f, f, d), Q(p, p, d));
                            var g = p[0] - f[0],
                                m = p[1] - f[1];
                            (a = 180 * Math.atan2(g, m) / Math.PI) < 0 && (a += 360), a < 1e-6 && (a = 0)
                        } else {
                            o = "gradientradial";
                            var f = [n.x * u, n.y * c],
                                d = i.transform,
                                v = i.scale,
                                y = u,
                                x = c;
                            r = [(f[0] - h.x) / y, (f[1] - h.y) / x], d && Q(f, f, d), y /= v[0] * IO, x /= v[1] * IO;
                            var _ = MO(y, x);
                            s = 0 / _, l = 2 * n.r / _ - s
                        }
                        var w = n.colorStops.slice();
                        w.sort(function(t, e) {
                            return t.offset - e.offset
                        });
                        for (var b = w.length, S = [], M = [], I = 0; I < b; I++) {
                            var T = w[I],
                                A = EO(T.color);
                            M.push(T.offset * l + s + " " + A[0]), 0 !== I && I !== b - 1 || S.push(A)
                        }
                        if (b >= 2) {
                            var D = S[0][0],
                                C = S[1][0],
                                L = S[0][1] * e.opacity,
                                k = S[1][1] * e.opacity;
                            t.type = o, t.method = "none", t.focus = "100%", t.angle = a, t.color = D, t.color2 = C, t.colors = M.join(","), t.opacity = k, t.opacity2 = L
                        }
                        "radial" === o && (t.focusposition = r.join(","))
                    } else NO(t, n, e.opacity)
            },
            RO = function(t, e) {
                null != e.lineDash && (t.dashstyle = e.lineDash.join(" ")), null == e.stroke || e.stroke instanceof Ub || NO(t, e.stroke, e.opacity)
            },
            BO = function(t, e, i, n) {
                var o = "fill" == e,
                    a = t.getElementsByTagName(e)[0];
                null != i[e] && "none" !== i[e] && (o || !o && i.lineWidth) ? (t[o ? "filled" : "stroked"] = "true", i[e] instanceof Ub && kO(t, a), a || (a = By(e)), o ? zO(a, i, n) : RO(a, i), LO(t, a)) : (t[o ? "filled" : "stroked"] = "false", kO(t, a))
            },
            VO = [
                [],
                [],
                []
            ],
            GO = function(t, e) {
                var i, n, o, a, r, s, l = yO.M,
                    h = yO.C,
                    u = yO.L,
                    c = yO.A,
                    d = yO.Q,
                    f = [],
                    p = t.data,
                    g = t.len();
                for (a = 0; a < g;) {
                    switch (o = p[a++], n = "", i = 0, o) {
                        case l:
                            n = " m ", i = 1, r = p[a++], s = p[a++], VO[0][0] = r, VO[0][1] = s;
                            break;
                        case u:
                            n = " l ", i = 1, r = p[a++], s = p[a++], VO[0][0] = r, VO[0][1] = s;
                            break;
                        case d:
                        case h:
                            n = " c ", i = 3;
                            var m, v, y = p[a++],
                                x = p[a++],
                                _ = p[a++],
                                w = p[a++];
                            o === d ? (m = _, v = w, _ = (_ + 2 * y) / 3, w = (w + 2 * x) / 3, y = (r + 2 * y) / 3, x = (s + 2 * x) / 3) : (m = p[a++], v = p[a++]), VO[0][0] = y, VO[0][1] = x, VO[1][0] = _, VO[1][1] = w, VO[2][0] = m, VO[2][1] = v, r = m, s = v;
                            break;
                        case c:
                            var b = 0,
                                S = 0,
                                M = 1,
                                I = 1,
                                T = 0;
                            e && (b = e[4], S = e[5], M = _O(e[0] * e[0] + e[1] * e[1]), I = _O(e[2] * e[2] + e[3] * e[3]), T = Math.atan2(-e[1] / I, e[0] / M));
                            var A = p[a++],
                                D = p[a++],
                                C = p[a++],
                                L = p[a++],
                                k = p[a++] + T,
                                P = p[a++] + k + T;
                            a++;
                            var O = p[a++],
                                N = A + bO(k) * C,
                                E = D + SO(k) * L,
                                y = A + bO(P) * C,
                                x = D + SO(P) * L,
                                z = O ? " wa " : " at ";
                            Math.abs(N - y) < 1e-4 && (Math.abs(P - k) > .01 ? O && (N += .0125) : Math.abs(E - D) < 1e-4 ? O && N < A || !O && N > A ? x -= .0125 : x += .0125 : O && E < D || !O && E > D ? y += .0125 : y -= .0125), f.push(z, xO(((A - C) * M + b) * IO - TO), ",", xO(((D - L) * I + S) * IO - TO), ",", xO(((A + C) * M + b) * IO - TO), ",", xO(((D + L) * I + S) * IO - TO), ",", xO((N * M + b) * IO - TO), ",", xO((E * I + S) * IO - TO), ",", xO((y * M + b) * IO - TO), ",", xO((x * I + S) * IO - TO)), r = y, s = x;
                            break;
                        case yO.R:
                            var R = VO[0],
                                B = VO[1];
                            R[0] = p[a++], R[1] = p[a++], B[0] = R[0] + p[a++], B[1] = R[1] + p[a++], e && (Q(R, R, e), Q(B, B, e)), R[0] = xO(R[0] * IO - TO), B[0] = xO(B[0] * IO - TO), R[1] = xO(R[1] * IO - TO), B[1] = xO(B[1] * IO - TO), f.push(" m ", R[0], ",", R[1], " l ", B[0], ",", R[1], " l ", B[0], ",", B[1], " l ", R[0], ",", B[1]);
                            break;
                        case yO.Z:
                            f.push(" x ")
                    }
                    if (i > 0) {
                        f.push(n);
                        for (var V = 0; V < i; V++) {
                            var G = VO[V];
                            e && Q(G, G, e), f.push(xO(G[0] * IO - TO), ",", xO(G[1] * IO - TO), V < i - 1 ? "," : "")
                        }
                    }
                }
                return f.join("")
            };
        Mn.prototype.brushVML = function(t) {
            var e = this.style,
                i = this._vmlEl;
            i || (i = By("shape"), AO(i), this._vmlEl = i), BO(i, "fill", e, this), BO(i, "stroke", e, this);
            var n = this.transform,
                o = null != n,
                a = i.getElementsByTagName("stroke")[0];
            if (a) {
                var r = e.lineWidth;
                if (o && !e.strokeNoScale) {
                    var s = n[0] * n[3] - n[1] * n[2];
                    r *= _O(wO(s))
                }
                a.weight = r + "px"
            }
            var l = this.path || (this.path = new ab);
            this.__dirtyPath && (l.beginPath(), this.buildPath(l, this.shape), l.toStatic(), this.__dirtyPath = !1), i.path = GO(l, this.transform), i.style.zIndex = PO(this.zlevel, this.z, this.z2), LO(t, i), null != e.text ? this.drawRectText(t, this.getBoundingRect()) : this.removeRectText(t)
        }, Mn.prototype.onRemove = function(t) {
            kO(t, this._vmlEl), this.removeRectText(t)
        }, Mn.prototype.onAdd = function(t) {
            LO(t, this._vmlEl), this.appendRectText(t)
        };
        var WO = function(t) {
            return "object" == typeof t && t.tagName && "IMG" === t.tagName.toUpperCase()
        };
        Je.prototype.brushVML = function(t) {
            var e, i, n = this.style,
                o = n.image;
            if (WO(o)) {
                var a = o.src;
                if (a === this._imageSrc) e = this._imageWidth, i = this._imageHeight;
                else {
                    var r = o.runtimeStyle,
                        s = r.width,
                        l = r.height;
                    r.width = "auto", r.height = "auto", e = o.width, i = o.height, r.width = s, r.height = l, this._imageSrc = a, this._imageWidth = e, this._imageHeight = i
                }
                o = a
            } else o === this._imageSrc && (e = this._imageWidth, i = this._imageHeight);
            if (o) {
                var h = n.x || 0,
                    u = n.y || 0,
                    c = n.width,
                    d = n.height,
                    f = n.sWidth,
                    p = n.sHeight,
                    g = n.sx || 0,
                    m = n.sy || 0,
                    v = f && p,
                    y = this._vmlEl;
                y || (y = vO.createElement("div"), AO(y), this._vmlEl = y);
                var x, _ = y.style,
                    w = !1,
                    b = 1,
                    S = 1;
                if (this.transform && (x = this.transform, b = _O(x[0] * x[0] + x[1] * x[1]), S = _O(x[2] * x[2] + x[3] * x[3]), w = x[1] || x[2]), w) {
                    var M = [h, u],
                        I = [h + c, u],
                        T = [h, u + d],
                        A = [h + c, u + d];
                    Q(M, M, x), Q(I, I, x), Q(T, T, x), Q(A, A, x);
                    var D = MO(M[0], I[0], T[0], A[0]),
                        C = MO(M[1], I[1], T[1], A[1]),
                        L = [];
                    L.push("M11=", x[0] / b, ",", "M12=", x[2] / S, ",", "M21=", x[1] / b, ",", "M22=", x[3] / S, ",", "Dx=", xO(h * b + x[4]), ",", "Dy=", xO(u * S + x[5])), _.padding = "0 " + xO(D) + "px " + xO(C) + "px 0", _.filter = "progid:DXImageTransform.Microsoft.Matrix(" + L.join("") + ", SizingMethod=clip)"
                } else x && (h = h * b + x[4], u = u * S + x[5]), _.filter = "", _.left = xO(h) + "px", _.top = xO(u) + "px";
                var k = this._imageEl,
                    P = this._cropEl;
                k || (k = vO.createElement("div"), this._imageEl = k);
                var O = k.style;
                if (v) {
                    if (e && i) O.width = xO(b * e * c / f) + "px", O.height = xO(S * i * d / p) + "px";
                    else {
                        var N = new Image,
                            E = this;
                        N.onload = function() {
                            N.onload = null, e = N.width, i = N.height, O.width = xO(b * e * c / f) + "px", O.height = xO(S * i * d / p) + "px", E._imageWidth = e, E._imageHeight = i, E._imageSrc = o
                        }, N.src = o
                    }
                    P || ((P = vO.createElement("div")).style.overflow = "hidden", this._cropEl = P);
                    var z = P.style;
                    z.width = xO((c + g * c / f) * b), z.height = xO((d + m * d / p) * S), z.filter = "progid:DXImageTransform.Microsoft.Matrix(Dx=" + -g * c / f * b + ",Dy=" + -m * d / p * S + ")", P.parentNode || y.appendChild(P), k.parentNode != P && P.appendChild(k)
                } else O.width = xO(b * c) + "px", O.height = xO(S * d) + "px", y.appendChild(k), P && P.parentNode && (y.removeChild(P), this._cropEl = null);
                var R = "",
                    B = n.opacity;
                B < 1 && (R += ".Alpha(opacity=" + xO(100 * B) + ") "), R += "progid:DXImageTransform.Microsoft.AlphaImageLoader(src=" + o + ", SizingMethod=scale)", O.filter = R, y.style.zIndex = PO(this.zlevel, this.z, this.z2), LO(t, y), null != n.text && this.drawRectText(t, this.getBoundingRect())
            }
        }, Je.prototype.onRemove = function(t) {
            kO(t, this._vmlEl), this._vmlEl = null, this._cropEl = null, this._imageEl = null, this.removeRectText(t)
        }, Je.prototype.onAdd = function(t) {
            LO(t, this._vmlEl), this.appendRectText(t)
        };
        var FO, HO = {},
            ZO = 0,
            UO = document.createElement("div"),
            jO = function(t) {
                var e = HO[t];
                if (!e) {
                    ZO > 100 && (ZO = 0, HO = {});
                    var i, n = UO.style;
                    try {
                        n.font = t, i = n.fontFamily.split(",")[0]
                    } catch (t) {}
                    e = {
                        style: n.fontStyle || "normal",
                        variant: n.fontVariant || "normal",
                        weight: n.fontWeight || "normal",
                        size: 0 | parseFloat(n.fontSize || 12),
                        family: i || "Microsoft YaHei"
                    }, HO[t] = e, ZO++
                }
                return e
            };
        ! function(t, e) {
            H_[t] = e
        }("measureText", function(t, e) {
            var i = vO;
            FO || ((FO = i.createElement("div")).style.cssText = "position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;", vO.body.appendChild(FO));
            try {
                FO.style.font = e
            } catch (t) {}
            return FO.innerHTML = "", FO.appendChild(i.createTextNode(t)), {
                width: FO.offsetWidth
            }
        });
        for (var XO = new Kt, YO = [X_, Ke, Je, Mn, Cb], qO = 0; qO < YO.length; qO++) {
            var $O = YO[qO].prototype;
            $O.drawRectText = function(t, e, i, n) {
                var o = this.style;
                this.__dirty && Oe(o);
                var a = o.text;
                if (null != a && (a += ""), a) {
                    if (o.rich) {
                        var r = Ce(a, o);
                        a = [];
                        for (var s = 0; s < r.lines.length; s++) {
                            for (var l = r.lines[s].tokens, h = [], u = 0; u < l.length; u++) h.push(l[u].text);
                            a.push(h.join(""))
                        }
                        a = a.join("\n")
                    }
                    var c, d, f = o.textAlign,
                        p = o.textVerticalAlign,
                        g = jO(o.font),
                        m = g.style + " " + g.variant + " " + g.weight + " " + g.size + 'px "' + g.family + '"';
                    i = i || me(a, m, f, p);
                    var v = this.transform;
                    if (v && !n && (XO.copy(e), XO.applyTransform(v), e = XO), n) c = e.x, d = e.y;
                    else {
                        var y = o.textPosition,
                            x = o.textDistance;
                        if (y instanceof Array) c = e.x + OO(y[0], e.width), d = e.y + OO(y[1], e.height), f = f || "left";
                        else {
                            var _ = we(y, e, x);
                            c = _.x, d = _.y, f = f || _.textAlign, p = p || _.textVerticalAlign
                        }
                    }
                    c = xe(c, i.width, f), d = _e(d, i.height, p), d += i.height / 2;
                    var w, b, S, M = By,
                        I = this._textVmlEl;
                    I ? b = (w = (S = I.firstChild).nextSibling).nextSibling : (I = M("line"), w = M("path"), b = M("textpath"), S = M("skew"), b.style["v-text-align"] = "left", AO(I), w.textpathok = !0, b.on = !0, I.from = "0 0", I.to = "1000 0.05", LO(I, S), LO(I, w), LO(I, b), this._textVmlEl = I);
                    var T = [c, d],
                        A = I.style;
                    v && n ? (Q(T, T, v), S.on = !0, S.matrix = v[0].toFixed(3) + "," + v[2].toFixed(3) + "," + v[1].toFixed(3) + "," + v[3].toFixed(3) + ",0,0", S.offset = (xO(T[0]) || 0) + "," + (xO(T[1]) || 0), S.origin = "0 0", A.left = "0px", A.top = "0px") : (S.on = !1, A.left = xO(c) + "px", A.top = xO(d) + "px"), b.string = DO(a);
                    try {
                        b.style.font = m
                    } catch (t) {}
                    BO(I, "fill", {
                        fill: o.textFill,
                        opacity: o.opacity
                    }, this), BO(I, "stroke", {
                        stroke: o.textStroke,
                        opacity: o.opacity,
                        lineDash: o.lineDash
                    }, this), I.style.zIndex = PO(this.zlevel, this.z, this.z2), LO(t, I)
                }
            }, $O.removeRectText = function(t) {
                kO(t, this._textVmlEl), this._textVmlEl = null
            }, $O.appendRectText = function(t) {
                LO(t, this._textVmlEl)
            }
        }
        Cb.prototype.brushVML = function(t) {
            var e = this.style;
            null != e.text ? this.drawRectText(t, {
                x: e.x || 0,
                y: e.y || 0,
                width: 0,
                height: 0
            }, this.getBoundingRect(), !0) : this.removeRectText(t)
        }, Cb.prototype.onRemove = function(t) {
            this.removeRectText(t)
        }, Cb.prototype.onAdd = function(t) {
            this.appendRectText(t)
        }
    }
    Wy.prototype = {
        constructor: Wy,
        getType: function() {
            return "vml"
        },
        getViewportRoot: function() {
            return this._vmlViewport
        },
        getViewportRootOffset: function() {
            var t = this.getViewportRoot();
            if (t) return {
                offsetLeft: t.offsetLeft || 0,
                offsetTop: t.offsetTop || 0
            }
        },
        refresh: function() {
            var t = this.storage.getDisplayList(!0, !0);
            this._paintList(t)
        },
        _paintList: function(t) {
            for (var e = this._vmlRoot, i = 0; i < t.length; i++) {
                var n = t[i];
                n.invisible || n.ignore ? (n.__alreadyNotVisible || n.onRemove(e), n.__alreadyNotVisible = !0) : (n.__alreadyNotVisible && n.onAdd(e), n.__alreadyNotVisible = !1, n.__dirty && (n.beforeBrush && n.beforeBrush(), (n.brushVML || n.brush).call(n, e), n.afterBrush && n.afterBrush())), n.__dirty = !1
            }
            this._firstPaint && (this._vmlViewport.appendChild(e), this._firstPaint = !1)
        },
        resize: function(t, e) {
            var t = null == t ? this._getWidth() : t,
                e = null == e ? this._getHeight() : e;
            if (this._width != t || this._height != e) {
                this._width = t, this._height = e;
                var i = this._vmlViewport.style;
                i.width = t + "px", i.height = e + "px"
            }
        },
        dispose: function() {
            this.root.innerHTML = "", this._vmlRoot = this._vmlViewport = this.storage = null
        },
        getWidth: function() {
            return this._width
        },
        getHeight: function() {
            return this._height
        },
        clear: function() {
            this._vmlViewport && this.root.removeChild(this._vmlViewport)
        },
        _getWidth: function() {
            var t = this.root,
                e = t.currentStyle;
            return (t.clientWidth || Gy(e.width)) - Gy(e.paddingLeft) - Gy(e.paddingRight) | 0
        },
        _getHeight: function() {
            var t = this.root,
                e = t.currentStyle;
            return (t.clientHeight || Gy(e.height)) - Gy(e.paddingTop) - Gy(e.paddingBottom) | 0
        }
    }, d(["getLayer", "insertLayer", "eachLayer", "eachBuiltinLayer", "eachOtherLayer", "getLayers", "modLayer", "delLayer", "clearLayer", "toDataURL", "pathToImage"], function(t) {
        Wy.prototype[t] = Fy(t)
    }), wi("vml", Wy);
    var KO = "http://www.w3.org/2000/svg",
        JO = ab.CMD,
        QO = Array.prototype.join,
        tN = "none",
        eN = Math.round,
        iN = Math.sin,
        nN = Math.cos,
        oN = Math.PI,
        aN = 2 * Math.PI,
        rN = 180 / oN,
        sN = 1e-4,
        lN = {};
    lN.brush = function(t) {
        var e = t.style,
            i = t.__svgEl;
        i || (i = Hy("path"), t.__svgEl = i), t.path || t.createPathProxy();
        var n = t.path;
        if (t.__dirtyPath) {
            n.beginPath(), t.buildPath(n, t.shape), t.__dirtyPath = !1;
            var o = Jy(n);
            o.indexOf("NaN") < 0 && qy(i, "d", o)
        }
        Ky(i, e), Yy(i, t.transform), null != e.text && dN(t, t.getBoundingRect())
    };
    var hN = {};
    hN.brush = function(t) {
        var e = t.style,
            i = e.image;
        if (i instanceof HTMLImageElement && (i = i.src), i) {
            var n = e.x || 0,
                o = e.y || 0,
                a = e.width,
                r = e.height,
                s = t.__svgEl;
            s || (s = Hy("image"), t.__svgEl = s), i !== t.__imageSrc && ($y(s, "href", i), t.__imageSrc = i), qy(s, "width", a), qy(s, "height", r), qy(s, "x", n), qy(s, "y", o), Yy(s, t.transform), null != e.text && dN(t, t.getBoundingRect())
        }
    };
    var uN = {},
        cN = new Kt,
        dN = function(t, e, i) {
            var n = t.style;
            t.__dirty && Oe(n);
            var o = n.text;
            if (null != o) {
                o += "";
                var a = t.__textSvgEl;
                if (a || (a = Hy("text"), t.__textSvgEl = a), Ky(a, n, !0), t instanceof Cb || t.style.transformText) Yy(a, t.transform);
                else if (t.transform) cN.copy(e), cN.applyTransform(t.transform), e = cN;
                else {
                    var r = t.transformCoordToGlobal(e.x, e.y);
                    e.x = r[0], e.y = r[1]
                }
                var s, l, h = n.textPosition,
                    u = n.textDistance,
                    c = n.textAlign || "left";
                "number" == typeof n.fontSize && (n.fontSize += "px");
                var d = n.font || [n.fontStyle || "", n.fontWeight || "", n.fontSize || "", n.fontFamily || ""].join(" ") || F_,
                    f = Qy(n.textVerticalAlign),
                    p = (i = me(o, d, c, f)).lineHeight;
                if (h instanceof Array) s = e.x + h[0], l = e.y + h[1];
                else {
                    var g = we(h, e, u);
                    s = g.x, l = g.y, f = Qy(g.textVerticalAlign), c = g.textAlign
                }
                qy(a, "alignment-baseline", f), d && (a.style.font = d);
                var m = n.textPadding;
                qy(a, "x", s), qy(a, "y", l);
                var v = o.split("\n"),
                    y = v.length,
                    x = c;
                "left" === x ? (x = "start", m && (s += m[3])) : "right" === x ? (x = "end", m && (s -= m[1])) : "center" === x && (x = "middle", m && (s += (m[3] - m[1]) / 2));
                var _ = 0;
                if ("baseline" === f ? (_ = -i.height + p, m && (_ -= m[2])) : "middle" === f ? (_ = (-i.height + p) / 2, m && (l += (m[0] - m[2]) / 2)) : m && (_ += m[0]), t.__text !== o || t.__textFont !== d) {
                    var w = t.__tspanList || [];
                    t.__tspanList = w;
                    for (S = 0; S < y; S++)(M = w[S]) ? M.innerHTML = "" : (M = w[S] = Hy("tspan"), a.appendChild(M), qy(M, "alignment-baseline", f), qy(M, "text-anchor", x)), qy(M, "x", s), qy(M, "y", l + S * p + _), M.appendChild(document.createTextNode(v[S]));
                    for (; S < w.length; S++) a.removeChild(w[S]);
                    w.length = y, t.__text = o, t.__textFont = d
                } else if (t.__tspanList.length)
                    for (var b = t.__tspanList.length, S = 0; S < b; ++S) {
                        var M = t.__tspanList[S];
                        M && (qy(M, "x", s), qy(M, "y", l + S * p + _))
                    }
            }
        };
    uN.drawRectText = dN, uN.brush = function(t) {
        var e = t.style;
        null != e.text && (e.textPosition = [0, 0], dN(t, {
            x: e.x || 0,
            y: e.y || 0,
            width: 0,
            height: 0
        }, t.getBoundingRect()))
    }, tx.prototype = {
        diff: function(t, e, i) {
            i || (i = function(t, e) {
                return t === e
            }), this.equals = i;
            var n = this;
            t = t.slice();
            var o = (e = e.slice()).length,
                a = t.length,
                r = 1,
                s = o + a,
                l = [{
                    newPos: -1,
                    components: []
                }],
                h = this.extractCommon(l[0], e, t, 0);
            if (l[0].newPos + 1 >= o && h + 1 >= a) {
                for (var u = [], c = 0; c < e.length; c++) u.push(c);
                return [{
                    indices: u,
                    count: e.length
                }]
            }
            for (; r <= s;) {
                var d = function() {
                    for (var i = -1 * r; i <= r; i += 2) {
                        var s, h = l[i - 1],
                            u = l[i + 1],
                            c = (u ? u.newPos : 0) - i;
                        h && (l[i - 1] = void 0);
                        var d = h && h.newPos + 1 < o,
                            f = u && 0 <= c && c < a;
                        if (d || f) {
                            if (!d || f && h.newPos < u.newPos ? (s = ix(u), n.pushComponent(s.components, void 0, !0)) : ((s = h).newPos++, n.pushComponent(s.components, !0, void 0)), c = n.extractCommon(s, e, t, i), s.newPos + 1 >= o && c + 1 >= a) return ex(0, s.components);
                            l[i] = s
                        } else l[i] = void 0
                    }
                    r++
                }();
                if (d) return d
            }
        },
        pushComponent: function(t, e, i) {
            var n = t[t.length - 1];
            n && n.added === e && n.removed === i ? t[t.length - 1] = {
                count: n.count + 1,
                added: e,
                removed: i
            } : t.push({
                count: 1,
                added: e,
                removed: i
            })
        },
        extractCommon: function(t, e, i, n) {
            for (var o = e.length, a = i.length, r = t.newPos, s = r - n, l = 0; r + 1 < o && s + 1 < a && this.equals(e[r + 1], i[s + 1]);) r++, s++, l++;
            return l && t.components.push({
                count: l
            }), t.newPos = r, s
        },
        tokenize: function(t) {
            return t.slice()
        },
        join: function(t) {
            return t.slice()
        }
    };
    var fN = new tx,
        pN = function(t, e, i) {
            return fN.diff(t, e, i)
        };
    nx.prototype.createElement = Hy, nx.prototype.getDefs = function(t) {
        var e = this._svgRoot,
            i = this._svgRoot.getElementsByTagName("defs");
        return 0 === i.length ? t ? ((i = e.insertBefore(this.createElement("defs"), e.firstChild)).contains || (i.contains = function(t) {
            var e = i.children;
            if (!e) return !1;
            for (var n = e.length - 1; n >= 0; --n)
                if (e[n] === t) return !0;
            return !1
        }), i) : null : i[0]
    }, nx.prototype.update = function(t, e) {
        if (t) {
            var i = this.getDefs(!1);
            if (t[this._domName] && i.contains(t[this._domName])) "function" == typeof e && e(t);
            else {
                var n = this.add(t);
                n && (t[this._domName] = n)
            }
        }
    }, nx.prototype.addDom = function(t) {
        this.getDefs(!0).appendChild(t)
    }, nx.prototype.removeDom = function(t) {
        var e = this.getDefs(!1);
        e && t[this._domName] && (e.removeChild(t[this._domName]), t[this._domName] = null)
    }, nx.prototype.getDoms = function() {
        var t = this.getDefs(!1);
        if (!t) return [];
        var e = [];
        return d(this._tagNames, function(i) {
            var n = t.getElementsByTagName(i);
            e = e.concat([].slice.call(n))
        }), e
    }, nx.prototype.markAllUnused = function() {
        var t = this;
        d(this.getDoms(), function(e) {
            e[t._markLabel] = "0"
        })
    }, nx.prototype.markUsed = function(t) {
        t && (t[this._markLabel] = "1")
    }, nx.prototype.removeUnused = function() {
        var t = this.getDefs(!1);
        if (t) {
            var e = this;
            d(this.getDoms(), function(i) {
                "1" !== i[e._markLabel] && t.removeChild(i)
            })
        }
    }, nx.prototype.getSvgProxy = function(t) {
        return t instanceof Mn ? lN : t instanceof Je ? hN : t instanceof Cb ? uN : lN
    }, nx.prototype.getTextSvgElement = function(t) {
        return t.__textSvgEl
    }, nx.prototype.getSvgElement = function(t) {
        return t.__svgEl
    }, h(ox, nx), ox.prototype.addWithoutUpdate = function(t, e) {
        if (e && e.style) {
            var i = this;
            d(["fill", "stroke"], function(n) {
                if (e.style[n] && ("linear" === e.style[n].type || "radial" === e.style[n].type)) {
                    var o, a = e.style[n],
                        r = i.getDefs(!0);
                    a._dom ? (o = a._dom, r.contains(a._dom) || i.addDom(o)) : o = i.add(a), i.markUsed(e);
                    var s = o.getAttribute("id");
                    t.setAttribute(n, "url(#" + s + ")")
                }
            })
        }
    }, ox.prototype.add = function(t) {
        var e;
        if ("linear" === t.type) e = this.createElement("linearGradient");
        else {
            if ("radial" !== t.type) return v_("Illegal gradient type."), null;
            e = this.createElement("radialGradient")
        }
        return t.id = t.id || this.nextId++, e.setAttribute("id", "zr" + this._zrId + "-gradient-" + t.id), this.updateDom(t, e), this.addDom(e), e
    }, ox.prototype.update = function(t) {
        var e = this;
        nx.prototype.update.call(this, t, function() {
            var i = t.type,
                n = t._dom.tagName;
            "linear" === i && "linearGradient" === n || "radial" === i && "radialGradient" === n ? e.updateDom(t, t._dom) : (e.removeDom(t), e.add(t))
        })
    }, ox.prototype.updateDom = function(t, e) {
        if ("linear" === t.type) e.setAttribute("x1", t.x), e.setAttribute("y1", t.y), e.setAttribute("x2", t.x2), e.setAttribute("y2", t.y2);
        else {
            if ("radial" !== t.type) return void v_("Illegal gradient type.");
            e.setAttribute("cx", t.x), e.setAttribute("cy", t.y), e.setAttribute("r", t.r)
        }
        t.global ? e.setAttribute("gradientUnits", "userSpaceOnUse") : e.setAttribute("gradientUnits", "objectBoundingBox"), e.innerHTML = "";
        for (var i = t.colorStops, n = 0, o = i.length; n < o; ++n) {
            var a = this.createElement("stop");
            a.setAttribute("offset", 100 * i[n].offset + "%"), a.setAttribute("stop-color", i[n].color), e.appendChild(a)
        }
        t._dom = e
    }, ox.prototype.markUsed = function(t) {
        if (t.style) {
            var e = t.style.fill;
            e && e._dom && nx.prototype.markUsed.call(this, e._dom), (e = t.style.stroke) && e._dom && nx.prototype.markUsed.call(this, e._dom)
        }
    }, h(ax, nx), ax.prototype.update = function(t) {
        var e = this.getSvgElement(t);
        e && this.updateDom(e, t.__clipPaths, !1);
        var i = this.getTextSvgElement(t);
        i && this.updateDom(i, t.__clipPaths, !0), this.markUsed(t)
    }, ax.prototype.updateDom = function(t, e, i) {
        if (e && e.length > 0) {
            var n, o, a = this.getDefs(!0),
                r = e[0],
                s = i ? "_textDom" : "_dom";
            r[s] ? (o = r[s].getAttribute("id"), n = r[s], a.contains(n) || a.appendChild(n)) : (o = "zr" + this._zrId + "-clip-" + this.nextId, ++this.nextId, (n = this.createElement("clipPath")).setAttribute("id", o), a.appendChild(n), r[s] = n);
            var l = this.getSvgProxy(r);
            if (r.transform && r.parent.invTransform && !i) {
                var h = Array.prototype.slice.call(r.transform);
                ut(r.transform, r.parent.invTransform, r.transform), l.brush(r), r.transform = h
            } else l.brush(r);
            var u = this.getSvgElement(r);
            n.innerHTML = "", n.appendChild(u.cloneNode()), t.setAttribute("clip-path", "url(#" + o + ")"), e.length > 1 && this.updateDom(n, e.slice(1), i)
        } else t && t.setAttribute("clip-path", "none")
    }, ax.prototype.markUsed = function(t) {
        var e = this;
        t.__clipPaths && t.__clipPaths.length > 0 && d(t.__clipPaths, function(t) {
            t._dom && nx.prototype.markUsed.call(e, t._dom), t._textDom && nx.prototype.markUsed.call(e, t._textDom)
        })
    }, h(rx, nx), rx.prototype.addWithoutUpdate = function(t, e) {
        if (e && sx(e.style)) {
            var i, n = e.style;
            n._shadowDom ? (i = n._shadowDom, this.getDefs(!0).contains(n._shadowDom) || this.addDom(i)) : i = this.add(e), this.markUsed(e);
            var o = i.getAttribute("id");
            t.style.filter = "url(#" + o + ")"
        }
    }, rx.prototype.add = function(t) {
        var e = this.createElement("filter"),
            i = t.style;
        return i._shadowDomId = i._shadowDomId || this.nextId++, e.setAttribute("id", "zr" + this._zrId + "-shadow-" + i._shadowDomId), this.updateDom(t, e), this.addDom(e), e
    }, rx.prototype.update = function(t, e) {
        var i = e.style;
        if (sx(i)) {
            var n = this;
            nx.prototype.update.call(this, e, function(t) {
                n.updateDom(e, t._shadowDom)
            })
        } else this.remove(t, i)
    }, rx.prototype.remove = function(t, e) {
        null != e._shadowDomId && (this.removeDom(e), t.style.filter = "")
    }, rx.prototype.updateDom = function(t, e) {
        var i = e.getElementsByTagName("feDropShadow");
        i = 0 === i.length ? this.createElement("feDropShadow") : i[0];
        var n, o, a, r, s = t.style,
            l = t.scale ? t.scale[0] || 1 : 1,
            h = t.scale ? t.scale[1] || 1 : 1;
        if (s.shadowBlur || s.shadowOffsetX || s.shadowOffsetY) n = s.shadowOffsetX || 0, o = s.shadowOffsetY || 0, a = s.shadowBlur, r = s.shadowColor;
        else {
            if (!s.textShadowBlur) return void this.removeDom(e, s);
            n = s.textShadowOffsetX || 0, o = s.textShadowOffsetY || 0, a = s.textShadowBlur, r = s.textShadowColor
        }
        i.setAttribute("dx", n / l), i.setAttribute("dy", o / h), i.setAttribute("flood-color", r);
        var u = a / 2 / l + " " + a / 2 / h;
        i.setAttribute("stdDeviation", u), e.setAttribute("x", "-100%"), e.setAttribute("y", "-100%"), e.setAttribute("width", Math.ceil(a / 2 * 200) + "%"), e.setAttribute("height", Math.ceil(a / 2 * 200) + "%"), e.appendChild(i), s._shadowDom = e
    }, rx.prototype.markUsed = function(t) {
        var e = t.style;
        e && e._shadowDom && nx.prototype.markUsed.call(this, e._shadowDom)
    };
    var gN = function(t, e, i, n) {
        this.root = t, this.storage = e, this._opts = i = a({}, i || {});
        var o = Hy("svg");
        o.setAttribute("xmlns", "http://www.w3.org/2000/svg"), o.setAttribute("version", "1.1"), o.setAttribute("baseProfile", "full"), o.style.cssText = "user-select:none;position:absolute;left:0;top:0;", this.gradientManager = new ox(n, o), this.clipPathManager = new ax(n, o), this.shadowManager = new rx(n, o);
        var r = document.createElement("div");
        r.style.cssText = "overflow:hidden;position:relative", this._svgRoot = o, this._viewport = r, t.appendChild(r), r.appendChild(o), this.resize(i.width, i.height), this._visibleList = []
    };
    gN.prototype = {
        constructor: gN,
        getType: function() {
            return "svg"
        },
        getViewportRoot: function() {
            return this._viewport
        },
        getViewportRootOffset: function() {
            var t = this.getViewportRoot();
            if (t) return {
                offsetLeft: t.offsetLeft || 0,
                offsetTop: t.offsetTop || 0
            }
        },
        refresh: function() {
            var t = this.storage.getDisplayList(!0);
            this._paintList(t)
        },
        _paintList: function(t) {
            this.gradientManager.markAllUnused(), this.clipPathManager.markAllUnused(), this.shadowManager.markAllUnused();
            var e, i = this._svgRoot,
                n = this._visibleList,
                o = t.length,
                a = [];
            for (e = 0; e < o; e++) {
                var r = hx(f = t[e]),
                    s = gx(f) || px(f);
                f.invisible || (f.__dirty && (r && r.brush(f), this.clipPathManager.update(f), f.style && (this.gradientManager.update(f.style.fill), this.gradientManager.update(f.style.stroke), this.shadowManager.update(s, f)), f.__dirty = !1), a.push(f))
            }
            var l, h = pN(n, a);
            for (e = 0; e < h.length; e++)
                if ((c = h[e]).removed)
                    for (d = 0; d < c.count; d++) {
                        var s = gx(f = n[c.indices[d]]),
                            u = px(f);
                        fx(i, s), fx(i, u)
                    }
            for (e = 0; e < h.length; e++) {
                var c = h[e];
                if (c.added)
                    for (d = 0; d < c.count; d++) {
                        var s = gx(f = a[c.indices[d]]),
                            u = px(f);
                        l ? cx(i, s, l) : dx(i, s), s ? cx(i, u, s) : l ? cx(i, u, l) : dx(i, u), cx(i, u, s), l = u || s || l, this.gradientManager.addWithoutUpdate(s, f), this.shadowManager.addWithoutUpdate(l, f), this.clipPathManager.markUsed(f)
                    } else if (!c.removed)
                        for (var d = 0; d < c.count; d++) {
                            var f = a[c.indices[d]];
                            l = s = px(f) || gx(f) || l, this.gradientManager.markUsed(f), this.gradientManager.addWithoutUpdate(s, f), this.shadowManager.markUsed(f), this.shadowManager.addWithoutUpdate(s, f), this.clipPathManager.markUsed(f)
                        }
            }
            this.gradientManager.removeUnused(), this.clipPathManager.removeUnused(), this.shadowManager.removeUnused(), this._visibleList = a
        },
        _getDefs: function(t) {
            var e = this._svgRoot,
                i = this._svgRoot.getElementsByTagName("defs");
            return 0 === i.length ? t ? ((i = e.insertBefore(Hy("defs"), e.firstChild)).contains || (i.contains = function(t) {
                var e = i.children;
                if (!e) return !1;
                for (var n = e.length - 1; n >= 0; --n)
                    if (e[n] === t) return !0;
                return !1
            }), i) : null : i[0]
        },
        resize: function(t, e) {
            var i = this._viewport;
            i.style.display = "none";
            var n = this._opts;
            if (null != t && (n.width = t), null != e && (n.height = e), t = this._getSize(0), e = this._getSize(1), i.style.display = "", this._width !== t || this._height !== e) {
                this._width = t, this._height = e;
                var o = i.style;
                o.width = t + "px", o.height = e + "px";
                var a = this._svgRoot;
                a.setAttribute("width", t), a.setAttribute("height", e)
            }
        },
        getWidth: function() {
            return this._width
        },
        getHeight: function() {
            return this._height
        },
        _getSize: function(t) {
            var e = this._opts,
                i = ["width", "height"][t],
                n = ["clientWidth", "clientHeight"][t],
                o = ["paddingLeft", "paddingTop"][t],
                a = ["paddingRight", "paddingBottom"][t];
            if (null != e[i] && "auto" !== e[i]) return parseFloat(e[i]);
            var r = this.root,
                s = document.defaultView.getComputedStyle(r);
            return (r[n] || lx(s[i]) || lx(r.style[i])) - (lx(s[o]) || 0) - (lx(s[a]) || 0) | 0
        },
        dispose: function() {
            this.root.innerHTML = "", this._svgRoot = this._viewport = this.storage = null
        },
        clear: function() {
            this._viewport && this.root.removeChild(this._viewport)
        },
        pathToSvg: function() {
            this.refresh();
            var t = this._svgRoot.outerHTML;
            return "data:img/svg+xml;utf-8," + unescape(t)
        }
    }, d(["getLayer", "insertLayer", "eachLayer", "eachBuiltinLayer", "eachOtherLayer", "getLayers", "modLayer", "delLayer", "clearLayer", "toDataURL", "pathToImage"], function(t) {
        gN.prototype[t] = mx(t)
    }), wi("svg", gN), t.version = "4.0.2", t.dependencies = BM, t.PRIORITY = FM, t.init = function(t, e, i) {
        var n = as(t);
        if (n) return n;
        var o = new Rr(t, e, i);
        return o.id = "ec_" + aI++, nI[o.id] = o, Ei(t, sI, o.id), ns(o), o
    }, t.connect = function(t) {
        if (y(t)) {
            var e = t;
            t = null, NM(e, function(e) {
                null != e.group && (t = e.group)
            }), t = t || "g_" + rI++, NM(e, function(e) {
                e.group = t
            })
        }
        return oI[t] = !0, t
    }, t.disConnect = os, t.disconnect = hI, t.dispose = function(t) {
        "string" == typeof t ? t = nI[t] : t instanceof Rr || (t = as(t)), t instanceof Rr && !t.isDisposed() && t.dispose()
    }, t.getInstanceByDom = as, t.getInstanceById = function(t) {
        return nI[t]
    }, t.registerTheme = rs, t.registerPreprocessor = ss, t.registerProcessor = ls, t.registerPostUpdate = function(t) {
        QM.push(t)
    }, t.registerAction = hs, t.registerCoordinateSystem = us, t.getCoordinateSystemDimensions = function(t) {
        var e = Aa.get(t);
        if (e) return e.getDimensionsInfo ? e.getDimensionsInfo() : e.dimensions.slice()
    }, t.registerLayout = cs, t.registerVisual = ds, t.registerLoading = ps, t.extendComponentModel = gs, t.extendComponentView = ms, t.extendSeriesModel = vs, t.extendChartView = ys, t.setCanvasCreator = function(t) {
        e("createCanvas", t)
    }, t.registerMap = function(t, e, i) {
        e.geoJson && !e.features && (i = e.specialAreas, e = e.geoJson), "string" == typeof e && (e = "undefined" != typeof JSON && JSON.parse ? JSON.parse(e) : new Function("return (" + e + ");")()), lI[t] = {
            geoJson: e,
            specialAreas: i
        }
    }, t.getMap = xs, t.dataTool = uI, t.zrender = fw, t.graphic = tS, t.number = cS, t.format = yS, t.throttle = vr, t.helper = JI, t.matrix = Yx, t.vector = Wx, t.color = c_, t.parseGeoJSON = tT, t.parseGeoJson = oT, t.util = aT, t.List = yI, t.Model = _o, t.Axis = nT, t.env = _x
});

;
! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports, require("echarts")) : "function" == typeof define && define.amd ? define(["exports", "echarts"], e) : e(t.bmap = {}, t.echarts)
}(this, function(t, e) {
    "use strict";

    function o(t, e) {
        this._bmap = t, this.dimensions = ["lng", "lat"], this._mapOffset = [0, 0], this._api = e, this._projection = new BMap.MercatorProjection
    }

    function n(t, o) {
        return o = o || [0, 0], e.util.map([0, 1], function(e) {
            var n = o[e],
                i = t[e] / 2,
                a = [],
                r = [];
            return a[e] = n - i, r[e] = n + i, a[1 - e] = r[1 - e] = o[1 - e], Math.abs(this.dataToPoint(a)[e] - this.dataToPoint(r)[e])
        }, this)
    }

    function i() {
        function t(t) {
            this._root = t
        }
        return t.prototype = new BMap.Overlay, t.prototype.initialize = function(t) {
            return t.getPanes().labelPane.appendChild(this._root), this._root
        }, t.prototype.draw = function() {}, t
    }

    function a(t, e) {
        return t && e && t[0] === e[0] && t[1] === e[1]
    }
    o.prototype.dimensions = ["lng", "lat"], o.prototype.setZoom = function(t) {
        this._zoom = t
    }, o.prototype.setCenter = function(t) {
        this._center = this._projection.lngLatToPoint(new BMap.Point(t[0], t[1]))
    }, o.prototype.setMapOffset = function(t) {
        this._mapOffset = t
    }, o.prototype.getBMap = function() {
        return this._bmap
    }, o.prototype.dataToPoint = function(t) {
        var e = new BMap.Point(t[0], t[1]),
            o = this._bmap.pointToOverlayPixel(e),
            n = this._mapOffset;
        return [o.x - n[0], o.y - n[1]]
    }, o.prototype.pointToData = function(t) {
        var e = this._mapOffset;
        return [(t = this._bmap.overlayPixelToPoint({
            x: t[0] + e[0],
            y: t[1] + e[1]
        })).lng, t.lat]
    }, o.prototype.getViewRect = function() {
        var t = this._api;
        return new e.graphic.BoundingRect(0, 0, t.getWidth(), t.getHeight())
    }, o.prototype.getRoamTransform = function() {
        return e.matrix.create()
    }, o.prototype.prepareCustoms = function(t) {
        var o = this.getViewRect();
        return {
            coordSys: {
                type: "bmap",
                x: o.x,
                y: o.y,
                width: o.width,
                height: o.height
            },
            api: {
                coord: e.util.bind(this.dataToPoint, this),
                size: e.util.bind(n, this)
            }
        }
    };
    var r;
    o.dimensions = o.prototype.dimensions, o.create = function(t, e) {
        var n, a = e.getDom();
        t.eachComponent("bmap", function(t) {
            var p = e.getZr().painter,
                s = p.getViewportRoot();
            if ("undefined" == typeof BMap) throw new Error("BMap api is not loaded");
            if (r = r || i(), n) throw new Error("Only one bmap component can exist");
            if (!t.__bmap) {
                var m = a.querySelector(".ec-extension-bmap");
                m && (s.style.left = "0px", s.style.top = "0px", a.removeChild(m)), (m = document.createElement("div")).style.cssText = "width:100%;height:100%", m.classList.add("ec-extension-bmap"), a.appendChild(m);
                var c = t.__bmap = new BMap.Map(m),
                    d = new r(s);
                c.addOverlay(d), p.getViewportRootOffset = function() {
                    return {
                        offsetLeft: 0,
                        offsetTop: 0
                    }
                }
            }
            var c = t.__bmap,
                f = t.get("center"),
                l = t.get("zoom");
            if (f && l) {
                var h = new BMap.Point(f[0], f[1]);
                c.centerAndZoom(h, l)
            }(n = new o(c, e)).setMapOffset(t.__mapOffset || [0, 0]), n.setZoom(l), n.setCenter(f), t.coordinateSystem = n
        }), t.eachSeries(function(t) {
            "bmap" === t.get("coordinateSystem") && (t.coordinateSystem = n)
        })
    }, e.extendComponentModel({
        type: "bmap",
        getBMap: function() {
            return this.__bmap
        },
        setCenterAndZoom: function(t, e) {
            this.option.center = t, this.option.zoom = e
        },
        centerOrZoomChanged: function(t, e) {
            var o = this.option;
            return !(a(t, o.center) && e === o.zoom)
        },
        defaultOption: {
            center: [104.114129, 37.550339],
            zoom: 5,
            mapStyle: {},
            roam: !1
        }
    }), e.extendComponentView({
        type: "bmap",
        render: function(t, e, o) {
            function n() {
                i || o.dispatchAction({
                    type: "bmapRoam"
                })
            }
            var i = !0,
                a = t.getBMap(),
                r = o.getZr().painter.getViewportRoot(),
                p = t.coordinateSystem,
                s = function(e, n) {
                    if (!i) {
                        var a = r.parentNode.parentNode.parentNode,
                            s = [-parseInt(a.style.left, 10) || 0, -parseInt(a.style.top, 10) || 0];
                        r.style.left = s[0] + "px", r.style.top = s[1] + "px", p.setMapOffset(s), t.__mapOffset = s, o.dispatchAction({
                            type: "bmapRoam"
                        })
                    }
                };
            a.removeEventListener("moving", this._oldMoveHandler), a.removeEventListener("zoomend", this._oldZoomEndHandler), a.addEventListener("moving", s), a.addEventListener("zoomend", n), this._oldMoveHandler = s, this._oldZoomEndHandler = n;
            var m = t.get("roam");
            m && "scale" !== m ? a.enableDragging() : a.disableDragging(), m && "move" !== m ? (a.enableScrollWheelZoom(), a.enableDoubleClickZoom(), a.enablePinchToZoom()) : (a.disableScrollWheelZoom(), a.disableDoubleClickZoom(), a.disablePinchToZoom());
            var c = t.__mapStyle,
                d = t.get("mapStyle") || {},
                f = JSON.stringify(d);
            JSON.stringify(c) !== f && (Object.keys(d).length && a.setMapStyle(d), t.__mapStyle = JSON.parse(f)), i = !1
        }
    }), e.registerCoordinateSystem("bmap", o), e.registerAction({
        type: "bmapRoam",
        event: "bmapRoam",
        update: "updateLayout"
    }, function(t, e) {
        e.eachComponent("bmap", function(t) {
            var e = t.getBMap(),
                o = e.getCenter();
            t.setCenterAndZoom([o.lng, o.lat], e.getZoom())
        })
    });
    t.version = "1.0.0"
});

;
/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.7.1
 *
 * Copyright 2017 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
! function(t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if ("function" == typeof define && define.amd) define([], t);
    else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Chart = t()
    }
}(function() {
    return function t(e, n, i) {
        function a(r, l) {
            if (!n[r]) {
                if (!e[r]) {
                    var s = "function" == typeof require && require;
                    if (!l && s) return s(r, !0);
                    if (o) return o(r, !0);
                    var u = new Error("Cannot find module '" + r + "'");
                    throw u.code = "MODULE_NOT_FOUND", u
                }
                var d = n[r] = {
                    exports: {}
                };
                e[r][0].call(d.exports, function(t) {
                    var n = e[r][1][t];
                    return a(n || t)
                }, d, d.exports, t, e, n, i)
            }
            return n[r].exports
        }
        for (var o = "function" == typeof require && require, r = 0; r < i.length; r++) a(i[r]);
        return a
    }({
        1: [function(t, e, n) {}, {}],
        2: [function(t, e, n) {
            function i(t) {
                if (t) {
                    var e = [0, 0, 0],
                        n = 1,
                        i = t.match(/^#([a-fA-F0-9]{3})$/i);
                    if (i) {
                        i = i[1];
                        for (a = 0; a < e.length; a++) e[a] = parseInt(i[a] + i[a], 16)
                    } else if (i = t.match(/^#([a-fA-F0-9]{6})$/i)) {
                        i = i[1];
                        for (a = 0; a < e.length; a++) e[a] = parseInt(i.slice(2 * a, 2 * a + 2), 16)
                    } else if (i = t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) {
                        for (a = 0; a < e.length; a++) e[a] = parseInt(i[a + 1]);
                        n = parseFloat(i[4])
                    } else if (i = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) {
                        for (a = 0; a < e.length; a++) e[a] = Math.round(2.55 * parseFloat(i[a + 1]));
                        n = parseFloat(i[4])
                    } else if (i = t.match(/(\w+)/)) {
                        if ("transparent" == i[1]) return [0, 0, 0, 0];
                        if (!(e = c[i[1]])) return
                    }
                    for (var a = 0; a < e.length; a++) e[a] = u(e[a], 0, 255);
                    return n = n || 0 == n ? u(n, 0, 1) : 1, e[3] = n, e
                }
            }

            function a(t) {
                if (t) {
                    var e = t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);
                    if (e) {
                        var n = parseFloat(e[4]);
                        return [u(parseInt(e[1]), 0, 360), u(parseFloat(e[2]), 0, 100), u(parseFloat(e[3]), 0, 100), u(isNaN(n) ? 1 : n, 0, 1)]
                    }
                }
            }

            function o(t) {
                if (t) {
                    var e = t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);
                    if (e) {
                        var n = parseFloat(e[4]);
                        return [u(parseInt(e[1]), 0, 360), u(parseFloat(e[2]), 0, 100), u(parseFloat(e[3]), 0, 100), u(isNaN(n) ? 1 : n, 0, 1)]
                    }
                }
            }

            function r(t, e) {
                return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "rgba(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + e + ")"
            }

            function l(t, e) {
                return "rgba(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%, " + (e || t[3] || 1) + ")"
            }

            function s(t, e) {
                return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + e + ")"
            }

            function u(t, e, n) {
                return Math.min(Math.max(e, t), n)
            }

            function d(t) {
                var e = t.toString(16).toUpperCase();
                return e.length < 2 ? "0" + e : e
            }
            var c = t(6);
            e.exports = {
                getRgba: i,
                getHsla: a,
                getRgb: function(t) {
                    var e = i(t);
                    return e && e.slice(0, 3)
                },
                getHsl: function(t) {
                    var e = a(t);
                    return e && e.slice(0, 3)
                },
                getHwb: o,
                getAlpha: function(t) {
                    var e = i(t);
                    return e ? e[3] : (e = a(t)) ? e[3] : (e = o(t)) ? e[3] : void 0
                },
                hexString: function(t) {
                    return "#" + d(t[0]) + d(t[1]) + d(t[2])
                },
                rgbString: function(t, e) {
                    return e < 1 || t[3] && t[3] < 1 ? r(t, e) : "rgb(" + t[0] + ", " + t[1] + ", " + t[2] + ")"
                },
                rgbaString: r,
                percentString: function(t, e) {
                    return e < 1 || t[3] && t[3] < 1 ? l(t, e) : "rgb(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%)"
                },
                percentaString: l,
                hslString: function(t, e) {
                    return e < 1 || t[3] && t[3] < 1 ? s(t, e) : "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)"
                },
                hslaString: s,
                hwbString: function(t, e) {
                    return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + (void 0 !== e && 1 !== e ? ", " + e : "") + ")"
                },
                keyword: function(t) {
                    return h[t.slice(0, 3)]
                }
            };
            var h = {};
            for (var f in c) h[c[f]] = f
        }, {
            6: 6
        }],
        3: [function(t, e, n) {
            var i = t(5),
                a = t(2),
                o = function(t) {
                    if (t instanceof o) return t;
                    if (!(this instanceof o)) return new o(t);
                    this.valid = !1, this.values = {
                        rgb: [0, 0, 0],
                        hsl: [0, 0, 0],
                        hsv: [0, 0, 0],
                        hwb: [0, 0, 0],
                        cmyk: [0, 0, 0, 0],
                        alpha: 1
                    };
                    var e;
                    "string" == typeof t ? (e = a.getRgba(t)) ? this.setValues("rgb", e) : (e = a.getHsla(t)) ? this.setValues("hsl", e) : (e = a.getHwb(t)) && this.setValues("hwb", e) : "object" == typeof t && (void 0 !== (e = t).r || void 0 !== e.red ? this.setValues("rgb", e) : void 0 !== e.l || void 0 !== e.lightness ? this.setValues("hsl", e) : void 0 !== e.v || void 0 !== e.value ? this.setValues("hsv", e) : void 0 !== e.w || void 0 !== e.whiteness ? this.setValues("hwb", e) : void 0 === e.c && void 0 === e.cyan || this.setValues("cmyk", e))
                };
            o.prototype = {
                isValid: function() {
                    return this.valid
                },
                rgb: function() {
                    return this.setSpace("rgb", arguments)
                },
                hsl: function() {
                    return this.setSpace("hsl", arguments)
                },
                hsv: function() {
                    return this.setSpace("hsv", arguments)
                },
                hwb: function() {
                    return this.setSpace("hwb", arguments)
                },
                cmyk: function() {
                    return this.setSpace("cmyk", arguments)
                },
                rgbArray: function() {
                    return this.values.rgb
                },
                hslArray: function() {
                    return this.values.hsl
                },
                hsvArray: function() {
                    return this.values.hsv
                },
                hwbArray: function() {
                    var t = this.values;
                    return 1 !== t.alpha ? t.hwb.concat([t.alpha]) : t.hwb
                },
                cmykArray: function() {
                    return this.values.cmyk
                },
                rgbaArray: function() {
                    var t = this.values;
                    return t.rgb.concat([t.alpha])
                },
                hslaArray: function() {
                    var t = this.values;
                    return t.hsl.concat([t.alpha])
                },
                alpha: function(t) {
                    return void 0 === t ? this.values.alpha : (this.setValues("alpha", t), this)
                },
                red: function(t) {
                    return this.setChannel("rgb", 0, t)
                },
                green: function(t) {
                    return this.setChannel("rgb", 1, t)
                },
                blue: function(t) {
                    return this.setChannel("rgb", 2, t)
                },
                hue: function(t) {
                    return t && (t = (t %= 360) < 0 ? 360 + t : t), this.setChannel("hsl", 0, t)
                },
                saturation: function(t) {
                    return this.setChannel("hsl", 1, t)
                },
                lightness: function(t) {
                    return this.setChannel("hsl", 2, t)
                },
                saturationv: function(t) {
                    return this.setChannel("hsv", 1, t)
                },
                whiteness: function(t) {
                    return this.setChannel("hwb", 1, t)
                },
                blackness: function(t) {
                    return this.setChannel("hwb", 2, t)
                },
                value: function(t) {
                    return this.setChannel("hsv", 2, t)
                },
                cyan: function(t) {
                    return this.setChannel("cmyk", 0, t)
                },
                magenta: function(t) {
                    return this.setChannel("cmyk", 1, t)
                },
                yellow: function(t) {
                    return this.setChannel("cmyk", 2, t)
                },
                black: function(t) {
                    return this.setChannel("cmyk", 3, t)
                },
                hexString: function() {
                    return a.hexString(this.values.rgb)
                },
                rgbString: function() {
                    return a.rgbString(this.values.rgb, this.values.alpha)
                },
                rgbaString: function() {
                    return a.rgbaString(this.values.rgb, this.values.alpha)
                },
                percentString: function() {
                    return a.percentString(this.values.rgb, this.values.alpha)
                },
                hslString: function() {
                    return a.hslString(this.values.hsl, this.values.alpha)
                },
                hslaString: function() {
                    return a.hslaString(this.values.hsl, this.values.alpha)
                },
                hwbString: function() {
                    return a.hwbString(this.values.hwb, this.values.alpha)
                },
                keyword: function() {
                    return a.keyword(this.values.rgb, this.values.alpha)
                },
                rgbNumber: function() {
                    var t = this.values.rgb;
                    return t[0] << 16 | t[1] << 8 | t[2]
                },
                luminosity: function() {
                    for (var t = this.values.rgb, e = [], n = 0; n < t.length; n++) {
                        var i = t[n] / 255;
                        e[n] = i <= .03928 ? i / 12.92 : Math.pow((i + .055) / 1.055, 2.4)
                    }
                    return .2126 * e[0] + .7152 * e[1] + .0722 * e[2]
                },
                contrast: function(t) {
                    var e = this.luminosity(),
                        n = t.luminosity();
                    return e > n ? (e + .05) / (n + .05) : (n + .05) / (e + .05)
                },
                level: function(t) {
                    var e = this.contrast(t);
                    return e >= 7.1 ? "AAA" : e >= 4.5 ? "AA" : ""
                },
                dark: function() {
                    var t = this.values.rgb;
                    return (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3 < 128
                },
                light: function() {
                    return !this.dark()
                },
                negate: function() {
                    for (var t = [], e = 0; e < 3; e++) t[e] = 255 - this.values.rgb[e];
                    return this.setValues("rgb", t), this
                },
                lighten: function(t) {
                    var e = this.values.hsl;
                    return e[2] += e[2] * t, this.setValues("hsl", e), this
                },
                darken: function(t) {
                    var e = this.values.hsl;
                    return e[2] -= e[2] * t, this.setValues("hsl", e), this
                },
                saturate: function(t) {
                    var e = this.values.hsl;
                    return e[1] += e[1] * t, this.setValues("hsl", e), this
                },
                desaturate: function(t) {
                    var e = this.values.hsl;
                    return e[1] -= e[1] * t, this.setValues("hsl", e), this
                },
                whiten: function(t) {
                    var e = this.values.hwb;
                    return e[1] += e[1] * t, this.setValues("hwb", e), this
                },
                blacken: function(t) {
                    var e = this.values.hwb;
                    return e[2] += e[2] * t, this.setValues("hwb", e), this
                },
                greyscale: function() {
                    var t = this.values.rgb,
                        e = .3 * t[0] + .59 * t[1] + .11 * t[2];
                    return this.setValues("rgb", [e, e, e]), this
                },
                clearer: function(t) {
                    var e = this.values.alpha;
                    return this.setValues("alpha", e - e * t), this
                },
                opaquer: function(t) {
                    var e = this.values.alpha;
                    return this.setValues("alpha", e + e * t), this
                },
                rotate: function(t) {
                    var e = this.values.hsl,
                        n = (e[0] + t) % 360;
                    return e[0] = n < 0 ? 360 + n : n, this.setValues("hsl", e), this
                },
                mix: function(t, e) {
                    var n = this,
                        i = t,
                        a = void 0 === e ? .5 : e,
                        o = 2 * a - 1,
                        r = n.alpha() - i.alpha(),
                        l = ((o * r == -1 ? o : (o + r) / (1 + o * r)) + 1) / 2,
                        s = 1 - l;
                    return this.rgb(l * n.red() + s * i.red(), l * n.green() + s * i.green(), l * n.blue() + s * i.blue()).alpha(n.alpha() * a + i.alpha() * (1 - a))
                },
                toJSON: function() {
                    return this.rgb()
                },
                clone: function() {
                    var t, e, n = new o,
                        i = this.values,
                        a = n.values;
                    for (var r in i) i.hasOwnProperty(r) && (t = i[r], "[object Array]" === (e = {}.toString.call(t)) ? a[r] = t.slice(0) : "[object Number]" === e ? a[r] = t : console.error("unexpected color value:", t));
                    return n
                }
            }, o.prototype.spaces = {
                rgb: ["red", "green", "blue"],
                hsl: ["hue", "saturation", "lightness"],
                hsv: ["hue", "saturation", "value"],
                hwb: ["hue", "whiteness", "blackness"],
                cmyk: ["cyan", "magenta", "yellow", "black"]
            }, o.prototype.maxes = {
                rgb: [255, 255, 255],
                hsl: [360, 100, 100],
                hsv: [360, 100, 100],
                hwb: [360, 100, 100],
                cmyk: [100, 100, 100, 100]
            }, o.prototype.getValues = function(t) {
                for (var e = this.values, n = {}, i = 0; i < t.length; i++) n[t.charAt(i)] = e[t][i];
                return 1 !== e.alpha && (n.a = e.alpha), n
            }, o.prototype.setValues = function(t, e) {
                var n, a = this.values,
                    o = this.spaces,
                    r = this.maxes,
                    l = 1;
                if (this.valid = !0, "alpha" === t) l = e;
                else if (e.length) a[t] = e.slice(0, t.length), l = e[t.length];
                else if (void 0 !== e[t.charAt(0)]) {
                    for (n = 0; n < t.length; n++) a[t][n] = e[t.charAt(n)];
                    l = e.a
                } else if (void 0 !== e[o[t][0]]) {
                    var s = o[t];
                    for (n = 0; n < t.length; n++) a[t][n] = e[s[n]];
                    l = e.alpha
                }
                if (a.alpha = Math.max(0, Math.min(1, void 0 === l ? a.alpha : l)), "alpha" === t) return !1;
                var u;
                for (n = 0; n < t.length; n++) u = Math.max(0, Math.min(r[t][n], a[t][n])), a[t][n] = Math.round(u);
                for (var d in o) d !== t && (a[d] = i[t][d](a[t]));
                return !0
            }, o.prototype.setSpace = function(t, e) {
                var n = e[0];
                return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n), this)
            }, o.prototype.setChannel = function(t, e, n) {
                var i = this.values[t];
                return void 0 === n ? i[e] : n === i[e] ? this : (i[e] = n, this.setValues(t, i), this)
            }, "undefined" != typeof window && (window.Color = o), e.exports = o
        }, {
            2: 2,
            5: 5
        }],
        4: [function(t, e, n) {
            function i(t) {
                var e, n, i, a = t[0] / 255,
                    o = t[1] / 255,
                    r = t[2] / 255,
                    l = Math.min(a, o, r),
                    s = Math.max(a, o, r),
                    u = s - l;
                return s == l ? e = 0 : a == s ? e = (o - r) / u : o == s ? e = 2 + (r - a) / u : r == s && (e = 4 + (a - o) / u), (e = Math.min(60 * e, 360)) < 0 && (e += 360), i = (l + s) / 2, n = s == l ? 0 : i <= .5 ? u / (s + l) : u / (2 - s - l), [e, 100 * n, 100 * i]
            }

            function a(t) {
                var e, n, i, a = t[0],
                    o = t[1],
                    r = t[2],
                    l = Math.min(a, o, r),
                    s = Math.max(a, o, r),
                    u = s - l;
                return n = 0 == s ? 0 : u / s * 1e3 / 10, s == l ? e = 0 : a == s ? e = (o - r) / u : o == s ? e = 2 + (r - a) / u : r == s && (e = 4 + (a - o) / u), (e = Math.min(60 * e, 360)) < 0 && (e += 360), i = s / 255 * 1e3 / 10, [e, n, i]
            }

            function o(t) {
                var e = t[0],
                    n = t[1],
                    a = t[2];
                return [i(t)[0], 100 * (1 / 255 * Math.min(e, Math.min(n, a))), 100 * (a = 1 - 1 / 255 * Math.max(e, Math.max(n, a)))]
            }

            function l(t) {
                var e, n, i, a, o = t[0] / 255,
                    r = t[1] / 255,
                    l = t[2] / 255;
                return a = Math.min(1 - o, 1 - r, 1 - l), e = (1 - o - a) / (1 - a) || 0, n = (1 - r - a) / (1 - a) || 0, i = (1 - l - a) / (1 - a) || 0, [100 * e, 100 * n, 100 * i, 100 * a]
            }

            function s(t) {
                return C[JSON.stringify(t)]
            }

            function u(t) {
                var e = t[0] / 255,
                    n = t[1] / 255,
                    i = t[2] / 255;
                return [100 * (.4124 * (e = e > .04045 ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92) + .3576 * (n = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92) + .1805 * (i = i > .04045 ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92)), 100 * (.2126 * e + .7152 * n + .0722 * i), 100 * (.0193 * e + .1192 * n + .9505 * i)]
            }

            function d(t) {
                var e, n, i, a = u(t),
                    o = a[0],
                    r = a[1],
                    l = a[2];
                return o /= 95.047, r /= 100, l /= 108.883, o = o > .008856 ? Math.pow(o, 1 / 3) : 7.787 * o + 16 / 116, r = r > .008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116, l = l > .008856 ? Math.pow(l, 1 / 3) : 7.787 * l + 16 / 116, e = 116 * r - 16, n = 500 * (o - r), i = 200 * (r - l), [e, n, i]
            }

            function c(t) {
                var e, n, i, a, o, r = t[0] / 360,
                    l = t[1] / 100,
                    s = t[2] / 100;
                if (0 == l) return o = 255 * s, [o, o, o];
                e = 2 * s - (n = s < .5 ? s * (1 + l) : s + l - s * l), a = [0, 0, 0];
                for (var u = 0; u < 3; u++)(i = r + 1 / 3 * -(u - 1)) < 0 && i++, i > 1 && i--, o = 6 * i < 1 ? e + 6 * (n - e) * i : 2 * i < 1 ? n : 3 * i < 2 ? e + (n - e) * (2 / 3 - i) * 6 : e, a[u] = 255 * o;
                return a
            }

            function h(t) {
                var e = t[0] / 60,
                    n = t[1] / 100,
                    i = t[2] / 100,
                    a = Math.floor(e) % 6,
                    o = e - Math.floor(e),
                    r = 255 * i * (1 - n),
                    l = 255 * i * (1 - n * o),
                    s = 255 * i * (1 - n * (1 - o)),
                    i = 255 * i;
                switch (a) {
                    case 0:
                        return [i, s, r];
                    case 1:
                        return [l, i, r];
                    case 2:
                        return [r, i, s];
                    case 3:
                        return [r, l, i];
                    case 4:
                        return [s, r, i];
                    case 5:
                        return [i, r, l]
                }
            }

            function f(t) {
                var e, n, i, a, o = t[0] / 360,
                    l = t[1] / 100,
                    s = t[2] / 100,
                    u = l + s;
                switch (u > 1 && (l /= u, s /= u), e = Math.floor(6 * o), n = 1 - s, i = 6 * o - e, 0 != (1 & e) && (i = 1 - i), a = l + i * (n - l), e) {
                    default:
                    case 6:
                    case 0:
                        r = n, g = a, b = l;
                        break;
                    case 1:
                        r = a, g = n, b = l;
                        break;
                    case 2:
                        r = l, g = n, b = a;
                        break;
                    case 3:
                        r = l, g = a, b = n;
                        break;
                    case 4:
                        r = a, g = l, b = n;
                        break;
                    case 5:
                        r = n, g = l, b = a
                }
                return [255 * r, 255 * g, 255 * b]
            }

            function p(t) {
                var e, n, i, a = t[0] / 100,
                    o = t[1] / 100,
                    r = t[2] / 100,
                    l = t[3] / 100;
                return e = 1 - Math.min(1, a * (1 - l) + l), n = 1 - Math.min(1, o * (1 - l) + l), i = 1 - Math.min(1, r * (1 - l) + l), [255 * e, 255 * n, 255 * i]
            }

            function v(t) {
                var e, n, i, a = t[0] / 100,
                    o = t[1] / 100,
                    r = t[2] / 100;
                return e = 3.2406 * a + -1.5372 * o + -.4986 * r, n = -.9689 * a + 1.8758 * o + .0415 * r, i = .0557 * a + -.204 * o + 1.057 * r, e = e > .0031308 ? 1.055 * Math.pow(e, 1 / 2.4) - .055 : e *= 12.92, n = n > .0031308 ? 1.055 * Math.pow(n, 1 / 2.4) - .055 : n *= 12.92, i = i > .0031308 ? 1.055 * Math.pow(i, 1 / 2.4) - .055 : i *= 12.92, e = Math.min(Math.max(0, e), 1), n = Math.min(Math.max(0, n), 1), i = Math.min(Math.max(0, i), 1), [255 * e, 255 * n, 255 * i]
            }

            function m(t) {
                var e, n, i, a = t[0],
                    o = t[1],
                    r = t[2];
                return a /= 95.047, o /= 100, r /= 108.883, a = a > .008856 ? Math.pow(a, 1 / 3) : 7.787 * a + 16 / 116, o = o > .008856 ? Math.pow(o, 1 / 3) : 7.787 * o + 16 / 116, r = r > .008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116, e = 116 * o - 16, n = 500 * (a - o), i = 200 * (o - r), [e, n, i]
            }

            function x(t) {
                var e, n, i, a, o = t[0],
                    r = t[1],
                    l = t[2];
                return o <= 8 ? a = (n = 100 * o / 903.3) / 100 * 7.787 + 16 / 116 : (n = 100 * Math.pow((o + 16) / 116, 3), a = Math.pow(n / 100, 1 / 3)), e = e / 95.047 <= .008856 ? e = 95.047 * (r / 500 + a - 16 / 116) / 7.787 : 95.047 * Math.pow(r / 500 + a, 3), i = i / 108.883 <= .008859 ? i = 108.883 * (a - l / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(a - l / 200, 3), [e, n, i]
            }

            function y(t) {
                var e, n, i, a = t[0],
                    o = t[1],
                    r = t[2];
                return e = Math.atan2(r, o), (n = 360 * e / 2 / Math.PI) < 0 && (n += 360), i = Math.sqrt(o * o + r * r), [a, i, n]
            }

            function k(t) {
                return v(x(t))
            }

            function w(t) {
                var e, n, i, a = t[0],
                    o = t[1];
                return i = t[2] / 360 * 2 * Math.PI, e = o * Math.cos(i), n = o * Math.sin(i), [a, e, n]
            }

            function M(t) {
                return S[t]
            }
            e.exports = {
                rgb2hsl: i,
                rgb2hsv: a,
                rgb2hwb: o,
                rgb2cmyk: l,
                rgb2keyword: s,
                rgb2xyz: u,
                rgb2lab: d,
                rgb2lch: function(t) {
                    return y(d(t))
                },
                hsl2rgb: c,
                hsl2hsv: function(t) {
                    var e, n, i = t[0],
                        a = t[1] / 100,
                        o = t[2] / 100;
                    return 0 === o ? [0, 0, 0] : (o *= 2, a *= o <= 1 ? o : 2 - o, n = (o + a) / 2, e = 2 * a / (o + a), [i, 100 * e, 100 * n])
                },
                hsl2hwb: function(t) {
                    return o(c(t))
                },
                hsl2cmyk: function(t) {
                    return l(c(t))
                },
                hsl2keyword: function(t) {
                    return s(c(t))
                },
                hsv2rgb: h,
                hsv2hsl: function(t) {
                    var e, n, i = t[0],
                        a = t[1] / 100,
                        o = t[2] / 100;
                    return n = (2 - a) * o, e = a * o, e /= n <= 1 ? n : 2 - n, e = e || 0, n /= 2, [i, 100 * e, 100 * n]
                },
                hsv2hwb: function(t) {
                    return o(h(t))
                },
                hsv2cmyk: function(t) {
                    return l(h(t))
                },
                hsv2keyword: function(t) {
                    return s(h(t))
                },
                hwb2rgb: f,
                hwb2hsl: function(t) {
                    return i(f(t))
                },
                hwb2hsv: function(t) {
                    return a(f(t))
                },
                hwb2cmyk: function(t) {
                    return l(f(t))
                },
                hwb2keyword: function(t) {
                    return s(f(t))
                },
                cmyk2rgb: p,
                cmyk2hsl: function(t) {
                    return i(p(t))
                },
                cmyk2hsv: function(t) {
                    return a(p(t))
                },
                cmyk2hwb: function(t) {
                    return o(p(t))
                },
                cmyk2keyword: function(t) {
                    return s(p(t))
                },
                keyword2rgb: M,
                keyword2hsl: function(t) {
                    return i(M(t))
                },
                keyword2hsv: function(t) {
                    return a(M(t))
                },
                keyword2hwb: function(t) {
                    return o(M(t))
                },
                keyword2cmyk: function(t) {
                    return l(M(t))
                },
                keyword2lab: function(t) {
                    return d(M(t))
                },
                keyword2xyz: function(t) {
                    return u(M(t))
                },
                xyz2rgb: v,
                xyz2lab: m,
                xyz2lch: function(t) {
                    return y(m(t))
                },
                lab2xyz: x,
                lab2rgb: k,
                lab2lch: y,
                lch2lab: w,
                lch2xyz: function(t) {
                    return x(w(t))
                },
                lch2rgb: function(t) {
                    return k(w(t))
                }
            };
            var S = {
                    aliceblue: [240, 248, 255],
                    antiquewhite: [250, 235, 215],
                    aqua: [0, 255, 255],
                    aquamarine: [127, 255, 212],
                    azure: [240, 255, 255],
                    beige: [245, 245, 220],
                    bisque: [255, 228, 196],
                    black: [0, 0, 0],
                    blanchedalmond: [255, 235, 205],
                    blue: [0, 0, 255],
                    blueviolet: [138, 43, 226],
                    brown: [165, 42, 42],
                    burlywood: [222, 184, 135],
                    cadetblue: [95, 158, 160],
                    chartreuse: [127, 255, 0],
                    chocolate: [210, 105, 30],
                    coral: [255, 127, 80],
                    cornflowerblue: [100, 149, 237],
                    cornsilk: [255, 248, 220],
                    crimson: [220, 20, 60],
                    cyan: [0, 255, 255],
                    darkblue: [0, 0, 139],
                    darkcyan: [0, 139, 139],
                    darkgoldenrod: [184, 134, 11],
                    darkgray: [169, 169, 169],
                    darkgreen: [0, 100, 0],
                    darkgrey: [169, 169, 169],
                    darkkhaki: [189, 183, 107],
                    darkmagenta: [139, 0, 139],
                    darkolivegreen: [85, 107, 47],
                    darkorange: [255, 140, 0],
                    darkorchid: [153, 50, 204],
                    darkred: [139, 0, 0],
                    darksalmon: [233, 150, 122],
                    darkseagreen: [143, 188, 143],
                    darkslateblue: [72, 61, 139],
                    darkslategray: [47, 79, 79],
                    darkslategrey: [47, 79, 79],
                    darkturquoise: [0, 206, 209],
                    darkviolet: [148, 0, 211],
                    deeppink: [255, 20, 147],
                    deepskyblue: [0, 191, 255],
                    dimgray: [105, 105, 105],
                    dimgrey: [105, 105, 105],
                    dodgerblue: [30, 144, 255],
                    firebrick: [178, 34, 34],
                    floralwhite: [255, 250, 240],
                    forestgreen: [34, 139, 34],
                    fuchsia: [255, 0, 255],
                    gainsboro: [220, 220, 220],
                    ghostwhite: [248, 248, 255],
                    gold: [255, 215, 0],
                    goldenrod: [218, 165, 32],
                    gray: [128, 128, 128],
                    green: [0, 128, 0],
                    greenyellow: [173, 255, 47],
                    grey: [128, 128, 128],
                    honeydew: [240, 255, 240],
                    hotpink: [255, 105, 180],
                    indianred: [205, 92, 92],
                    indigo: [75, 0, 130],
                    ivory: [255, 255, 240],
                    khaki: [240, 230, 140],
                    lavender: [230, 230, 250],
                    lavenderblush: [255, 240, 245],
                    lawngreen: [124, 252, 0],
                    lemonchiffon: [255, 250, 205],
                    lightblue: [173, 216, 230],
                    lightcoral: [240, 128, 128],
                    lightcyan: [224, 255, 255],
                    lightgoldenrodyellow: [250, 250, 210],
                    lightgray: [211, 211, 211],
                    lightgreen: [144, 238, 144],
                    lightgrey: [211, 211, 211],
                    lightpink: [255, 182, 193],
                    lightsalmon: [255, 160, 122],
                    lightseagreen: [32, 178, 170],
                    lightskyblue: [135, 206, 250],
                    lightslategray: [119, 136, 153],
                    lightslategrey: [119, 136, 153],
                    lightsteelblue: [176, 196, 222],
                    lightyellow: [255, 255, 224],
                    lime: [0, 255, 0],
                    limegreen: [50, 205, 50],
                    linen: [250, 240, 230],
                    magenta: [255, 0, 255],
                    maroon: [128, 0, 0],
                    mediumaquamarine: [102, 205, 170],
                    mediumblue: [0, 0, 205],
                    mediumorchid: [186, 85, 211],
                    mediumpurple: [147, 112, 219],
                    mediumseagreen: [60, 179, 113],
                    mediumslateblue: [123, 104, 238],
                    mediumspringgreen: [0, 250, 154],
                    mediumturquoise: [72, 209, 204],
                    mediumvioletred: [199, 21, 133],
                    midnightblue: [25, 25, 112],
                    mintcream: [245, 255, 250],
                    mistyrose: [255, 228, 225],
                    moccasin: [255, 228, 181],
                    navajowhite: [255, 222, 173],
                    navy: [0, 0, 128],
                    oldlace: [253, 245, 230],
                    olive: [128, 128, 0],
                    olivedrab: [107, 142, 35],
                    orange: [255, 165, 0],
                    orangered: [255, 69, 0],
                    orchid: [218, 112, 214],
                    palegoldenrod: [238, 232, 170],
                    palegreen: [152, 251, 152],
                    paleturquoise: [175, 238, 238],
                    palevioletred: [219, 112, 147],
                    papayawhip: [255, 239, 213],
                    peachpuff: [255, 218, 185],
                    peru: [205, 133, 63],
                    pink: [255, 192, 203],
                    plum: [221, 160, 221],
                    powderblue: [176, 224, 230],
                    purple: [128, 0, 128],
                    rebeccapurple: [102, 51, 153],
                    red: [255, 0, 0],
                    rosybrown: [188, 143, 143],
                    royalblue: [65, 105, 225],
                    saddlebrown: [139, 69, 19],
                    salmon: [250, 128, 114],
                    sandybrown: [244, 164, 96],
                    seagreen: [46, 139, 87],
                    seashell: [255, 245, 238],
                    sienna: [160, 82, 45],
                    silver: [192, 192, 192],
                    skyblue: [135, 206, 235],
                    slateblue: [106, 90, 205],
                    slategray: [112, 128, 144],
                    slategrey: [112, 128, 144],
                    snow: [255, 250, 250],
                    springgreen: [0, 255, 127],
                    steelblue: [70, 130, 180],
                    tan: [210, 180, 140],
                    teal: [0, 128, 128],
                    thistle: [216, 191, 216],
                    tomato: [255, 99, 71],
                    turquoise: [64, 224, 208],
                    violet: [238, 130, 238],
                    wheat: [245, 222, 179],
                    white: [255, 255, 255],
                    whitesmoke: [245, 245, 245],
                    yellow: [255, 255, 0],
                    yellowgreen: [154, 205, 50]
                },
                C = {};
            for (var _ in S) C[JSON.stringify(S[_])] = _
        }, {}],
        5: [function(t, e, n) {
            var i = t(4),
                a = function() {
                    return new u
                };
            for (var o in i) {
                a[o + "Raw"] = function(t) {
                    return function(e) {
                        return "number" == typeof e && (e = Array.prototype.slice.call(arguments)), i[t](e)
                    }
                }(o);
                var r = /(\w+)2(\w+)/.exec(o),
                    l = r[1],
                    s = r[2];
                (a[l] = a[l] || {})[s] = a[o] = function(t) {
                    return function(e) {
                        "number" == typeof e && (e = Array.prototype.slice.call(arguments));
                        var n = i[t](e);
                        if ("string" == typeof n || void 0 === n) return n;
                        for (var a = 0; a < n.length; a++) n[a] = Math.round(n[a]);
                        return n
                    }
                }(o)
            }
            var u = function() {
                this.convs = {}
            };
            u.prototype.routeSpace = function(t, e) {
                var n = e[0];
                return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n))
            }, u.prototype.setValues = function(t, e) {
                return this.space = t, this.convs = {}, this.convs[t] = e, this
            }, u.prototype.getValues = function(t) {
                var e = this.convs[t];
                if (!e) {
                    var n = this.space,
                        i = this.convs[n];
                    e = a[n][t](i), this.convs[t] = e
                }
                return e
            }, ["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function(t) {
                u.prototype[t] = function(e) {
                    return this.routeSpace(t, arguments)
                }
            }), e.exports = a
        }, {
            4: 4
        }],
        6: [function(t, e, n) {
            "use strict";
            e.exports = {
                aliceblue: [240, 248, 255],
                antiquewhite: [250, 235, 215],
                aqua: [0, 255, 255],
                aquamarine: [127, 255, 212],
                azure: [240, 255, 255],
                beige: [245, 245, 220],
                bisque: [255, 228, 196],
                black: [0, 0, 0],
                blanchedalmond: [255, 235, 205],
                blue: [0, 0, 255],
                blueviolet: [138, 43, 226],
                brown: [165, 42, 42],
                burlywood: [222, 184, 135],
                cadetblue: [95, 158, 160],
                chartreuse: [127, 255, 0],
                chocolate: [210, 105, 30],
                coral: [255, 127, 80],
                cornflowerblue: [100, 149, 237],
                cornsilk: [255, 248, 220],
                crimson: [220, 20, 60],
                cyan: [0, 255, 255],
                darkblue: [0, 0, 139],
                darkcyan: [0, 139, 139],
                darkgoldenrod: [184, 134, 11],
                darkgray: [169, 169, 169],
                darkgreen: [0, 100, 0],
                darkgrey: [169, 169, 169],
                darkkhaki: [189, 183, 107],
                darkmagenta: [139, 0, 139],
                darkolivegreen: [85, 107, 47],
                darkorange: [255, 140, 0],
                darkorchid: [153, 50, 204],
                darkred: [139, 0, 0],
                darksalmon: [233, 150, 122],
                darkseagreen: [143, 188, 143],
                darkslateblue: [72, 61, 139],
                darkslategray: [47, 79, 79],
                darkslategrey: [47, 79, 79],
                darkturquoise: [0, 206, 209],
                darkviolet: [148, 0, 211],
                deeppink: [255, 20, 147],
                deepskyblue: [0, 191, 255],
                dimgray: [105, 105, 105],
                dimgrey: [105, 105, 105],
                dodgerblue: [30, 144, 255],
                firebrick: [178, 34, 34],
                floralwhite: [255, 250, 240],
                forestgreen: [34, 139, 34],
                fuchsia: [255, 0, 255],
                gainsboro: [220, 220, 220],
                ghostwhite: [248, 248, 255],
                gold: [255, 215, 0],
                goldenrod: [218, 165, 32],
                gray: [128, 128, 128],
                green: [0, 128, 0],
                greenyellow: [173, 255, 47],
                grey: [128, 128, 128],
                honeydew: [240, 255, 240],
                hotpink: [255, 105, 180],
                indianred: [205, 92, 92],
                indigo: [75, 0, 130],
                ivory: [255, 255, 240],
                khaki: [240, 230, 140],
                lavender: [230, 230, 250],
                lavenderblush: [255, 240, 245],
                lawngreen: [124, 252, 0],
                lemonchiffon: [255, 250, 205],
                lightblue: [173, 216, 230],
                lightcoral: [240, 128, 128],
                lightcyan: [224, 255, 255],
                lightgoldenrodyellow: [250, 250, 210],
                lightgray: [211, 211, 211],
                lightgreen: [144, 238, 144],
                lightgrey: [211, 211, 211],
                lightpink: [255, 182, 193],
                lightsalmon: [255, 160, 122],
                lightseagreen: [32, 178, 170],
                lightskyblue: [135, 206, 250],
                lightslategray: [119, 136, 153],
                lightslategrey: [119, 136, 153],
                lightsteelblue: [176, 196, 222],
                lightyellow: [255, 255, 224],
                lime: [0, 255, 0],
                limegreen: [50, 205, 50],
                linen: [250, 240, 230],
                magenta: [255, 0, 255],
                maroon: [128, 0, 0],
                mediumaquamarine: [102, 205, 170],
                mediumblue: [0, 0, 205],
                mediumorchid: [186, 85, 211],
                mediumpurple: [147, 112, 219],
                mediumseagreen: [60, 179, 113],
                mediumslateblue: [123, 104, 238],
                mediumspringgreen: [0, 250, 154],
                mediumturquoise: [72, 209, 204],
                mediumvioletred: [199, 21, 133],
                midnightblue: [25, 25, 112],
                mintcream: [245, 255, 250],
                mistyrose: [255, 228, 225],
                moccasin: [255, 228, 181],
                navajowhite: [255, 222, 173],
                navy: [0, 0, 128],
                oldlace: [253, 245, 230],
                olive: [128, 128, 0],
                olivedrab: [107, 142, 35],
                orange: [255, 165, 0],
                orangered: [255, 69, 0],
                orchid: [218, 112, 214],
                palegoldenrod: [238, 232, 170],
                palegreen: [152, 251, 152],
                paleturquoise: [175, 238, 238],
                palevioletred: [219, 112, 147],
                papayawhip: [255, 239, 213],
                peachpuff: [255, 218, 185],
                peru: [205, 133, 63],
                pink: [255, 192, 203],
                plum: [221, 160, 221],
                powderblue: [176, 224, 230],
                purple: [128, 0, 128],
                rebeccapurple: [102, 51, 153],
                red: [255, 0, 0],
                rosybrown: [188, 143, 143],
                royalblue: [65, 105, 225],
                saddlebrown: [139, 69, 19],
                salmon: [250, 128, 114],
                sandybrown: [244, 164, 96],
                seagreen: [46, 139, 87],
                seashell: [255, 245, 238],
                sienna: [160, 82, 45],
                silver: [192, 192, 192],
                skyblue: [135, 206, 235],
                slateblue: [106, 90, 205],
                slategray: [112, 128, 144],
                slategrey: [112, 128, 144],
                snow: [255, 250, 250],
                springgreen: [0, 255, 127],
                steelblue: [70, 130, 180],
                tan: [210, 180, 140],
                teal: [0, 128, 128],
                thistle: [216, 191, 216],
                tomato: [255, 99, 71],
                turquoise: [64, 224, 208],
                violet: [238, 130, 238],
                wheat: [245, 222, 179],
                white: [255, 255, 255],
                whitesmoke: [245, 245, 245],
                yellow: [255, 255, 0],
                yellowgreen: [154, 205, 50]
            }
        }, {}],
        7: [function(t, e, n) {
            var i = t(29)();
            i.helpers = t(45), t(27)(i), i.defaults = t(25), i.Element = t(26), i.elements = t(40), i.Interaction = t(28), i.platform = t(48), t(31)(i), t(22)(i), t(23)(i), t(24)(i), t(30)(i), t(33)(i), t(32)(i), t(35)(i), t(54)(i), t(52)(i), t(53)(i), t(55)(i), t(56)(i), t(57)(i), t(15)(i), t(16)(i), t(17)(i), t(18)(i), t(19)(i), t(20)(i), t(21)(i), t(8)(i), t(9)(i), t(10)(i), t(11)(i), t(12)(i), t(13)(i), t(14)(i);
            var a = [];
            a.push(t(49)(i), t(50)(i), t(51)(i)), i.plugins.register(a), i.platform.initialize(), e.exports = i, "undefined" != typeof window && (window.Chart = i), i.canvasHelpers = i.helpers.canvas
        }, {
            10: 10,
            11: 11,
            12: 12,
            13: 13,
            14: 14,
            15: 15,
            16: 16,
            17: 17,
            18: 18,
            19: 19,
            20: 20,
            21: 21,
            22: 22,
            23: 23,
            24: 24,
            25: 25,
            26: 26,
            27: 27,
            28: 28,
            29: 29,
            30: 30,
            31: 31,
            32: 32,
            33: 33,
            35: 35,
            40: 40,
            45: 45,
            48: 48,
            49: 49,
            50: 50,
            51: 51,
            52: 52,
            53: 53,
            54: 54,
            55: 55,
            56: 56,
            57: 57,
            8: 8,
            9: 9
        }],
        8: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Bar = function(e, n) {
                    return n.type = "bar", new t(e, n)
                }
            }
        }, {}],
        9: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Bubble = function(e, n) {
                    return n.type = "bubble", new t(e, n)
                }
            }
        }, {}],
        10: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Doughnut = function(e, n) {
                    return n.type = "doughnut", new t(e, n)
                }
            }
        }, {}],
        11: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Line = function(e, n) {
                    return n.type = "line", new t(e, n)
                }
            }
        }, {}],
        12: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.PolarArea = function(e, n) {
                    return n.type = "polarArea", new t(e, n)
                }
            }
        }, {}],
        13: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Radar = function(e, n) {
                    return n.type = "radar", new t(e, n)
                }
            }
        }, {}],
        14: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                t.Scatter = function(e, n) {
                    return n.type = "scatter", new t(e, n)
                }
            }
        }, {}],
        15: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("bar", {
                hover: {
                    mode: "label"
                },
                scales: {
                    xAxes: [{
                        type: "category",
                        categoryPercentage: .8,
                        barPercentage: .9,
                        offset: !0,
                        gridLines: {
                            offsetGridLines: !0
                        }
                    }],
                    yAxes: [{
                        type: "linear"
                    }]
                }
            }), i._set("horizontalBar", {
                hover: {
                    mode: "index",
                    axis: "y"
                },
                scales: {
                    xAxes: [{
                        type: "linear",
                        position: "bottom"
                    }],
                    yAxes: [{
                        position: "left",
                        type: "category",
                        categoryPercentage: .8,
                        barPercentage: .9,
                        offset: !0,
                        gridLines: {
                            offsetGridLines: !0
                        }
                    }]
                },
                elements: {
                    rectangle: {
                        borderSkipped: "left"
                    }
                },
                tooltips: {
                    callbacks: {
                        title: function(t, e) {
                            var n = "";
                            return t.length > 0 && (t[0].yLabel ? n = t[0].yLabel : e.labels.length > 0 && t[0].index < e.labels.length && (n = e.labels[t[0].index])), n
                        },
                        label: function(t, e) {
                            return (e.datasets[t.datasetIndex].label || "") + ": " + t.xLabel
                        }
                    },
                    mode: "index",
                    axis: "y"
                }
            }), e.exports = function(t) {
                t.controllers.bar = t.DatasetController.extend({
                    dataElementType: a.Rectangle,
                    initialize: function() {
                        var e, n = this;
                        t.DatasetController.prototype.initialize.apply(n, arguments), (e = n.getMeta()).stack = n.getDataset().stack, e.bar = !0
                    },
                    update: function(t) {
                        var e, n, i = this,
                            a = i.getMeta().data;
                        for (i._ruler = i.getRuler(), e = 0, n = a.length; e < n; ++e) i.updateElement(a[e], e, t)
                    },
                    updateElement: function(t, e, n) {
                        var i = this,
                            a = i.chart,
                            r = i.getMeta(),
                            l = i.getDataset(),
                            s = t.custom || {},
                            u = a.options.elements.rectangle;
                        t._xScale = i.getScaleForId(r.xAxisID), t._yScale = i.getScaleForId(r.yAxisID), t._datasetIndex = i.index, t._index = e, t._model = {
                            datasetLabel: l.label,
                            label: a.data.labels[e],
                            borderSkipped: s.borderSkipped ? s.borderSkipped : u.borderSkipped,
                            backgroundColor: s.backgroundColor ? s.backgroundColor : o.valueAtIndexOrDefault(l.backgroundColor, e, u.backgroundColor),
                            borderColor: s.borderColor ? s.borderColor : o.valueAtIndexOrDefault(l.borderColor, e, u.borderColor),
                            borderWidth: s.borderWidth ? s.borderWidth : o.valueAtIndexOrDefault(l.borderWidth, e, u.borderWidth)
                        }, i.updateElementGeometry(t, e, n), t.pivot()
                    },
                    updateElementGeometry: function(t, e, n) {
                        var i = this,
                            a = t._model,
                            o = i.getValueScale(),
                            r = o.getBasePixel(),
                            l = o.isHorizontal(),
                            s = i._ruler || i.getRuler(),
                            u = i.calculateBarValuePixels(i.index, e),
                            d = i.calculateBarIndexPixels(i.index, e, s);
                        a.horizontal = l, a.base = n ? r : u.base, a.x = l ? n ? r : u.head : d.center, a.y = l ? d.center : n ? r : u.head, a.height = l ? d.size : void 0, a.width = l ? void 0 : d.size
                    },
                    getValueScaleId: function() {
                        return this.getMeta().yAxisID
                    },
                    getIndexScaleId: function() {
                        return this.getMeta().xAxisID
                    },
                    getValueScale: function() {
                        return this.getScaleForId(this.getValueScaleId())
                    },
                    getIndexScale: function() {
                        return this.getScaleForId(this.getIndexScaleId())
                    },
                    getStackCount: function(t) {
                        var e, n, i = this,
                            a = i.chart,
                            o = i.getIndexScale().options.stacked,
                            r = void 0 === t ? a.data.datasets.length : t + 1,
                            l = [];
                        for (e = 0; e < r; ++e)(n = a.getDatasetMeta(e)).bar && a.isDatasetVisible(e) && (!1 === o || !0 === o && -1 === l.indexOf(n.stack) || void 0 === o && (void 0 === n.stack || -1 === l.indexOf(n.stack))) && l.push(n.stack);
                        return l.length
                    },
                    getStackIndex: function(t) {
                        return this.getStackCount(t) - 1
                    },
                    getRuler: function() {
                        var t, e, n = this,
                            i = n.getIndexScale(),
                            a = n.getStackCount(),
                            o = n.index,
                            r = [],
                            l = i.isHorizontal(),
                            s = l ? i.left : i.top,
                            u = s + (l ? i.width : i.height);
                        for (t = 0, e = n.getMeta().data.length; t < e; ++t) r.push(i.getPixelForValue(null, t, o));
                        return {
                            pixels: r,
                            start: s,
                            end: u,
                            stackCount: a,
                            scale: i
                        }
                    },
                    calculateBarValuePixels: function(t, e) {
                        var n, i, a, o, r, l, s = this,
                            u = s.chart,
                            d = s.getMeta(),
                            c = s.getValueScale(),
                            h = u.data.datasets,
                            f = c.getRightValue(h[t].data[e]),
                            g = c.options.stacked,
                            p = d.stack,
                            v = 0;
                        if (g || void 0 === g && void 0 !== p)
                            for (n = 0; n < t; ++n)(i = u.getDatasetMeta(n)).bar && i.stack === p && i.controller.getValueScaleId() === c.id && u.isDatasetVisible(n) && (a = c.getRightValue(h[n].data[e]), (f < 0 && a < 0 || f >= 0 && a > 0) && (v += a));
                        return o = c.getPixelForValue(v), r = c.getPixelForValue(v + f), l = (r - o) / 2, {
                            size: l,
                            base: o,
                            head: r,
                            center: r + l / 2
                        }
                    },
                    calculateBarIndexPixels: function(t, e, n) {
                        var i, a, r, l, s, u, d = this,
                            c = n.scale.options,
                            h = d.getStackIndex(t),
                            f = n.pixels,
                            g = f[e],
                            p = f.length,
                            v = n.start,
                            m = n.end;
                        return 1 === p ? (i = g > v ? g - v : m - g, a = g < m ? m - g : g - v) : (e > 0 && (i = (g - f[e - 1]) / 2, e === p - 1 && (a = i)), e < p - 1 && (a = (f[e + 1] - g) / 2, 0 === e && (i = a))), r = i * c.categoryPercentage, l = a * c.categoryPercentage, s = (r + l) / n.stackCount, u = s * c.barPercentage, u = Math.min(o.valueOrDefault(c.barThickness, u), o.valueOrDefault(c.maxBarThickness, 1 / 0)), g -= r, g += s * h, g += (s - u) / 2, {
                            size: u,
                            base: g,
                            head: g + u,
                            center: g + u / 2
                        }
                    },
                    draw: function() {
                        var t = this,
                            e = t.chart,
                            n = t.getValueScale(),
                            i = t.getMeta().data,
                            a = t.getDataset(),
                            r = i.length,
                            l = 0;
                        for (o.canvas.clipArea(e.ctx, e.chartArea); l < r; ++l) isNaN(n.getRightValue(a.data[l])) || i[l].draw();
                        o.canvas.unclipArea(e.ctx)
                    },
                    setHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t._index,
                            i = t.custom || {},
                            a = t._model;
                        a.backgroundColor = i.hoverBackgroundColor ? i.hoverBackgroundColor : o.valueAtIndexOrDefault(e.hoverBackgroundColor, n, o.getHoverColor(a.backgroundColor)), a.borderColor = i.hoverBorderColor ? i.hoverBorderColor : o.valueAtIndexOrDefault(e.hoverBorderColor, n, o.getHoverColor(a.borderColor)), a.borderWidth = i.hoverBorderWidth ? i.hoverBorderWidth : o.valueAtIndexOrDefault(e.hoverBorderWidth, n, a.borderWidth)
                    },
                    removeHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t._index,
                            i = t.custom || {},
                            a = t._model,
                            r = this.chart.options.elements.rectangle;
                        a.backgroundColor = i.backgroundColor ? i.backgroundColor : o.valueAtIndexOrDefault(e.backgroundColor, n, r.backgroundColor), a.borderColor = i.borderColor ? i.borderColor : o.valueAtIndexOrDefault(e.borderColor, n, r.borderColor), a.borderWidth = i.borderWidth ? i.borderWidth : o.valueAtIndexOrDefault(e.borderWidth, n, r.borderWidth)
                    }
                }), t.controllers.horizontalBar = t.controllers.bar.extend({
                    getValueScaleId: function() {
                        return this.getMeta().xAxisID
                    },
                    getIndexScaleId: function() {
                        return this.getMeta().yAxisID
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        16: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("bubble", {
                hover: {
                    mode: "single"
                },
                scales: {
                    xAxes: [{
                        type: "linear",
                        position: "bottom",
                        id: "x-axis-0"
                    }],
                    yAxes: [{
                        type: "linear",
                        position: "left",
                        id: "y-axis-0"
                    }]
                },
                tooltips: {
                    callbacks: {
                        title: function() {
                            return ""
                        },
                        label: function(t, e) {
                            var n = e.datasets[t.datasetIndex].label || "",
                                i = e.datasets[t.datasetIndex].data[t.index];
                            return n + ": (" + t.xLabel + ", " + t.yLabel + ", " + i.r + ")"
                        }
                    }
                }
            }), e.exports = function(t) {
                t.controllers.bubble = t.DatasetController.extend({
                    dataElementType: a.Point,
                    update: function(t) {
                        var e = this,
                            n = e.getMeta().data;
                        o.each(n, function(n, i) {
                            e.updateElement(n, i, t)
                        })
                    },
                    updateElement: function(t, e, n) {
                        var i = this,
                            a = i.getMeta(),
                            o = t.custom || {},
                            r = i.getScaleForId(a.xAxisID),
                            l = i.getScaleForId(a.yAxisID),
                            s = i._resolveElementOptions(t, e),
                            u = i.getDataset().data[e],
                            d = i.index,
                            c = n ? r.getPixelForDecimal(.5) : r.getPixelForValue("object" == typeof u ? u : NaN, e, d),
                            h = n ? l.getBasePixel() : l.getPixelForValue(u, e, d);
                        t._xScale = r, t._yScale = l, t._options = s, t._datasetIndex = d, t._index = e, t._model = {
                            backgroundColor: s.backgroundColor,
                            borderColor: s.borderColor,
                            borderWidth: s.borderWidth,
                            hitRadius: s.hitRadius,
                            pointStyle: s.pointStyle,
                            radius: n ? 0 : s.radius,
                            skip: o.skip || isNaN(c) || isNaN(h),
                            x: c,
                            y: h
                        }, t.pivot()
                    },
                    setHoverStyle: function(t) {
                        var e = t._model,
                            n = t._options;
                        e.backgroundColor = o.valueOrDefault(n.hoverBackgroundColor, o.getHoverColor(n.backgroundColor)), e.borderColor = o.valueOrDefault(n.hoverBorderColor, o.getHoverColor(n.borderColor)), e.borderWidth = o.valueOrDefault(n.hoverBorderWidth, n.borderWidth), e.radius = n.radius + n.hoverRadius
                    },
                    removeHoverStyle: function(t) {
                        var e = t._model,
                            n = t._options;
                        e.backgroundColor = n.backgroundColor, e.borderColor = n.borderColor, e.borderWidth = n.borderWidth, e.radius = n.radius
                    },
                    _resolveElementOptions: function(t, e) {
                        var n, i, a, r = this,
                            l = r.chart,
                            s = l.data.datasets[r.index],
                            u = t.custom || {},
                            d = l.options.elements.point,
                            c = o.options.resolve,
                            h = s.data[e],
                            f = {},
                            g = {
                                chart: l,
                                dataIndex: e,
                                dataset: s,
                                datasetIndex: r.index
                            },
                            p = ["backgroundColor", "borderColor", "borderWidth", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth", "hoverRadius", "hitRadius", "pointStyle"];
                        for (n = 0, i = p.length; n < i; ++n) f[a = p[n]] = c([u[a], s[a], d[a]], g, e);
                        return f.radius = c([u.radius, h ? h.r : void 0, s.radius, d.radius], g, e), f
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        17: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("doughnut", {
                animation: {
                    animateRotate: !0,
                    animateScale: !1
                },
                hover: {
                    mode: "single"
                },
                legendCallback: function(t) {
                    var e = [];
                    e.push('<ul class="' + t.id + '-legend">');
                    var n = t.data,
                        i = n.datasets,
                        a = n.labels;
                    if (i.length)
                        for (var o = 0; o < i[0].data.length; ++o) e.push('<li><span style="background-color:' + i[0].backgroundColor[o] + '"></span>'), a[o] && e.push(a[o]), e.push("</li>");
                    return e.push("</ul>"), e.join("")
                },
                legend: {
                    labels: {
                        generateLabels: function(t) {
                            var e = t.data;
                            return e.labels.length && e.datasets.length ? e.labels.map(function(n, i) {
                                var a = t.getDatasetMeta(0),
                                    r = e.datasets[0],
                                    l = a.data[i],
                                    s = l && l.custom || {},
                                    u = o.valueAtIndexOrDefault,
                                    d = t.options.elements.arc;
                                return {
                                    text: n,
                                    fillStyle: s.backgroundColor ? s.backgroundColor : u(r.backgroundColor, i, d.backgroundColor),
                                    strokeStyle: s.borderColor ? s.borderColor : u(r.borderColor, i, d.borderColor),
                                    lineWidth: s.borderWidth ? s.borderWidth : u(r.borderWidth, i, d.borderWidth),
                                    hidden: isNaN(r.data[i]) || a.data[i].hidden,
                                    index: i
                                }
                            }) : []
                        }
                    },
                    onClick: function(t, e) {
                        var n, i, a, o = e.index,
                            r = this.chart;
                        for (n = 0, i = (r.data.datasets || []).length; n < i; ++n)(a = r.getDatasetMeta(n)).data[o] && (a.data[o].hidden = !a.data[o].hidden);
                        r.update()
                    }
                },
                cutoutPercentage: 50,
                rotation: -.5 * Math.PI,
                circumference: 2 * Math.PI,
                tooltips: {
                    callbacks: {
                        title: function() {
                            return ""
                        },
                        label: function(t, e) {
                            var n = e.labels[t.index],
                                i = ": " + e.datasets[t.datasetIndex].data[t.index];
                            return o.isArray(n) ? (n = n.slice())[0] += i : n += i, n
                        }
                    }
                }
            }), i._set("pie", o.clone(i.doughnut)), i._set("pie", {
                cutoutPercentage: 0
            }), e.exports = function(t) {
                t.controllers.doughnut = t.controllers.pie = t.DatasetController.extend({
                    dataElementType: a.Arc,
                    linkScales: o.noop,
                    getRingIndex: function(t) {
                        for (var e = 0, n = 0; n < t; ++n) this.chart.isDatasetVisible(n) && ++e;
                        return e
                    },
                    update: function(t) {
                        var e = this,
                            n = e.chart,
                            i = n.chartArea,
                            a = n.options,
                            r = a.elements.arc,
                            l = i.right - i.left - r.borderWidth,
                            s = i.bottom - i.top - r.borderWidth,
                            u = Math.min(l, s),
                            d = {
                                x: 0,
                                y: 0
                            },
                            c = e.getMeta(),
                            h = a.cutoutPercentage,
                            f = a.circumference;
                        if (f < 2 * Math.PI) {
                            var g = a.rotation % (2 * Math.PI),
                                p = (g += 2 * Math.PI * (g >= Math.PI ? -1 : g < -Math.PI ? 1 : 0)) + f,
                                v = {
                                    x: Math.cos(g),
                                    y: Math.sin(g)
                                },
                                m = {
                                    x: Math.cos(p),
                                    y: Math.sin(p)
                                },
                                b = g <= 0 && p >= 0 || g <= 2 * Math.PI && 2 * Math.PI <= p,
                                x = g <= .5 * Math.PI && .5 * Math.PI <= p || g <= 2.5 * Math.PI && 2.5 * Math.PI <= p,
                                y = g <= -Math.PI && -Math.PI <= p || g <= Math.PI && Math.PI <= p,
                                k = g <= .5 * -Math.PI && .5 * -Math.PI <= p || g <= 1.5 * Math.PI && 1.5 * Math.PI <= p,
                                w = h / 100,
                                M = {
                                    x: y ? -1 : Math.min(v.x * (v.x < 0 ? 1 : w), m.x * (m.x < 0 ? 1 : w)),
                                    y: k ? -1 : Math.min(v.y * (v.y < 0 ? 1 : w), m.y * (m.y < 0 ? 1 : w))
                                },
                                S = {
                                    x: b ? 1 : Math.max(v.x * (v.x > 0 ? 1 : w), m.x * (m.x > 0 ? 1 : w)),
                                    y: x ? 1 : Math.max(v.y * (v.y > 0 ? 1 : w), m.y * (m.y > 0 ? 1 : w))
                                },
                                C = {
                                    width: .5 * (S.x - M.x),
                                    height: .5 * (S.y - M.y)
                                };
                            u = Math.min(l / C.width, s / C.height), d = {
                                x: -.5 * (S.x + M.x),
                                y: -.5 * (S.y + M.y)
                            }
                        }
                        n.borderWidth = e.getMaxBorderWidth(c.data), n.outerRadius = Math.max((u - n.borderWidth) / 2, 0), n.innerRadius = Math.max(h ? n.outerRadius / 100 * h : 0, 0), n.radiusLength = (n.outerRadius - n.innerRadius) / n.getVisibleDatasetCount(), n.offsetX = d.x * n.outerRadius, n.offsetY = d.y * n.outerRadius, c.total = e.calculateTotal(), e.outerRadius = n.outerRadius - n.radiusLength * e.getRingIndex(e.index), e.innerRadius = Math.max(e.outerRadius - n.radiusLength, 0), o.each(c.data, function(n, i) {
                            e.updateElement(n, i, t)
                        })
                    },
                    updateElement: function(t, e, n) {
                        var i = this,
                            a = i.chart,
                            r = a.chartArea,
                            l = a.options,
                            s = l.animation,
                            u = (r.left + r.right) / 2,
                            d = (r.top + r.bottom) / 2,
                            c = l.rotation,
                            h = l.rotation,
                            f = i.getDataset(),
                            g = n && s.animateRotate ? 0 : t.hidden ? 0 : i.calculateCircumference(f.data[e]) * (l.circumference / (2 * Math.PI)),
                            p = n && s.animateScale ? 0 : i.innerRadius,
                            v = n && s.animateScale ? 0 : i.outerRadius,
                            m = o.valueAtIndexOrDefault;
                        o.extend(t, {
                            _datasetIndex: i.index,
                            _index: e,
                            _model: {
                                x: u + a.offsetX,
                                y: d + a.offsetY,
                                startAngle: c,
                                endAngle: h,
                                circumference: g,
                                outerRadius: v,
                                innerRadius: p,
                                label: m(f.label, e, a.data.labels[e])
                            }
                        });
                        var b = t._model;
                        this.removeHoverStyle(t), n && s.animateRotate || (b.startAngle = 0 === e ? l.rotation : i.getMeta().data[e - 1]._model.endAngle, b.endAngle = b.startAngle + b.circumference), t.pivot()
                    },
                    removeHoverStyle: function(e) {
                        t.DatasetController.prototype.removeHoverStyle.call(this, e, this.chart.options.elements.arc)
                    },
                    calculateTotal: function() {
                        var t, e = this.getDataset(),
                            n = this.getMeta(),
                            i = 0;
                        return o.each(n.data, function(n, a) {
                            t = e.data[a], isNaN(t) || n.hidden || (i += Math.abs(t))
                        }), i
                    },
                    calculateCircumference: function(t) {
                        var e = this.getMeta().total;
                        return e > 0 && !isNaN(t) ? 2 * Math.PI * (t / e) : 0
                    },
                    getMaxBorderWidth: function(t) {
                        for (var e, n, i = 0, a = this.index, o = t.length, r = 0; r < o; r++) e = t[r]._model ? t[r]._model.borderWidth : 0, i = (n = t[r]._chart ? t[r]._chart.config.data.datasets[a].hoverBorderWidth : 0) > (i = e > i ? e : i) ? n : i;
                        return i
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        18: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("line", {
                showLines: !0,
                spanGaps: !1,
                hover: {
                    mode: "label"
                },
                scales: {
                    xAxes: [{
                        type: "category",
                        id: "x-axis-0"
                    }],
                    yAxes: [{
                        type: "linear",
                        id: "y-axis-0"
                    }]
                }
            }), e.exports = function(t) {
                function e(t, e) {
                    return o.valueOrDefault(t.showLine, e.showLines)
                }
                t.controllers.line = t.DatasetController.extend({
                    datasetElementType: a.Line,
                    dataElementType: a.Point,
                    update: function(t) {
                        var n, i, a, r = this,
                            l = r.getMeta(),
                            s = l.dataset,
                            u = l.data || [],
                            d = r.chart.options,
                            c = d.elements.line,
                            h = r.getScaleForId(l.yAxisID),
                            f = r.getDataset(),
                            g = e(f, d);
                        for (g && (a = s.custom || {}, void 0 !== f.tension && void 0 === f.lineTension && (f.lineTension = f.tension), s._scale = h, s._datasetIndex = r.index, s._children = u, s._model = {
                                spanGaps: f.spanGaps ? f.spanGaps : d.spanGaps,
                                tension: a.tension ? a.tension : o.valueOrDefault(f.lineTension, c.tension),
                                backgroundColor: a.backgroundColor ? a.backgroundColor : f.backgroundColor || c.backgroundColor,
                                borderWidth: a.borderWidth ? a.borderWidth : f.borderWidth || c.borderWidth,
                                borderColor: a.borderColor ? a.borderColor : f.borderColor || c.borderColor,
                                borderCapStyle: a.borderCapStyle ? a.borderCapStyle : f.borderCapStyle || c.borderCapStyle,
                                borderDash: a.borderDash ? a.borderDash : f.borderDash || c.borderDash,
                                borderDashOffset: a.borderDashOffset ? a.borderDashOffset : f.borderDashOffset || c.borderDashOffset,
                                borderJoinStyle: a.borderJoinStyle ? a.borderJoinStyle : f.borderJoinStyle || c.borderJoinStyle,
                                fill: a.fill ? a.fill : void 0 !== f.fill ? f.fill : c.fill,
                                steppedLine: a.steppedLine ? a.steppedLine : o.valueOrDefault(f.steppedLine, c.stepped),
                                cubicInterpolationMode: a.cubicInterpolationMode ? a.cubicInterpolationMode : o.valueOrDefault(f.cubicInterpolationMode, c.cubicInterpolationMode)
                            }, s.pivot()), n = 0, i = u.length; n < i; ++n) r.updateElement(u[n], n, t);
                        for (g && 0 !== s._model.tension && r.updateBezierControlPoints(), n = 0, i = u.length; n < i; ++n) u[n].pivot()
                    },
                    getPointBackgroundColor: function(t, e) {
                        var n = this.chart.options.elements.point.backgroundColor,
                            i = this.getDataset(),
                            a = t.custom || {};
                        return a.backgroundColor ? n = a.backgroundColor : i.pointBackgroundColor ? n = o.valueAtIndexOrDefault(i.pointBackgroundColor, e, n) : i.backgroundColor && (n = i.backgroundColor), n
                    },
                    getPointBorderColor: function(t, e) {
                        var n = this.chart.options.elements.point.borderColor,
                            i = this.getDataset(),
                            a = t.custom || {};
                        return a.borderColor ? n = a.borderColor : i.pointBorderColor ? n = o.valueAtIndexOrDefault(i.pointBorderColor, e, n) : i.borderColor && (n = i.borderColor), n
                    },
                    getPointBorderWidth: function(t, e) {
                        var n = this.chart.options.elements.point.borderWidth,
                            i = this.getDataset(),
                            a = t.custom || {};
                        return isNaN(a.borderWidth) ? !isNaN(i.pointBorderWidth) || o.isArray(i.pointBorderWidth) ? n = o.valueAtIndexOrDefault(i.pointBorderWidth, e, n) : isNaN(i.borderWidth) || (n = i.borderWidth) : n = a.borderWidth, n
                    },
                    updateElement: function(t, e, n) {
                        var i, a, r = this,
                            l = r.getMeta(),
                            s = t.custom || {},
                            u = r.getDataset(),
                            d = r.index,
                            c = u.data[e],
                            h = r.getScaleForId(l.yAxisID),
                            f = r.getScaleForId(l.xAxisID),
                            g = r.chart.options.elements.point;
                        void 0 !== u.radius && void 0 === u.pointRadius && (u.pointRadius = u.radius), void 0 !== u.hitRadius && void 0 === u.pointHitRadius && (u.pointHitRadius = u.hitRadius), i = f.getPixelForValue("object" == typeof c ? c : NaN, e, d), a = n ? h.getBasePixel() : r.calculatePointY(c, e, d), t._xScale = f, t._yScale = h, t._datasetIndex = d, t._index = e, t._model = {
                            x: i,
                            y: a,
                            skip: s.skip || isNaN(i) || isNaN(a),
                            radius: s.radius || o.valueAtIndexOrDefault(u.pointRadius, e, g.radius),
                            pointStyle: s.pointStyle || o.valueAtIndexOrDefault(u.pointStyle, e, g.pointStyle),
                            backgroundColor: r.getPointBackgroundColor(t, e),
                            borderColor: r.getPointBorderColor(t, e),
                            borderWidth: r.getPointBorderWidth(t, e),
                            tension: l.dataset._model ? l.dataset._model.tension : 0,
                            steppedLine: !!l.dataset._model && l.dataset._model.steppedLine,
                            hitRadius: s.hitRadius || o.valueAtIndexOrDefault(u.pointHitRadius, e, g.hitRadius)
                        }
                    },
                    calculatePointY: function(t, e, n) {
                        var i, a, o, r = this,
                            l = r.chart,
                            s = r.getMeta(),
                            u = r.getScaleForId(s.yAxisID),
                            d = 0,
                            c = 0;
                        if (u.options.stacked) {
                            for (i = 0; i < n; i++)
                                if (a = l.data.datasets[i], "line" === (o = l.getDatasetMeta(i)).type && o.yAxisID === u.id && l.isDatasetVisible(i)) {
                                    var h = Number(u.getRightValue(a.data[e]));
                                    h < 0 ? c += h || 0 : d += h || 0
                                } var f = Number(u.getRightValue(t));
                            return f < 0 ? u.getPixelForValue(c + f) : u.getPixelForValue(d + f)
                        }
                        return u.getPixelForValue(t)
                    },
                    updateBezierControlPoints: function() {
                        function t(t, e, n) {
                            return Math.max(Math.min(t, n), e)
                        }
                        var e, n, i, a, r = this,
                            l = r.getMeta(),
                            s = r.chart.chartArea,
                            u = l.data || [];
                        if (l.dataset._model.spanGaps && (u = u.filter(function(t) {
                                return !t._model.skip
                            })), "monotone" === l.dataset._model.cubicInterpolationMode) o.splineCurveMonotone(u);
                        else
                            for (e = 0, n = u.length; e < n; ++e) i = u[e]._model, a = o.splineCurve(o.previousItem(u, e)._model, i, o.nextItem(u, e)._model, l.dataset._model.tension), i.controlPointPreviousX = a.previous.x, i.controlPointPreviousY = a.previous.y, i.controlPointNextX = a.next.x, i.controlPointNextY = a.next.y;
                        if (r.chart.options.elements.line.capBezierPoints)
                            for (e = 0, n = u.length; e < n; ++e)(i = u[e]._model).controlPointPreviousX = t(i.controlPointPreviousX, s.left, s.right), i.controlPointPreviousY = t(i.controlPointPreviousY, s.top, s.bottom), i.controlPointNextX = t(i.controlPointNextX, s.left, s.right), i.controlPointNextY = t(i.controlPointNextY, s.top, s.bottom)
                    },
                    draw: function() {
                        var t = this,
                            n = t.chart,
                            i = t.getMeta(),
                            a = i.data || [],
                            r = n.chartArea,
                            l = a.length,
                            s = 0;
                        for (o.canvas.clipArea(n.ctx, r), e(t.getDataset(), n.options) && i.dataset.draw(), o.canvas.unclipArea(n.ctx); s < l; ++s) a[s].draw(r)
                    },
                    setHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t._index,
                            i = t.custom || {},
                            a = t._model;
                        a.radius = i.hoverRadius || o.valueAtIndexOrDefault(e.pointHoverRadius, n, this.chart.options.elements.point.hoverRadius), a.backgroundColor = i.hoverBackgroundColor || o.valueAtIndexOrDefault(e.pointHoverBackgroundColor, n, o.getHoverColor(a.backgroundColor)), a.borderColor = i.hoverBorderColor || o.valueAtIndexOrDefault(e.pointHoverBorderColor, n, o.getHoverColor(a.borderColor)), a.borderWidth = i.hoverBorderWidth || o.valueAtIndexOrDefault(e.pointHoverBorderWidth, n, a.borderWidth)
                    },
                    removeHoverStyle: function(t) {
                        var e = this,
                            n = e.chart.data.datasets[t._datasetIndex],
                            i = t._index,
                            a = t.custom || {},
                            r = t._model;
                        void 0 !== n.radius && void 0 === n.pointRadius && (n.pointRadius = n.radius), r.radius = a.radius || o.valueAtIndexOrDefault(n.pointRadius, i, e.chart.options.elements.point.radius), r.backgroundColor = e.getPointBackgroundColor(t, i), r.borderColor = e.getPointBorderColor(t, i), r.borderWidth = e.getPointBorderWidth(t, i)
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        19: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("polarArea", {
                scale: {
                    type: "radialLinear",
                    angleLines: {
                        display: !1
                    },
                    gridLines: {
                        circular: !0
                    },
                    pointLabels: {
                        display: !1
                    },
                    ticks: {
                        beginAtZero: !0
                    }
                },
                animation: {
                    animateRotate: !0,
                    animateScale: !0
                },
                startAngle: -.5 * Math.PI,
                legendCallback: function(t) {
                    var e = [];
                    e.push('<ul class="' + t.id + '-legend">');
                    var n = t.data,
                        i = n.datasets,
                        a = n.labels;
                    if (i.length)
                        for (var o = 0; o < i[0].data.length; ++o) e.push('<li><span style="background-color:' + i[0].backgroundColor[o] + '"></span>'), a[o] && e.push(a[o]), e.push("</li>");
                    return e.push("</ul>"), e.join("")
                },
                legend: {
                    labels: {
                        generateLabels: function(t) {
                            var e = t.data;
                            return e.labels.length && e.datasets.length ? e.labels.map(function(n, i) {
                                var a = t.getDatasetMeta(0),
                                    r = e.datasets[0],
                                    l = a.data[i].custom || {},
                                    s = o.valueAtIndexOrDefault,
                                    u = t.options.elements.arc;
                                return {
                                    text: n,
                                    fillStyle: l.backgroundColor ? l.backgroundColor : s(r.backgroundColor, i, u.backgroundColor),
                                    strokeStyle: l.borderColor ? l.borderColor : s(r.borderColor, i, u.borderColor),
                                    lineWidth: l.borderWidth ? l.borderWidth : s(r.borderWidth, i, u.borderWidth),
                                    hidden: isNaN(r.data[i]) || a.data[i].hidden,
                                    index: i
                                }
                            }) : []
                        }
                    },
                    onClick: function(t, e) {
                        var n, i, a, o = e.index,
                            r = this.chart;
                        for (n = 0, i = (r.data.datasets || []).length; n < i; ++n)(a = r.getDatasetMeta(n)).data[o].hidden = !a.data[o].hidden;
                        r.update()
                    }
                },
                tooltips: {
                    callbacks: {
                        title: function() {
                            return ""
                        },
                        label: function(t, e) {
                            return e.labels[t.index] + ": " + t.yLabel
                        }
                    }
                }
            }), e.exports = function(t) {
                t.controllers.polarArea = t.DatasetController.extend({
                    dataElementType: a.Arc,
                    linkScales: o.noop,
                    update: function(t) {
                        var e = this,
                            n = e.chart,
                            i = n.chartArea,
                            a = e.getMeta(),
                            r = n.options,
                            l = r.elements.arc,
                            s = Math.min(i.right - i.left, i.bottom - i.top);
                        n.outerRadius = Math.max((s - l.borderWidth / 2) / 2, 0), n.innerRadius = Math.max(r.cutoutPercentage ? n.outerRadius / 100 * r.cutoutPercentage : 1, 0), n.radiusLength = (n.outerRadius - n.innerRadius) / n.getVisibleDatasetCount(), e.outerRadius = n.outerRadius - n.radiusLength * e.index, e.innerRadius = e.outerRadius - n.radiusLength, a.count = e.countVisibleElements(), o.each(a.data, function(n, i) {
                            e.updateElement(n, i, t)
                        })
                    },
                    updateElement: function(t, e, n) {
                        for (var i = this, a = i.chart, r = i.getDataset(), l = a.options, s = l.animation, u = a.scale, d = a.data.labels, c = i.calculateCircumference(r.data[e]), h = u.xCenter, f = u.yCenter, g = 0, p = i.getMeta(), v = 0; v < e; ++v) isNaN(r.data[v]) || p.data[v].hidden || ++g;
                        var m = l.startAngle,
                            b = t.hidden ? 0 : u.getDistanceFromCenterForValue(r.data[e]),
                            x = m + c * g,
                            y = x + (t.hidden ? 0 : c),
                            k = s.animateScale ? 0 : u.getDistanceFromCenterForValue(r.data[e]);
                        o.extend(t, {
                            _datasetIndex: i.index,
                            _index: e,
                            _scale: u,
                            _model: {
                                x: h,
                                y: f,
                                innerRadius: 0,
                                outerRadius: n ? k : b,
                                startAngle: n && s.animateRotate ? m : x,
                                endAngle: n && s.animateRotate ? m : y,
                                label: o.valueAtIndexOrDefault(d, e, d[e])
                            }
                        }), i.removeHoverStyle(t), t.pivot()
                    },
                    removeHoverStyle: function(e) {
                        t.DatasetController.prototype.removeHoverStyle.call(this, e, this.chart.options.elements.arc)
                    },
                    countVisibleElements: function() {
                        var t = this.getDataset(),
                            e = this.getMeta(),
                            n = 0;
                        return o.each(e.data, function(e, i) {
                            isNaN(t.data[i]) || e.hidden || n++
                        }), n
                    },
                    calculateCircumference: function(t) {
                        var e = this.getMeta().count;
                        return e > 0 && !isNaN(t) ? 2 * Math.PI / e : 0
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        20: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("radar", {
                scale: {
                    type: "radialLinear"
                },
                elements: {
                    line: {
                        tension: 0
                    }
                }
            }), e.exports = function(t) {
                t.controllers.radar = t.DatasetController.extend({
                    datasetElementType: a.Line,
                    dataElementType: a.Point,
                    linkScales: o.noop,
                    update: function(t) {
                        var e = this,
                            n = e.getMeta(),
                            i = n.dataset,
                            a = n.data,
                            r = i.custom || {},
                            l = e.getDataset(),
                            s = e.chart.options.elements.line,
                            u = e.chart.scale;
                        void 0 !== l.tension && void 0 === l.lineTension && (l.lineTension = l.tension), o.extend(n.dataset, {
                            _datasetIndex: e.index,
                            _scale: u,
                            _children: a,
                            _loop: !0,
                            _model: {
                                tension: r.tension ? r.tension : o.valueOrDefault(l.lineTension, s.tension),
                                backgroundColor: r.backgroundColor ? r.backgroundColor : l.backgroundColor || s.backgroundColor,
                                borderWidth: r.borderWidth ? r.borderWidth : l.borderWidth || s.borderWidth,
                                borderColor: r.borderColor ? r.borderColor : l.borderColor || s.borderColor,
                                fill: r.fill ? r.fill : void 0 !== l.fill ? l.fill : s.fill,
                                borderCapStyle: r.borderCapStyle ? r.borderCapStyle : l.borderCapStyle || s.borderCapStyle,
                                borderDash: r.borderDash ? r.borderDash : l.borderDash || s.borderDash,
                                borderDashOffset: r.borderDashOffset ? r.borderDashOffset : l.borderDashOffset || s.borderDashOffset,
                                borderJoinStyle: r.borderJoinStyle ? r.borderJoinStyle : l.borderJoinStyle || s.borderJoinStyle
                            }
                        }), n.dataset.pivot(), o.each(a, function(n, i) {
                            e.updateElement(n, i, t)
                        }, e), e.updateBezierControlPoints()
                    },
                    updateElement: function(t, e, n) {
                        var i = this,
                            a = t.custom || {},
                            r = i.getDataset(),
                            l = i.chart.scale,
                            s = i.chart.options.elements.point,
                            u = l.getPointPositionForValue(e, r.data[e]);
                        void 0 !== r.radius && void 0 === r.pointRadius && (r.pointRadius = r.radius), void 0 !== r.hitRadius && void 0 === r.pointHitRadius && (r.pointHitRadius = r.hitRadius), o.extend(t, {
                            _datasetIndex: i.index,
                            _index: e,
                            _scale: l,
                            _model: {
                                x: n ? l.xCenter : u.x,
                                y: n ? l.yCenter : u.y,
                                tension: a.tension ? a.tension : o.valueOrDefault(r.lineTension, i.chart.options.elements.line.tension),
                                radius: a.radius ? a.radius : o.valueAtIndexOrDefault(r.pointRadius, e, s.radius),
                                backgroundColor: a.backgroundColor ? a.backgroundColor : o.valueAtIndexOrDefault(r.pointBackgroundColor, e, s.backgroundColor),
                                borderColor: a.borderColor ? a.borderColor : o.valueAtIndexOrDefault(r.pointBorderColor, e, s.borderColor),
                                borderWidth: a.borderWidth ? a.borderWidth : o.valueAtIndexOrDefault(r.pointBorderWidth, e, s.borderWidth),
                                pointStyle: a.pointStyle ? a.pointStyle : o.valueAtIndexOrDefault(r.pointStyle, e, s.pointStyle),
                                hitRadius: a.hitRadius ? a.hitRadius : o.valueAtIndexOrDefault(r.pointHitRadius, e, s.hitRadius)
                            }
                        }), t._model.skip = a.skip ? a.skip : isNaN(t._model.x) || isNaN(t._model.y)
                    },
                    updateBezierControlPoints: function() {
                        var t = this.chart.chartArea,
                            e = this.getMeta();
                        o.each(e.data, function(n, i) {
                            var a = n._model,
                                r = o.splineCurve(o.previousItem(e.data, i, !0)._model, a, o.nextItem(e.data, i, !0)._model, a.tension);
                            a.controlPointPreviousX = Math.max(Math.min(r.previous.x, t.right), t.left), a.controlPointPreviousY = Math.max(Math.min(r.previous.y, t.bottom), t.top), a.controlPointNextX = Math.max(Math.min(r.next.x, t.right), t.left), a.controlPointNextY = Math.max(Math.min(r.next.y, t.bottom), t.top), n.pivot()
                        })
                    },
                    setHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t.custom || {},
                            i = t._index,
                            a = t._model;
                        a.radius = n.hoverRadius ? n.hoverRadius : o.valueAtIndexOrDefault(e.pointHoverRadius, i, this.chart.options.elements.point.hoverRadius), a.backgroundColor = n.hoverBackgroundColor ? n.hoverBackgroundColor : o.valueAtIndexOrDefault(e.pointHoverBackgroundColor, i, o.getHoverColor(a.backgroundColor)), a.borderColor = n.hoverBorderColor ? n.hoverBorderColor : o.valueAtIndexOrDefault(e.pointHoverBorderColor, i, o.getHoverColor(a.borderColor)), a.borderWidth = n.hoverBorderWidth ? n.hoverBorderWidth : o.valueAtIndexOrDefault(e.pointHoverBorderWidth, i, a.borderWidth)
                    },
                    removeHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t.custom || {},
                            i = t._index,
                            a = t._model,
                            r = this.chart.options.elements.point;
                        a.radius = n.radius ? n.radius : o.valueAtIndexOrDefault(e.pointRadius, i, r.radius), a.backgroundColor = n.backgroundColor ? n.backgroundColor : o.valueAtIndexOrDefault(e.pointBackgroundColor, i, r.backgroundColor), a.borderColor = n.borderColor ? n.borderColor : o.valueAtIndexOrDefault(e.pointBorderColor, i, r.borderColor), a.borderWidth = n.borderWidth ? n.borderWidth : o.valueAtIndexOrDefault(e.pointBorderWidth, i, r.borderWidth)
                    }
                })
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        21: [function(t, e, n) {
            "use strict";
            t(25)._set("scatter", {
                hover: {
                    mode: "single"
                },
                scales: {
                    xAxes: [{
                        id: "x-axis-1",
                        type: "linear",
                        position: "bottom"
                    }],
                    yAxes: [{
                        id: "y-axis-1",
                        type: "linear",
                        position: "left"
                    }]
                },
                showLines: !1,
                tooltips: {
                    callbacks: {
                        title: function() {
                            return ""
                        },
                        label: function(t) {
                            return "(" + t.xLabel + ", " + t.yLabel + ")"
                        }
                    }
                }
            }), e.exports = function(t) {
                t.controllers.scatter = t.controllers.line
            }
        }, {
            25: 25
        }],
        22: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                animation: {
                    duration: 1e3,
                    easing: "easeOutQuart",
                    onProgress: o.noop,
                    onComplete: o.noop
                }
            }), e.exports = function(t) {
                t.Animation = a.extend({
                    chart: null,
                    currentStep: 0,
                    numSteps: 60,
                    easing: "",
                    render: null,
                    onAnimationProgress: null,
                    onAnimationComplete: null
                }), t.animationService = {
                    frameDuration: 17,
                    animations: [],
                    dropFrames: 0,
                    request: null,
                    addAnimation: function(t, e, n, i) {
                        var a, o, r = this.animations;
                        for (e.chart = t, i || (t.animating = !0), a = 0, o = r.length; a < o; ++a)
                            if (r[a].chart === t) return void(r[a] = e);
                        r.push(e), 1 === r.length && this.requestAnimationFrame()
                    },
                    cancelAnimation: function(t) {
                        var e = o.findIndex(this.animations, function(e) {
                            return e.chart === t
                        }); - 1 !== e && (this.animations.splice(e, 1), t.animating = !1)
                    },
                    requestAnimationFrame: function() {
                        var t = this;
                        null === t.request && (t.request = o.requestAnimFrame.call(window, function() {
                            t.request = null, t.startDigest()
                        }))
                    },
                    startDigest: function() {
                        var t = this,
                            e = Date.now(),
                            n = 0;
                        t.dropFrames > 1 && (n = Math.floor(t.dropFrames), t.dropFrames = t.dropFrames % 1), t.advance(1 + n);
                        var i = Date.now();
                        t.dropFrames += (i - e) / t.frameDuration, t.animations.length > 0 && t.requestAnimationFrame()
                    },
                    advance: function(t) {
                        for (var e, n, i = this.animations, a = 0; a < i.length;) n = (e = i[a]).chart, e.currentStep = (e.currentStep || 0) + t, e.currentStep = Math.min(e.currentStep, e.numSteps), o.callback(e.render, [n, e], n), o.callback(e.onAnimationProgress, [e], n), e.currentStep >= e.numSteps ? (o.callback(e.onAnimationComplete, [e], n), n.animating = !1, i.splice(a, 1)) : ++a
                    }
                }, Object.defineProperty(t.Animation.prototype, "animationObject", {
                    get: function() {
                        return this
                    }
                }), Object.defineProperty(t.Animation.prototype, "chartInstance", {
                    get: function() {
                        return this.chart
                    },
                    set: function(t) {
                        this.chart = t
                    }
                })
            }
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        23: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(45),
                o = t(28),
                r = t(48);
            e.exports = function(t) {
                function e(t) {
                    var e = (t = t || {}).data = t.data || {};
                    return e.datasets = e.datasets || [], e.labels = e.labels || [], t.options = a.configMerge(i.global, i[t.type], t.options || {}), t
                }

                function n(t) {
                    var e = t.options;
                    e.scale ? t.scale.options = e.scale : e.scales && e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e) {
                        t.scales[e.id].options = e
                    }), t.tooltip._options = e.tooltips
                }

                function l(t) {
                    return "top" === t || "bottom" === t
                }
                var s = t.plugins;
                t.types = {}, t.instances = {}, t.controllers = {}, a.extend(t.prototype, {
                    construct: function(n, i) {
                        var o = this;
                        i = e(i);
                        var l = r.acquireContext(n, i),
                            s = l && l.canvas,
                            u = s && s.height,
                            d = s && s.width;
                        o.id = a.uid(), o.ctx = l, o.canvas = s, o.config = i, o.width = d, o.height = u, o.aspectRatio = u ? d / u : null, o.options = i.options, o._bufferedRender = !1, o.chart = o, o.controller = o, t.instances[o.id] = o, Object.defineProperty(o, "data", {
                            get: function() {
                                return o.config.data
                            },
                            set: function(t) {
                                o.config.data = t
                            }
                        }), l && s ? (o.initialize(), o.update()) : console.error("Failed to create chart: can't acquire context from the given item")
                    },
                    initialize: function() {
                        var t = this;
                        return s.notify(t, "beforeInit"), a.retinaScale(t, t.options.devicePixelRatio), t.bindEvents(), t.options.responsive && t.resize(!0), t.ensureScalesHaveIDs(), t.buildScales(), t.initToolTip(), s.notify(t, "afterInit"), t
                    },
                    clear: function() {
                        return a.canvas.clear(this), this
                    },
                    stop: function() {
                        return t.animationService.cancelAnimation(this), this
                    },
                    resize: function(t) {
                        var e = this,
                            n = e.options,
                            i = e.canvas,
                            o = n.maintainAspectRatio && e.aspectRatio || null,
                            r = Math.max(0, Math.floor(a.getMaximumWidth(i))),
                            l = Math.max(0, Math.floor(o ? r / o : a.getMaximumHeight(i)));
                        if ((e.width !== r || e.height !== l) && (i.width = e.width = r, i.height = e.height = l, i.style.width = r + "px", i.style.height = l + "px", a.retinaScale(e, n.devicePixelRatio), !t)) {
                            var u = {
                                width: r,
                                height: l
                            };
                            s.notify(e, "resize", [u]), e.options.onResize && e.options.onResize(e, u), e.stop(), e.update(e.options.responsiveAnimationDuration)
                        }
                    },
                    ensureScalesHaveIDs: function() {
                        var t = this.options,
                            e = t.scales || {},
                            n = t.scale;
                        a.each(e.xAxes, function(t, e) {
                            t.id = t.id || "x-axis-" + e
                        }), a.each(e.yAxes, function(t, e) {
                            t.id = t.id || "y-axis-" + e
                        }), n && (n.id = n.id || "scale")
                    },
                    buildScales: function() {
                        var e = this,
                            n = e.options,
                            i = e.scales = {},
                            o = [];
                        n.scales && (o = o.concat((n.scales.xAxes || []).map(function(t) {
                            return {
                                options: t,
                                dtype: "category",
                                dposition: "bottom"
                            }
                        }), (n.scales.yAxes || []).map(function(t) {
                            return {
                                options: t,
                                dtype: "linear",
                                dposition: "left"
                            }
                        }))), n.scale && o.push({
                            options: n.scale,
                            dtype: "radialLinear",
                            isDefault: !0,
                            dposition: "chartArea"
                        }), a.each(o, function(n) {
                            var o = n.options,
                                r = a.valueOrDefault(o.type, n.dtype),
                                s = t.scaleService.getScaleConstructor(r);
                            if (s) {
                                l(o.position) !== l(n.dposition) && (o.position = n.dposition);
                                var u = new s({
                                    id: o.id,
                                    options: o,
                                    ctx: e.ctx,
                                    chart: e
                                });
                                i[u.id] = u, u.mergeTicksOptions(), n.isDefault && (e.scale = u)
                            }
                        }), t.scaleService.addScalesToLayout(this)
                    },
                    buildOrUpdateControllers: function() {
                        var e = this,
                            n = [],
                            i = [];
                        return a.each(e.data.datasets, function(a, o) {
                            var r = e.getDatasetMeta(o),
                                l = a.type || e.config.type;
                            if (r.type && r.type !== l && (e.destroyDatasetMeta(o), r = e.getDatasetMeta(o)), r.type = l, n.push(r.type), r.controller) r.controller.updateIndex(o);
                            else {
                                var s = t.controllers[r.type];
                                if (void 0 === s) throw new Error('"' + r.type + '" is not a chart type.');
                                r.controller = new s(e, o), i.push(r.controller)
                            }
                        }, e), i
                    },
                    resetElements: function() {
                        var t = this;
                        a.each(t.data.datasets, function(e, n) {
                            t.getDatasetMeta(n).controller.reset()
                        }, t)
                    },
                    reset: function() {
                        this.resetElements(), this.tooltip.initialize()
                    },
                    update: function(t) {
                        var e = this;
                        if (t && "object" == typeof t || (t = {
                                duration: t,
                                lazy: arguments[1]
                            }), n(e), !1 !== s.notify(e, "beforeUpdate")) {
                            e.tooltip._data = e.data;
                            var i = e.buildOrUpdateControllers();
                            a.each(e.data.datasets, function(t, n) {
                                e.getDatasetMeta(n).controller.buildOrUpdateElements()
                            }, e), e.updateLayout(), a.each(i, function(t) {
                                t.reset()
                            }), e.updateDatasets(), e.tooltip.initialize(), e.lastActive = [], s.notify(e, "afterUpdate"), e._bufferedRender ? e._bufferedRequest = {
                                duration: t.duration,
                                easing: t.easing,
                                lazy: t.lazy
                            } : e.render(t)
                        }
                    },
                    updateLayout: function() {
                        var e = this;
                        !1 !== s.notify(e, "beforeLayout") && (t.layoutService.update(this, this.width, this.height), s.notify(e, "afterScaleUpdate"), s.notify(e, "afterLayout"))
                    },
                    updateDatasets: function() {
                        var t = this;
                        if (!1 !== s.notify(t, "beforeDatasetsUpdate")) {
                            for (var e = 0, n = t.data.datasets.length; e < n; ++e) t.updateDataset(e);
                            s.notify(t, "afterDatasetsUpdate")
                        }
                    },
                    updateDataset: function(t) {
                        var e = this,
                            n = e.getDatasetMeta(t),
                            i = {
                                meta: n,
                                index: t
                            };
                        !1 !== s.notify(e, "beforeDatasetUpdate", [i]) && (n.controller.update(), s.notify(e, "afterDatasetUpdate", [i]))
                    },
                    render: function(e) {
                        var n = this;
                        e && "object" == typeof e || (e = {
                            duration: e,
                            lazy: arguments[1]
                        });
                        var i = e.duration,
                            o = e.lazy;
                        if (!1 !== s.notify(n, "beforeRender")) {
                            var r = n.options.animation,
                                l = function(t) {
                                    s.notify(n, "afterRender"), a.callback(r && r.onComplete, [t], n)
                                };
                            if (r && (void 0 !== i && 0 !== i || void 0 === i && 0 !== r.duration)) {
                                var u = new t.Animation({
                                    numSteps: (i || r.duration) / 16.66,
                                    easing: e.easing || r.easing,
                                    render: function(t, e) {
                                        var n = a.easing.effects[e.easing],
                                            i = e.currentStep,
                                            o = i / e.numSteps;
                                        t.draw(n(o), o, i)
                                    },
                                    onAnimationProgress: r.onProgress,
                                    onAnimationComplete: l
                                });
                                t.animationService.addAnimation(n, u, i, o)
                            } else n.draw(), l(new t.Animation({
                                numSteps: 0,
                                chart: n
                            }));
                            return n
                        }
                    },
                    draw: function(t) {
                        var e = this;
                        e.clear(), a.isNullOrUndef(t) && (t = 1), e.transition(t), !1 !== s.notify(e, "beforeDraw", [t]) && (a.each(e.boxes, function(t) {
                            t.draw(e.chartArea)
                        }, e), e.scale && e.scale.draw(), e.drawDatasets(t), e._drawTooltip(t), s.notify(e, "afterDraw", [t]))
                    },
                    transition: function(t) {
                        for (var e = this, n = 0, i = (e.data.datasets || []).length; n < i; ++n) e.isDatasetVisible(n) && e.getDatasetMeta(n).controller.transition(t);
                        e.tooltip.transition(t)
                    },
                    drawDatasets: function(t) {
                        var e = this;
                        if (!1 !== s.notify(e, "beforeDatasetsDraw", [t])) {
                            for (var n = (e.data.datasets || []).length - 1; n >= 0; --n) e.isDatasetVisible(n) && e.drawDataset(n, t);
                            s.notify(e, "afterDatasetsDraw", [t])
                        }
                    },
                    drawDataset: function(t, e) {
                        var n = this,
                            i = n.getDatasetMeta(t),
                            a = {
                                meta: i,
                                index: t,
                                easingValue: e
                            };
                        !1 !== s.notify(n, "beforeDatasetDraw", [a]) && (i.controller.draw(e), s.notify(n, "afterDatasetDraw", [a]))
                    },
                    _drawTooltip: function(t) {
                        var e = this,
                            n = e.tooltip,
                            i = {
                                tooltip: n,
                                easingValue: t
                            };
                        !1 !== s.notify(e, "beforeTooltipDraw", [i]) && (n.draw(), s.notify(e, "afterTooltipDraw", [i]))
                    },
                    getElementAtEvent: function(t) {
                        return o.modes.single(this, t)
                    },
                    getElementsAtEvent: function(t) {
                        return o.modes.label(this, t, {
                            intersect: !0
                        })
                    },
                    getElementsAtXAxis: function(t) {
                        return o.modes["x-axis"](this, t, {
                            intersect: !0
                        })
                    },
                    getElementsAtEventForMode: function(t, e, n) {
                        var i = o.modes[e];
                        return "function" == typeof i ? i(this, t, n) : []
                    },
                    getDatasetAtEvent: function(t) {
                        return o.modes.dataset(this, t, {
                            intersect: !0
                        })
                    },
                    getDatasetMeta: function(t) {
                        var e = this,
                            n = e.data.datasets[t];
                        n._meta || (n._meta = {});
                        var i = n._meta[e.id];
                        return i || (i = n._meta[e.id] = {
                            type: null,
                            data: [],
                            dataset: null,
                            controller: null,
                            hidden: null,
                            xAxisID: null,
                            yAxisID: null
                        }), i
                    },
                    getVisibleDatasetCount: function() {
                        for (var t = 0, e = 0, n = this.data.datasets.length; e < n; ++e) this.isDatasetVisible(e) && t++;
                        return t
                    },
                    isDatasetVisible: function(t) {
                        var e = this.getDatasetMeta(t);
                        return "boolean" == typeof e.hidden ? !e.hidden : !this.data.datasets[t].hidden
                    },
                    generateLegend: function() {
                        return this.options.legendCallback(this)
                    },
                    destroyDatasetMeta: function(t) {
                        var e = this.id,
                            n = this.data.datasets[t],
                            i = n._meta && n._meta[e];
                        i && (i.controller.destroy(), delete n._meta[e])
                    },
                    destroy: function() {
                        var e, n, i = this,
                            o = i.canvas;
                        for (i.stop(), e = 0, n = i.data.datasets.length; e < n; ++e) i.destroyDatasetMeta(e);
                        o && (i.unbindEvents(), a.canvas.clear(i), r.releaseContext(i.ctx), i.canvas = null, i.ctx = null), s.notify(i, "destroy"), delete t.instances[i.id]
                    },
                    toBase64Image: function() {
                        return this.canvas.toDataURL.apply(this.canvas, arguments)
                    },
                    initToolTip: function() {
                        var e = this;
                        e.tooltip = new t.Tooltip({
                            _chart: e,
                            _chartInstance: e,
                            _data: e.data,
                            _options: e.options.tooltips
                        }, e)
                    },
                    bindEvents: function() {
                        var t = this,
                            e = t._listeners = {},
                            n = function() {
                                t.eventHandler.apply(t, arguments)
                            };
                        a.each(t.options.events, function(i) {
                            r.addEventListener(t, i, n), e[i] = n
                        }), t.options.responsive && (n = function() {
                            t.resize()
                        }, r.addEventListener(t, "resize", n), e.resize = n)
                    },
                    unbindEvents: function() {
                        var t = this,
                            e = t._listeners;
                        e && (delete t._listeners, a.each(e, function(e, n) {
                            r.removeEventListener(t, n, e)
                        }))
                    },
                    updateHoverStyle: function(t, e, n) {
                        var i, a, o, r = n ? "setHoverStyle" : "removeHoverStyle";
                        for (a = 0, o = t.length; a < o; ++a)(i = t[a]) && this.getDatasetMeta(i._datasetIndex).controller[r](i)
                    },
                    eventHandler: function(t) {
                        var e = this,
                            n = e.tooltip;
                        if (!1 !== s.notify(e, "beforeEvent", [t])) {
                            e._bufferedRender = !0, e._bufferedRequest = null;
                            var i = e.handleEvent(t);
                            i |= n && n.handleEvent(t), s.notify(e, "afterEvent", [t]);
                            var a = e._bufferedRequest;
                            return a ? e.render(a) : i && !e.animating && (e.stop(), e.render(e.options.hover.animationDuration, !0)), e._bufferedRender = !1, e._bufferedRequest = null, e
                        }
                    },
                    handleEvent: function(t) {
                        var e = this,
                            n = e.options || {},
                            i = n.hover,
                            o = !1;
                        return e.lastActive = e.lastActive || [], "mouseout" === t.type ? e.active = [] : e.active = e.getElementsAtEventForMode(t, i.mode, i), a.callback(n.onHover || n.hover.onHover, [t.native, e.active], e), "mouseup" !== t.type && "click" !== t.type || n.onClick && n.onClick.call(e, t.native, e.active), e.lastActive.length && e.updateHoverStyle(e.lastActive, i.mode, !1), e.active.length && i.mode && e.updateHoverStyle(e.active, i.mode, !0), o = !a.arrayEquals(e.active, e.lastActive), e.lastActive = e.active, o
                    }
                }), t.Controller = t
            }
        }, {
            25: 25,
            28: 28,
            45: 45,
            48: 48
        }],
        24: [function(t, e, n) {
            "use strict";
            var i = t(45);
            e.exports = function(t) {
                function e(t, e) {
                    t._chartjs ? t._chartjs.listeners.push(e) : (Object.defineProperty(t, "_chartjs", {
                        configurable: !0,
                        enumerable: !1,
                        value: {
                            listeners: [e]
                        }
                    }), a.forEach(function(e) {
                        var n = "onData" + e.charAt(0).toUpperCase() + e.slice(1),
                            a = t[e];
                        Object.defineProperty(t, e, {
                            configurable: !0,
                            enumerable: !1,
                            value: function() {
                                var e = Array.prototype.slice.call(arguments),
                                    o = a.apply(this, e);
                                return i.each(t._chartjs.listeners, function(t) {
                                    "function" == typeof t[n] && t[n].apply(t, e)
                                }), o
                            }
                        })
                    }))
                }

                function n(t, e) {
                    var n = t._chartjs;
                    if (n) {
                        var i = n.listeners,
                            o = i.indexOf(e); - 1 !== o && i.splice(o, 1), i.length > 0 || (a.forEach(function(e) {
                            delete t[e]
                        }), delete t._chartjs)
                    }
                }
                var a = ["push", "pop", "shift", "splice", "unshift"];
                t.DatasetController = function(t, e) {
                    this.initialize(t, e)
                }, i.extend(t.DatasetController.prototype, {
                    datasetElementType: null,
                    dataElementType: null,
                    initialize: function(t, e) {
                        var n = this;
                        n.chart = t, n.index = e, n.linkScales(), n.addElements()
                    },
                    updateIndex: function(t) {
                        this.index = t
                    },
                    linkScales: function() {
                        var t = this,
                            e = t.getMeta(),
                            n = t.getDataset();
                        null === e.xAxisID && (e.xAxisID = n.xAxisID || t.chart.options.scales.xAxes[0].id), null === e.yAxisID && (e.yAxisID = n.yAxisID || t.chart.options.scales.yAxes[0].id)
                    },
                    getDataset: function() {
                        return this.chart.data.datasets[this.index]
                    },
                    getMeta: function() {
                        return this.chart.getDatasetMeta(this.index)
                    },
                    getScaleForId: function(t) {
                        return this.chart.scales[t]
                    },
                    reset: function() {
                        this.update(!0)
                    },
                    destroy: function() {
                        this._data && n(this._data, this)
                    },
                    createMetaDataset: function() {
                        var t = this,
                            e = t.datasetElementType;
                        return e && new e({
                            _chart: t.chart,
                            _datasetIndex: t.index
                        })
                    },
                    createMetaData: function(t) {
                        var e = this,
                            n = e.dataElementType;
                        return n && new n({
                            _chart: e.chart,
                            _datasetIndex: e.index,
                            _index: t
                        })
                    },
                    addElements: function() {
                        var t, e, n = this,
                            i = n.getMeta(),
                            a = n.getDataset().data || [],
                            o = i.data;
                        for (t = 0, e = a.length; t < e; ++t) o[t] = o[t] || n.createMetaData(t);
                        i.dataset = i.dataset || n.createMetaDataset()
                    },
                    addElementAndReset: function(t) {
                        var e = this.createMetaData(t);
                        this.getMeta().data.splice(t, 0, e), this.updateElement(e, t, !0)
                    },
                    buildOrUpdateElements: function() {
                        var t = this,
                            i = t.getDataset(),
                            a = i.data || (i.data = []);
                        t._data !== a && (t._data && n(t._data, t), e(a, t), t._data = a), t.resyncElements()
                    },
                    update: i.noop,
                    transition: function(t) {
                        for (var e = this.getMeta(), n = e.data || [], i = n.length, a = 0; a < i; ++a) n[a].transition(t);
                        e.dataset && e.dataset.transition(t)
                    },
                    draw: function() {
                        var t = this.getMeta(),
                            e = t.data || [],
                            n = e.length,
                            i = 0;
                        for (t.dataset && t.dataset.draw(); i < n; ++i) e[i].draw()
                    },
                    removeHoverStyle: function(t, e) {
                        var n = this.chart.data.datasets[t._datasetIndex],
                            a = t._index,
                            o = t.custom || {},
                            r = i.valueAtIndexOrDefault,
                            l = t._model;
                        l.backgroundColor = o.backgroundColor ? o.backgroundColor : r(n.backgroundColor, a, e.backgroundColor), l.borderColor = o.borderColor ? o.borderColor : r(n.borderColor, a, e.borderColor), l.borderWidth = o.borderWidth ? o.borderWidth : r(n.borderWidth, a, e.borderWidth)
                    },
                    setHoverStyle: function(t) {
                        var e = this.chart.data.datasets[t._datasetIndex],
                            n = t._index,
                            a = t.custom || {},
                            o = i.valueAtIndexOrDefault,
                            r = i.getHoverColor,
                            l = t._model;
                        l.backgroundColor = a.hoverBackgroundColor ? a.hoverBackgroundColor : o(e.hoverBackgroundColor, n, r(l.backgroundColor)), l.borderColor = a.hoverBorderColor ? a.hoverBorderColor : o(e.hoverBorderColor, n, r(l.borderColor)), l.borderWidth = a.hoverBorderWidth ? a.hoverBorderWidth : o(e.hoverBorderWidth, n, l.borderWidth)
                    },
                    resyncElements: function() {
                        var t = this,
                            e = t.getMeta(),
                            n = t.getDataset().data,
                            i = e.data.length,
                            a = n.length;
                        a < i ? e.data.splice(a, i - a) : a > i && t.insertElements(i, a - i)
                    },
                    insertElements: function(t, e) {
                        for (var n = 0; n < e; ++n) this.addElementAndReset(t + n)
                    },
                    onDataPush: function() {
                        this.insertElements(this.getDataset().data.length - 1, arguments.length)
                    },
                    onDataPop: function() {
                        this.getMeta().data.pop()
                    },
                    onDataShift: function() {
                        this.getMeta().data.shift()
                    },
                    onDataSplice: function(t, e) {
                        this.getMeta().data.splice(t, e), this.insertElements(t, arguments.length - 2)
                    },
                    onDataUnshift: function() {
                        this.insertElements(0, arguments.length)
                    }
                }), t.DatasetController.extend = i.inherits
            }
        }, {
            45: 45
        }],
        25: [function(t, e, n) {
            "use strict";
            var i = t(45);
            e.exports = {
                _set: function(t, e) {
                    return i.merge(this[t] || (this[t] = {}), e)
                }
            }
        }, {
            45: 45
        }],
        26: [function(t, e, n) {
            "use strict";

            function i(t, e, n, i) {
                var o, r, l, s, u, d, c, h, f, g = Object.keys(n);
                for (o = 0, r = g.length; o < r; ++o)
                    if (l = g[o], d = n[l], e.hasOwnProperty(l) || (e[l] = d), (s = e[l]) !== d && "_" !== l[0]) {
                        if (t.hasOwnProperty(l) || (t[l] = s), u = t[l], (c = typeof d) === typeof u)
                            if ("string" === c) {
                                if ((h = a(u)).valid && (f = a(d)).valid) {
                                    e[l] = f.mix(h, i).rgbString();
                                    continue
                                }
                            } else if ("number" === c && isFinite(u) && isFinite(d)) {
                            e[l] = u + (d - u) * i;
                            continue
                        }
                        e[l] = d
                    }
            }
            var a = t(3),
                o = t(45),
                r = function(t) {
                    o.extend(this, t), this.initialize.apply(this, arguments)
                };
            o.extend(r.prototype, {
                initialize: function() {
                    this.hidden = !1
                },
                pivot: function() {
                    var t = this;
                    return t._view || (t._view = o.clone(t._model)), t._start = {}, t
                },
                transition: function(t) {
                    var e = this,
                        n = e._model,
                        a = e._start,
                        o = e._view;
                    return n && 1 !== t ? (o || (o = e._view = {}), a || (a = e._start = {}), i(a, o, n, t), e) : (e._view = n, e._start = null, e)
                },
                tooltipPosition: function() {
                    return {
                        x: this._model.x,
                        y: this._model.y
                    }
                },
                hasValue: function() {
                    return o.isNumber(this._model.x) && o.isNumber(this._model.y)
                }
            }), r.extend = o.inherits, e.exports = r
        }, {
            3: 3,
            45: 45
        }],
        27: [function(t, e, n) {
            "use strict";
            var i = t(3),
                a = t(25),
                o = t(45);
            e.exports = function(t) {
                function e(t, e, n) {
                    var i;
                    return "string" == typeof t ? (i = parseInt(t, 10), -1 !== t.indexOf("%") && (i = i / 100 * e.parentNode[n])) : i = t, i
                }

                function n(t) {
                    return void 0 !== t && null !== t && "none" !== t
                }

                function r(t, i, a) {
                    var o = document.defaultView,
                        r = t.parentNode,
                        l = o.getComputedStyle(t)[i],
                        s = o.getComputedStyle(r)[i],
                        u = n(l),
                        d = n(s),
                        c = Number.POSITIVE_INFINITY;
                    return u || d ? Math.min(u ? e(l, t, a) : c, d ? e(s, r, a) : c) : "none"
                }
                o.configMerge = function() {
                    return o.merge(o.clone(arguments[0]), [].slice.call(arguments, 1), {
                        merger: function(e, n, i, a) {
                            var r = n[e] || {},
                                l = i[e];
                            "scales" === e ? n[e] = o.scaleMerge(r, l) : "scale" === e ? n[e] = o.merge(r, [t.scaleService.getScaleDefaults(l.type), l]) : o._merger(e, n, i, a)
                        }
                    })
                }, o.scaleMerge = function() {
                    return o.merge(o.clone(arguments[0]), [].slice.call(arguments, 1), {
                        merger: function(e, n, i, a) {
                            if ("xAxes" === e || "yAxes" === e) {
                                var r, l, s, u = i[e].length;
                                for (n[e] || (n[e] = []), r = 0; r < u; ++r) s = i[e][r], l = o.valueOrDefault(s.type, "xAxes" === e ? "category" : "linear"), r >= n[e].length && n[e].push({}), !n[e][r].type || s.type && s.type !== n[e][r].type ? o.merge(n[e][r], [t.scaleService.getScaleDefaults(l), s]) : o.merge(n[e][r], s)
                            } else o._merger(e, n, i, a)
                        }
                    })
                }, o.where = function(t, e) {
                    if (o.isArray(t) && Array.prototype.filter) return t.filter(e);
                    var n = [];
                    return o.each(t, function(t) {
                        e(t) && n.push(t)
                    }), n
                }, o.findIndex = Array.prototype.findIndex ? function(t, e, n) {
                    return t.findIndex(e, n)
                } : function(t, e, n) {
                    n = void 0 === n ? t : n;
                    for (var i = 0, a = t.length; i < a; ++i)
                        if (e.call(n, t[i], i, t)) return i;
                    return -1
                }, o.findNextWhere = function(t, e, n) {
                    o.isNullOrUndef(n) && (n = -1);
                    for (var i = n + 1; i < t.length; i++) {
                        var a = t[i];
                        if (e(a)) return a
                    }
                }, o.findPreviousWhere = function(t, e, n) {
                    o.isNullOrUndef(n) && (n = t.length);
                    for (var i = n - 1; i >= 0; i--) {
                        var a = t[i];
                        if (e(a)) return a
                    }
                }, o.isNumber = function(t) {
                    return !isNaN(parseFloat(t)) && isFinite(t)
                }, o.almostEquals = function(t, e, n) {
                    return Math.abs(t - e) < n
                }, o.almostWhole = function(t, e) {
                    var n = Math.round(t);
                    return n - e < t && n + e > t
                }, o.max = function(t) {
                    return t.reduce(function(t, e) {
                        return isNaN(e) ? t : Math.max(t, e)
                    }, Number.NEGATIVE_INFINITY)
                }, o.min = function(t) {
                    return t.reduce(function(t, e) {
                        return isNaN(e) ? t : Math.min(t, e)
                    }, Number.POSITIVE_INFINITY)
                }, o.sign = Math.sign ? function(t) {
                    return Math.sign(t)
                } : function(t) {
                    return 0 == (t = +t) || isNaN(t) ? t : t > 0 ? 1 : -1
                }, o.log10 = Math.log10 ? function(t) {
                    return Math.log10(t)
                } : function(t) {
                    return Math.log(t) / Math.LN10
                }, o.toRadians = function(t) {
                    return t * (Math.PI / 180)
                }, o.toDegrees = function(t) {
                    return t * (180 / Math.PI)
                }, o.getAngleFromPoint = function(t, e) {
                    var n = e.x - t.x,
                        i = e.y - t.y,
                        a = Math.sqrt(n * n + i * i),
                        o = Math.atan2(i, n);
                    return o < -.5 * Math.PI && (o += 2 * Math.PI), {
                        angle: o,
                        distance: a
                    }
                }, o.distanceBetweenPoints = function(t, e) {
                    return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))
                }, o.aliasPixel = function(t) {
                    return t % 2 == 0 ? 0 : .5
                }, o.splineCurve = function(t, e, n, i) {
                    var a = t.skip ? e : t,
                        o = e,
                        r = n.skip ? e : n,
                        l = Math.sqrt(Math.pow(o.x - a.x, 2) + Math.pow(o.y - a.y, 2)),
                        s = Math.sqrt(Math.pow(r.x - o.x, 2) + Math.pow(r.y - o.y, 2)),
                        u = l / (l + s),
                        d = s / (l + s),
                        c = i * (u = isNaN(u) ? 0 : u),
                        h = i * (d = isNaN(d) ? 0 : d);
                    return {
                        previous: {
                            x: o.x - c * (r.x - a.x),
                            y: o.y - c * (r.y - a.y)
                        },
                        next: {
                            x: o.x + h * (r.x - a.x),
                            y: o.y + h * (r.y - a.y)
                        }
                    }
                }, o.EPSILON = Number.EPSILON || 1e-14, o.splineCurveMonotone = function(t) {
                    var e, n, i, a, r = (t || []).map(function(t) {
                            return {
                                model: t._model,
                                deltaK: 0,
                                mK: 0
                            }
                        }),
                        l = r.length;
                    for (e = 0; e < l; ++e)
                        if (!(i = r[e]).model.skip) {
                            if (n = e > 0 ? r[e - 1] : null, (a = e < l - 1 ? r[e + 1] : null) && !a.model.skip) {
                                var s = a.model.x - i.model.x;
                                i.deltaK = 0 !== s ? (a.model.y - i.model.y) / s : 0
                            }!n || n.model.skip ? i.mK = i.deltaK : !a || a.model.skip ? i.mK = n.deltaK : this.sign(n.deltaK) !== this.sign(i.deltaK) ? i.mK = 0 : i.mK = (n.deltaK + i.deltaK) / 2
                        } var u, d, c, h;
                    for (e = 0; e < l - 1; ++e) i = r[e], a = r[e + 1], i.model.skip || a.model.skip || (o.almostEquals(i.deltaK, 0, this.EPSILON) ? i.mK = a.mK = 0 : (u = i.mK / i.deltaK, d = a.mK / i.deltaK, (h = Math.pow(u, 2) + Math.pow(d, 2)) <= 9 || (c = 3 / Math.sqrt(h), i.mK = u * c * i.deltaK, a.mK = d * c * i.deltaK)));
                    var f;
                    for (e = 0; e < l; ++e)(i = r[e]).model.skip || (n = e > 0 ? r[e - 1] : null, a = e < l - 1 ? r[e + 1] : null, n && !n.model.skip && (f = (i.model.x - n.model.x) / 3, i.model.controlPointPreviousX = i.model.x - f, i.model.controlPointPreviousY = i.model.y - f * i.mK), a && !a.model.skip && (f = (a.model.x - i.model.x) / 3, i.model.controlPointNextX = i.model.x + f, i.model.controlPointNextY = i.model.y + f * i.mK))
                }, o.nextItem = function(t, e, n) {
                    return n ? e >= t.length - 1 ? t[0] : t[e + 1] : e >= t.length - 1 ? t[t.length - 1] : t[e + 1]
                }, o.previousItem = function(t, e, n) {
                    return n ? e <= 0 ? t[t.length - 1] : t[e - 1] : e <= 0 ? t[0] : t[e - 1]
                }, o.niceNum = function(t, e) {
                    var n = Math.floor(o.log10(t)),
                        i = t / Math.pow(10, n);
                    return (e ? i < 1.5 ? 1 : i < 3 ? 2 : i < 7 ? 5 : 10 : i <= 1 ? 1 : i <= 2 ? 2 : i <= 5 ? 5 : 10) * Math.pow(10, n)
                }, o.requestAnimFrame = "undefined" == typeof window ? function(t) {
                    t()
                } : window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t) {
                    return window.setTimeout(t, 1e3 / 60)
                }, o.getRelativePosition = function(t, e) {
                    var n, i, a = t.originalEvent || t,
                        r = t.currentTarget || t.srcElement,
                        l = r.getBoundingClientRect(),
                        s = a.touches;
                    s && s.length > 0 ? (n = s[0].clientX, i = s[0].clientY) : (n = a.clientX, i = a.clientY);
                    var u = parseFloat(o.getStyle(r, "padding-left")),
                        d = parseFloat(o.getStyle(r, "padding-top")),
                        c = parseFloat(o.getStyle(r, "padding-right")),
                        h = parseFloat(o.getStyle(r, "padding-bottom")),
                        f = l.right - l.left - u - c,
                        g = l.bottom - l.top - d - h;
                    return n = Math.round((n - l.left - u) / f * r.width / e.currentDevicePixelRatio), i = Math.round((i - l.top - d) / g * r.height / e.currentDevicePixelRatio), {
                        x: n,
                        y: i
                    }
                }, o.getConstraintWidth = function(t) {
                    return r(t, "max-width", "clientWidth")
                }, o.getConstraintHeight = function(t) {
                    return r(t, "max-height", "clientHeight")
                }, o.getMaximumWidth = function(t) {
                    var e = t.parentNode;
                    if (!e) return t.clientWidth;
                    var n = parseInt(o.getStyle(e, "padding-left"), 10),
                        i = parseInt(o.getStyle(e, "padding-right"), 10),
                        a = e.clientWidth - n - i,
                        r = o.getConstraintWidth(t);
                    return isNaN(r) ? a : Math.min(a, r)
                }, o.getMaximumHeight = function(t) {
                    var e = t.parentNode;
                    if (!e) return t.clientHeight;
                    var n = parseInt(o.getStyle(e, "padding-top"), 10),
                        i = parseInt(o.getStyle(e, "padding-bottom"), 10),
                        a = e.clientHeight - n - i,
                        r = o.getConstraintHeight(t);
                    return isNaN(r) ? a : Math.min(a, r)
                }, o.getStyle = function(t, e) {
                    return t.currentStyle ? t.currentStyle[e] : document.defaultView.getComputedStyle(t, null).getPropertyValue(e)
                }, o.retinaScale = function(t, e) {
                    var n = t.currentDevicePixelRatio = e || window.devicePixelRatio || 1;
                    if (1 !== n) {
                        var i = t.canvas,
                            a = t.height,
                            o = t.width;
                        i.height = a * n, i.width = o * n, t.ctx.scale(n, n), i.style.height = a + "px", i.style.width = o + "px"
                    }
                }, o.fontString = function(t, e, n) {
                    return e + " " + t + "px " + n
                }, o.longestText = function(t, e, n, i) {
                    var a = (i = i || {}).data = i.data || {},
                        r = i.garbageCollect = i.garbageCollect || [];
                    i.font !== e && (a = i.data = {}, r = i.garbageCollect = [], i.font = e), t.font = e;
                    var l = 0;
                    o.each(n, function(e) {
                        void 0 !== e && null !== e && !0 !== o.isArray(e) ? l = o.measureText(t, a, r, l, e) : o.isArray(e) && o.each(e, function(e) {
                            void 0 === e || null === e || o.isArray(e) || (l = o.measureText(t, a, r, l, e))
                        })
                    });
                    var s = r.length / 2;
                    if (s > n.length) {
                        for (var u = 0; u < s; u++) delete a[r[u]];
                        r.splice(0, s)
                    }
                    return l
                }, o.measureText = function(t, e, n, i, a) {
                    var o = e[a];
                    return o || (o = e[a] = t.measureText(a).width, n.push(a)), o > i && (i = o), i
                }, o.numberOfLabelLines = function(t) {
                    var e = 1;
                    return o.each(t, function(t) {
                        o.isArray(t) && t.length > e && (e = t.length)
                    }), e
                }, o.color = i ? function(t) {
                    return t instanceof CanvasGradient && (t = a.global.defaultColor), i(t)
                } : function(t) {
                    return console.error("Color.js not found!"), t
                }, o.getHoverColor = function(t) {
                    return t instanceof CanvasPattern ? t : o.color(t).saturate(.5).darken(.1).rgbString()
                }
            }
        }, {
            25: 25,
            3: 3,
            45: 45
        }],
        28: [function(t, e, n) {
            "use strict";

            function i(t, e) {
                return t.native ? {
                    x: t.x,
                    y: t.y
                } : u.getRelativePosition(t, e)
            }

            function a(t, e) {
                var n, i, a, o, r;
                for (i = 0, o = t.data.datasets.length; i < o; ++i)
                    if (t.isDatasetVisible(i))
                        for (a = 0, r = (n = t.getDatasetMeta(i)).data.length; a < r; ++a) {
                            var l = n.data[a];
                            l._view.skip || e(l)
                        }
            }

            function o(t, e) {
                var n = [];
                return a(t, function(t) {
                    t.inRange(e.x, e.y) && n.push(t)
                }), n
            }

            function r(t, e, n, i) {
                var o = Number.POSITIVE_INFINITY,
                    r = [];
                return a(t, function(t) {
                    if (!n || t.inRange(e.x, e.y)) {
                        var a = t.getCenterPoint(),
                            l = i(e, a);
                        l < o ? (r = [t], o = l) : l === o && r.push(t)
                    }
                }), r
            }

            function l(t) {
                var e = -1 !== t.indexOf("x"),
                    n = -1 !== t.indexOf("y");
                return function(t, i) {
                    var a = e ? Math.abs(t.x - i.x) : 0,
                        o = n ? Math.abs(t.y - i.y) : 0;
                    return Math.sqrt(Math.pow(a, 2) + Math.pow(o, 2))
                }
            }

            function s(t, e, n) {
                var a = i(e, t);
                n.axis = n.axis || "x";
                var s = l(n.axis),
                    u = n.intersect ? o(t, a) : r(t, a, !1, s),
                    d = [];
                return u.length ? (t.data.datasets.forEach(function(e, n) {
                    if (t.isDatasetVisible(n)) {
                        var i = t.getDatasetMeta(n).data[u[0]._index];
                        i && !i._view.skip && d.push(i)
                    }
                }), d) : []
            }
            var u = t(45);
            e.exports = {
                modes: {
                    single: function(t, e) {
                        var n = i(e, t),
                            o = [];
                        return a(t, function(t) {
                            if (t.inRange(n.x, n.y)) return o.push(t), o
                        }), o.slice(0, 1)
                    },
                    label: s,
                    index: s,
                    dataset: function(t, e, n) {
                        var a = i(e, t);
                        n.axis = n.axis || "xy";
                        var s = l(n.axis),
                            u = n.intersect ? o(t, a) : r(t, a, !1, s);
                        return u.length > 0 && (u = t.getDatasetMeta(u[0]._datasetIndex).data), u
                    },
                    "x-axis": function(t, e) {
                        return s(t, e, {
                            intersect: !1
                        })
                    },
                    point: function(t, e) {
                        return o(t, i(e, t))
                    },
                    nearest: function(t, e, n) {
                        var a = i(e, t);
                        n.axis = n.axis || "xy";
                        var o = l(n.axis),
                            s = r(t, a, n.intersect, o);
                        return s.length > 1 && s.sort(function(t, e) {
                            var n = t.getArea() - e.getArea();
                            return 0 === n && (n = t._datasetIndex - e._datasetIndex), n
                        }), s.slice(0, 1)
                    },
                    x: function(t, e, n) {
                        var o = i(e, t),
                            r = [],
                            l = !1;
                        return a(t, function(t) {
                            t.inXRange(o.x) && r.push(t), t.inRange(o.x, o.y) && (l = !0)
                        }), n.intersect && !l && (r = []), r
                    },
                    y: function(t, e, n) {
                        var o = i(e, t),
                            r = [],
                            l = !1;
                        return a(t, function(t) {
                            t.inYRange(o.y) && r.push(t), t.inRange(o.x, o.y) && (l = !0)
                        }), n.intersect && !l && (r = []), r
                    }
                }
            }
        }, {
            45: 45
        }],
        29: [function(t, e, n) {
            "use strict";
            t(25)._set("global", {
                responsive: !0,
                responsiveAnimationDuration: 0,
                maintainAspectRatio: !0,
                events: ["mousemove", "mouseout", "click", "touchstart", "touchmove"],
                hover: {
                    onHover: null,
                    mode: "nearest",
                    intersect: !0,
                    animationDuration: 400
                },
                onClick: null,
                defaultColor: "rgba(0,0,0,0.1)",
                defaultFontColor: "#666",
                defaultFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
                defaultFontSize: 12,
                defaultFontStyle: "normal",
                showLines: !0,
                elements: {},
                layout: {
                    padding: {
                        top: 0,
                        right: 0,
                        bottom: 0,
                        left: 0
                    }
                }
            }), e.exports = function() {
                var t = function(t, e) {
                    return this.construct(t, e), this
                };
                return t.Chart = t, t
            }
        }, {
            25: 25
        }],
        30: [function(t, e, n) {
            "use strict";
            var i = t(45);
            e.exports = function(t) {
                function e(t, e) {
                    return i.where(t, function(t) {
                        return t.position === e
                    })
                }

                function n(t, e) {
                    t.forEach(function(t, e) {
                        return t._tmpIndex_ = e, t
                    }), t.sort(function(t, n) {
                        var i = e ? n : t,
                            a = e ? t : n;
                        return i.weight === a.weight ? i._tmpIndex_ - a._tmpIndex_ : i.weight - a.weight
                    }), t.forEach(function(t) {
                        delete t._tmpIndex_
                    })
                }
                t.layoutService = {
                    defaults: {},
                    addBox: function(t, e) {
                        t.boxes || (t.boxes = []), e.fullWidth = e.fullWidth || !1, e.position = e.position || "top", e.weight = e.weight || 0, t.boxes.push(e)
                    },
                    removeBox: function(t, e) {
                        var n = t.boxes ? t.boxes.indexOf(e) : -1; - 1 !== n && t.boxes.splice(n, 1)
                    },
                    configure: function(t, e, n) {
                        for (var i, a = ["fullWidth", "position", "weight"], o = a.length, r = 0; r < o; ++r) i = a[r], n.hasOwnProperty(i) && (e[i] = n[i])
                    },
                    update: function(t, a, o) {
                        function r(t) {
                            var e = i.findNextWhere(_, function(e) {
                                return e.box === t
                            });
                            if (e)
                                if (t.isHorizontal()) {
                                    var n = {
                                        left: Math.max(T, D),
                                        right: Math.max(F, I),
                                        top: 0,
                                        bottom: 0
                                    };
                                    t.update(t.fullWidth ? x : S, y / 2, n)
                                } else t.update(e.minSize.width, C)
                        }

                        function l(t) {
                            t.isHorizontal() ? (t.left = t.fullWidth ? d : T, t.right = t.fullWidth ? a - c : T + S, t.top = V, t.bottom = V + t.height, V = t.bottom) : (t.left = N, t.right = N + t.width, t.top = O, t.bottom = O + C, N = t.right)
                        }
                        if (t) {
                            var s = t.options.layout || {},
                                u = i.options.toPadding(s.padding),
                                d = u.left,
                                c = u.right,
                                h = u.top,
                                f = u.bottom,
                                g = e(t.boxes, "left"),
                                p = e(t.boxes, "right"),
                                v = e(t.boxes, "top"),
                                m = e(t.boxes, "bottom"),
                                b = e(t.boxes, "chartArea");
                            n(g, !0), n(p, !1), n(v, !0), n(m, !1);
                            var x = a - d - c,
                                y = o - h - f,
                                k = y / 2,
                                w = (a - x / 2) / (g.length + p.length),
                                M = (o - k) / (v.length + m.length),
                                S = x,
                                C = y,
                                _ = [];
                            i.each(g.concat(p, v, m), function(t) {
                                var e, n = t.isHorizontal();
                                n ? (e = t.update(t.fullWidth ? x : S, M), C -= e.height) : (e = t.update(w, k), S -= e.width), _.push({
                                    horizontal: n,
                                    minSize: e,
                                    box: t
                                })
                            });
                            var D = 0,
                                I = 0,
                                P = 0,
                                A = 0;
                            i.each(v.concat(m), function(t) {
                                if (t.getPadding) {
                                    var e = t.getPadding();
                                    D = Math.max(D, e.left), I = Math.max(I, e.right)
                                }
                            }), i.each(g.concat(p), function(t) {
                                if (t.getPadding) {
                                    var e = t.getPadding();
                                    P = Math.max(P, e.top), A = Math.max(A, e.bottom)
                                }
                            });
                            var T = d,
                                F = c,
                                O = h,
                                R = f;
                            i.each(g.concat(p), r), i.each(g, function(t) {
                                T += t.width
                            }), i.each(p, function(t) {
                                F += t.width
                            }), i.each(v.concat(m), r), i.each(v, function(t) {
                                O += t.height
                            }), i.each(m, function(t) {
                                R += t.height
                            }), i.each(g.concat(p), function(t) {
                                var e = i.findNextWhere(_, function(e) {
                                        return e.box === t
                                    }),
                                    n = {
                                        left: 0,
                                        right: 0,
                                        top: O,
                                        bottom: R
                                    };
                                e && t.update(e.minSize.width, C, n)
                            }), T = d, F = c, O = h, R = f, i.each(g, function(t) {
                                T += t.width
                            }), i.each(p, function(t) {
                                F += t.width
                            }), i.each(v, function(t) {
                                O += t.height
                            }), i.each(m, function(t) {
                                R += t.height
                            });
                            var L = Math.max(D - T, 0);
                            T += L, F += Math.max(I - F, 0);
                            var z = Math.max(P - O, 0);
                            O += z, R += Math.max(A - R, 0);
                            var B = o - O - R,
                                W = a - T - F;
                            W === S && B === C || (i.each(g, function(t) {
                                t.height = B
                            }), i.each(p, function(t) {
                                t.height = B
                            }), i.each(v, function(t) {
                                t.fullWidth || (t.width = W)
                            }), i.each(m, function(t) {
                                t.fullWidth || (t.width = W)
                            }), C = B, S = W);
                            var N = d + L,
                                V = h + z;
                            i.each(g.concat(v), l), N += S, V += C, i.each(p, l), i.each(m, l), t.chartArea = {
                                left: T,
                                top: O,
                                right: T + S,
                                bottom: O + C
                            }, i.each(b, function(e) {
                                e.left = t.chartArea.left, e.top = t.chartArea.top, e.right = t.chartArea.right, e.bottom = t.chartArea.bottom, e.update(S, C)
                            })
                        }
                    }
                }
            }
        }, {
            45: 45
        }],
        31: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                plugins: {}
            }), e.exports = function(t) {
                t.plugins = {
                    _plugins: [],
                    _cacheId: 0,
                    register: function(t) {
                        var e = this._plugins;
                        [].concat(t).forEach(function(t) {
                            -1 === e.indexOf(t) && e.push(t)
                        }), this._cacheId++
                    },
                    unregister: function(t) {
                        var e = this._plugins;
                        [].concat(t).forEach(function(t) {
                            var n = e.indexOf(t); - 1 !== n && e.splice(n, 1)
                        }), this._cacheId++
                    },
                    clear: function() {
                        this._plugins = [], this._cacheId++
                    },
                    count: function() {
                        return this._plugins.length
                    },
                    getAll: function() {
                        return this._plugins
                    },
                    notify: function(t, e, n) {
                        var i, a, o, r, l, s = this.descriptors(t),
                            u = s.length;
                        for (i = 0; i < u; ++i)
                            if (a = s[i], o = a.plugin, "function" == typeof(l = o[e]) && ((r = [t].concat(n || [])).push(a.options), !1 === l.apply(o, r))) return !1;
                        return !0
                    },
                    descriptors: function(t) {
                        var e = t._plugins || (t._plugins = {});
                        if (e.id === this._cacheId) return e.descriptors;
                        var n = [],
                            a = [],
                            r = t && t.config || {},
                            l = r.options && r.options.plugins || {};
                        return this._plugins.concat(r.plugins || []).forEach(function(t) {
                            if (-1 === n.indexOf(t)) {
                                var e = t.id,
                                    r = l[e];
                                !1 !== r && (!0 === r && (r = o.clone(i.global.plugins[e])), n.push(t), a.push({
                                    plugin: t,
                                    options: r || {}
                                }))
                            }
                        }), e.descriptors = a, e.id = this._cacheId, a
                    }
                }, t.pluginService = t.plugins, t.PluginBase = a.extend({})
            }
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        32: [function(t, e, n) {
            "use strict";

            function i(t) {
                var e, n, i = [];
                for (e = 0, n = t.length; e < n; ++e) i.push(t[e].label);
                return i
            }

            function a(t, e, n) {
                var i = t.getPixelForTick(e);
                return n && (i -= 0 === e ? (t.getPixelForTick(1) - i) / 2 : (i - t.getPixelForTick(e - 1)) / 2), i
            }
            var o = t(25),
                r = t(26),
                l = t(45),
                s = t(34);
            o._set("scale", {
                display: !0,
                position: "left",
                offset: !1,
                gridLines: {
                    display: !0,
                    color: "rgba(0, 0, 0, 0.1)",
                    lineWidth: 1,
                    drawBorder: !0,
                    drawOnChartArea: !0,
                    drawTicks: !0,
                    tickMarkLength: 10,
                    zeroLineWidth: 1,
                    zeroLineColor: "rgba(0,0,0,0.25)",
                    zeroLineBorderDash: [],
                    zeroLineBorderDashOffset: 0,
                    offsetGridLines: !1,
                    borderDash: [],
                    borderDashOffset: 0
                },
                scaleLabel: {
                    display: !1,
                    labelString: "",
                    lineHeight: 1.2,
                    padding: {
                        top: 4,
                        bottom: 4
                    }
                },
                ticks: {
                    beginAtZero: !1,
                    minRotation: 0,
                    maxRotation: 50,
                    mirror: !1,
                    padding: 0,
                    reverse: !1,
                    display: !0,
                    autoSkip: !0,
                    autoSkipPadding: 0,
                    labelOffset: 0,
                    callback: s.formatters.values,
                    minor: {},
                    major: {}
                }
            }), e.exports = function(t) {
                function e(t, e, n) {
                    return l.isArray(e) ? l.longestText(t, n, e) : t.measureText(e).width
                }

                function n(t) {
                    var e = l.valueOrDefault,
                        n = o.global,
                        i = e(t.fontSize, n.defaultFontSize),
                        a = e(t.fontStyle, n.defaultFontStyle),
                        r = e(t.fontFamily, n.defaultFontFamily);
                    return {
                        size: i,
                        style: a,
                        family: r,
                        font: l.fontString(i, a, r)
                    }
                }

                function s(t) {
                    return l.options.toLineHeight(l.valueOrDefault(t.lineHeight, 1.2), l.valueOrDefault(t.fontSize, o.global.defaultFontSize))
                }
                t.Scale = r.extend({
                    getPadding: function() {
                        var t = this;
                        return {
                            left: t.paddingLeft || 0,
                            top: t.paddingTop || 0,
                            right: t.paddingRight || 0,
                            bottom: t.paddingBottom || 0
                        }
                    },
                    getTicks: function() {
                        return this._ticks
                    },
                    mergeTicksOptions: function() {
                        var t = this.options.ticks;
                        !1 === t.minor && (t.minor = {
                            display: !1
                        }), !1 === t.major && (t.major = {
                            display: !1
                        });
                        for (var e in t) "major" !== e && "minor" !== e && (void 0 === t.minor[e] && (t.minor[e] = t[e]), void 0 === t.major[e] && (t.major[e] = t[e]))
                    },
                    beforeUpdate: function() {
                        l.callback(this.options.beforeUpdate, [this])
                    },
                    update: function(t, e, n) {
                        var i, a, o, r, s, u, d = this;
                        for (d.beforeUpdate(), d.maxWidth = t, d.maxHeight = e, d.margins = l.extend({
                                left: 0,
                                right: 0,
                                top: 0,
                                bottom: 0
                            }, n), d.longestTextCache = d.longestTextCache || {}, d.beforeSetDimensions(), d.setDimensions(), d.afterSetDimensions(), d.beforeDataLimits(), d.determineDataLimits(), d.afterDataLimits(), d.beforeBuildTicks(), s = d.buildTicks() || [], d.afterBuildTicks(), d.beforeTickToLabelConversion(), o = d.convertTicksToLabels(s) || d.ticks, d.afterTickToLabelConversion(), d.ticks = o, i = 0, a = o.length; i < a; ++i) r = o[i], (u = s[i]) ? u.label = r : s.push(u = {
                            label: r,
                            major: !1
                        });
                        return d._ticks = s, d.beforeCalculateTickRotation(), d.calculateTickRotation(), d.afterCalculateTickRotation(), d.beforeFit(), d.fit(), d.afterFit(), d.afterUpdate(), d.minSize
                    },
                    afterUpdate: function() {
                        l.callback(this.options.afterUpdate, [this])
                    },
                    beforeSetDimensions: function() {
                        l.callback(this.options.beforeSetDimensions, [this])
                    },
                    setDimensions: function() {
                        var t = this;
                        t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0
                    },
                    afterSetDimensions: function() {
                        l.callback(this.options.afterSetDimensions, [this])
                    },
                    beforeDataLimits: function() {
                        l.callback(this.options.beforeDataLimits, [this])
                    },
                    determineDataLimits: l.noop,
                    afterDataLimits: function() {
                        l.callback(this.options.afterDataLimits, [this])
                    },
                    beforeBuildTicks: function() {
                        l.callback(this.options.beforeBuildTicks, [this])
                    },
                    buildTicks: l.noop,
                    afterBuildTicks: function() {
                        l.callback(this.options.afterBuildTicks, [this])
                    },
                    beforeTickToLabelConversion: function() {
                        l.callback(this.options.beforeTickToLabelConversion, [this])
                    },
                    convertTicksToLabels: function() {
                        var t = this,
                            e = t.options.ticks;
                        t.ticks = t.ticks.map(e.userCallback || e.callback, this)
                    },
                    afterTickToLabelConversion: function() {
                        l.callback(this.options.afterTickToLabelConversion, [this])
                    },
                    beforeCalculateTickRotation: function() {
                        l.callback(this.options.beforeCalculateTickRotation, [this])
                    },
                    calculateTickRotation: function() {
                        var t = this,
                            e = t.ctx,
                            a = t.options.ticks,
                            o = i(t._ticks),
                            r = n(a);
                        e.font = r.font;
                        var s = a.minRotation || 0;
                        if (o.length && t.options.display && t.isHorizontal())
                            for (var u, d = l.longestText(e, r.font, o, t.longestTextCache), c = d, h = t.getPixelForTick(1) - t.getPixelForTick(0) - 6; c > h && s < a.maxRotation;) {
                                var f = l.toRadians(s);
                                if (u = Math.cos(f), Math.sin(f) * d > t.maxHeight) {
                                    s--;
                                    break
                                }
                                s++, c = u * d
                            }
                        t.labelRotation = s
                    },
                    afterCalculateTickRotation: function() {
                        l.callback(this.options.afterCalculateTickRotation, [this])
                    },
                    beforeFit: function() {
                        l.callback(this.options.beforeFit, [this])
                    },
                    fit: function() {
                        var t = this,
                            a = t.minSize = {
                                width: 0,
                                height: 0
                            },
                            o = i(t._ticks),
                            r = t.options,
                            u = r.ticks,
                            d = r.scaleLabel,
                            c = r.gridLines,
                            h = r.display,
                            f = t.isHorizontal(),
                            g = n(u),
                            p = r.gridLines.tickMarkLength;
                        if (a.width = f ? t.isFullWidth() ? t.maxWidth - t.margins.left - t.margins.right : t.maxWidth : h && c.drawTicks ? p : 0, a.height = f ? h && c.drawTicks ? p : 0 : t.maxHeight, d.display && h) {
                            var v = s(d) + l.options.toPadding(d.padding).height;
                            f ? a.height += v : a.width += v
                        }
                        if (u.display && h) {
                            var m = l.longestText(t.ctx, g.font, o, t.longestTextCache),
                                b = l.numberOfLabelLines(o),
                                x = .5 * g.size,
                                y = t.options.ticks.padding;
                            if (f) {
                                t.longestLabelWidth = m;
                                var k = l.toRadians(t.labelRotation),
                                    w = Math.cos(k),
                                    M = Math.sin(k) * m + g.size * b + x * (b - 1) + x;
                                a.height = Math.min(t.maxHeight, a.height + M + y), t.ctx.font = g.font;
                                var S = e(t.ctx, o[0], g.font),
                                    C = e(t.ctx, o[o.length - 1], g.font);
                                0 !== t.labelRotation ? (t.paddingLeft = "bottom" === r.position ? w * S + 3 : w * x + 3, t.paddingRight = "bottom" === r.position ? w * x + 3 : w * C + 3) : (t.paddingLeft = S / 2 + 3, t.paddingRight = C / 2 + 3)
                            } else u.mirror ? m = 0 : m += y + x, a.width = Math.min(t.maxWidth, a.width + m), t.paddingTop = g.size / 2, t.paddingBottom = g.size / 2
                        }
                        t.handleMargins(), t.width = a.width, t.height = a.height
                    },
                    handleMargins: function() {
                        var t = this;
                        t.margins && (t.paddingLeft = Math.max(t.paddingLeft - t.margins.left, 0), t.paddingTop = Math.max(t.paddingTop - t.margins.top, 0), t.paddingRight = Math.max(t.paddingRight - t.margins.right, 0), t.paddingBottom = Math.max(t.paddingBottom - t.margins.bottom, 0))
                    },
                    afterFit: function() {
                        l.callback(this.options.afterFit, [this])
                    },
                    isHorizontal: function() {
                        return "top" === this.options.position || "bottom" === this.options.position
                    },
                    isFullWidth: function() {
                        return this.options.fullWidth
                    },
                    getRightValue: function(t) {
                        if (l.isNullOrUndef(t)) return NaN;
                        if ("number" == typeof t && !isFinite(t)) return NaN;
                        if (t)
                            if (this.isHorizontal()) {
                                if (void 0 !== t.x) return this.getRightValue(t.x)
                            } else if (void 0 !== t.y) return this.getRightValue(t.y);
                        return t
                    },
                    getLabelForIndex: l.noop,
                    getPixelForValue: l.noop,
                    getValueForPixel: l.noop,
                    getPixelForTick: function(t) {
                        var e = this,
                            n = e.options.offset;
                        if (e.isHorizontal()) {
                            var i = (e.width - (e.paddingLeft + e.paddingRight)) / Math.max(e._ticks.length - (n ? 0 : 1), 1),
                                a = i * t + e.paddingLeft;
                            n && (a += i / 2);
                            var o = e.left + Math.round(a);
                            return o += e.isFullWidth() ? e.margins.left : 0
                        }
                        var r = e.height - (e.paddingTop + e.paddingBottom);
                        return e.top + t * (r / (e._ticks.length - 1))
                    },
                    getPixelForDecimal: function(t) {
                        var e = this;
                        if (e.isHorizontal()) {
                            var n = (e.width - (e.paddingLeft + e.paddingRight)) * t + e.paddingLeft,
                                i = e.left + Math.round(n);
                            return i += e.isFullWidth() ? e.margins.left : 0
                        }
                        return e.top + t * e.height
                    },
                    getBasePixel: function() {
                        return this.getPixelForValue(this.getBaseValue())
                    },
                    getBaseValue: function() {
                        var t = this,
                            e = t.min,
                            n = t.max;
                        return t.beginAtZero ? 0 : e < 0 && n < 0 ? n : e > 0 && n > 0 ? e : 0
                    },
                    _autoSkip: function(t) {
                        var e, n, i, a, o = this,
                            r = o.isHorizontal(),
                            s = o.options.ticks.minor,
                            u = t.length,
                            d = l.toRadians(o.labelRotation),
                            c = Math.cos(d),
                            h = o.longestLabelWidth * c,
                            f = [];
                        for (s.maxTicksLimit && (a = s.maxTicksLimit), r && (e = !1, (h + s.autoSkipPadding) * u > o.width - (o.paddingLeft + o.paddingRight) && (e = 1 + Math.floor((h + s.autoSkipPadding) * u / (o.width - (o.paddingLeft + o.paddingRight)))), a && u > a && (e = Math.max(e, Math.floor(u / a)))), n = 0; n < u; n++) i = t[n], (e > 1 && n % e > 0 || n % e == 0 && n + e >= u) && n !== u - 1 && delete i.label, f.push(i);
                        return f
                    },
                    draw: function(t) {
                        var e = this,
                            i = e.options;
                        if (i.display) {
                            var r = e.ctx,
                                u = o.global,
                                d = i.ticks.minor,
                                c = i.ticks.major || d,
                                h = i.gridLines,
                                f = i.scaleLabel,
                                g = 0 !== e.labelRotation,
                                p = e.isHorizontal(),
                                v = d.autoSkip ? e._autoSkip(e.getTicks()) : e.getTicks(),
                                m = l.valueOrDefault(d.fontColor, u.defaultFontColor),
                                b = n(d),
                                x = l.valueOrDefault(c.fontColor, u.defaultFontColor),
                                y = n(c),
                                k = h.drawTicks ? h.tickMarkLength : 0,
                                w = l.valueOrDefault(f.fontColor, u.defaultFontColor),
                                M = n(f),
                                S = l.options.toPadding(f.padding),
                                C = l.toRadians(e.labelRotation),
                                _ = [],
                                D = "right" === i.position ? e.left : e.right - k,
                                I = "right" === i.position ? e.left + k : e.right,
                                P = "bottom" === i.position ? e.top : e.bottom - k,
                                A = "bottom" === i.position ? e.top + k : e.bottom;
                            if (l.each(v, function(n, o) {
                                    if (!l.isNullOrUndef(n.label)) {
                                        var r, s, c, f, m = n.label;
                                        o === e.zeroLineIndex && i.offset === h.offsetGridLines ? (r = h.zeroLineWidth, s = h.zeroLineColor, c = h.zeroLineBorderDash, f = h.zeroLineBorderDashOffset) : (r = l.valueAtIndexOrDefault(h.lineWidth, o), s = l.valueAtIndexOrDefault(h.color, o), c = l.valueOrDefault(h.borderDash, u.borderDash), f = l.valueOrDefault(h.borderDashOffset, u.borderDashOffset));
                                        var b, x, y, w, M, S, T, F, O, R, L = "middle",
                                            z = "middle",
                                            B = d.padding;
                                        if (p) {
                                            var W = k + B;
                                            "bottom" === i.position ? (z = g ? "middle" : "top", L = g ? "right" : "center", R = e.top + W) : (z = g ? "middle" : "bottom", L = g ? "left" : "center", R = e.bottom - W);
                                            var N = a(e, o, h.offsetGridLines && v.length > 1);
                                            N < e.left && (s = "rgba(0,0,0,0)"), N += l.aliasPixel(r), O = e.getPixelForTick(o) + d.labelOffset, b = y = M = T = N, x = P, w = A, S = t.top, F = t.bottom
                                        } else {
                                            var V, E = "left" === i.position;
                                            d.mirror ? (L = E ? "left" : "right", V = B) : (L = E ? "right" : "left", V = k + B), O = E ? e.right - V : e.left + V;
                                            var H = a(e, o, h.offsetGridLines && v.length > 1);
                                            H < e.top && (s = "rgba(0,0,0,0)"), H += l.aliasPixel(r), R = e.getPixelForTick(o) + d.labelOffset, b = D, y = I, M = t.left, T = t.right, x = w = S = F = H
                                        }
                                        _.push({
                                            tx1: b,
                                            ty1: x,
                                            tx2: y,
                                            ty2: w,
                                            x1: M,
                                            y1: S,
                                            x2: T,
                                            y2: F,
                                            labelX: O,
                                            labelY: R,
                                            glWidth: r,
                                            glColor: s,
                                            glBorderDash: c,
                                            glBorderDashOffset: f,
                                            rotation: -1 * C,
                                            label: m,
                                            major: n.major,
                                            textBaseline: z,
                                            textAlign: L
                                        })
                                    }
                                }), l.each(_, function(t) {
                                    if (h.display && (r.save(), r.lineWidth = t.glWidth, r.strokeStyle = t.glColor, r.setLineDash && (r.setLineDash(t.glBorderDash), r.lineDashOffset = t.glBorderDashOffset), r.beginPath(), h.drawTicks && (r.moveTo(t.tx1, t.ty1), r.lineTo(t.tx2, t.ty2)), h.drawOnChartArea && (r.moveTo(t.x1, t.y1), r.lineTo(t.x2, t.y2)), r.stroke(), r.restore()), d.display) {
                                        r.save(), r.translate(t.labelX, t.labelY), r.rotate(t.rotation), r.font = t.major ? y.font : b.font, r.fillStyle = t.major ? x : m, r.textBaseline = t.textBaseline, r.textAlign = t.textAlign;
                                        var e = t.label;
                                        if (l.isArray(e))
                                            for (var n = 0, i = 0; n < e.length; ++n) r.fillText("" + e[n], 0, i), i += 1.5 * b.size;
                                        else r.fillText(e, 0, 0);
                                        r.restore()
                                    }
                                }), f.display) {
                                var T, F, O = 0,
                                    R = s(f) / 2;
                                if (p) T = e.left + (e.right - e.left) / 2, F = "bottom" === i.position ? e.bottom - R - S.bottom : e.top + R + S.top;
                                else {
                                    var L = "left" === i.position;
                                    T = L ? e.left + R + S.top : e.right - R - S.top, F = e.top + (e.bottom - e.top) / 2, O = L ? -.5 * Math.PI : .5 * Math.PI
                                }
                                r.save(), r.translate(T, F), r.rotate(O), r.textAlign = "center", r.textBaseline = "middle", r.fillStyle = w, r.font = M.font, r.fillText(f.labelString, 0, 0), r.restore()
                            }
                            if (h.drawBorder) {
                                r.lineWidth = l.valueAtIndexOrDefault(h.lineWidth, 0), r.strokeStyle = l.valueAtIndexOrDefault(h.color, 0);
                                var z = e.left,
                                    B = e.right,
                                    W = e.top,
                                    N = e.bottom,
                                    V = l.aliasPixel(r.lineWidth);
                                p ? (W = N = "top" === i.position ? e.bottom : e.top, W += V, N += V) : (z = B = "left" === i.position ? e.right : e.left, z += V, B += V), r.beginPath(), r.moveTo(z, W), r.lineTo(B, N), r.stroke()
                            }
                        }
                    }
                })
            }
        }, {
            25: 25,
            26: 26,
            34: 34,
            45: 45
        }],
        33: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(45);
            e.exports = function(t) {
                t.scaleService = {
                    constructors: {},
                    defaults: {},
                    registerScaleType: function(t, e, n) {
                        this.constructors[t] = e, this.defaults[t] = a.clone(n)
                    },
                    getScaleConstructor: function(t) {
                        return this.constructors.hasOwnProperty(t) ? this.constructors[t] : void 0
                    },
                    getScaleDefaults: function(t) {
                        return this.defaults.hasOwnProperty(t) ? a.merge({}, [i.scale, this.defaults[t]]) : {}
                    },
                    updateScaleDefaults: function(t, e) {
                        var n = this;
                        n.defaults.hasOwnProperty(t) && (n.defaults[t] = a.extend(n.defaults[t], e))
                    },
                    addScalesToLayout: function(e) {
                        a.each(e.scales, function(n) {
                            n.fullWidth = n.options.fullWidth, n.position = n.options.position, n.weight = n.options.weight, t.layoutService.addBox(e, n)
                        })
                    }
                }
            }
        }, {
            25: 25,
            45: 45
        }],
        34: [function(t, e, n) {
            "use strict";
            var i = t(45);
            e.exports = {
                generators: {
                    linear: function(t, e) {
                        var n, a = [];
                        if (t.stepSize && t.stepSize > 0) n = t.stepSize;
                        else {
                            var o = i.niceNum(e.max - e.min, !1);
                            n = i.niceNum(o / (t.maxTicks - 1), !0)
                        }
                        var r = Math.floor(e.min / n) * n,
                            l = Math.ceil(e.max / n) * n;
                        t.min && t.max && t.stepSize && i.almostWhole((t.max - t.min) / t.stepSize, n / 1e3) && (r = t.min, l = t.max);
                        var s = (l - r) / n;
                        s = i.almostEquals(s, Math.round(s), n / 1e3) ? Math.round(s) : Math.ceil(s), a.push(void 0 !== t.min ? t.min : r);
                        for (var u = 1; u < s; ++u) a.push(r + u * n);
                        return a.push(void 0 !== t.max ? t.max : l), a
                    },
                    logarithmic: function(t, e) {
                        var n, a, o = [],
                            r = i.valueOrDefault,
                            l = r(t.min, Math.pow(10, Math.floor(i.log10(e.min)))),
                            s = Math.floor(i.log10(e.max)),
                            u = Math.ceil(e.max / Math.pow(10, s));
                        0 === l ? (n = Math.floor(i.log10(e.minNotZero)), a = Math.floor(e.minNotZero / Math.pow(10, n)), o.push(l), l = a * Math.pow(10, n)) : (n = Math.floor(i.log10(l)), a = Math.floor(l / Math.pow(10, n)));
                        do {
                            o.push(l), 10 === ++a && (a = 1, ++n), l = a * Math.pow(10, n)
                        } while (n < s || n === s && a < u);
                        var d = r(t.max, l);
                        return o.push(d), o
                    }
                },
                formatters: {
                    values: function(t) {
                        return i.isArray(t) ? t : "" + t
                    },
                    linear: function(t, e, n) {
                        var a = n.length > 3 ? n[2] - n[1] : n[1] - n[0];
                        Math.abs(a) > 1 && t !== Math.floor(t) && (a = t - Math.floor(t));
                        var o = i.log10(Math.abs(a)),
                            r = "";
                        if (0 !== t) {
                            var l = -1 * Math.floor(o);
                            l = Math.max(Math.min(l, 20), 0), r = t.toFixed(l)
                        } else r = "0";
                        return r
                    },
                    logarithmic: function(t, e, n) {
                        var a = t / Math.pow(10, Math.floor(i.log10(t)));
                        return 0 === t ? "0" : 1 === a || 2 === a || 5 === a || 0 === e || e === n.length - 1 ? t.toExponential() : ""
                    }
                }
            }
        }, {
            45: 45
        }],
        35: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                tooltips: {
                    enabled: !0,
                    custom: null,
                    mode: "nearest",
                    position: "average",
                    intersect: !0,
                    backgroundColor: "rgba(0,0,0,0.8)",
                    titleFontStyle: "bold",
                    titleSpacing: 2,
                    titleMarginBottom: 6,
                    titleFontColor: "#fff",
                    titleAlign: "left",
                    bodySpacing: 2,
                    bodyFontColor: "#fff",
                    bodyAlign: "left",
                    footerFontStyle: "bold",
                    footerSpacing: 2,
                    footerMarginTop: 6,
                    footerFontColor: "#fff",
                    footerAlign: "left",
                    yPadding: 6,
                    xPadding: 6,
                    caretPadding: 2,
                    caretSize: 5,
                    cornerRadius: 6,
                    multiKeyBackground: "#fff",
                    displayColors: !0,
                    borderColor: "rgba(0,0,0,0)",
                    borderWidth: 0,
                    callbacks: {
                        beforeTitle: o.noop,
                        title: function(t, e) {
                            var n = "",
                                i = e.labels,
                                a = i ? i.length : 0;
                            if (t.length > 0) {
                                var o = t[0];
                                o.xLabel ? n = o.xLabel : a > 0 && o.index < a && (n = i[o.index])
                            }
                            return n
                        },
                        afterTitle: o.noop,
                        beforeBody: o.noop,
                        beforeLabel: o.noop,
                        label: function(t, e) {
                            var n = e.datasets[t.datasetIndex].label || "";
                            return n && (n += ": "), n += t.yLabel
                        },
                        labelColor: function(t, e) {
                            var n = e.getDatasetMeta(t.datasetIndex).data[t.index]._view;
                            return {
                                borderColor: n.borderColor,
                                backgroundColor: n.backgroundColor
                            }
                        },
                        labelTextColor: function() {
                            return this._options.bodyFontColor
                        },
                        afterLabel: o.noop,
                        afterBody: o.noop,
                        beforeFooter: o.noop,
                        footer: o.noop,
                        afterFooter: o.noop
                    }
                }
            }), e.exports = function(t) {
                function e(t, e) {
                    var n = o.color(t);
                    return n.alpha(e * n.alpha()).rgbaString()
                }

                function n(t, e) {
                    return e && (o.isArray(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t
                }

                function r(t) {
                    var e = t._xScale,
                        n = t._yScale || t._scale,
                        i = t._index,
                        a = t._datasetIndex;
                    return {
                        xLabel: e ? e.getLabelForIndex(i, a) : "",
                        yLabel: n ? n.getLabelForIndex(i, a) : "",
                        index: i,
                        datasetIndex: a,
                        x: t._model.x,
                        y: t._model.y
                    }
                }

                function l(t) {
                    var e = i.global,
                        n = o.valueOrDefault;
                    return {
                        xPadding: t.xPadding,
                        yPadding: t.yPadding,
                        xAlign: t.xAlign,
                        yAlign: t.yAlign,
                        bodyFontColor: t.bodyFontColor,
                        _bodyFontFamily: n(t.bodyFontFamily, e.defaultFontFamily),
                        _bodyFontStyle: n(t.bodyFontStyle, e.defaultFontStyle),
                        _bodyAlign: t.bodyAlign,
                        bodyFontSize: n(t.bodyFontSize, e.defaultFontSize),
                        bodySpacing: t.bodySpacing,
                        titleFontColor: t.titleFontColor,
                        _titleFontFamily: n(t.titleFontFamily, e.defaultFontFamily),
                        _titleFontStyle: n(t.titleFontStyle, e.defaultFontStyle),
                        titleFontSize: n(t.titleFontSize, e.defaultFontSize),
                        _titleAlign: t.titleAlign,
                        titleSpacing: t.titleSpacing,
                        titleMarginBottom: t.titleMarginBottom,
                        footerFontColor: t.footerFontColor,
                        _footerFontFamily: n(t.footerFontFamily, e.defaultFontFamily),
                        _footerFontStyle: n(t.footerFontStyle, e.defaultFontStyle),
                        footerFontSize: n(t.footerFontSize, e.defaultFontSize),
                        _footerAlign: t.footerAlign,
                        footerSpacing: t.footerSpacing,
                        footerMarginTop: t.footerMarginTop,
                        caretSize: t.caretSize,
                        cornerRadius: t.cornerRadius,
                        backgroundColor: t.backgroundColor,
                        opacity: 0,
                        legendColorBackground: t.multiKeyBackground,
                        displayColors: t.displayColors,
                        borderColor: t.borderColor,
                        borderWidth: t.borderWidth
                    }
                }

                function s(t, e) {
                    var n = t._chart.ctx,
                        i = 2 * e.yPadding,
                        a = 0,
                        r = e.body,
                        l = r.reduce(function(t, e) {
                            return t + e.before.length + e.lines.length + e.after.length
                        }, 0);
                    l += e.beforeBody.length + e.afterBody.length;
                    var s = e.title.length,
                        u = e.footer.length,
                        d = e.titleFontSize,
                        c = e.bodyFontSize,
                        h = e.footerFontSize;
                    i += s * d, i += s ? (s - 1) * e.titleSpacing : 0, i += s ? e.titleMarginBottom : 0, i += l * c, i += l ? (l - 1) * e.bodySpacing : 0, i += u ? e.footerMarginTop : 0, i += u * h, i += u ? (u - 1) * e.footerSpacing : 0;
                    var f = 0,
                        g = function(t) {
                            a = Math.max(a, n.measureText(t).width + f)
                        };
                    return n.font = o.fontString(d, e._titleFontStyle, e._titleFontFamily), o.each(e.title, g), n.font = o.fontString(c, e._bodyFontStyle, e._bodyFontFamily), o.each(e.beforeBody.concat(e.afterBody), g), f = e.displayColors ? c + 2 : 0, o.each(r, function(t) {
                        o.each(t.before, g), o.each(t.lines, g), o.each(t.after, g)
                    }), f = 0, n.font = o.fontString(h, e._footerFontStyle, e._footerFontFamily), o.each(e.footer, g), a += 2 * e.xPadding, {
                        width: a,
                        height: i
                    }
                }

                function u(t, e) {
                    var n = t._model,
                        i = t._chart,
                        a = t._chart.chartArea,
                        o = "center",
                        r = "center";
                    n.y < e.height ? r = "top" : n.y > i.height - e.height && (r = "bottom");
                    var l, s, u, d, c, h = (a.left + a.right) / 2,
                        f = (a.top + a.bottom) / 2;
                    "center" === r ? (l = function(t) {
                        return t <= h
                    }, s = function(t) {
                        return t > h
                    }) : (l = function(t) {
                        return t <= e.width / 2
                    }, s = function(t) {
                        return t >= i.width - e.width / 2
                    }), u = function(t) {
                        return t + e.width > i.width
                    }, d = function(t) {
                        return t - e.width < 0
                    }, c = function(t) {
                        return t <= f ? "top" : "bottom"
                    }, l(n.x) ? (o = "left", u(n.x) && (o = "center", r = c(n.y))) : s(n.x) && (o = "right", d(n.x) && (o = "center", r = c(n.y)));
                    var g = t._options;
                    return {
                        xAlign: g.xAlign ? g.xAlign : o,
                        yAlign: g.yAlign ? g.yAlign : r
                    }
                }

                function d(t, e, n) {
                    var i = t.x,
                        a = t.y,
                        o = t.caretSize,
                        r = t.caretPadding,
                        l = t.cornerRadius,
                        s = n.xAlign,
                        u = n.yAlign,
                        d = o + r,
                        c = l + r;
                    return "right" === s ? i -= e.width : "center" === s && (i -= e.width / 2), "top" === u ? a += d : a -= "bottom" === u ? e.height + d : e.height / 2, "center" === u ? "left" === s ? i += d : "right" === s && (i -= d) : "left" === s ? i -= c : "right" === s && (i += c), {
                        x: i,
                        y: a
                    }
                }
                t.Tooltip = a.extend({
                    initialize: function() {
                        this._model = l(this._options), this._lastActive = []
                    },
                    getTitle: function() {
                        var t = this,
                            e = t._options.callbacks,
                            i = e.beforeTitle.apply(t, arguments),
                            a = e.title.apply(t, arguments),
                            o = e.afterTitle.apply(t, arguments),
                            r = [];
                        return r = n(r, i), r = n(r, a), r = n(r, o)
                    },
                    getBeforeBody: function() {
                        var t = this._options.callbacks.beforeBody.apply(this, arguments);
                        return o.isArray(t) ? t : void 0 !== t ? [t] : []
                    },
                    getBody: function(t, e) {
                        var i = this,
                            a = i._options.callbacks,
                            r = [];
                        return o.each(t, function(t) {
                            var o = {
                                before: [],
                                lines: [],
                                after: []
                            };
                            n(o.before, a.beforeLabel.call(i, t, e)), n(o.lines, a.label.call(i, t, e)), n(o.after, a.afterLabel.call(i, t, e)), r.push(o)
                        }), r
                    },
                    getAfterBody: function() {
                        var t = this._options.callbacks.afterBody.apply(this, arguments);
                        return o.isArray(t) ? t : void 0 !== t ? [t] : []
                    },
                    getFooter: function() {
                        var t = this,
                            e = t._options.callbacks,
                            i = e.beforeFooter.apply(t, arguments),
                            a = e.footer.apply(t, arguments),
                            o = e.afterFooter.apply(t, arguments),
                            r = [];
                        return r = n(r, i), r = n(r, a), r = n(r, o)
                    },
                    update: function(e) {
                        var n, i, a = this,
                            c = a._options,
                            h = a._model,
                            f = a._model = l(c),
                            g = a._active,
                            p = a._data,
                            v = {
                                xAlign: h.xAlign,
                                yAlign: h.yAlign
                            },
                            m = {
                                x: h.x,
                                y: h.y
                            },
                            b = {
                                width: h.width,
                                height: h.height
                            },
                            x = {
                                x: h.caretX,
                                y: h.caretY
                            };
                        if (g.length) {
                            f.opacity = 1;
                            var y = [],
                                k = [];
                            x = t.Tooltip.positioners[c.position].call(a, g, a._eventPosition);
                            var w = [];
                            for (n = 0, i = g.length; n < i; ++n) w.push(r(g[n]));
                            c.filter && (w = w.filter(function(t) {
                                return c.filter(t, p)
                            })), c.itemSort && (w = w.sort(function(t, e) {
                                return c.itemSort(t, e, p)
                            })), o.each(w, function(t) {
                                y.push(c.callbacks.labelColor.call(a, t, a._chart)), k.push(c.callbacks.labelTextColor.call(a, t, a._chart))
                            }), f.title = a.getTitle(w, p), f.beforeBody = a.getBeforeBody(w, p), f.body = a.getBody(w, p), f.afterBody = a.getAfterBody(w, p), f.footer = a.getFooter(w, p), f.x = Math.round(x.x), f.y = Math.round(x.y), f.caretPadding = c.caretPadding, f.labelColors = y, f.labelTextColors = k, f.dataPoints = w, m = d(f, b = s(this, f), v = u(this, b))
                        } else f.opacity = 0;
                        return f.xAlign = v.xAlign, f.yAlign = v.yAlign, f.x = m.x, f.y = m.y, f.width = b.width, f.height = b.height, f.caretX = x.x, f.caretY = x.y, a._model = f, e && c.custom && c.custom.call(a, f), a
                    },
                    drawCaret: function(t, e) {
                        var n = this._chart.ctx,
                            i = this._view,
                            a = this.getCaretPosition(t, e, i);
                        n.lineTo(a.x1, a.y1), n.lineTo(a.x2, a.y2), n.lineTo(a.x3, a.y3)
                    },
                    getCaretPosition: function(t, e, n) {
                        var i, a, o, r, l, s, u = n.caretSize,
                            d = n.cornerRadius,
                            c = n.xAlign,
                            h = n.yAlign,
                            f = t.x,
                            g = t.y,
                            p = e.width,
                            v = e.height;
                        if ("center" === h) l = g + v / 2, "left" === c ? (a = (i = f) - u, o = i, r = l + u, s = l - u) : (a = (i = f + p) + u, o = i, r = l - u, s = l + u);
                        else if ("left" === c ? (i = (a = f + d + u) - u, o = a + u) : "right" === c ? (i = (a = f + p - d - u) - u, o = a + u) : (i = (a = f + p / 2) - u, o = a + u), "top" === h) l = (r = g) - u, s = r;
                        else {
                            l = (r = g + v) + u, s = r;
                            var m = o;
                            o = i, i = m
                        }
                        return {
                            x1: i,
                            x2: a,
                            x3: o,
                            y1: r,
                            y2: l,
                            y3: s
                        }
                    },
                    drawTitle: function(t, n, i, a) {
                        var r = n.title;
                        if (r.length) {
                            i.textAlign = n._titleAlign, i.textBaseline = "top";
                            var l = n.titleFontSize,
                                s = n.titleSpacing;
                            i.fillStyle = e(n.titleFontColor, a), i.font = o.fontString(l, n._titleFontStyle, n._titleFontFamily);
                            var u, d;
                            for (u = 0, d = r.length; u < d; ++u) i.fillText(r[u], t.x, t.y), t.y += l + s, u + 1 === r.length && (t.y += n.titleMarginBottom - s)
                        }
                    },
                    drawBody: function(t, n, i, a) {
                        var r = n.bodyFontSize,
                            l = n.bodySpacing,
                            s = n.body;
                        i.textAlign = n._bodyAlign, i.textBaseline = "top", i.font = o.fontString(r, n._bodyFontStyle, n._bodyFontFamily);
                        var u = 0,
                            d = function(e) {
                                i.fillText(e, t.x + u, t.y), t.y += r + l
                            };
                        i.fillStyle = e(n.bodyFontColor, a), o.each(n.beforeBody, d);
                        var c = n.displayColors;
                        u = c ? r + 2 : 0, o.each(s, function(l, s) {
                            var u = e(n.labelTextColors[s], a);
                            i.fillStyle = u, o.each(l.before, d), o.each(l.lines, function(o) {
                                c && (i.fillStyle = e(n.legendColorBackground, a), i.fillRect(t.x, t.y, r, r), i.lineWidth = 1, i.strokeStyle = e(n.labelColors[s].borderColor, a), i.strokeRect(t.x, t.y, r, r), i.fillStyle = e(n.labelColors[s].backgroundColor, a), i.fillRect(t.x + 1, t.y + 1, r - 2, r - 2), i.fillStyle = u), d(o)
                            }), o.each(l.after, d)
                        }), u = 0, o.each(n.afterBody, d), t.y -= l
                    },
                    drawFooter: function(t, n, i, a) {
                        var r = n.footer;
                        r.length && (t.y += n.footerMarginTop, i.textAlign = n._footerAlign, i.textBaseline = "top", i.fillStyle = e(n.footerFontColor, a), i.font = o.fontString(n.footerFontSize, n._footerFontStyle, n._footerFontFamily), o.each(r, function(e) {
                            i.fillText(e, t.x, t.y), t.y += n.footerFontSize + n.footerSpacing
                        }))
                    },
                    drawBackground: function(t, n, i, a, o) {
                        i.fillStyle = e(n.backgroundColor, o), i.strokeStyle = e(n.borderColor, o), i.lineWidth = n.borderWidth;
                        var r = n.xAlign,
                            l = n.yAlign,
                            s = t.x,
                            u = t.y,
                            d = a.width,
                            c = a.height,
                            h = n.cornerRadius;
                        i.beginPath(), i.moveTo(s + h, u), "top" === l && this.drawCaret(t, a), i.lineTo(s + d - h, u), i.quadraticCurveTo(s + d, u, s + d, u + h), "center" === l && "right" === r && this.drawCaret(t, a), i.lineTo(s + d, u + c - h), i.quadraticCurveTo(s + d, u + c, s + d - h, u + c), "bottom" === l && this.drawCaret(t, a), i.lineTo(s + h, u + c), i.quadraticCurveTo(s, u + c, s, u + c - h), "center" === l && "left" === r && this.drawCaret(t, a), i.lineTo(s, u + h), i.quadraticCurveTo(s, u, s + h, u), i.closePath(), i.fill(), n.borderWidth > 0 && i.stroke()
                    },
                    draw: function() {
                        var t = this._chart.ctx,
                            e = this._view;
                        if (0 !== e.opacity) {
                            var n = {
                                    width: e.width,
                                    height: e.height
                                },
                                i = {
                                    x: e.x,
                                    y: e.y
                                },
                                a = Math.abs(e.opacity < .001) ? 0 : e.opacity,
                                o = e.title.length || e.beforeBody.length || e.body.length || e.afterBody.length || e.footer.length;
                            this._options.enabled && o && (this.drawBackground(i, e, t, n, a), i.x += e.xPadding, i.y += e.yPadding, this.drawTitle(i, e, t, a), this.drawBody(i, e, t, a), this.drawFooter(i, e, t, a))
                        }
                    },
                    handleEvent: function(t) {
                        var e = this,
                            n = e._options,
                            i = !1;
                        if (e._lastActive = e._lastActive || [], "mouseout" === t.type ? e._active = [] : e._active = e._chart.getElementsAtEventForMode(t, n.mode, n), !(i = !o.arrayEquals(e._active, e._lastActive))) return !1;
                        if (e._lastActive = e._active, n.enabled || n.custom) {
                            e._eventPosition = {
                                x: t.x,
                                y: t.y
                            };
                            var a = e._model;
                            e.update(!0), e.pivot(), i |= a.x !== e._model.x || a.y !== e._model.y
                        }
                        return i
                    }
                }), t.Tooltip.positioners = {
                    average: function(t) {
                        if (!t.length) return !1;
                        var e, n, i = 0,
                            a = 0,
                            o = 0;
                        for (e = 0, n = t.length; e < n; ++e) {
                            var r = t[e];
                            if (r && r.hasValue()) {
                                var l = r.tooltipPosition();
                                i += l.x, a += l.y, ++o
                            }
                        }
                        return {
                            x: Math.round(i / o),
                            y: Math.round(a / o)
                        }
                    },
                    nearest: function(t, e) {
                        var n, i, a, r = e.x,
                            l = e.y,
                            s = Number.POSITIVE_INFINITY;
                        for (n = 0, i = t.length; n < i; ++n) {
                            var u = t[n];
                            if (u && u.hasValue()) {
                                var d = u.getCenterPoint(),
                                    c = o.distanceBetweenPoints(e, d);
                                c < s && (s = c, a = u)
                            }
                        }
                        if (a) {
                            var h = a.tooltipPosition();
                            r = h.x, l = h.y
                        }
                        return {
                            x: r,
                            y: l
                        }
                    }
                }
            }
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        36: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                elements: {
                    arc: {
                        backgroundColor: i.global.defaultColor,
                        borderColor: "#fff",
                        borderWidth: 2
                    }
                }
            }), e.exports = a.extend({
                inLabelRange: function(t) {
                    var e = this._view;
                    return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hoverRadius, 2)
                },
                inRange: function(t, e) {
                    var n = this._view;
                    if (n) {
                        for (var i = o.getAngleFromPoint(n, {
                                x: t,
                                y: e
                            }), a = i.angle, r = i.distance, l = n.startAngle, s = n.endAngle; s < l;) s += 2 * Math.PI;
                        for (; a > s;) a -= 2 * Math.PI;
                        for (; a < l;) a += 2 * Math.PI;
                        var u = a >= l && a <= s,
                            d = r >= n.innerRadius && r <= n.outerRadius;
                        return u && d
                    }
                    return !1
                },
                getCenterPoint: function() {
                    var t = this._view,
                        e = (t.startAngle + t.endAngle) / 2,
                        n = (t.innerRadius + t.outerRadius) / 2;
                    return {
                        x: t.x + Math.cos(e) * n,
                        y: t.y + Math.sin(e) * n
                    }
                },
                getArea: function() {
                    var t = this._view;
                    return Math.PI * ((t.endAngle - t.startAngle) / (2 * Math.PI)) * (Math.pow(t.outerRadius, 2) - Math.pow(t.innerRadius, 2))
                },
                tooltipPosition: function() {
                    var t = this._view,
                        e = t.startAngle + (t.endAngle - t.startAngle) / 2,
                        n = (t.outerRadius - t.innerRadius) / 2 + t.innerRadius;
                    return {
                        x: t.x + Math.cos(e) * n,
                        y: t.y + Math.sin(e) * n
                    }
                },
                draw: function() {
                    var t = this._chart.ctx,
                        e = this._view,
                        n = e.startAngle,
                        i = e.endAngle;
                    t.beginPath(), t.arc(e.x, e.y, e.outerRadius, n, i), t.arc(e.x, e.y, e.innerRadius, i, n, !0), t.closePath(), t.strokeStyle = e.borderColor, t.lineWidth = e.borderWidth, t.fillStyle = e.backgroundColor, t.fill(), t.lineJoin = "bevel", e.borderWidth && t.stroke()
                }
            })
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        37: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45),
                r = i.global;
            i._set("global", {
                elements: {
                    line: {
                        tension: .4,
                        backgroundColor: r.defaultColor,
                        borderWidth: 3,
                        borderColor: r.defaultColor,
                        borderCapStyle: "butt",
                        borderDash: [],
                        borderDashOffset: 0,
                        borderJoinStyle: "miter",
                        capBezierPoints: !0,
                        fill: !0
                    }
                }
            }), e.exports = a.extend({
                draw: function() {
                    var t, e, n, i, a = this,
                        l = a._view,
                        s = a._chart.ctx,
                        u = l.spanGaps,
                        d = a._children.slice(),
                        c = r.elements.line,
                        h = -1;
                    for (a._loop && d.length && d.push(d[0]), s.save(), s.lineCap = l.borderCapStyle || c.borderCapStyle, s.setLineDash && s.setLineDash(l.borderDash || c.borderDash), s.lineDashOffset = l.borderDashOffset || c.borderDashOffset, s.lineJoin = l.borderJoinStyle || c.borderJoinStyle, s.lineWidth = l.borderWidth || c.borderWidth, s.strokeStyle = l.borderColor || r.defaultColor, s.beginPath(), h = -1, t = 0; t < d.length; ++t) e = d[t], n = o.previousItem(d, t), i = e._view, 0 === t ? i.skip || (s.moveTo(i.x, i.y), h = t) : (n = -1 === h ? n : d[h], i.skip || (h !== t - 1 && !u || -1 === h ? s.moveTo(i.x, i.y) : o.canvas.lineTo(s, n._view, e._view), h = t));
                    s.stroke(), s.restore()
                }
            })
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        38: [function(t, e, n) {
            "use strict";

            function i(t) {
                var e = this._view;
                return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hitRadius, 2)
            }
            var a = t(25),
                o = t(26),
                r = t(45),
                l = a.global.defaultColor;
            a._set("global", {
                elements: {
                    point: {
                        radius: 3,
                        pointStyle: "circle",
                        backgroundColor: l,
                        borderColor: l,
                        borderWidth: 1,
                        hitRadius: 1,
                        hoverRadius: 4,
                        hoverBorderWidth: 1
                    }
                }
            }), e.exports = o.extend({
                inRange: function(t, e) {
                    var n = this._view;
                    return !!n && Math.pow(t - n.x, 2) + Math.pow(e - n.y, 2) < Math.pow(n.hitRadius + n.radius, 2)
                },
                inLabelRange: i,
                inXRange: i,
                inYRange: function(t) {
                    var e = this._view;
                    return !!e && Math.pow(t - e.y, 2) < Math.pow(e.radius + e.hitRadius, 2)
                },
                getCenterPoint: function() {
                    var t = this._view;
                    return {
                        x: t.x,
                        y: t.y
                    }
                },
                getArea: function() {
                    return Math.PI * Math.pow(this._view.radius, 2)
                },
                tooltipPosition: function() {
                    var t = this._view;
                    return {
                        x: t.x,
                        y: t.y,
                        padding: t.radius + t.borderWidth
                    }
                },
                draw: function(t) {
                    var e = this._view,
                        n = this._model,
                        i = this._chart.ctx,
                        o = e.pointStyle,
                        s = e.radius,
                        u = e.x,
                        d = e.y,
                        c = r.color,
                        h = 0;
                    e.skip || (i.strokeStyle = e.borderColor || l, i.lineWidth = r.valueOrDefault(e.borderWidth, a.global.elements.point.borderWidth), i.fillStyle = e.backgroundColor || l, void 0 !== t && (n.x < t.left || 1.01 * t.right < n.x || n.y < t.top || 1.01 * t.bottom < n.y) && (n.x < t.left ? h = (u - n.x) / (t.left - n.x) : 1.01 * t.right < n.x ? h = (n.x - u) / (n.x - t.right) : n.y < t.top ? h = (d - n.y) / (t.top - n.y) : 1.01 * t.bottom < n.y && (h = (n.y - d) / (n.y - t.bottom)), h = Math.round(100 * h) / 100, i.strokeStyle = c(i.strokeStyle).alpha(h).rgbString(), i.fillStyle = c(i.fillStyle).alpha(h).rgbString()), r.canvas.drawPoint(i, o, s, u, d))
                }
            })
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        39: [function(t, e, n) {
            "use strict";

            function i(t) {
                return void 0 !== t._view.width
            }

            function a(t) {
                var e, n, a, o, r = t._view;
                if (i(t)) {
                    var l = r.width / 2;
                    e = r.x - l, n = r.x + l, a = Math.min(r.y, r.base), o = Math.max(r.y, r.base)
                } else {
                    var s = r.height / 2;
                    e = Math.min(r.x, r.base), n = Math.max(r.x, r.base), a = r.y - s, o = r.y + s
                }
                return {
                    left: e,
                    top: a,
                    right: n,
                    bottom: o
                }
            }
            var o = t(25),
                r = t(26);
            o._set("global", {
                elements: {
                    rectangle: {
                        backgroundColor: o.global.defaultColor,
                        borderColor: o.global.defaultColor,
                        borderSkipped: "bottom",
                        borderWidth: 0
                    }
                }
            }), e.exports = r.extend({
                draw: function() {
                    function t(t) {
                        return m[(b + t) % 4]
                    }
                    var e, n, i, a, o, r, l, s = this._chart.ctx,
                        u = this._view,
                        d = u.borderWidth;
                    if (u.horizontal ? (e = u.base, n = u.x, i = u.y - u.height / 2, a = u.y + u.height / 2, o = n > e ? 1 : -1, r = 1, l = u.borderSkipped || "left") : (e = u.x - u.width / 2, n = u.x + u.width / 2, i = u.y, o = 1, r = (a = u.base) > i ? 1 : -1, l = u.borderSkipped || "bottom"), d) {
                        var c = Math.min(Math.abs(e - n), Math.abs(i - a)),
                            h = (d = d > c ? c : d) / 2,
                            f = e + ("left" !== l ? h * o : 0),
                            g = n + ("right" !== l ? -h * o : 0),
                            p = i + ("top" !== l ? h * r : 0),
                            v = a + ("bottom" !== l ? -h * r : 0);
                        f !== g && (i = p, a = v), p !== v && (e = f, n = g)
                    }
                    s.beginPath(), s.fillStyle = u.backgroundColor, s.strokeStyle = u.borderColor, s.lineWidth = d;
                    var m = [
                            [e, a],
                            [e, i],
                            [n, i],
                            [n, a]
                        ],
                        b = ["bottom", "left", "top", "right"].indexOf(l, 0); - 1 === b && (b = 0);
                    var x = t(0);
                    s.moveTo(x[0], x[1]);
                    for (var y = 1; y < 4; y++) x = t(y), s.lineTo(x[0], x[1]);
                    s.fill(), d && s.stroke()
                },
                height: function() {
                    var t = this._view;
                    return t.base - t.y
                },
                inRange: function(t, e) {
                    var n = !1;
                    if (this._view) {
                        var i = a(this);
                        n = t >= i.left && t <= i.right && e >= i.top && e <= i.bottom
                    }
                    return n
                },
                inLabelRange: function(t, e) {
                    var n = this;
                    if (!n._view) return !1;
                    var o = a(n);
                    return i(n) ? t >= o.left && t <= o.right : e >= o.top && e <= o.bottom
                },
                inXRange: function(t) {
                    var e = a(this);
                    return t >= e.left && t <= e.right
                },
                inYRange: function(t) {
                    var e = a(this);
                    return t >= e.top && t <= e.bottom
                },
                getCenterPoint: function() {
                    var t, e, n = this._view;
                    return i(this) ? (t = n.x, e = (n.y + n.base) / 2) : (t = (n.x + n.base) / 2, e = n.y), {
                        x: t,
                        y: e
                    }
                },
                getArea: function() {
                    var t = this._view;
                    return t.width * Math.abs(t.y - t.base)
                },
                tooltipPosition: function() {
                    var t = this._view;
                    return {
                        x: t.x,
                        y: t.y
                    }
                }
            })
        }, {
            25: 25,
            26: 26
        }],
        40: [function(t, e, n) {
            "use strict";
            e.exports = {}, e.exports.Arc = t(36), e.exports.Line = t(37), e.exports.Point = t(38), e.exports.Rectangle = t(39)
        }, {
            36: 36,
            37: 37,
            38: 38,
            39: 39
        }],
        41: [function(t, e, n) {
            "use strict";
            var i = t(42),
                n = e.exports = {
                    clear: function(t) {
                        t.ctx.clearRect(0, 0, t.width, t.height)
                    },
                    roundedRect: function(t, e, n, i, a, o) {
                        if (o) {
                            var r = Math.min(o, i / 2),
                                l = Math.min(o, a / 2);
                            t.moveTo(e + r, n), t.lineTo(e + i - r, n), t.quadraticCurveTo(e + i, n, e + i, n + l), t.lineTo(e + i, n + a - l), t.quadraticCurveTo(e + i, n + a, e + i - r, n + a), t.lineTo(e + r, n + a), t.quadraticCurveTo(e, n + a, e, n + a - l), t.lineTo(e, n + l), t.quadraticCurveTo(e, n, e + r, n)
                        } else t.rect(e, n, i, a)
                    },
                    drawPoint: function(t, e, n, i, a) {
                        var o, r, l, s, u, d;
                        if (!e || "object" != typeof e || "[object HTMLImageElement]" !== (o = e.toString()) && "[object HTMLCanvasElement]" !== o) {
                            if (!(isNaN(n) || n <= 0)) {
                                switch (e) {
                                    default:
                                        t.beginPath(), t.arc(i, a, n, 0, 2 * Math.PI), t.closePath(), t.fill();
                                        break;
                                    case "triangle":
                                        t.beginPath(), u = (r = 3 * n / Math.sqrt(3)) * Math.sqrt(3) / 2, t.moveTo(i - r / 2, a + u / 3), t.lineTo(i + r / 2, a + u / 3), t.lineTo(i, a - 2 * u / 3), t.closePath(), t.fill();
                                        break;
                                    case "rect":
                                        d = 1 / Math.SQRT2 * n, t.beginPath(), t.fillRect(i - d, a - d, 2 * d, 2 * d), t.strokeRect(i - d, a - d, 2 * d, 2 * d);
                                        break;
                                    case "rectRounded":
                                        var c = n / Math.SQRT2,
                                            h = i - c,
                                            f = a - c,
                                            g = Math.SQRT2 * n;
                                        t.beginPath(), this.roundedRect(t, h, f, g, g, n / 2), t.closePath(), t.fill();
                                        break;
                                    case "rectRot":
                                        d = 1 / Math.SQRT2 * n, t.beginPath(), t.moveTo(i - d, a), t.lineTo(i, a + d), t.lineTo(i + d, a), t.lineTo(i, a - d), t.closePath(), t.fill();
                                        break;
                                    case "cross":
                                        t.beginPath(), t.moveTo(i, a + n), t.lineTo(i, a - n), t.moveTo(i - n, a), t.lineTo(i + n, a), t.closePath();
                                        break;
                                    case "crossRot":
                                        t.beginPath(), l = Math.cos(Math.PI / 4) * n, s = Math.sin(Math.PI / 4) * n, t.moveTo(i - l, a - s), t.lineTo(i + l, a + s), t.moveTo(i - l, a + s), t.lineTo(i + l, a - s), t.closePath();
                                        break;
                                    case "star":
                                        t.beginPath(), t.moveTo(i, a + n), t.lineTo(i, a - n), t.moveTo(i - n, a), t.lineTo(i + n, a), l = Math.cos(Math.PI / 4) * n, s = Math.sin(Math.PI / 4) * n, t.moveTo(i - l, a - s), t.lineTo(i + l, a + s), t.moveTo(i - l, a + s), t.lineTo(i + l, a - s), t.closePath();
                                        break;
                                    case "line":
                                        t.beginPath(), t.moveTo(i - n, a), t.lineTo(i + n, a), t.closePath();
                                        break;
                                    case "dash":
                                        t.beginPath(), t.moveTo(i, a), t.lineTo(i + n, a), t.closePath()
                                }
                                t.stroke()
                            }
                        } else t.drawImage(e, i - e.width / 2, a - e.height / 2, e.width, e.height)
                    },
                    clipArea: function(t, e) {
                        t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip()
                    },
                    unclipArea: function(t) {
                        t.restore()
                    },
                    lineTo: function(t, e, n, i) {
                        if (n.steppedLine) return "after" === n.steppedLine && !i || "after" !== n.steppedLine && i ? t.lineTo(e.x, n.y) : t.lineTo(n.x, e.y), void t.lineTo(n.x, n.y);
                        n.tension ? t.bezierCurveTo(i ? e.controlPointPreviousX : e.controlPointNextX, i ? e.controlPointPreviousY : e.controlPointNextY, i ? n.controlPointNextX : n.controlPointPreviousX, i ? n.controlPointNextY : n.controlPointPreviousY, n.x, n.y) : t.lineTo(n.x, n.y)
                    }
                };
            i.clear = n.clear, i.drawRoundedRectangle = function(t) {
                t.beginPath(), n.roundedRect.apply(n, arguments), t.closePath()
            }
        }, {
            42: 42
        }],
        42: [function(t, e, n) {
            "use strict";
            var i = {
                noop: function() {},
                uid: function() {
                    var t = 0;
                    return function() {
                        return t++
                    }
                }(),
                isNullOrUndef: function(t) {
                    return null === t || void 0 === t
                },
                isArray: Array.isArray ? Array.isArray : function(t) {
                    return "[object Array]" === Object.prototype.toString.call(t)
                },
                isObject: function(t) {
                    return null !== t && "[object Object]" === Object.prototype.toString.call(t)
                },
                valueOrDefault: function(t, e) {
                    return void 0 === t ? e : t
                },
                valueAtIndexOrDefault: function(t, e, n) {
                    return i.valueOrDefault(i.isArray(t) ? t[e] : t, n)
                },
                callback: function(t, e, n) {
                    if (t && "function" == typeof t.call) return t.apply(n, e)
                },
                each: function(t, e, n, a) {
                    var o, r, l;
                    if (i.isArray(t))
                        if (r = t.length, a)
                            for (o = r - 1; o >= 0; o--) e.call(n, t[o], o);
                        else
                            for (o = 0; o < r; o++) e.call(n, t[o], o);
                    else if (i.isObject(t))
                        for (r = (l = Object.keys(t)).length, o = 0; o < r; o++) e.call(n, t[l[o]], l[o])
                },
                arrayEquals: function(t, e) {
                    var n, a, o, r;
                    if (!t || !e || t.length !== e.length) return !1;
                    for (n = 0, a = t.length; n < a; ++n)
                        if (o = t[n], r = e[n], o instanceof Array && r instanceof Array) {
                            if (!i.arrayEquals(o, r)) return !1
                        } else if (o !== r) return !1;
                    return !0
                },
                clone: function(t) {
                    if (i.isArray(t)) return t.map(i.clone);
                    if (i.isObject(t)) {
                        for (var e = {}, n = Object.keys(t), a = n.length, o = 0; o < a; ++o) e[n[o]] = i.clone(t[n[o]]);
                        return e
                    }
                    return t
                },
                _merger: function(t, e, n, a) {
                    var o = e[t],
                        r = n[t];
                    i.isObject(o) && i.isObject(r) ? i.merge(o, r, a) : e[t] = i.clone(r)
                },
                _mergerIf: function(t, e, n) {
                    var a = e[t],
                        o = n[t];
                    i.isObject(a) && i.isObject(o) ? i.mergeIf(a, o) : e.hasOwnProperty(t) || (e[t] = i.clone(o))
                },
                merge: function(t, e, n) {
                    var a, o, r, l, s, u = i.isArray(e) ? e : [e],
                        d = u.length;
                    if (!i.isObject(t)) return t;
                    for (a = (n = n || {}).merger || i._merger, o = 0; o < d; ++o)
                        if (e = u[o], i.isObject(e))
                            for (s = 0, l = (r = Object.keys(e)).length; s < l; ++s) a(r[s], t, e, n);
                    return t
                },
                mergeIf: function(t, e) {
                    return i.merge(t, e, {
                        merger: i._mergerIf
                    })
                },
                extend: function(t) {
                    for (var e = 1, n = arguments.length; e < n; ++e) i.each(arguments[e], function(e, n) {
                        t[n] = e
                    });
                    return t
                },
                inherits: function(t) {
                    var e = this,
                        n = t && t.hasOwnProperty("constructor") ? t.constructor : function() {
                            return e.apply(this, arguments)
                        },
                        a = function() {
                            this.constructor = n
                        };
                    return a.prototype = e.prototype, n.prototype = new a, n.extend = i.inherits, t && i.extend(n.prototype, t), n.__super__ = e.prototype, n
                }
            };
            e.exports = i, i.callCallback = i.callback, i.indexOf = function(t, e, n) {
                return Array.prototype.indexOf.call(t, e, n)
            }, i.getValueOrDefault = i.valueOrDefault, i.getValueAtIndexOrDefault = i.valueAtIndexOrDefault
        }, {}],
        43: [function(t, e, n) {
            "use strict";
            var i = t(42),
                a = {
                    linear: function(t) {
                        return t
                    },
                    easeInQuad: function(t) {
                        return t * t
                    },
                    easeOutQuad: function(t) {
                        return -t * (t - 2)
                    },
                    easeInOutQuad: function(t) {
                        return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
                    },
                    easeInCubic: function(t) {
                        return t * t * t
                    },
                    easeOutCubic: function(t) {
                        return (t -= 1) * t * t + 1
                    },
                    easeInOutCubic: function(t) {
                        return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
                    },
                    easeInQuart: function(t) {
                        return t * t * t * t
                    },
                    easeOutQuart: function(t) {
                        return -((t -= 1) * t * t * t - 1)
                    },
                    easeInOutQuart: function(t) {
                        return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
                    },
                    easeInQuint: function(t) {
                        return t * t * t * t * t
                    },
                    easeOutQuint: function(t) {
                        return (t -= 1) * t * t * t * t + 1
                    },
                    easeInOutQuint: function(t) {
                        return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
                    },
                    easeInSine: function(t) {
                        return 1 - Math.cos(t * (Math.PI / 2))
                    },
                    easeOutSine: function(t) {
                        return Math.sin(t * (Math.PI / 2))
                    },
                    easeInOutSine: function(t) {
                        return -.5 * (Math.cos(Math.PI * t) - 1)
                    },
                    easeInExpo: function(t) {
                        return 0 === t ? 0 : Math.pow(2, 10 * (t - 1))
                    },
                    easeOutExpo: function(t) {
                        return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
                    },
                    easeInOutExpo: function(t) {
                        return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t))
                    },
                    easeInCirc: function(t) {
                        return t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1)
                    },
                    easeOutCirc: function(t) {
                        return Math.sqrt(1 - (t -= 1) * t)
                    },
                    easeInOutCirc: function(t) {
                        return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                    },
                    easeInElastic: function(t) {
                        var e = 1.70158,
                            n = 0,
                            i = 1;
                        return 0 === t ? 0 : 1 === t ? 1 : (n || (n = .3), i < 1 ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), -i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n))
                    },
                    easeOutElastic: function(t) {
                        var e = 1.70158,
                            n = 0,
                            i = 1;
                        return 0 === t ? 0 : 1 === t ? 1 : (n || (n = .3), i < 1 ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), i * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / n) + 1)
                    },
                    easeInOutElastic: function(t) {
                        var e = 1.70158,
                            n = 0,
                            i = 1;
                        return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (n || (n = .45), i < 1 ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), t < 1 ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n) * -.5 : i * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n) * .5 + 1)
                    },
                    easeInBack: function(t) {
                        var e = 1.70158;
                        return t * t * ((e + 1) * t - e)
                    },
                    easeOutBack: function(t) {
                        var e = 1.70158;
                        return (t -= 1) * t * ((e + 1) * t + e) + 1
                    },
                    easeInOutBack: function(t) {
                        var e = 1.70158;
                        return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2)
                    },
                    easeInBounce: function(t) {
                        return 1 - a.easeOutBounce(1 - t)
                    },
                    easeOutBounce: function(t) {
                        return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                    },
                    easeInOutBounce: function(t) {
                        return t < .5 ? .5 * a.easeInBounce(2 * t) : .5 * a.easeOutBounce(2 * t - 1) + .5
                    }
                };
            e.exports = {
                effects: a
            }, i.easingEffects = a
        }, {
            42: 42
        }],
        44: [function(t, e, n) {
            "use strict";
            var i = t(42);
            e.exports = {
                toLineHeight: function(t, e) {
                    var n = ("" + t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);
                    if (!n || "normal" === n[1]) return 1.2 * e;
                    switch (t = +n[2], n[3]) {
                        case "px":
                            return t;
                        case "%":
                            t /= 100
                    }
                    return e * t
                },
                toPadding: function(t) {
                    var e, n, a, o;
                    return i.isObject(t) ? (e = +t.top || 0, n = +t.right || 0, a = +t.bottom || 0, o = +t.left || 0) : e = n = a = o = +t || 0, {
                        top: e,
                        right: n,
                        bottom: a,
                        left: o,
                        height: e + a,
                        width: o + n
                    }
                },
                resolve: function(t, e, n) {
                    var a, o, r;
                    for (a = 0, o = t.length; a < o; ++a)
                        if (void 0 !== (r = t[a]) && (void 0 !== e && "function" == typeof r && (r = r(e)), void 0 !== n && i.isArray(r) && (r = r[n]), void 0 !== r)) return r
                }
            }
        }, {
            42: 42
        }],
        45: [function(t, e, n) {
            "use strict";
            e.exports = t(42), e.exports.easing = t(43), e.exports.canvas = t(41), e.exports.options = t(44)
        }, {
            41: 41,
            42: 42,
            43: 43,
            44: 44
        }],
        46: [function(t, e, n) {
            e.exports = {
                acquireContext: function(t) {
                    return t && t.canvas && (t = t.canvas), t && t.getContext("2d") || null
                }
            }
        }, {}],
        47: [function(t, e, n) {
            "use strict";

            function i(t, e) {
                var n = v.getStyle(t, e),
                    i = n && n.match(/^(\d+)(\.\d+)?px$/);
                return i ? Number(i[1]) : void 0
            }

            function a(t, e) {
                var n = t.style,
                    a = t.getAttribute("height"),
                    o = t.getAttribute("width");
                if (t[m] = {
                        initial: {
                            height: a,
                            width: o,
                            style: {
                                display: n.display,
                                height: n.height,
                                width: n.width
                            }
                        }
                    }, n.display = n.display || "block", null === o || "" === o) {
                    var r = i(t, "width");
                    void 0 !== r && (t.width = r)
                }
                if (null === a || "" === a)
                    if ("" === t.style.height) t.height = t.width / (e.options.aspectRatio || 2);
                    else {
                        var l = i(t, "height");
                        void 0 !== r && (t.height = l)
                    } return t
            }

            function o(t, e, n) {
                t.addEventListener(e, n, M)
            }

            function r(t, e, n) {
                t.removeEventListener(e, n, M)
            }

            function l(t, e, n, i, a) {
                return {
                    type: t,
                    chart: e,
                    native: a || null,
                    x: void 0 !== n ? n : null,
                    y: void 0 !== i ? i : null
                }
            }

            function s(t, e) {
                var n = w[t.type] || t.type,
                    i = v.getRelativePosition(t, e);
                return l(n, e, i.x, i.y, t)
            }

            function u(t, e) {
                var n = !1,
                    i = [];
                return function() {
                    i = Array.prototype.slice.call(arguments), e = e || this, n || (n = !0, v.requestAnimFrame.call(window, function() {
                        n = !1, t.apply(e, i)
                    }))
                }
            }

            function d(t) {
                var e = document.createElement("div"),
                    n = b + "size-monitor",
                    i = "position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";
                e.style.cssText = i, e.className = n, e.innerHTML = '<div class="' + n + '-expand" style="' + i + '"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="' + n + '-shrink" style="' + i + '"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';
                var a = e.childNodes[0],
                    r = e.childNodes[1];
                e._reset = function() {
                    a.scrollLeft = 1e6, a.scrollTop = 1e6, r.scrollLeft = 1e6, r.scrollTop = 1e6
                };
                var l = function() {
                    e._reset(), t()
                };
                return o(a, "scroll", l.bind(a, "expand")), o(r, "scroll", l.bind(r, "shrink")), e
            }

            function c(t, e) {
                var n = t[m] || (t[m] = {}),
                    i = n.renderProxy = function(t) {
                        t.animationName === y && e()
                    };
                v.each(k, function(e) {
                    o(t, e, i)
                }), n.reflow = !!t.offsetParent, t.classList.add(x)
            }

            function h(t) {
                var e = t[m] || {},
                    n = e.renderProxy;
                n && (v.each(k, function(e) {
                    r(t, e, n)
                }), delete e.renderProxy), t.classList.remove(x)
            }

            function f(t, e, n) {
                var i = t[m] || (t[m] = {}),
                    a = i.resizer = d(u(function() {
                        if (i.resizer) return e(l("resize", n))
                    }));
                c(t, function() {
                    if (i.resizer) {
                        var e = t.parentNode;
                        e && e !== a.parentNode && e.insertBefore(a, e.firstChild), a._reset()
                    }
                })
            }

            function g(t) {
                var e = t[m] || {},
                    n = e.resizer;
                delete e.resizer, h(t), n && n.parentNode && n.parentNode.removeChild(n)
            }

            function p(t, e) {
                var n = t._style || document.createElement("style");
                t._style || (t._style = n, e = "/* Chart.js */\n" + e, n.setAttribute("type", "text/css"), document.getElementsByTagName("head")[0].appendChild(n)), n.appendChild(document.createTextNode(e))
            }
            var v = t(45),
                m = "$chartjs",
                b = "chartjs-",
                x = b + "render-monitor",
                y = b + "render-animation",
                k = ["animationstart", "webkitAnimationStart"],
                w = {
                    touchstart: "mousedown",
                    touchmove: "mousemove",
                    touchend: "mouseup",
                    pointerenter: "mouseenter",
                    pointerdown: "mousedown",
                    pointermove: "mousemove",
                    pointerup: "mouseup",
                    pointerleave: "mouseout",
                    pointerout: "mouseout"
                },
                M = !! function() {
                    var t = !1;
                    try {
                        var e = Object.defineProperty({}, "passive", {
                            get: function() {
                                t = !0
                            }
                        });
                        window.addEventListener("e", null, e)
                    } catch (t) {}
                    return t
                }() && {
                    passive: !0
                };
            e.exports = {
                _enabled: "undefined" != typeof window && "undefined" != typeof document,
                initialize: function() {
                    var t = "from{opacity:0.99}to{opacity:1}";
                    p(this, "@-webkit-keyframes " + y + "{" + t + "}@keyframes " + y + "{" + t + "}." + x + "{-webkit-animation:" + y + " 0.001s;animation:" + y + " 0.001s;}")
                },
                acquireContext: function(t, e) {
                    "string" == typeof t ? t = document.getElementById(t) : t.length && (t = t[0]), t && t.canvas && (t = t.canvas);
                    var n = t && t.getContext && t.getContext("2d");
                    return n && n.canvas === t ? (a(t, e), n) : null
                },
                releaseContext: function(t) {
                    var e = t.canvas;
                    if (e[m]) {
                        var n = e[m].initial;
                        ["height", "width"].forEach(function(t) {
                            var i = n[t];
                            v.isNullOrUndef(i) ? e.removeAttribute(t) : e.setAttribute(t, i)
                        }), v.each(n.style || {}, function(t, n) {
                            e.style[n] = t
                        }), e.width = e.width, delete e[m]
                    }
                },
                addEventListener: function(t, e, n) {
                    var i = t.canvas;
                    if ("resize" !== e) {
                        var a = n[m] || (n[m] = {});
                        o(i, e, (a.proxies || (a.proxies = {}))[t.id + "_" + e] = function(e) {
                            n(s(e, t))
                        })
                    } else f(i, n, t)
                },
                removeEventListener: function(t, e, n) {
                    var i = t.canvas;
                    if ("resize" !== e) {
                        var a = ((n[m] || {}).proxies || {})[t.id + "_" + e];
                        a && r(i, e, a)
                    } else g(i)
                }
            }, v.addEvent = o, v.removeEvent = r
        }, {
            45: 45
        }],
        48: [function(t, e, n) {
            "use strict";
            var i = t(45),
                a = t(46),
                o = t(47),
                r = o._enabled ? o : a;
            e.exports = i.extend({
                initialize: function() {},
                acquireContext: function() {},
                releaseContext: function() {},
                addEventListener: function() {},
                removeEventListener: function() {}
            }, r)
        }, {
            45: 45,
            46: 46,
            47: 47
        }],
        49: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(40),
                o = t(45);
            i._set("global", {
                plugins: {
                    filler: {
                        propagate: !0
                    }
                }
            }), e.exports = function() {
                function t(t, e, n) {
                    var i, a = t._model || {},
                        o = a.fill;
                    if (void 0 === o && (o = !!a.backgroundColor), !1 === o || null === o) return !1;
                    if (!0 === o) return "origin";
                    if (i = parseFloat(o, 10), isFinite(i) && Math.floor(i) === i) return "-" !== o[0] && "+" !== o[0] || (i = e + i), !(i === e || i < 0 || i >= n) && i;
                    switch (o) {
                        case "bottom":
                            return "start";
                        case "top":
                            return "end";
                        case "zero":
                            return "origin";
                        case "origin":
                        case "start":
                        case "end":
                            return o;
                        default:
                            return !1
                    }
                }

                function e(t) {
                    var e, n = t.el._model || {},
                        i = t.el._scale || {},
                        a = t.fill,
                        o = null;
                    if (isFinite(a)) return null;
                    if ("start" === a ? o = void 0 === n.scaleBottom ? i.bottom : n.scaleBottom : "end" === a ? o = void 0 === n.scaleTop ? i.top : n.scaleTop : void 0 !== n.scaleZero ? o = n.scaleZero : i.getBasePosition ? o = i.getBasePosition() : i.getBasePixel && (o = i.getBasePixel()), void 0 !== o && null !== o) {
                        if (void 0 !== o.x && void 0 !== o.y) return o;
                        if ("number" == typeof o && isFinite(o)) return e = i.isHorizontal(), {
                            x: e ? o : null,
                            y: e ? null : o
                        }
                    }
                    return null
                }

                function n(t, e, n) {
                    var i, a = t[e].fill,
                        o = [e];
                    if (!n) return a;
                    for (; !1 !== a && -1 === o.indexOf(a);) {
                        if (!isFinite(a)) return a;
                        if (!(i = t[a])) return !1;
                        if (i.visible) return a;
                        o.push(a), a = i.fill
                    }
                    return !1
                }

                function r(t) {
                    var e = t.fill,
                        n = "dataset";
                    return !1 === e ? null : (isFinite(e) || (n = "boundary"), d[n](t))
                }

                function l(t) {
                    return t && !t.skip
                }

                function s(t, e, n, i, a) {
                    var r;
                    if (i && a) {
                        for (t.moveTo(e[0].x, e[0].y), r = 1; r < i; ++r) o.canvas.lineTo(t, e[r - 1], e[r]);
                        for (t.lineTo(n[a - 1].x, n[a - 1].y), r = a - 1; r > 0; --r) o.canvas.lineTo(t, n[r], n[r - 1], !0)
                    }
                }

                function u(t, e, n, i, a, o) {
                    var r, u, d, c, h, f, g, p = e.length,
                        v = i.spanGaps,
                        m = [],
                        b = [],
                        x = 0,
                        y = 0;
                    for (t.beginPath(), r = 0, u = p + !!o; r < u; ++r) h = n(c = e[d = r % p]._view, d, i), f = l(c), g = l(h), f && g ? (x = m.push(c), y = b.push(h)) : x && y && (v ? (f && m.push(c), g && b.push(h)) : (s(t, m, b, x, y), x = y = 0, m = [], b = []));
                    s(t, m, b, x, y), t.closePath(), t.fillStyle = a, t.fill()
                }
                var d = {
                    dataset: function(t) {
                        var e = t.fill,
                            n = t.chart,
                            i = n.getDatasetMeta(e),
                            a = i && n.isDatasetVisible(e) && i.dataset._children || [],
                            o = a.length || 0;
                        return o ? function(t, e) {
                            return e < o && a[e]._view || null
                        } : null
                    },
                    boundary: function(t) {
                        var e = t.boundary,
                            n = e ? e.x : null,
                            i = e ? e.y : null;
                        return function(t) {
                            return {
                                x: null === n ? t.x : n,
                                y: null === i ? t.y : i
                            }
                        }
                    }
                };
                return {
                    id: "filler",
                    afterDatasetsUpdate: function(i, o) {
                        var l, s, u, d, c = (i.data.datasets || []).length,
                            h = o.propagate,
                            f = [];
                        for (s = 0; s < c; ++s) d = null, (u = (l = i.getDatasetMeta(s)).dataset) && u._model && u instanceof a.Line && (d = {
                            visible: i.isDatasetVisible(s),
                            fill: t(u, s, c),
                            chart: i,
                            el: u
                        }), l.$filler = d, f.push(d);
                        for (s = 0; s < c; ++s)(d = f[s]) && (d.fill = n(f, s, h), d.boundary = e(d), d.mapper = r(d))
                    },
                    beforeDatasetDraw: function(t, e) {
                        var n = e.meta.$filler;
                        if (n) {
                            var a = t.ctx,
                                r = n.el,
                                l = r._view,
                                s = r._children || [],
                                d = n.mapper,
                                c = l.backgroundColor || i.global.defaultColor;
                            d && c && s.length && (o.canvas.clipArea(a, t.chartArea), u(a, s, d, l, c, r._loop), o.canvas.unclipArea(a))
                        }
                    }
                }
            }
        }, {
            25: 25,
            40: 40,
            45: 45
        }],
        50: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                legend: {
                    display: !0,
                    position: "top",
                    fullWidth: !0,
                    reverse: !1,
                    weight: 1e3,
                    onClick: function(t, e) {
                        var n = e.datasetIndex,
                            i = this.chart,
                            a = i.getDatasetMeta(n);
                        a.hidden = null === a.hidden ? !i.data.datasets[n].hidden : null, i.update()
                    },
                    onHover: null,
                    labels: {
                        boxWidth: 40,
                        padding: 10,
                        generateLabels: function(t) {
                            var e = t.data;
                            return o.isArray(e.datasets) ? e.datasets.map(function(e, n) {
                                return {
                                    text: e.label,
                                    fillStyle: o.isArray(e.backgroundColor) ? e.backgroundColor[0] : e.backgroundColor,
                                    hidden: !t.isDatasetVisible(n),
                                    lineCap: e.borderCapStyle,
                                    lineDash: e.borderDash,
                                    lineDashOffset: e.borderDashOffset,
                                    lineJoin: e.borderJoinStyle,
                                    lineWidth: e.borderWidth,
                                    strokeStyle: e.borderColor,
                                    pointStyle: e.pointStyle,
                                    datasetIndex: n
                                }
                            }, this) : []
                        }
                    }
                },
                legendCallback: function(t) {
                    var e = [];
                    e.push('<ul class="' + t.id + '-legend">');
                    for (var n = 0; n < t.data.datasets.length; n++) e.push('<li><span style="background-color:' + t.data.datasets[n].backgroundColor + '"></span>'), t.data.datasets[n].label && e.push(t.data.datasets[n].label), e.push("</li>");
                    return e.push("</ul>"), e.join("")
                }
            }), e.exports = function(t) {
                function e(t, e) {
                    return t.usePointStyle ? e * Math.SQRT2 : t.boxWidth
                }

                function n(e, n) {
                    var i = new t.Legend({
                        ctx: e.ctx,
                        options: n,
                        chart: e
                    });
                    r.configure(e, i, n), r.addBox(e, i), e.legend = i
                }
                var r = t.layoutService,
                    l = o.noop;
                return t.Legend = a.extend({
                    initialize: function(t) {
                        o.extend(this, t), this.legendHitBoxes = [], this.doughnutMode = !1
                    },
                    beforeUpdate: l,
                    update: function(t, e, n) {
                        var i = this;
                        return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize
                    },
                    afterUpdate: l,
                    beforeSetDimensions: l,
                    setDimensions: function() {
                        var t = this;
                        t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = {
                            width: 0,
                            height: 0
                        }
                    },
                    afterSetDimensions: l,
                    beforeBuildLabels: l,
                    buildLabels: function() {
                        var t = this,
                            e = t.options.labels || {},
                            n = o.callback(e.generateLabels, [t.chart], t) || [];
                        e.filter && (n = n.filter(function(n) {
                            return e.filter(n, t.chart.data)
                        })), t.options.reverse && n.reverse(), t.legendItems = n
                    },
                    afterBuildLabels: l,
                    beforeFit: l,
                    fit: function() {
                        var t = this,
                            n = t.options,
                            a = n.labels,
                            r = n.display,
                            l = t.ctx,
                            s = i.global,
                            u = o.valueOrDefault,
                            d = u(a.fontSize, s.defaultFontSize),
                            c = u(a.fontStyle, s.defaultFontStyle),
                            h = u(a.fontFamily, s.defaultFontFamily),
                            f = o.fontString(d, c, h),
                            g = t.legendHitBoxes = [],
                            p = t.minSize,
                            v = t.isHorizontal();
                        if (v ? (p.width = t.maxWidth, p.height = r ? 10 : 0) : (p.width = r ? 10 : 0, p.height = t.maxHeight), r)
                            if (l.font = f, v) {
                                var m = t.lineWidths = [0],
                                    b = t.legendItems.length ? d + a.padding : 0;
                                l.textAlign = "left", l.textBaseline = "top", o.each(t.legendItems, function(n, i) {
                                    var o = e(a, d) + d / 2 + l.measureText(n.text).width;
                                    m[m.length - 1] + o + a.padding >= t.width && (b += d + a.padding, m[m.length] = t.left), g[i] = {
                                        left: 0,
                                        top: 0,
                                        width: o,
                                        height: d
                                    }, m[m.length - 1] += o + a.padding
                                }), p.height += b
                            } else {
                                var x = a.padding,
                                    y = t.columnWidths = [],
                                    k = a.padding,
                                    w = 0,
                                    M = 0,
                                    S = d + x;
                                o.each(t.legendItems, function(t, n) {
                                    var i = e(a, d) + d / 2 + l.measureText(t.text).width;
                                    M + S > p.height && (k += w + a.padding, y.push(w), w = 0, M = 0), w = Math.max(w, i), M += S, g[n] = {
                                        left: 0,
                                        top: 0,
                                        width: i,
                                        height: d
                                    }
                                }), k += w, y.push(w), p.width += k
                            } t.width = p.width, t.height = p.height
                    },
                    afterFit: l,
                    isHorizontal: function() {
                        return "top" === this.options.position || "bottom" === this.options.position
                    },
                    draw: function() {
                        var t = this,
                            n = t.options,
                            a = n.labels,
                            r = i.global,
                            l = r.elements.line,
                            s = t.width,
                            u = t.lineWidths;
                        if (n.display) {
                            var d, c = t.ctx,
                                h = o.valueOrDefault,
                                f = h(a.fontColor, r.defaultFontColor),
                                g = h(a.fontSize, r.defaultFontSize),
                                p = h(a.fontStyle, r.defaultFontStyle),
                                v = h(a.fontFamily, r.defaultFontFamily),
                                m = o.fontString(g, p, v);
                            c.textAlign = "left", c.textBaseline = "middle", c.lineWidth = .5, c.strokeStyle = f, c.fillStyle = f, c.font = m;
                            var b = e(a, g),
                                x = t.legendHitBoxes,
                                y = function(t, e, i) {
                                    if (!(isNaN(b) || b <= 0)) {
                                        c.save(), c.fillStyle = h(i.fillStyle, r.defaultColor), c.lineCap = h(i.lineCap, l.borderCapStyle), c.lineDashOffset = h(i.lineDashOffset, l.borderDashOffset), c.lineJoin = h(i.lineJoin, l.borderJoinStyle), c.lineWidth = h(i.lineWidth, l.borderWidth), c.strokeStyle = h(i.strokeStyle, r.defaultColor);
                                        var a = 0 === h(i.lineWidth, l.borderWidth);
                                        if (c.setLineDash && c.setLineDash(h(i.lineDash, l.borderDash)), n.labels && n.labels.usePointStyle) {
                                            var s = g * Math.SQRT2 / 2,
                                                u = s / Math.SQRT2,
                                                d = t + u,
                                                f = e + u;
                                            o.canvas.drawPoint(c, i.pointStyle, s, d, f)
                                        } else a || c.strokeRect(t, e, b, g), c.fillRect(t, e, b, g);
                                        c.restore()
                                    }
                                },
                                k = function(t, e, n, i) {
                                    var a = g / 2,
                                        o = b + a + t,
                                        r = e + a;
                                    c.fillText(n.text, o, r), n.hidden && (c.beginPath(), c.lineWidth = 2, c.moveTo(o, r), c.lineTo(o + i, r), c.stroke())
                                },
                                w = t.isHorizontal();
                            d = w ? {
                                x: t.left + (s - u[0]) / 2,
                                y: t.top + a.padding,
                                line: 0
                            } : {
                                x: t.left + a.padding,
                                y: t.top + a.padding,
                                line: 0
                            };
                            var M = g + a.padding;
                            o.each(t.legendItems, function(e, n) {
                                var i = c.measureText(e.text).width,
                                    o = b + g / 2 + i,
                                    r = d.x,
                                    l = d.y;
                                w ? r + o >= s && (l = d.y += M, d.line++, r = d.x = t.left + (s - u[d.line]) / 2) : l + M > t.bottom && (r = d.x = r + t.columnWidths[d.line] + a.padding, l = d.y = t.top + a.padding, d.line++), y(r, l, e), x[n].left = r, x[n].top = l, k(r, l, e, i), w ? d.x += o + a.padding : d.y += M
                            })
                        }
                    },
                    handleEvent: function(t) {
                        var e = this,
                            n = e.options,
                            i = "mouseup" === t.type ? "click" : t.type,
                            a = !1;
                        if ("mousemove" === i) {
                            if (!n.onHover) return
                        } else {
                            if ("click" !== i) return;
                            if (!n.onClick) return
                        }
                        var o = t.x,
                            r = t.y;
                        if (o >= e.left && o <= e.right && r >= e.top && r <= e.bottom)
                            for (var l = e.legendHitBoxes, s = 0; s < l.length; ++s) {
                                var u = l[s];
                                if (o >= u.left && o <= u.left + u.width && r >= u.top && r <= u.top + u.height) {
                                    if ("click" === i) {
                                        n.onClick.call(e, t.native, e.legendItems[s]), a = !0;
                                        break
                                    }
                                    if ("mousemove" === i) {
                                        n.onHover.call(e, t.native, e.legendItems[s]), a = !0;
                                        break
                                    }
                                }
                            }
                        return a
                    }
                }), {
                    id: "legend",
                    beforeInit: function(t) {
                        var e = t.options.legend;
                        e && n(t, e)
                    },
                    beforeUpdate: function(t) {
                        var e = t.options.legend,
                            a = t.legend;
                        e ? (o.mergeIf(e, i.global.legend), a ? (r.configure(t, a, e), a.options = e) : n(t, e)) : a && (r.removeBox(t, a), delete t.legend)
                    },
                    afterEvent: function(t, e) {
                        var n = t.legend;
                        n && n.handleEvent(e)
                    }
                }
            }
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        51: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(26),
                o = t(45);
            i._set("global", {
                title: {
                    display: !1,
                    fontStyle: "bold",
                    fullWidth: !0,
                    lineHeight: 1.2,
                    padding: 10,
                    position: "top",
                    text: "",
                    weight: 2e3
                }
            }), e.exports = function(t) {
                function e(e, i) {
                    var a = new t.Title({
                        ctx: e.ctx,
                        options: i,
                        chart: e
                    });
                    n.configure(e, a, i), n.addBox(e, a), e.titleBlock = a
                }
                var n = t.layoutService,
                    r = o.noop;
                return t.Title = a.extend({
                    initialize: function(t) {
                        var e = this;
                        o.extend(e, t), e.legendHitBoxes = []
                    },
                    beforeUpdate: r,
                    update: function(t, e, n) {
                        var i = this;
                        return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize
                    },
                    afterUpdate: r,
                    beforeSetDimensions: r,
                    setDimensions: function() {
                        var t = this;
                        t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = {
                            width: 0,
                            height: 0
                        }
                    },
                    afterSetDimensions: r,
                    beforeBuildLabels: r,
                    buildLabels: r,
                    afterBuildLabels: r,
                    beforeFit: r,
                    fit: function() {
                        var t = this,
                            e = o.valueOrDefault,
                            n = t.options,
                            a = n.display,
                            r = e(n.fontSize, i.global.defaultFontSize),
                            l = t.minSize,
                            s = o.isArray(n.text) ? n.text.length : 1,
                            u = o.options.toLineHeight(n.lineHeight, r),
                            d = a ? s * u + 2 * n.padding : 0;
                        t.isHorizontal() ? (l.width = t.maxWidth, l.height = d) : (l.width = d, l.height = t.maxHeight), t.width = l.width, t.height = l.height
                    },
                    afterFit: r,
                    isHorizontal: function() {
                        var t = this.options.position;
                        return "top" === t || "bottom" === t
                    },
                    draw: function() {
                        var t = this,
                            e = t.ctx,
                            n = o.valueOrDefault,
                            a = t.options,
                            r = i.global;
                        if (a.display) {
                            var l, s, u, d = n(a.fontSize, r.defaultFontSize),
                                c = n(a.fontStyle, r.defaultFontStyle),
                                h = n(a.fontFamily, r.defaultFontFamily),
                                f = o.fontString(d, c, h),
                                g = o.options.toLineHeight(a.lineHeight, d),
                                p = g / 2 + a.padding,
                                v = 0,
                                m = t.top,
                                b = t.left,
                                x = t.bottom,
                                y = t.right;
                            e.fillStyle = n(a.fontColor, r.defaultFontColor), e.font = f, t.isHorizontal() ? (s = b + (y - b) / 2, u = m + p, l = y - b) : (s = "left" === a.position ? b + p : y - p, u = m + (x - m) / 2, l = x - m, v = Math.PI * ("left" === a.position ? -.5 : .5)), e.save(), e.translate(s, u), e.rotate(v), e.textAlign = "center", e.textBaseline = "middle";
                            var k = a.text;
                            if (o.isArray(k))
                                for (var w = 0, M = 0; M < k.length; ++M) e.fillText(k[M], 0, w, l), w += g;
                            else e.fillText(k, 0, 0, l);
                            e.restore()
                        }
                    }
                }), {
                    id: "title",
                    beforeInit: function(t) {
                        var n = t.options.title;
                        n && e(t, n)
                    },
                    beforeUpdate: function(a) {
                        var r = a.options.title,
                            l = a.titleBlock;
                        r ? (o.mergeIf(r, i.global.title), l ? (n.configure(a, l, r), l.options = r) : e(a, r)) : l && (t.layoutService.removeBox(a, l), delete a.titleBlock)
                    }
                }
            }
        }, {
            25: 25,
            26: 26,
            45: 45
        }],
        52: [function(t, e, n) {
            "use strict";
            e.exports = function(t) {
                var e = t.Scale.extend({
                    getLabels: function() {
                        var t = this.chart.data;
                        return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels
                    },
                    determineDataLimits: function() {
                        var t = this,
                            e = t.getLabels();
                        t.minIndex = 0, t.maxIndex = e.length - 1;
                        var n;
                        void 0 !== t.options.ticks.min && (n = e.indexOf(t.options.ticks.min), t.minIndex = -1 !== n ? n : t.minIndex), void 0 !== t.options.ticks.max && (n = e.indexOf(t.options.ticks.max), t.maxIndex = -1 !== n ? n : t.maxIndex), t.min = e[t.minIndex], t.max = e[t.maxIndex]
                    },
                    buildTicks: function() {
                        var t = this,
                            e = t.getLabels();
                        t.ticks = 0 === t.minIndex && t.maxIndex === e.length - 1 ? e : e.slice(t.minIndex, t.maxIndex + 1)
                    },
                    getLabelForIndex: function(t, e) {
                        var n = this,
                            i = n.chart.data,
                            a = n.isHorizontal();
                        return i.yLabels && !a ? n.getRightValue(i.datasets[e].data[t]) : n.ticks[t - n.minIndex]
                    },
                    getPixelForValue: function(t, e) {
                        var n, i = this,
                            a = i.options.offset,
                            o = Math.max(i.maxIndex + 1 - i.minIndex - (a ? 0 : 1), 1);
                        if (void 0 !== t && null !== t && (n = i.isHorizontal() ? t.x : t.y), void 0 !== n || void 0 !== t && isNaN(e)) {
                            var r = i.getLabels();
                            t = n || t;
                            var l = r.indexOf(t);
                            e = -1 !== l ? l : e
                        }
                        if (i.isHorizontal()) {
                            var s = i.width / o,
                                u = s * (e - i.minIndex);
                            return a && (u += s / 2), i.left + Math.round(u)
                        }
                        var d = i.height / o,
                            c = d * (e - i.minIndex);
                        return a && (c += d / 2), i.top + Math.round(c)
                    },
                    getPixelForTick: function(t) {
                        return this.getPixelForValue(this.ticks[t], t + this.minIndex, null)
                    },
                    getValueForPixel: function(t) {
                        var e = this,
                            n = e.options.offset,
                            i = Math.max(e._ticks.length - (n ? 0 : 1), 1),
                            a = e.isHorizontal(),
                            o = (a ? e.width : e.height) / i;
                        return t -= a ? e.left : e.top, n && (t -= o / 2), (t <= 0 ? 0 : Math.round(t / o)) + e.minIndex
                    },
                    getBasePixel: function() {
                        return this.bottom
                    }
                });
                t.scaleService.registerScaleType("category", e, {
                    position: "bottom"
                })
            }
        }, {}],
        53: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(45),
                o = t(34);
            e.exports = function(t) {
                var e = {
                        position: "left",
                        ticks: {
                            callback: o.formatters.linear
                        }
                    },
                    n = t.LinearScaleBase.extend({
                        determineDataLimits: function() {
                            function t(t) {
                                return r ? t.xAxisID === e.id : t.yAxisID === e.id
                            }
                            var e = this,
                                n = e.options,
                                i = e.chart,
                                o = i.data.datasets,
                                r = e.isHorizontal();
                            e.min = null, e.max = null;
                            var l = n.stacked;
                            if (void 0 === l && a.each(o, function(e, n) {
                                    if (!l) {
                                        var a = i.getDatasetMeta(n);
                                        i.isDatasetVisible(n) && t(a) && void 0 !== a.stack && (l = !0)
                                    }
                                }), n.stacked || l) {
                                var s = {};
                                a.each(o, function(o, r) {
                                    var l = i.getDatasetMeta(r),
                                        u = [l.type, void 0 === n.stacked && void 0 === l.stack ? r : "", l.stack].join(".");
                                    void 0 === s[u] && (s[u] = {
                                        positiveValues: [],
                                        negativeValues: []
                                    });
                                    var d = s[u].positiveValues,
                                        c = s[u].negativeValues;
                                    i.isDatasetVisible(r) && t(l) && a.each(o.data, function(t, i) {
                                        var a = +e.getRightValue(t);
                                        isNaN(a) || l.data[i].hidden || (d[i] = d[i] || 0, c[i] = c[i] || 0, n.relativePoints ? d[i] = 100 : a < 0 ? c[i] += a : d[i] += a)
                                    })
                                }), a.each(s, function(t) {
                                    var n = t.positiveValues.concat(t.negativeValues),
                                        i = a.min(n),
                                        o = a.max(n);
                                    e.min = null === e.min ? i : Math.min(e.min, i), e.max = null === e.max ? o : Math.max(e.max, o)
                                })
                            } else a.each(o, function(n, o) {
                                var r = i.getDatasetMeta(o);
                                i.isDatasetVisible(o) && t(r) && a.each(n.data, function(t, n) {
                                    var i = +e.getRightValue(t);
                                    isNaN(i) || r.data[n].hidden || (null === e.min ? e.min = i : i < e.min && (e.min = i), null === e.max ? e.max = i : i > e.max && (e.max = i))
                                })
                            });
                            e.min = isFinite(e.min) && !isNaN(e.min) ? e.min : 0, e.max = isFinite(e.max) && !isNaN(e.max) ? e.max : 1, this.handleTickRangeOptions()
                        },
                        getTickLimit: function() {
                            var t, e = this,
                                n = e.options.ticks;
                            if (e.isHorizontal()) t = Math.min(n.maxTicksLimit ? n.maxTicksLimit : 11, Math.ceil(e.width / 50));
                            else {
                                var o = a.valueOrDefault(n.fontSize, i.global.defaultFontSize);
                                t = Math.min(n.maxTicksLimit ? n.maxTicksLimit : 11, Math.ceil(e.height / (2 * o)))
                            }
                            return t
                        },
                        handleDirectionalChanges: function() {
                            this.isHorizontal() || this.ticks.reverse()
                        },
                        getLabelForIndex: function(t, e) {
                            return +this.getRightValue(this.chart.data.datasets[e].data[t])
                        },
                        getPixelForValue: function(t) {
                            var e, n = this,
                                i = n.start,
                                a = +n.getRightValue(t),
                                o = n.end - i;
                            return n.isHorizontal() ? (e = n.left + n.width / o * (a - i), Math.round(e)) : (e = n.bottom - n.height / o * (a - i), Math.round(e))
                        },
                        getValueForPixel: function(t) {
                            var e = this,
                                n = e.isHorizontal(),
                                i = n ? e.width : e.height,
                                a = (n ? t - e.left : e.bottom - t) / i;
                            return e.start + (e.end - e.start) * a
                        },
                        getPixelForTick: function(t) {
                            return this.getPixelForValue(this.ticksAsNumbers[t])
                        }
                    });
                t.scaleService.registerScaleType("linear", n, e)
            }
        }, {
            25: 25,
            34: 34,
            45: 45
        }],
        54: [function(t, e, n) {
            "use strict";
            var i = t(45),
                a = t(34);
            e.exports = function(t) {
                var e = i.noop;
                t.LinearScaleBase = t.Scale.extend({
                    getRightValue: function(e) {
                        return "string" == typeof e ? +e : t.Scale.prototype.getRightValue.call(this, e)
                    },
                    handleTickRangeOptions: function() {
                        var t = this,
                            e = t.options.ticks;
                        if (e.beginAtZero) {
                            var n = i.sign(t.min),
                                a = i.sign(t.max);
                            n < 0 && a < 0 ? t.max = 0 : n > 0 && a > 0 && (t.min = 0)
                        }
                        var o = void 0 !== e.min || void 0 !== e.suggestedMin,
                            r = void 0 !== e.max || void 0 !== e.suggestedMax;
                        void 0 !== e.min ? t.min = e.min : void 0 !== e.suggestedMin && (null === t.min ? t.min = e.suggestedMin : t.min = Math.min(t.min, e.suggestedMin)), void 0 !== e.max ? t.max = e.max : void 0 !== e.suggestedMax && (null === t.max ? t.max = e.suggestedMax : t.max = Math.max(t.max, e.suggestedMax)), o !== r && t.min >= t.max && (o ? t.max = t.min + 1 : t.min = t.max - 1), t.min === t.max && (t.max++, e.beginAtZero || t.min--)
                    },
                    getTickLimit: e,
                    handleDirectionalChanges: e,
                    buildTicks: function() {
                        var t = this,
                            e = t.options.ticks,
                            n = t.getTickLimit(),
                            o = {
                                maxTicks: n = Math.max(2, n),
                                min: e.min,
                                max: e.max,
                                stepSize: i.valueOrDefault(e.fixedStepSize, e.stepSize)
                            },
                            r = t.ticks = a.generators.linear(o, t);
                        t.handleDirectionalChanges(), t.max = i.max(r), t.min = i.min(r), e.reverse ? (r.reverse(), t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max)
                    },
                    convertTicksToLabels: function() {
                        var e = this;
                        e.ticksAsNumbers = e.ticks.slice(), e.zeroLineIndex = e.ticks.indexOf(0), t.Scale.prototype.convertTicksToLabels.call(e)
                    }
                })
            }
        }, {
            34: 34,
            45: 45
        }],
        55: [function(t, e, n) {
            "use strict";
            var i = t(45),
                a = t(34);
            e.exports = function(t) {
                var e = {
                        position: "left",
                        ticks: {
                            callback: a.formatters.logarithmic
                        }
                    },
                    n = t.Scale.extend({
                        determineDataLimits: function() {
                            function t(t) {
                                return s ? t.xAxisID === e.id : t.yAxisID === e.id
                            }
                            var e = this,
                                n = e.options,
                                a = n.ticks,
                                o = e.chart,
                                r = o.data.datasets,
                                l = i.valueOrDefault,
                                s = e.isHorizontal();
                            e.min = null, e.max = null, e.minNotZero = null;
                            var u = n.stacked;
                            if (void 0 === u && i.each(r, function(e, n) {
                                    if (!u) {
                                        var i = o.getDatasetMeta(n);
                                        o.isDatasetVisible(n) && t(i) && void 0 !== i.stack && (u = !0)
                                    }
                                }), n.stacked || u) {
                                var d = {};
                                i.each(r, function(a, r) {
                                    var l = o.getDatasetMeta(r),
                                        s = [l.type, void 0 === n.stacked && void 0 === l.stack ? r : "", l.stack].join(".");
                                    o.isDatasetVisible(r) && t(l) && (void 0 === d[s] && (d[s] = []), i.each(a.data, function(t, i) {
                                        var a = d[s],
                                            o = +e.getRightValue(t);
                                        isNaN(o) || l.data[i].hidden || (a[i] = a[i] || 0, n.relativePoints ? a[i] = 100 : a[i] += o)
                                    }))
                                }), i.each(d, function(t) {
                                    var n = i.min(t),
                                        a = i.max(t);
                                    e.min = null === e.min ? n : Math.min(e.min, n), e.max = null === e.max ? a : Math.max(e.max, a)
                                })
                            } else i.each(r, function(n, a) {
                                var r = o.getDatasetMeta(a);
                                o.isDatasetVisible(a) && t(r) && i.each(n.data, function(t, n) {
                                    var i = +e.getRightValue(t);
                                    isNaN(i) || r.data[n].hidden || (null === e.min ? e.min = i : i < e.min && (e.min = i), null === e.max ? e.max = i : i > e.max && (e.max = i), 0 !== i && (null === e.minNotZero || i < e.minNotZero) && (e.minNotZero = i))
                                })
                            });
                            e.min = l(a.min, e.min), e.max = l(a.max, e.max), e.min === e.max && (0 !== e.min && null !== e.min ? (e.min = Math.pow(10, Math.floor(i.log10(e.min)) - 1), e.max = Math.pow(10, Math.floor(i.log10(e.max)) + 1)) : (e.min = 1, e.max = 10))
                        },
                        buildTicks: function() {
                            var t = this,
                                e = t.options.ticks,
                                n = {
                                    min: e.min,
                                    max: e.max
                                },
                                o = t.ticks = a.generators.logarithmic(n, t);
                            t.isHorizontal() || o.reverse(), t.max = i.max(o), t.min = i.min(o), e.reverse ? (o.reverse(), t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max)
                        },
                        convertTicksToLabels: function() {
                            this.tickValues = this.ticks.slice(), t.Scale.prototype.convertTicksToLabels.call(this)
                        },
                        getLabelForIndex: function(t, e) {
                            return +this.getRightValue(this.chart.data.datasets[e].data[t])
                        },
                        getPixelForTick: function(t) {
                            return this.getPixelForValue(this.tickValues[t])
                        },
                        getPixelForValue: function(t) {
                            var e, n, a, o = this,
                                r = o.start,
                                l = +o.getRightValue(t),
                                s = o.options.ticks;
                            return o.isHorizontal() ? (a = i.log10(o.end) - i.log10(r), 0 === l ? n = o.left : (e = o.width, n = o.left + e / a * (i.log10(l) - i.log10(r)))) : (e = o.height, 0 !== r || s.reverse ? 0 === o.end && s.reverse ? (a = i.log10(o.start) - i.log10(o.minNotZero), n = l === o.end ? o.top : l === o.minNotZero ? o.top + .02 * e : o.top + .02 * e + .98 * e / a * (i.log10(l) - i.log10(o.minNotZero))) : 0 === l ? n = s.reverse ? o.top : o.bottom : (a = i.log10(o.end) - i.log10(r), e = o.height, n = o.bottom - e / a * (i.log10(l) - i.log10(r))) : (a = i.log10(o.end) - i.log10(o.minNotZero), n = l === r ? o.bottom : l === o.minNotZero ? o.bottom - .02 * e : o.bottom - .02 * e - .98 * e / a * (i.log10(l) - i.log10(o.minNotZero)))), n
                        },
                        getValueForPixel: function(t) {
                            var e, n, a = this,
                                o = i.log10(a.end) - i.log10(a.start);
                            return a.isHorizontal() ? (n = a.width, e = a.start * Math.pow(10, (t - a.left) * o / n)) : (n = a.height, e = Math.pow(10, (a.bottom - t) * o / n) / a.start), e
                        }
                    });
                t.scaleService.registerScaleType("logarithmic", n, e)
            }
        }, {
            34: 34,
            45: 45
        }],
        56: [function(t, e, n) {
            "use strict";
            var i = t(25),
                a = t(45),
                o = t(34);
            e.exports = function(t) {
                function e(t) {
                    var e = t.options;
                    return e.angleLines.display || e.pointLabels.display ? t.chart.data.labels.length : 0
                }

                function n(t) {
                    var e = t.options.pointLabels,
                        n = a.valueOrDefault(e.fontSize, v.defaultFontSize),
                        i = a.valueOrDefault(e.fontStyle, v.defaultFontStyle),
                        o = a.valueOrDefault(e.fontFamily, v.defaultFontFamily);
                    return {
                        size: n,
                        style: i,
                        family: o,
                        font: a.fontString(n, i, o)
                    }
                }

                function r(t, e, n) {
                    return a.isArray(n) ? {
                        w: a.longestText(t, t.font, n),
                        h: n.length * e + 1.5 * (n.length - 1) * e
                    } : {
                        w: t.measureText(n).width,
                        h: e
                    }
                }

                function l(t, e, n, i, a) {
                    return t === i || t === a ? {
                        start: e - n / 2,
                        end: e + n / 2
                    } : t < i || t > a ? {
                        start: e - n - 5,
                        end: e
                    } : {
                        start: e,
                        end: e + n + 5
                    }
                }

                function s(t) {
                    var i, o, s, u = n(t),
                        d = Math.min(t.height / 2, t.width / 2),
                        c = {
                            r: t.width,
                            l: 0,
                            t: t.height,
                            b: 0
                        },
                        h = {};
                    t.ctx.font = u.font, t._pointLabelSizes = [];
                    var f = e(t);
                    for (i = 0; i < f; i++) {
                        s = t.getPointPosition(i, d), o = r(t.ctx, u.size, t.pointLabels[i] || ""), t._pointLabelSizes[i] = o;
                        var g = t.getIndexAngle(i),
                            p = a.toDegrees(g) % 360,
                            v = l(p, s.x, o.w, 0, 180),
                            m = l(p, s.y, o.h, 90, 270);
                        v.start < c.l && (c.l = v.start, h.l = g), v.end > c.r && (c.r = v.end, h.r = g), m.start < c.t && (c.t = m.start, h.t = g), m.end > c.b && (c.b = m.end, h.b = g)
                    }
                    t.setReductions(d, c, h)
                }

                function u(t) {
                    var e = Math.min(t.height / 2, t.width / 2);
                    t.drawingArea = Math.round(e), t.setCenterPoint(0, 0, 0, 0)
                }

                function d(t) {
                    return 0 === t || 180 === t ? "center" : t < 180 ? "left" : "right"
                }

                function c(t, e, n, i) {
                    if (a.isArray(e))
                        for (var o = n.y, r = 1.5 * i, l = 0; l < e.length; ++l) t.fillText(e[l], n.x, o), o += r;
                    else t.fillText(e, n.x, n.y)
                }

                function h(t, e, n) {
                    90 === t || 270 === t ? n.y -= e.h / 2 : (t > 270 || t < 90) && (n.y -= e.h)
                }

                function f(t) {
                    var i = t.ctx,
                        o = a.valueOrDefault,
                        r = t.options,
                        l = r.angleLines,
                        s = r.pointLabels;
                    i.lineWidth = l.lineWidth, i.strokeStyle = l.color;
                    var u = t.getDistanceFromCenterForValue(r.ticks.reverse ? t.min : t.max),
                        f = n(t);
                    i.textBaseline = "top";
                    for (var g = e(t) - 1; g >= 0; g--) {
                        if (l.display) {
                            var p = t.getPointPosition(g, u);
                            i.beginPath(), i.moveTo(t.xCenter, t.yCenter), i.lineTo(p.x, p.y), i.stroke(), i.closePath()
                        }
                        if (s.display) {
                            var m = t.getPointPosition(g, u + 5),
                                b = o(s.fontColor, v.defaultFontColor);
                            i.font = f.font, i.fillStyle = b;
                            var x = t.getIndexAngle(g),
                                y = a.toDegrees(x);
                            i.textAlign = d(y), h(y, t._pointLabelSizes[g], m), c(i, t.pointLabels[g] || "", m, f.size)
                        }
                    }
                }

                function g(t, n, i, o) {
                    var r = t.ctx;
                    if (r.strokeStyle = a.valueAtIndexOrDefault(n.color, o - 1), r.lineWidth = a.valueAtIndexOrDefault(n.lineWidth, o - 1), t.options.gridLines.circular) r.beginPath(), r.arc(t.xCenter, t.yCenter, i, 0, 2 * Math.PI), r.closePath(), r.stroke();
                    else {
                        var l = e(t);
                        if (0 === l) return;
                        r.beginPath();
                        var s = t.getPointPosition(0, i);
                        r.moveTo(s.x, s.y);
                        for (var u = 1; u < l; u++) s = t.getPointPosition(u, i), r.lineTo(s.x, s.y);
                        r.closePath(), r.stroke()
                    }
                }

                function p(t) {
                    return a.isNumber(t) ? t : 0
                }
                var v = i.global,
                    m = {
                        display: !0,
                        animate: !0,
                        position: "chartArea",
                        angleLines: {
                            display: !0,
                            color: "rgba(0, 0, 0, 0.1)",
                            lineWidth: 1
                        },
                        gridLines: {
                            circular: !1
                        },
                        ticks: {
                            showLabelBackdrop: !0,
                            backdropColor: "rgba(255,255,255,0.75)",
                            backdropPaddingY: 2,
                            backdropPaddingX: 2,
                            callback: o.formatters.linear
                        },
                        pointLabels: {
                            display: !0,
                            fontSize: 10,
                            callback: function(t) {
                                return t
                            }
                        }
                    },
                    b = t.LinearScaleBase.extend({
                        setDimensions: function() {
                            var t = this,
                                e = t.options,
                                n = e.ticks;
                            t.width = t.maxWidth, t.height = t.maxHeight, t.xCenter = Math.round(t.width / 2), t.yCenter = Math.round(t.height / 2);
                            var i = a.min([t.height, t.width]),
                                o = a.valueOrDefault(n.fontSize, v.defaultFontSize);
                            t.drawingArea = e.display ? i / 2 - (o / 2 + n.backdropPaddingY) : i / 2
                        },
                        determineDataLimits: function() {
                            var t = this,
                                e = t.chart,
                                n = Number.POSITIVE_INFINITY,
                                i = Number.NEGATIVE_INFINITY;
                            a.each(e.data.datasets, function(o, r) {
                                if (e.isDatasetVisible(r)) {
                                    var l = e.getDatasetMeta(r);
                                    a.each(o.data, function(e, a) {
                                        var o = +t.getRightValue(e);
                                        isNaN(o) || l.data[a].hidden || (n = Math.min(o, n), i = Math.max(o, i))
                                    })
                                }
                            }), t.min = n === Number.POSITIVE_INFINITY ? 0 : n, t.max = i === Number.NEGATIVE_INFINITY ? 0 : i, t.handleTickRangeOptions()
                        },
                        getTickLimit: function() {
                            var t = this.options.ticks,
                                e = a.valueOrDefault(t.fontSize, v.defaultFontSize);
                            return Math.min(t.maxTicksLimit ? t.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * e)))
                        },
                        convertTicksToLabels: function() {
                            var e = this;
                            t.LinearScaleBase.prototype.convertTicksToLabels.call(e), e.pointLabels = e.chart.data.labels.map(e.options.pointLabels.callback, e)
                        },
                        getLabelForIndex: function(t, e) {
                            return +this.getRightValue(this.chart.data.datasets[e].data[t])
                        },
                        fit: function() {
                            this.options.pointLabels.display ? s(this) : u(this)
                        },
                        setReductions: function(t, e, n) {
                            var i = this,
                                a = e.l / Math.sin(n.l),
                                o = Math.max(e.r - i.width, 0) / Math.sin(n.r),
                                r = -e.t / Math.cos(n.t),
                                l = -Math.max(e.b - i.height, 0) / Math.cos(n.b);
                            a = p(a), o = p(o), r = p(r), l = p(l), i.drawingArea = Math.min(Math.round(t - (a + o) / 2), Math.round(t - (r + l) / 2)), i.setCenterPoint(a, o, r, l)
                        },
                        setCenterPoint: function(t, e, n, i) {
                            var a = this,
                                o = a.width - e - a.drawingArea,
                                r = t + a.drawingArea,
                                l = n + a.drawingArea,
                                s = a.height - i - a.drawingArea;
                            a.xCenter = Math.round((r + o) / 2 + a.left), a.yCenter = Math.round((l + s) / 2 + a.top)
                        },
                        getIndexAngle: function(t) {
                            return t * (2 * Math.PI / e(this)) + (this.chart.options && this.chart.options.startAngle ? this.chart.options.startAngle : 0) * Math.PI * 2 / 360
                        },
                        getDistanceFromCenterForValue: function(t) {
                            var e = this;
                            if (null === t) return 0;
                            var n = e.drawingArea / (e.max - e.min);
                            return e.options.ticks.reverse ? (e.max - t) * n : (t - e.min) * n
                        },
                        getPointPosition: function(t, e) {
                            var n = this,
                                i = n.getIndexAngle(t) - Math.PI / 2;
                            return {
                                x: Math.round(Math.cos(i) * e) + n.xCenter,
                                y: Math.round(Math.sin(i) * e) + n.yCenter
                            }
                        },
                        getPointPositionForValue: function(t, e) {
                            return this.getPointPosition(t, this.getDistanceFromCenterForValue(e))
                        },
                        getBasePosition: function() {
                            var t = this,
                                e = t.min,
                                n = t.max;
                            return t.getPointPositionForValue(0, t.beginAtZero ? 0 : e < 0 && n < 0 ? n : e > 0 && n > 0 ? e : 0)
                        },
                        draw: function() {
                            var t = this,
                                e = t.options,
                                n = e.gridLines,
                                i = e.ticks,
                                o = a.valueOrDefault;
                            if (e.display) {
                                var r = t.ctx,
                                    l = this.getIndexAngle(0),
                                    s = o(i.fontSize, v.defaultFontSize),
                                    u = o(i.fontStyle, v.defaultFontStyle),
                                    d = o(i.fontFamily, v.defaultFontFamily),
                                    c = a.fontString(s, u, d);
                                a.each(t.ticks, function(e, a) {
                                    if (a > 0 || i.reverse) {
                                        var u = t.getDistanceFromCenterForValue(t.ticksAsNumbers[a]);
                                        if (n.display && 0 !== a && g(t, n, u, a), i.display) {
                                            var d = o(i.fontColor, v.defaultFontColor);
                                            if (r.font = c, r.save(), r.translate(t.xCenter, t.yCenter), r.rotate(l), i.showLabelBackdrop) {
                                                var h = r.measureText(e).width;
                                                r.fillStyle = i.backdropColor, r.fillRect(-h / 2 - i.backdropPaddingX, -u - s / 2 - i.backdropPaddingY, h + 2 * i.backdropPaddingX, s + 2 * i.backdropPaddingY)
                                            }
                                            r.textAlign = "center", r.textBaseline = "middle", r.fillStyle = d, r.fillText(e, 0, -u), r.restore()
                                        }
                                    }
                                }), (e.angleLines.display || e.pointLabels.display) && f(t)
                            }
                        }
                    });
                t.scaleService.registerScaleType("radialLinear", b, m)
            }
        }, {
            25: 25,
            34: 34,
            45: 45
        }],
        57: [function(t, e, n) {
            "use strict";

            function i(t, e) {
                return t - e
            }

            function a(t) {
                var e, n, i, a = {},
                    o = [];
                for (e = 0, n = t.length; e < n; ++e) a[i = t[e]] || (a[i] = !0, o.push(i));
                return o
            }

            function o(t, e, n, i) {
                if ("linear" === i || !t.length) return [{
                    time: e,
                    pos: 0
                }, {
                    time: n,
                    pos: 1
                }];
                var a, o, r, l, s, u = [],
                    d = [e];
                for (a = 0, o = t.length; a < o; ++a)(l = t[a]) > e && l < n && d.push(l);
                for (d.push(n), a = 0, o = d.length; a < o; ++a) s = d[a + 1], r = d[a - 1], l = d[a], void 0 !== r && void 0 !== s && Math.round((s + r) / 2) === l || u.push({
                    time: l,
                    pos: a / (o - 1)
                });
                return u
            }

            function r(t, e, n) {
                for (var i, a, o, r = 0, l = t.length - 1; r >= 0 && r <= l;) {
                    if (i = r + l >> 1, a = t[i - 1] || null, o = t[i], !a) return {
                        lo: null,
                        hi: o
                    };
                    if (o[e] < n) r = i + 1;
                    else {
                        if (!(a[e] > n)) return {
                            lo: a,
                            hi: o
                        };
                        l = i - 1
                    }
                }
                return {
                    lo: o,
                    hi: null
                }
            }

            function l(t, e, n, i) {
                var a = r(t, e, n),
                    o = a.lo ? a.hi ? a.lo : t[t.length - 2] : t[0],
                    l = a.lo ? a.hi ? a.hi : t[t.length - 1] : t[1],
                    s = l[e] - o[e],
                    u = s ? (n - o[e]) / s : 0,
                    d = (l[i] - o[i]) * u;
                return o[i] + d
            }

            function s(t, e) {
                var n = e.parser,
                    i = e.parser || e.format;
                return "function" == typeof n ? n(t) : "string" == typeof t && "string" == typeof i ? m(t, i) : (t instanceof m || (t = m(t)), t.isValid() ? t : "function" == typeof i ? i(t) : t)
            }

            function u(t, e) {
                if (x.isNullOrUndef(t)) return null;
                var n = e.options.time,
                    i = s(e.getRightValue(t), n);
                return i.isValid() ? (n.round && i.startOf(n.round), i.valueOf()) : null
            }

            function d(t, e, n, i) {
                var a, o, r, l = e - t,
                    s = w[n],
                    u = s.size,
                    d = s.steps;
                if (!d) return Math.ceil(l / ((i || 1) * u));
                for (a = 0, o = d.length; a < o && (r = d[a], !(Math.ceil(l / (u * r)) <= i)); ++a);
                return r
            }

            function c(t, e, n, i) {
                var a, o, r, l = M.length;
                for (a = M.indexOf(t); a < l - 1; ++a)
                    if (o = w[M[a]], r = o.steps ? o.steps[o.steps.length - 1] : k, o.common && Math.ceil((n - e) / (r * o.size)) <= i) return M[a];
                return M[l - 1]
            }

            function h(t, e, n, i) {
                var a, o, r = m.duration(m(i).diff(m(n)));
                for (a = M.length - 1; a >= M.indexOf(e); a--)
                    if (o = M[a], w[o].common && r.as(o) >= t.length) return o;
                return M[e ? M.indexOf(e) : 0]
            }

            function f(t) {
                for (var e = M.indexOf(t) + 1, n = M.length; e < n; ++e)
                    if (w[M[e]].common) return M[e]
            }

            function g(t, e, n, i) {
                var a, o = i.time,
                    r = o.unit || c(o.minUnit, t, e, n),
                    l = f(r),
                    s = x.valueOrDefault(o.stepSize, o.unitStepSize),
                    u = "week" === r && o.isoWeekday,
                    h = i.ticks.major.enabled,
                    g = w[r],
                    p = m(t),
                    v = m(e),
                    b = [];
                for (s || (s = d(t, e, r, n)), u && (p = p.isoWeekday(u), v = v.isoWeekday(u)), p = p.startOf(u ? "day" : r), (v = v.startOf(u ? "day" : r)) < e && v.add(1, r), a = m(p), h && l && !u && !o.round && (a.startOf(l), a.add(~~((p - a) / (g.size * s)) * s, r)); a < v; a.add(s, r)) b.push(+a);
                return b.push(+a), b
            }

            function p(t, e, n, i, a) {
                var o, r, s = 0,
                    u = 0;
                return a.offset && e.length && (a.time.min || (o = e.length > 1 ? e[1] : i, r = e[0], s = (l(t, "time", o, "pos") - l(t, "time", r, "pos")) / 2), a.time.max || (o = e[e.length - 1], r = e.length > 1 ? e[e.length - 2] : n, u = (l(t, "time", o, "pos") - l(t, "time", r, "pos")) / 2)), {
                    left: s,
                    right: u
                }
            }

            function v(t, e) {
                var n, i, a, o, r = [];
                for (n = 0, i = t.length; n < i; ++n) a = t[n], o = !!e && a === +m(a).startOf(e), r.push({
                    value: a,
                    major: o
                });
                return r
            }
            var m = t(1);
            m = "function" == typeof m ? m : window.moment;
            var b = t(25),
                x = t(45),
                y = Number.MIN_SAFE_INTEGER || -9007199254740991,
                k = Number.MAX_SAFE_INTEGER || 9007199254740991,
                w = {
                    millisecond: {
                        common: !0,
                        size: 1,
                        steps: [1, 2, 5, 10, 20, 50, 100, 250, 500]
                    },
                    second: {
                        common: !0,
                        size: 1e3,
                        steps: [1, 2, 5, 10, 30]
                    },
                    minute: {
                        common: !0,
                        size: 6e4,
                        steps: [1, 2, 5, 10, 30]
                    },
                    hour: {
                        common: !0,
                        size: 36e5,
                        steps: [1, 2, 3, 6, 12]
                    },
                    day: {
                        common: !0,
                        size: 864e5,
                        steps: [1, 2, 5]
                    },
                    week: {
                        common: !1,
                        size: 6048e5,
                        steps: [1, 2, 3, 4]
                    },
                    month: {
                        common: !0,
                        size: 2628e6,
                        steps: [1, 2, 3]
                    },
                    quarter: {
                        common: !1,
                        size: 7884e6,
                        steps: [1, 2, 3, 4]
                    },
                    year: {
                        common: !0,
                        size: 3154e7
                    }
                },
                M = Object.keys(w);
            e.exports = function(t) {
                var e = t.Scale.extend({
                    initialize: function() {
                        if (!m) throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");
                        this.mergeTicksOptions(), t.Scale.prototype.initialize.call(this)
                    },
                    update: function() {
                        var e = this,
                            n = e.options;
                        return n.time && n.time.format && console.warn("options.time.format is deprecated and replaced by options.time.parser."), t.Scale.prototype.update.apply(e, arguments)
                    },
                    getRightValue: function(e) {
                        return e && void 0 !== e.t && (e = e.t), t.Scale.prototype.getRightValue.call(this, e)
                    },
                    determineDataLimits: function() {
                        var t, e, n, o, r, l, s = this,
                            d = s.chart,
                            c = s.options.time,
                            h = k,
                            f = y,
                            g = [],
                            p = [],
                            v = [];
                        for (t = 0, n = d.data.labels.length; t < n; ++t) v.push(u(d.data.labels[t], s));
                        for (t = 0, n = (d.data.datasets || []).length; t < n; ++t)
                            if (d.isDatasetVisible(t))
                                if (r = d.data.datasets[t].data, x.isObject(r[0]))
                                    for (p[t] = [], e = 0, o = r.length; e < o; ++e) l = u(r[e], s), g.push(l), p[t][e] = l;
                                else g.push.apply(g, v), p[t] = v.slice(0);
                        else p[t] = [];
                        v.length && (v = a(v).sort(i), h = Math.min(h, v[0]), f = Math.max(f, v[v.length - 1])), g.length && (g = a(g).sort(i), h = Math.min(h, g[0]), f = Math.max(f, g[g.length - 1])), h = u(c.min, s) || h, f = u(c.max, s) || f, h = h === k ? +m().startOf("day") : h, f = f === y ? +m().endOf("day") + 1 : f, s.min = Math.min(h, f), s.max = Math.max(h + 1, f), s._horizontal = s.isHorizontal(), s._table = [], s._timestamps = {
                            data: g,
                            datasets: p,
                            labels: v
                        }
                    },
                    buildTicks: function() {
                        var t, e, n, i = this,
                            a = i.min,
                            r = i.max,
                            l = i.options,
                            s = l.time,
                            d = [],
                            c = [];
                        switch (l.ticks.source) {
                            case "data":
                                d = i._timestamps.data;
                                break;
                            case "labels":
                                d = i._timestamps.labels;
                                break;
                            case "auto":
                            default:
                                d = g(a, r, i.getLabelCapacity(a), l)
                        }
                        for ("ticks" === l.bounds && d.length && (a = d[0], r = d[d.length - 1]), a = u(s.min, i) || a, r = u(s.max, i) || r, t = 0, e = d.length; t < e; ++t)(n = d[t]) >= a && n <= r && c.push(n);
                        return i.min = a, i.max = r, i._unit = s.unit || h(c, s.minUnit, i.min, i.max), i._majorUnit = f(i._unit), i._table = o(i._timestamps.data, a, r, l.distribution), i._offsets = p(i._table, c, a, r, l), v(c, i._majorUnit)
                    },
                    getLabelForIndex: function(t, e) {
                        var n = this,
                            i = n.chart.data,
                            a = n.options.time,
                            o = i.labels && t < i.labels.length ? i.labels[t] : "",
                            r = i.datasets[e].data[t];
                        return x.isObject(r) && (o = n.getRightValue(r)), a.tooltipFormat && (o = s(o, a).format(a.tooltipFormat)), o
                    },
                    tickFormatFunction: function(t, e, n, i) {
                        var a = this,
                            o = a.options,
                            r = t.valueOf(),
                            l = o.time.displayFormats,
                            s = l[a._unit],
                            u = a._majorUnit,
                            d = l[u],
                            c = t.clone().startOf(u).valueOf(),
                            h = o.ticks.major,
                            f = h.enabled && u && d && r === c,
                            g = t.format(i || (f ? d : s)),
                            p = f ? h : o.ticks.minor,
                            v = x.valueOrDefault(p.callback, p.userCallback);
                        return v ? v(g, e, n) : g
                    },
                    convertTicksToLabels: function(t) {
                        var e, n, i = [];
                        for (e = 0, n = t.length; e < n; ++e) i.push(this.tickFormatFunction(m(t[e].value), e, t));
                        return i
                    },
                    getPixelForOffset: function(t) {
                        var e = this,
                            n = e._horizontal ? e.width : e.height,
                            i = e._horizontal ? e.left : e.top,
                            a = l(e._table, "time", t, "pos");
                        return i + n * (e._offsets.left + a) / (e._offsets.left + 1 + e._offsets.right)
                    },
                    getPixelForValue: function(t, e, n) {
                        var i = this,
                            a = null;
                        if (void 0 !== e && void 0 !== n && (a = i._timestamps.datasets[n][e]), null === a && (a = u(t, i)), null !== a) return i.getPixelForOffset(a)
                    },
                    getPixelForTick: function(t) {
                        var e = this.getTicks();
                        return t >= 0 && t < e.length ? this.getPixelForOffset(e[t].value) : null
                    },
                    getValueForPixel: function(t) {
                        var e = this,
                            n = e._horizontal ? e.width : e.height,
                            i = e._horizontal ? e.left : e.top,
                            a = (n ? (t - i) / n : 0) * (e._offsets.left + 1 + e._offsets.left) - e._offsets.right,
                            o = l(e._table, "pos", a, "time");
                        return m(o)
                    },
                    getLabelWidth: function(t) {
                        var e = this,
                            n = e.options.ticks,
                            i = e.ctx.measureText(t).width,
                            a = x.toRadians(n.maxRotation),
                            o = Math.cos(a),
                            r = Math.sin(a);
                        return i * o + x.valueOrDefault(n.fontSize, b.global.defaultFontSize) * r
                    },
                    getLabelCapacity: function(t) {
                        var e = this,
                            n = e.options.time.displayFormats.millisecond,
                            i = e.tickFormatFunction(m(t), 0, [], n),
                            a = e.getLabelWidth(i),
                            o = e.isHorizontal() ? e.width : e.height;
                        return Math.floor(o / a)
                    }
                });
                t.scaleService.registerScaleType("time", e, {
                    position: "bottom",
                    distribution: "linear",
                    bounds: "data",
                    time: {
                        parser: !1,
                        format: !1,
                        unit: !1,
                        round: !1,
                        displayFormat: !1,
                        isoWeekday: !1,
                        minUnit: "millisecond",
                        displayFormats: {
                            millisecond: "h:mm:ss.SSS a",
                            second: "h:mm:ss a",
                            minute: "h:mm a",
                            hour: "hA",
                            day: "MMM D",
                            week: "ll",
                            month: "MMM YYYY",
                            quarter: "[Q]Q - YYYY",
                            year: "YYYY"
                        }
                    },
                    ticks: {
                        autoSkip: !1,
                        source: "auto",
                        major: {
                            enabled: !1
                        }
                    }
                })
            }
        }, {
            1: 1,
            25: 25,
            45: 45
        }]
    }, {}, [7])(7)
});;