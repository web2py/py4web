

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation and Startup &mdash; py4web 1.20201112.1
 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/toggle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/js/toggle.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating your first app" href="chapter-02.html" />
    <link rel="prev" title="What is py4web?" href="chapter-00.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> py4web
          

          
          </a>

          
            
            
              <div class="version">
                1.20201112.1

              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter-00.html">What is py4web?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and Startup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-platforms-and-prerequisites">Supported platforms and prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-procedures">Setup procedures</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-binaries">Installing from binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hint-use-a-virtual-environment-virtualenv">Hint: use a virtual environment (virtualenv)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-pip">Installing from pip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-source-globally">Installing from source (globally)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-from-source-locally">Installing from source (locally)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading">Upgrading</a></li>
<li class="toctree-l2"><a class="reference internal" href="#first-run">First run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-options">Command line options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#call-command-option">call command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-command-option">run command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-password-command-option">set_password command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-command-option">setup command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shell-command-option">shell command option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#version-command-option">version command option</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deployment-on-the-cloud">Deployment on the cloud</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-gcloud-aka-google-app-engine">Deployment on GCloud (aka Google App Engine)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-on-pythonanywhere-com">Deployment on PythonAnywhere.com</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-02.html">Creating your first app</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-03.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-04.html">Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-05.html">The database abstraction layer (DAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-06.html">The RESTAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-07.html">YATL Template Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-08.html">YATL helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-09.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-10.html">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-11.html">Authentication and Access control</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-12.html">Grid</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py4web</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation and Startup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/web2py/py4web/blob/master/docs/chapter-01.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-and-startup">
<h1>Installation and Startup<a class="headerlink" href="#installation-and-startup" title="Permalink to this headline">¶</a></h1>
<div class="section" id="supported-platforms-and-prerequisites">
<h2>Supported platforms and prerequisites<a class="headerlink" href="#supported-platforms-and-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>PY4WEB runs fine on Windows, MacOS and Linux. Its only prerequisite is
Python 3.6+, which must be installed in advance (except if you use
binaries).</p>
</div>
<div class="section" id="setup-procedures">
<h2>Setup procedures<a class="headerlink" href="#setup-procedures" title="Permalink to this headline">¶</a></h2>
<p>There are four alternative ways of running py4web, with different level
of difficulty and flexibility. Let’s look at the pros and cons.</p>
<div class="section" id="installing-from-binaries">
<h3>Installing from binaries<a class="headerlink" href="#installing-from-binaries" title="Permalink to this headline">¶</a></h3>
<p>This is not a real installation, because you just copy a bunch of files
on your system without modifying it anyhow. Hence this is the simplest
solution, especially for newbies or students, because it does not
require Python pre-installed on your system nor administrative rights.
On the other hand, it’s experimental, it could contain an old py4web
release and it is quite difficult to add other functionalities to it.</p>
<p>In order to use it you just need to download the latest Windows or MacOS
ZIP file from <a class="reference external" href="https://github.com/nicozanf/py4web-pyinstaller">this external
repository</a>. Unzip it
on a local folder and open a command line there. Finally run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4web-start set_password
py4web-start run apps
</pre></div>
</div>
<p>With this type of installation, remember to always use <strong>py4web-start</strong>
instead of ‘py4web’ or ‘py4web.py’ in the following documentation.</p>
</div>
<div class="section" id="hint-use-a-virtual-environment-virtualenv">
<h3>Hint: use a virtual environment (virtualenv)<a class="headerlink" href="#hint-use-a-virtual-environment-virtualenv" title="Permalink to this headline">¶</a></h3>
<p>A full installation of any complex python application like py4web will
surely modify the python environment of your system. In order to prevent
any unwanted change, it’s a good habit to use a python virtual
environment (also called <strong>virtualenv</strong>, see
<a class="reference external" href="https://docs.python.org/3.7/tutorial/venv.html">here</a> for an
introduction). This is a standard python feature; if you still don’t
know virtualenv it’s a good time to start its discovery!</p>
<p>Activate it before using any of the following <em>real</em> installation
procedures is highly reccomended.</p>
</div>
<div class="section" id="installing-from-pip">
<h3>Installing from pip<a class="headerlink" href="#installing-from-pip" title="Permalink to this headline">¶</a></h3>
<p>Using <em>pip</em> is the standard installation procedure for py4web. From the
command line</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install --upgrade py4web --no-cache-dir --user
</pre></div>
</div>
<p>but do <strong>not</strong> type the <em>–user</em> option with virtualenv or a standard
Windows installation which is already per-user.</p>
<p>Also, if <em>python3</em> does not work, try with the simple <em>python</em> command
instead.</p>
<p>This will install py4web and all its dependencies on the system’s path
only. The assets folder (that contains the py4web’s system apps) will
also be created. After the installation you’ll be able to start py4web
on any given working folder with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4web setup apps
py4web set_password
py4web run apps
</pre></div>
</div>
<p>If the command py4web is not accepted, it means it’s not in the system’s
path. On Windows, a special py4web.exe file (pointing to py4web.py) will
be created by <em>pip</em> on the system’s path, but not if you type the
<em>–user</em> option by mistake.</p>
</div>
<div class="section" id="installing-from-source-globally">
<h3>Installing from source (globally)<a class="headerlink" href="#installing-from-source-globally" title="Permalink to this headline">¶</a></h3>
<p>This is the traditional way for installing a program, but it works only
on Linux and MacOS. All the requirements will be installed on the
system’s path along with links to the py4web.py program on the local
folder</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/web2py/py4web.git
<span class="nb">cd</span> py4web
make assets
make <span class="nb">test</span>
make install
py4web run apps
</pre></div>
</div>
<p>Also notice that when installing in this way the content of
py4web/assets folder is missing at first but it is manually created
later with the ‘make assets’ command.</p>
</div>
<div class="section" id="installing-from-source-locally">
<h3>Installing from source (locally)<a class="headerlink" href="#installing-from-source-locally" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">In this way all the requirements will be installed or upgraded on the
system’s path, but py4web itself will only be copied</div>
<div class="line">on a local folder. This is especially useful if you already have a
working py4web installation but you want to test a different</div>
<div class="line">one. From the command line, go to a given working folder and then run</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/web2py/py4web.git
<span class="nb">cd</span> py4web
python3 -m pip install  --upgrade -r requirements.txt
</pre></div>
</div>
<p>Once installed, you should always start it from there with</p>
<p><strong>For Linux / MacOS</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./py4web.py setup apps
./py4web.py set_password
./py4web.py run apps
</pre></div>
</div>
<p>If you have installed py4web both globally and locally, notice the
<strong>./</strong> ; it forces the run of the local folder’s py4web and not the
globally installed one.</p>
<p><strong>For Windows</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 py4web.py setup apps
python3 py4web.py set_password
python3 py4web.py run apps
</pre></div>
</div>
<p>On Windows, the programs on the local folder are always executed before
the ones in the path (hence you don’t need the <strong>./</strong>). But running .py
files directly it’s not usual and you’ll need an explicit python3/python
command.</p>
</div>
</div>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<p>If you installed py4web from pip you can simple upgrade it with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install --upgrade py4web
</pre></div>
</div>
<p>Mind that it will not automatically upgrade the apps like <strong>Dashboard</strong>
and <strong>Default</strong>. You have to manually remove these apps and then run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4web setup apps
</pre></div>
</div>
<p>in order to re-install them. This is a safety precaution, in case you
made changes to those apps.</p>
<p>If you installed py4web in any other way, you must upgrade it manually.
First you have to make a backup of any personal py4web work you’ve done,
then delete the old installation folder and re-install the framework
again.</p>
</div>
<div class="section" id="first-run">
<h2>First run<a class="headerlink" href="#first-run" title="Permalink to this headline">¶</a></h2>
<p>Running py4web using any of the previous procedure should produce an
output like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>██████╗ ██╗   ██╗██╗  ██╗██╗    ██╗███████╗██████╗
██╔══██╗╚██╗ ██╔╝██║  ██║██║    ██║██╔════╝██╔══██╗
██████╔╝ ╚████╔╝ ███████║██║ █╗ ██║█████╗  ██████╔╝
██╔═══╝   ╚██╔╝  ╚════██║██║███╗██║██╔══╝  ██╔══██╗
██║        ██║        ██║╚███╔███╔╝███████╗██████╔╝
╚═╝        ╚═╝        ╚═╝ ╚══╝╚══╝ ╚══════╝╚═════╝
Dashboard is at: http://127.0.0.1:8000/_dashboard
[X] loaded _dashboard
[X] loaded _default
Bottle v0.12.16 server starting up (using TornadoServer())...
Listening on http://127.0.0.1:8000/
Hit Ctrl-C to quit.
</pre></div>
</div>
<p>Generally <code class="docutils literal notranslate"><span class="pre">apps</span></code> is the name of the folder where you keep all your
apps, and can be explicitly set wit the _‘run_’ command. If that
folder does not exist, it is created. PY4WEB expects to find at least
two apps in this folder: <strong>Dashboard</strong> (_dashboard) and <strong>Default</strong>
(_default). If it does not find them, it installs them.</p>
<p><strong>Dashboard</strong> is a web based IDE.</p>
<p><strong>Default</strong> is an app that does nothing other than welcome the user.</p>
<p>Notice that some apps - like <strong>Dashboard</strong> and <strong>Default</strong> - have a
special role in py4web and therefore their actual name starts with <code class="docutils literal notranslate"><span class="pre">_</span></code>
to avoid conflicts with apps created by you.</p>
<p>Once py4web is running you can access a specific app at the following
urls:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">_dashboard</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="p">{</span><span class="n">yourappname</span><span class="p">}</span><span class="o">/</span><span class="n">index</span>
</pre></div>
</div>
<p>Notice that ONLY the <strong>Default</strong> app is special because if does not
require the “{appname}/” prefix in the path, like all the other apps do.
In general you you may want to symlink <code class="docutils literal notranslate"><span class="pre">apps/_default</span></code> to your default
app.</p>
<p>For all apps the trailing <code class="docutils literal notranslate"><span class="pre">/index</span></code> is optional.</p>
</div>
<div class="section" id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h2>
<p>py4web provides multiple command line options which can be listed by
running it with the <strong>–help</strong> argument</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web --help</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">COMMAND</span> <span class="p">[</span><span class="n">ARGS</span><span class="p">]</span><span class="o">...</span>

  <span class="n">PY4WEB</span> <span class="o">-</span> <span class="n">a</span> <span class="n">web</span> <span class="n">framework</span> <span class="k">for</span> <span class="n">rapid</span> <span class="n">development</span> <span class="n">of</span> <span class="n">efficient</span> <span class="n">database</span>
  <span class="n">driven</span> <span class="n">web</span> <span class="n">applications</span>

  <span class="n">Type</span> <span class="s2">&quot;py4web COMMAND -h&quot;</span> <span class="k">for</span> <span class="n">available</span> <span class="n">options</span> <span class="n">on</span> <span class="n">commands</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>

<span class="n">Commands</span><span class="p">:</span>
  <span class="n">call</span>          <span class="n">Call</span> <span class="n">a</span> <span class="n">function</span> <span class="n">inside</span> <span class="n">apps_folder</span>
  <span class="n">run</span>           <span class="n">Run</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">applications</span> <span class="n">on</span> <span class="n">apps_folder</span>
  <span class="n">set_password</span>  <span class="n">Set</span> <span class="n">administrator</span><span class="s1">&#39;s password for the Dashboard</span>
  <span class="n">setup</span>         <span class="n">Setup</span> <span class="n">new</span> <span class="n">apps</span> <span class="n">folder</span> <span class="ow">or</span> <span class="n">reinstall</span> <span class="n">it</span>
  <span class="n">shell</span>         <span class="n">Open</span> <span class="n">a</span> <span class="n">python</span> <span class="n">shell</span> <span class="k">with</span> <span class="n">apps_folder</span> <span class="n">added</span> <span class="n">to</span> <span class="n">the</span> <span class="n">path</span>
  <span class="n">version</span>       <span class="n">Show</span> <span class="n">versions</span> <span class="ow">and</span> <span class="n">exit</span>
</pre></div>
</div>
<div class="section" id="call-command-option">
<h3>call command option<a class="headerlink" href="#call-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web call -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">call</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="n">APPS_FOLDER</span> <span class="n">FUNC</span>

  <span class="n">Call</span> <span class="n">a</span> <span class="n">function</span> <span class="n">inside</span> <span class="n">apps_folder</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">--</span><span class="n">args</span> <span class="n">TEXT</span>        <span class="n">Arguments</span> <span class="n">passed</span> <span class="n">to</span> <span class="n">the</span> <span class="n">program</span><span class="o">/</span><span class="n">function</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="p">{}]</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="run-command-option">
<h3>run command option<a class="headerlink" href="#run-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web run -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">run</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="p">[</span><span class="n">APPS_FOLDER</span><span class="p">]</span>

  <span class="n">Run</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">applications</span> <span class="n">on</span> <span class="n">apps_folder</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>                     <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                                <span class="kc">False</span><span class="p">]</span>

  <span class="o">-</span><span class="n">H</span><span class="p">,</span> <span class="o">--</span><span class="n">host</span> <span class="n">TEXT</span>               <span class="n">Host</span> <span class="n">name</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">]</span>
  <span class="o">-</span><span class="n">P</span><span class="p">,</span> <span class="o">--</span><span class="n">port</span> <span class="n">INTEGER</span>            <span class="n">Port</span> <span class="n">number</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mi">8000</span><span class="p">]</span>
  <span class="o">-</span><span class="n">p</span><span class="p">,</span> <span class="o">--</span><span class="n">password_file</span> <span class="n">TEXT</span>      <span class="n">File</span> <span class="k">for</span> <span class="n">the</span> <span class="n">encrypted</span> <span class="n">password</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                                <span class="n">password</span><span class="o">.</span><span class="n">txt</span><span class="p">]</span>

  <span class="o">-</span><span class="n">w</span><span class="p">,</span> <span class="o">--</span><span class="n">number_workers</span> <span class="n">INTEGER</span>  <span class="n">Number</span> <span class="n">of</span> <span class="n">workers</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="mi">0</span><span class="p">]</span>
  <span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">dashboard_mode</span> <span class="n">TEXT</span>     <span class="n">Dashboard</span> <span class="n">mode</span><span class="p">:</span> <span class="n">demo</span><span class="p">,</span> <span class="n">readonly</span><span class="p">,</span> <span class="n">full</span>
                                <span class="p">(</span><span class="n">default</span><span class="p">),</span> <span class="n">none</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="n">full</span><span class="p">]</span>

  <span class="o">--</span><span class="n">watch</span> <span class="p">[</span><span class="n">off</span><span class="o">|</span><span class="n">sync</span><span class="o">|</span><span class="n">lazy</span><span class="p">]</span>       <span class="n">Watch</span> <span class="n">python</span> <span class="n">changes</span> <span class="ow">and</span> <span class="n">reload</span> <span class="n">apps</span>
                                <span class="n">automatically</span><span class="p">,</span> <span class="n">modes</span><span class="p">:</span> <span class="n">off</span> <span class="p">(</span><span class="n">default</span><span class="p">),</span> <span class="n">sync</span><span class="p">,</span>
                                <span class="n">lazy</span>
  <span class="o">--</span><span class="n">ssl_cert</span> <span class="n">PATH</span>               <span class="n">SSL</span> <span class="n">certificate</span> <span class="n">file</span> <span class="k">for</span> <span class="n">HTTPS</span>
  <span class="o">--</span><span class="n">ssl_key</span> <span class="n">PATH</span>                <span class="n">SSL</span> <span class="n">key</span> <span class="n">file</span> <span class="k">for</span> <span class="n">HTTPS</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>             <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>If you want py4web to automatically reload an application upon any
changes to files of that application, you can:</p>
<ul class="simple">
<li><p>for immediate reloading (sync-mode): <code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--watch=sync</span></code></p></li>
<li><p>for reloading on any first incoming request to the application has
been changed (lazy-mode): <code class="docutils literal notranslate"><span class="pre">py4web</span> <span class="pre">run</span> <span class="pre">--watch=lazy</span></code></p></li>
</ul>
</div>
<div class="section" id="set-password-command-option">
<h3>set_password command option<a class="headerlink" href="#set-password-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web set_password -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">set_password</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>

  <span class="n">Set</span> <span class="n">administrator</span><span class="s1">&#39;s password for the Dashboard</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">--</span><span class="n">password</span> <span class="n">TEXT</span>           <span class="n">Password</span> <span class="n">value</span> <span class="p">(</span><span class="n">asked</span> <span class="k">if</span> <span class="n">missing</span><span class="p">)</span>
  <span class="o">-</span><span class="n">p</span><span class="p">,</span> <span class="o">--</span><span class="n">password_file</span> <span class="n">TEXT</span>  <span class="n">File</span> <span class="k">for</span> <span class="n">the</span> <span class="n">encrypted</span> <span class="n">password</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span>
                            <span class="n">password</span><span class="o">.</span><span class="n">txt</span><span class="p">]</span>

  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>         <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">--dashboard_mode</span></code> is not <code class="docutils literal notranslate"><span class="pre">demo</span></code> or <code class="docutils literal notranslate"><span class="pre">none</span></code>, every time
py4web starts, it asks for a one-time password for you to access the
dashboard. This is annoying. You can avoid it by storing a pdkdf2 hashed
password in a file (by default called password.txt) with the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4web set_password
</pre></div>
</div>
<p>It will not ask again unless the file is deleted. You can also use a
custom file name with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4web set_password my_password_file.txt
</pre></div>
</div>
<p>and then ask py4web to re-use that password at runtime with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>py4webt run -p my_password_file.txt apps
</pre></div>
</div>
<p>Finally you can manually create the file yourself with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3 -c &quot;from pydal.validators import CRYPT; open(&#39;password.txt&#39;,&#39;w&#39;).write(str(CRYPT()(input(&#39;password:&#39;))[0]))&quot;
password: *****
</pre></div>
</div>
</div>
<div class="section" id="setup-command-option">
<h3>setup command option<a class="headerlink" href="#setup-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web setup -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">setup</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="p">[</span><span class="n">APPS_FOLDER</span><span class="p">]</span>

  <span class="n">Setup</span> <span class="n">new</span> <span class="n">apps</span> <span class="n">folder</span> <span class="ow">or</span> <span class="n">reinstall</span> <span class="n">it</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">Y</span><span class="p">,</span> <span class="o">--</span><span class="n">yes</span>          <span class="n">No</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">assume</span> <span class="n">yes</span> <span class="n">to</span> <span class="n">questions</span>  <span class="p">[</span><span class="n">default</span><span class="p">:</span> <span class="kc">False</span><span class="p">]</span>
  <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>This option create a new apps folder (or reinstall it). If needed, it
will ask for the confirmation of the new folder’s creation and then for
copying every standard py4web apps from the assets folder. It currently
does nothing on binaries installations and from source installation
(locally) - for them you can manually copy the existing apps folder to
the new one.</p>
</div>
<div class="section" id="shell-command-option">
<h3>shell command option<a class="headerlink" href="#shell-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web shell -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">shell</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="p">[</span><span class="n">APPS_FOLDER</span><span class="p">]</span>

  <span class="n">Open</span> <span class="n">a</span> <span class="n">python</span> <span class="n">shell</span> <span class="k">with</span> <span class="n">apps_folder</span> <span class="n">added</span> <span class="n">to</span> <span class="n">the</span> <span class="n">path</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>Py4web’s shell is just the regular python shell with apps added to the
search path. Notice that the shell is for all the apps, not a single
one. You can then import the needed modules from the apps you need to
access.</p>
<p>For example, inside a shell you can</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">apps.myapp</span> <span class="kn">import</span> <span class="n">db</span>
<span class="kn">from</span> <span class="nn">py4web</span> <span class="kn">import</span> <span class="n">Session</span><span class="p">,</span> <span class="n">Cache</span><span class="p">,</span> <span class="n">Translator</span><span class="p">,</span> <span class="n">DAL</span><span class="p">,</span> <span class="n">Field</span>
<span class="kn">from</span> <span class="nn">py4web.utils.auth</span> <span class="kn">import</span> <span class="n">Auth</span>
</pre></div>
</div>
</div>
<div class="section" id="version-command-option">
<h3>version command option<a class="headerlink" href="#version-command-option" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># py4web version -h</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">py4web</span><span class="o">.</span><span class="n">py</span> <span class="n">version</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>

  <span class="n">Show</span> <span class="n">versions</span> <span class="ow">and</span> <span class="n">exit</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="o">--</span><span class="nb">all</span>          <span class="n">List</span> <span class="n">version</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">modules</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">-</span><span class="n">help</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>  <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<p>With the <em>-a</em> option you’ll get the version of all the available python
modules, too.</p>
</div>
</div>
<div class="section" id="deployment-on-the-cloud">
<h2>Deployment on the cloud<a class="headerlink" href="#deployment-on-the-cloud" title="Permalink to this headline">¶</a></h2>
<div class="section" id="deployment-on-gcloud-aka-google-app-engine">
<h3>Deployment on GCloud (aka Google App Engine)<a class="headerlink" href="#deployment-on-gcloud-aka-google-app-engine" title="Permalink to this headline">¶</a></h3>
<p>Login into the Gcloud console (<a class="reference external" href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>) and
create a new project. You will obtain a project id that looks like
“{project_name}-{number}”.</p>
<p>In your local file system make a new working folder and cd into it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir gae
<span class="nb">cd</span> gae
</pre></div>
</div>
<p>Copy the example files from py4web (assuming you have the source from
github)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">py4web</span><span class="o">/</span><span class="n">development_tools</span><span class="o">/</span><span class="n">gcloud</span><span class="o">/*</span> <span class="o">./</span>
</pre></div>
</div>
<p>Copy or symlink your <code class="docutils literal notranslate"><span class="pre">apps</span></code> folder into the gae folder, or maybe make
a new apps folder containing an empty <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> and symlink the
individual apps you want to deploy. You should see the following
files/folders:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Makefile</span>
<span class="n">apps</span>
  <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
  <span class="o">...</span> <span class="n">your</span> <span class="n">apps</span> <span class="o">...</span>
<span class="n">lib</span>
<span class="n">app</span><span class="o">.</span><span class="n">yaml</span>
<span class="n">main</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Install the Google SDK, py4web and setup the working folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make install-gcloud-linux
make setup
gcloud config <span class="nb">set</span> <span class="o">{</span>your email<span class="o">}</span>
gcloud config <span class="nb">set</span> <span class="o">{</span>project id<span class="o">}</span>
</pre></div>
</div>
<p>(replace {your email} with your google email account and {project id}
with the project id obtained from Google).</p>
<p>Now every time you want to deploy your apps, simply do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make deploy
</pre></div>
</div>
<p>You may want to customize the Makefile and app.yaml to suit your needs.
You should not need to edit <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
</div>
<div class="section" id="deployment-on-pythonanywhere-com">
<h3>Deployment on PythonAnywhere.com<a class="headerlink" href="#deployment-on-pythonanywhere-com" title="Permalink to this headline">¶</a></h3>
<p>Watch the video: <a class="reference external" href="https://youtu.be/Wxjl_vkLAEY">https://youtu.be/Wxjl_vkLAEY</a> and follow the detailed
tutorial on
<a class="reference external" href="https://github.com/tomcam/py4webcasts/blob/master/docs/how-install-source-pythonanywhere.md">https://github.com/tomcam/py4webcasts/blob/master/docs/how-install-source-pythonanywhere.md</a>
. The bottle_app.py script is in
<code class="docutils literal notranslate"><span class="pre">py4web/deployment_tools/pythonanywhere.com/bottle_app.py</span></code></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chapter-02.html" class="btn btn-neutral float-right" title="Creating your first app" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chapter-00.html" class="btn btn-neutral float-left" title="What is py4web?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, BSDv3 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      
      
     <span class="fa fa-element">
     <input class="container_toggle" type="checkbox" id="switch" name="mode">
     <label for="switch"></label>
     </span>
      
      v: 1.20201112.1

      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Languages</dt>
        
           <strong> 
          <dd><a href="../en/index.html">en</a></dd> </strong>
          
        
          
          
          <dd><a href="../pt/index.html">pt</a></dd> 
        
      </dl>
      
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="index.html">current</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="py4web_en.pdf">pdf</a></dd>
        
          <dd><a href="py4web_en.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
    </div>
  </div>

 

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>