

<!DOCTYPE html>
<html class="writer-html5" lang="pt" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Helpers YATL &mdash; Documentação py4web 1.20210119.1&#34;
</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/toggle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/js/toggle.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Pesquisar" href="search.html" />
    <link rel="next" title="Internacionalização" href="chapter-11.html" />
    <link rel="prev" title="Linguagem de template YATL" href="chapter-09.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> py4web
          

          
          </a>

          
            
            
              <div class="version">
                1.20210119.1"

              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Conteúdo:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter-01.html">O que é py4web?</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-02.html">Ajuda, recursos e dicas</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-03.html">Instalação e colocação em funcionamento</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-04.html">O Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-05.html">Criando seu primeiro aplicativo</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-06.html">Fixures</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-07.html">The Database Abstraction Layer (DAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-08.html">A RESTAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-09.html">Linguagem de template YATL</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Helpers YATL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#xml">`` XML``</a></li>
<li class="toctree-l2"><a class="reference internal" href="#built-in-helpers">Built-in helpers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a">`` A``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#body">`` BODY``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cat">`` CAT``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code">`` CODE``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#div">`` Div``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#em">`` EM``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#form">`` Form``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#h1-h2-h3-h4-h5-h6">`` H1``, `` h2``, `` H3``, `` H4``, `` H5``, `` H6``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#head">`` HEAD``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#html">`` HTML``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i">`` I``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#img">`` IMG``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#input">`` INPUT``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#label">`` Label``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#li">`` LI``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ol">`` OL``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#option">`` OPTION``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#p">`` P``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pre">`` PRE``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#script">`` SCRIPT``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select">`` SELECT``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#span">`` SPAN``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#style">`` STYLE``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-tr-td">`` TABLE``, `` TR``, `` TD``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tbody">`` TBODY``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#textarea">`` TEXTAREA``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#th">`` TH``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thead">`` THEAD``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#title">`` TITLE``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tr">`` TR``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tt">`` TT``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ul">`` UL``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#url">`` URL``</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-helpers">Helpers personalizados</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tag">`` TAG``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#menu">`` MENU``</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#beautify">`` BEAUTIFY``</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-side-dom-and-parsing">Server-side * DOM * e análise</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#elements">`` elements``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#components">`` Components``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parent-and-siblings">`` `` Parent`` e siblings``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replacing-elements">Substituir elementos</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flatten">`` flatten``</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsing">Análise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#page-layout">Layout da página</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#default-page-layout">Layout de página padrão</a></li>
<li class="toctree-l3"><a class="reference internal" href="#customizing-the-default-layout">Personalizando o layout padrão</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mobile-development">Desenvolvimento móvel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#functions-in-views">Funções em vista</a></li>
<li class="toctree-l2"><a class="reference internal" href="#blocks-in-views">Blocos em vista</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-11.html">Internacionalização</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-12.html">Forumlários</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-13.html">Autenticação e controle de acesso</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-14.html">Rede</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-15.html">De web2py para py4web</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py4web</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Helpers YATL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/web2py/py4web/blob/master/docs/chapter-10.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="yatl-helpers">
<h1>Helpers YATL<a class="headerlink" href="#yatl-helpers" title="Link permanente para este título">¶</a></h1>
<p>Considere o seguinte código em um ponto de vista:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=DIV(&#39;this&#39;, &#39;is&#39;, &#39;a&#39;, &#39;test&#39;, _id=&#39;123&#39;, _class=&#39;myclass&#39;)]]
</pre></div>
</div>
<p>ele é processado como:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;123&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;myclass&quot;</span><span class="p">&gt;</span>thisisatest<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>`` Div`` é uma classe auxiliar, ou seja, algo que pode ser usado para construir HTML programaticamente. Corresponde ao HTML `` &lt;div&gt; tag <a href="#id1"><span class="problematic" id="id2">``</span></a>.</p>
<p>Argumentos posicionais são interpretados como objetos contidos entre as tags de abrir e fechar. argumentos nomeados que começam com um sublinhado são interpretados como atributos de tags HTML (sem o sublinhado). Alguns helpers também têm argumentos nomeados que não começam com sublinhado; estes argumentos são específicos do tag.</p>
<p>Em vez de um conjunto de argumentos sem nome, um helper também pode ter uma única lista ou tupla como seu conjunto de componentes usando a notação `` * `` e pode levar um único dicionário como seu conjunto de atributos usando o `` ** ` <a href="#id1"><span class="problematic" id="id2">`</span></a>, por exemplo:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[
contents = [&#39;this&#39;, &#39;is&#39;, &#39;a&#39;, &#39;test&#39;]
attributes = {&#39;_id&#39;:&#39;123&#39;, &#39;_class&#39;:&#39;myclass&#39;}
=DIV(*contents, **attributes)
]]
</pre></div>
</div>
<p>(Produz a mesma saída que antes).</p>
<p>O seguinte conjunto de helpers:</p>
<p>`` A``, `` BEAUTIFY``, `` BODY``, `` CAT``, `` CODE``, `` div``, `` EM``, `` Form``, `` H1``, `` h2``, `` H3``, `` H4``, `` H5``, `` H6``, `` HEAD``, `` HTML``, `` I` <cite>,</cite> <cite>IMG`</cite>,` <cite>INPUT`</cite>,` <cite>label`</cite>,` <cite>LI`</cite>,` <cite>LINK`</cite>,` <cite>Meta`</cite>,` <cite>METATAG`</cite>,` <cite>OL`</cite>, `` OPTION``, `` PRE``, `` SELECT``, `` SPAN``, `` STRONG``, `` TABLE``, `` TAG``, `` TBODY``, `` TD``, `` TEXTAREA``, `` TH``, `` THEAD``, `` TR``, `` UL``, `` XML``, `` sanitize``, `` xmlescape` `</p>
<p>pode ser usado para construir expressões complexas que podem então ser serializado para XML. Por exemplo:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=DIV(B(I(&quot;hello &quot;, &quot;<span class="p">&lt;</span><span class="nt">world</span><span class="p">&gt;</span>&quot;)), _class=&quot;myclass&quot;)]]
</pre></div>
</div>
<p>é prestado:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;myclass&quot;</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">i</span><span class="p">&gt;</span>hello <span class="ni">&amp;lt;</span>world<span class="ni">&amp;gt;</span><span class="p">&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Ajudantes também podem ser serializados em cordas, de forma equivalente, com a `` __str__`` e os `` métodos xml``:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">DIV</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">))</span>
<span class="go">&lt;div&gt;hello world&lt;/div&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">xml</span><span class="p">()</span>
<span class="go">&lt;div&gt;hello world&lt;/div&gt;</span>
</pre></div>
</div>
<p>O mecanismo de helpers em py4web é mais do que um sistema para gerar HTML sem concatenar strings. Ele fornece uma representação do lado do servidor do objecto do modelo de documento (DOM).</p>
<p>Componentes de helpers podem ser referenciados através de sua posição, e helpers agir como listas com relação aos seus componentes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;span&gt;ab&lt;/span&gt;c&lt;/div&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">B</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;span&gt;yb&lt;/span&gt;&lt;b&gt;x&lt;/b&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>Atributos de helpers pode ser referenciado pelo nome, e helpers agir como dicionários com relação aos seus atributos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;t&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div class=&quot;s&quot;&gt;&lt;span class=&quot;t&quot;&gt;ab&lt;/span&gt;c&lt;/div&gt;</span>
</pre></div>
</div>
<p>Note, o conjunto completo de componentes podem ser acessados ​​através de uma lista de chamada `` a.components``, eo conjunto completo de atributos podem ser acessados ​​através de um dicionário chamado `` a.attributes``. Assim, `` a [i] `` é equivalente a `` a.components [i] `` `` quando i`` é um número inteiro, e um `` [s] `` é equivalente a `` a.attributes [s] `` `` quando s`` é uma cadeia de caracteres.</p>
<p>Note que atributos auxiliares são passados ​​como argumentos para o auxiliar. Em alguns casos, no entanto, nomes de atributos incluem caracteres especiais que não são permitidos em identificadores Python (por exemplo, hífens) e, portanto, não podem ser usados ​​como nomes de argumentos de palavra-chave. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">_data</span><span class="o">-</span><span class="n">role</span><span class="o">=</span><span class="s1">&#39;collapsible&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>não vai funcionar porque &lt;quotechar&gt; _data-papel &lt;quotechar&gt; inclui um hífen, que irá produzir um erro de sintaxe Python.</p>
<p>Nesses casos, você tem um par de opções. É possível utilizar a `` data`` argumento (desta vez sem um sublinhado) para passar um dicionário de atributos relacionados sem a sua hífen líder, e a saída terá as combinações desejadas, por exemplo</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;collapsible&#39;</span><span class="p">})</span>
<span class="go">&lt;div data-role=&quot;collapsible&quot;&gt;text&lt;/div&gt;</span>
</pre></div>
</div>
<p>ou você pode em vez disso passar os atributos como um dicionário e fazer uso de `` ** notação `` argumentos de função do Python, que mapeia um dicionário de (key: value) pares em um conjunto de argumentos de palavra-chave:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s1">&#39;_data-role&#39;</span><span class="p">:</span> <span class="s1">&#39;collapsible&#39;</span><span class="p">})</span>
<span class="go">&lt;div data-role=&quot;collapsible&quot;&gt;text&lt;/div&gt;</span>
</pre></div>
</div>
<p>Note-se que as entradas mais elaboradas irá introduzir entidades de caracteres HTML, mas eles vão trabalhar, no entanto, por exemplo,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;options&#39;</span><span class="p">:</span><span class="s1">&#39;{&quot;mode&quot;:&quot;calbox&quot;, &quot;useNewStyle&quot;:true}&#39;</span><span class="p">})</span>
<span class="go">&lt;div data-options=&quot;{&amp;quot;mode&amp;quot;:&amp;quot;calbox&amp;quot;, &amp;quot;useNewStyle&amp;quot;:true}&quot;&gt;text&lt;/div&gt;</span>
</pre></div>
</div>
<p>Você também pode criar dinamicamente tags especiais:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TAG</span><span class="p">[</span><span class="s1">&#39;soap:Body&#39;</span><span class="p">](</span><span class="s1">&#39;whatever&#39;</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s1">&#39;_xmlns:m&#39;</span><span class="p">:</span><span class="s1">&#39;http://www.example.org&#39;</span><span class="p">})</span>
<span class="go">&lt;soap:Body xmlns:m=&quot;http://www.example.org&quot;&gt;whatever&lt;/soap:Body&gt;</span>
</pre></div>
</div>
<div class="section" id="xml">
<h2>`` XML``<a class="headerlink" href="#xml" title="Link permanente para este título">¶</a></h2>
<p>`` XML`` é um objeto usado para encapsular texto que não deve ser escapado. O texto pode ou não conter XML válido. Por exemplo, poderia conter JavaScript.</p>
<p>O texto neste exemplo é escapado:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">)</span>
<span class="go">&lt;div&gt;&amp;lt;b&amp;gt;hello&amp;lt;/b&amp;gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>usando `` XML`` você pode impedir escapar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="n">XML</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;hello&lt;/b&gt;&quot;</span><span class="p">))</span>
<span class="go">&lt;div&gt;&lt;b&gt;hello&lt;/b&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>Às vezes você quer renderizar HTML armazenado em uma variável, mas o HTML pode conter tags inseguras como scripts:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;script&gt;alert(&quot;unsafe!&quot;)&lt;/script&gt;&#39;</span><span class="p">)</span>
<span class="go">&lt;script&gt;alert(&quot;unsafe!&quot;)&lt;/script&gt;</span>
</pre></div>
</div>
<p>Un-escapou de entrada executável como este (por exemplo, entrou no corpo de um comentário em um blog) não é seguro, porque pode ser usado para gerar ataques Cross Site Scripting (XSS) contra outros visitantes da página.</p>
<p>O py4web `` helper XML`` pode higienizar nosso texto para evitar injeções e escapar todas as tags exceto aqueles que você permitir explicitamente. Aqui está um exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;script&gt;alert(&quot;unsafe!&quot;)&lt;/script&gt;&#39;</span><span class="p">,</span> <span class="n">sanitize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&amp;lt;script&amp;gt;alert(&amp;quot;unsafe!&amp;quot;)&amp;lt;/script&amp;gt;</span>
</pre></div>
</div>
<p>Os `` construtores XML``, por padrão, considere o conteúdo de algumas tags e alguns de seus atributos de segurança. Você pode substituir os padrões usando os opcionais `` permitted_tags`` e `` allowed_attributes`` argumentos. Aqui estão os valores padrão dos argumentos opcionais do `` helper XML``.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">XML</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">sanitize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">permitted_tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;blockquote&#39;</span><span class="p">,</span> <span class="s1">&#39;br/&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;li&#39;</span><span class="p">,</span>
       <span class="s1">&#39;ol&#39;</span><span class="p">,</span> <span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;cite&#39;</span><span class="p">,</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="s1">&#39;img/&#39;</span><span class="p">],</span>
    <span class="n">allowed_attributes</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="s1">&#39;href&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">],</span>
       <span class="s1">&#39;img&#39;</span><span class="p">:[</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="s1">&#39;alt&#39;</span><span class="p">],</span> <span class="s1">&#39;blockquote&#39;</span><span class="p">:[</span><span class="s1">&#39;type&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
<div class="section" id="built-in-helpers">
<h2>Built-in helpers<a class="headerlink" href="#built-in-helpers" title="Link permanente para este título">¶</a></h2>
<div class="section" id="a">
<h3>`` A``<a class="headerlink" href="#a" title="Link permanente para este título">¶</a></h3>
<p>Este assistente é usado para construir ligações.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">A</span><span class="p">(</span><span class="s1">&#39;&lt;click&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;me&lt;/b&gt;&#39;</span><span class="p">),</span>
<span class="go">            _href=&#39;http://www.py4web.com&#39;)</span>
<span class="go">&lt;a href=&#39;http://www.py4web.com&#39;&gt;&amp;lt;click&amp;gt;&lt;b&gt;me&lt;/b&gt;&lt;/a&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="body">
<h3>`` BODY``<a class="headerlink" href="#body" title="Link permanente para este título">¶</a></h3>
<p>Este assistente faz com que o corpo de uma página.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">BODY</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_bgcolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="go">&lt;body bgcolor=&quot;red&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/body&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="cat">
<h3>`` CAT``<a class="headerlink" href="#cat" title="Link permanente para este título">¶</a></h3>
<p>Este assistente concatena outros helpers, mesmo como TAG [ “”].</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">CAT</span><span class="p">(</span><span class="s1">&#39;Here is a &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">,</span> <span class="n">_href</span><span class="o">=</span><span class="n">URL</span><span class="p">()),</span> <span class="s1">&#39;, and here is some &#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;bold text&#39;</span><span class="p">),</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="go">Here is a &lt;a href=&quot;/app/default/index&quot;&gt;link&lt;/a&gt;, and here is some &lt;b&gt;bold text&lt;/b&gt;.</span>
</pre></div>
</div>
</div>
<div class="section" id="code">
<h3>`` CODE``<a class="headerlink" href="#code" title="Link permanente para este título">¶</a></h3>
<p>Este assistente executa da sintaxe para o Python, C, C ++, o código HTML e py4web, e é preferível a `` PRE`` para listagens de código. `` CODE`` também tem a capacidade de criar links para a documentação py4web API.</p>
<p>Aqui está um exemplo de destacar seções de código Python.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">CODE</span><span class="p">(</span><span class="s1">&#39;print &quot;hello&quot;&#39;</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">xml</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;&lt;</span><span class="nt">tr</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;vertical-align:top;&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">td</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;min-width:40px; text-align: right;&quot;</span><span class="p">&gt;&lt;</span><span class="nt">pre</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;</span>
<span class="s">        font-size: 11px;</span>
<span class="s">        font-family: Bitstream Vera Sans Mono,monospace;</span>
<span class="s">        background-color: transparent;</span>
<span class="s">        margin: 0;</span>
<span class="s">        padding: 5px;</span>
<span class="s">        border: none;</span>
<span class="s">        color: #A0A0A0;</span>
<span class="s">    &quot;</span><span class="p">&gt;</span>1.<span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">pre</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;</span>
<span class="s">        font-size: 11px;</span>
<span class="s">        font-family: Bitstream Vera Sans Mono,monospace;</span>
<span class="s">        background-color: transparent;</span>
<span class="s">        margin: 0;</span>
<span class="s">        padding: 5px;</span>
<span class="s">        border: none;</span>
<span class="s">        overflow: auto;</span>
<span class="s">        white-space: pre !important;</span>
<span class="s">&quot;</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:#185369; font-weight: bold&quot;</span><span class="p">&gt;</span>print <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color: #FF9966&quot;</span><span class="p">&gt;</span>&quot;hello&quot;<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Aqui está um exemplo semelhante para HTML</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">CODE</span><span class="p">(</span><span class="s1">&#39;&lt;html&gt;&lt;body&gt;[[=request.env.remote_add]]&lt;/body&gt;&lt;/html&gt;&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">language</span><span class="o">=</span><span class="s1">&#39;html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;...&lt;</span><span class="n">code</span><span class="o">&gt;...</span>
<span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;</span><span class="p">[[</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">remote_add</span><span class="p">]]</span><span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
<span class="o">...&lt;/</span><span class="n">code</span><span class="o">&gt;...&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Estes são os argumentos padrão para o `` CODE`` helper:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CODE</span><span class="p">(</span><span class="s2">&quot;print &#39;hello world&#39;&quot;</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="n">link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">counter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">styles</span><span class="o">=</span><span class="p">{})</span>
</pre></div>
</div>
<p>Os valores suportados para o argumento `` language`` são “python”, “html_plain”, “c”, “cpp”, “py4web”, e “html”. Os “HTML” interpreta linguagem tags como código “py4web”, enquanto “html_plain” não.</p>
<p>Se um `` valor link`` é especificado, por exemplo “/ examples / global / vars /”, referências py4web API no código estão ligados a documentação no link URL. Por exemplo “pedido” estaria ligada à “/ examples / / global vars / request”. No exemplo acima, o URL de ligação é tratada pelo “vars” acção na “global.py” controlador que é distribuído como parte do py4web “exemplos” aplicação.</p>
<p>O argumento `` counter`` é utilizado para a numeração de linha. Ele pode ser configurado para qualquer um dos três valores diferentes. Pode ser `` None`` para não números de linha, um valor numérico especificando o número inicial, ou uma string. Se o contador está definido para uma cadeia, ele é interpretado como um aviso, e não há números de linha.</p>
<p>O <cite>argumento</cite> styles`` é um pouco complicado. Se você olhar para o HTML gerado acima, que contém uma tabela com duas colunas, e cada coluna tem um estilo próprio declarou em linha usando CSS. Os `` atributos styles`` permite substituir esses dois estilos CSS. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CODE</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">styles</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;CODE&#39;</span><span class="p">:</span><span class="s1">&#39;margin: 0;padding: 5px;border: none;&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>O atributo `` styles`` deve ser um dicionário, e permite que duas chaves possíveis: `` CODE`` para o estilo do código atual, e `` LINENUMBERS`` para o estilo da coluna esquerda, que contém a linha números. Lembre-se que estes estilos substituir completamente os estilos padrão e não são simplesmente adicionados a eles.</p>
</div>
<div class="section" id="div">
<h3>`` Div``<a class="headerlink" href="#div" title="Link permanente para este título">¶</a></h3>
<p>Todos os helpers além de `` XML`` são derivados de `` div`` e herdar seus métodos básicos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;div id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="em">
<h3>`` EM``<a class="headerlink" href="#em" title="Link permanente para este título">¶</a></h3>
<p>Insiste no seu conteúdo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">EM</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;em id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/em&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="form">
<h3>`` Form``<a class="headerlink" href="#form" title="Link permanente para este título">¶</a></h3>
<p>Este é um dos mais helpers importantes. Na sua forma mais simples, ele só faz um `` &lt;form&gt; … &lt;/ form&gt; tag <a href="#id1"><span class="problematic" id="id2">``</span></a>, mas porque helpers são objetos e ter conhecimento do que eles contêm, eles podem processar formulários enviados (por exemplo, executar a validação de os campos). Isso será discutido em detalhes no <cite>Capítulo 12 &lt;# capítulo-12&gt;</cite> __.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">FORM</span><span class="p">(</span><span class="n">INPUT</span><span class="p">(</span><span class="n">_type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span><span class="p">),</span> <span class="n">_action</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">_method</span><span class="o">=</span><span class="s1">&#39;post&#39;</span><span class="p">)</span>
<span class="go">&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;&quot; method=&quot;post&quot;&gt;</span>
<span class="go">&lt;input type=&quot;submit&quot; /&gt;&lt;/form&gt;</span>
</pre></div>
</div>
<p>O “enctype” é “multipart / form-data” por padrão.</p>
<p>O construtor de um `` Form``, e de `` SQLFORM``, também pode tomar um argumento especial chamado `` hidden``. Quando um dicionário é passado como `` hidden``, seus itens são convertidos em campos de entrada “escondido”. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">FORM</span><span class="p">(</span><span class="n">hidden</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="go">&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;&quot; method=&quot;post&quot;&gt;</span>
<span class="go">&lt;input value=&quot;b&quot; type=&quot;hidden&quot; name=&quot;a&quot; /&gt;&lt;/form&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="h1-h2-h3-h4-h5-h6">
<h3>`` H1``, `` h2``, `` H3``, `` H4``, `` H5``, `` H6``<a class="headerlink" href="#h1-h2-h3-h4-h5-h6" title="Link permanente para este título">¶</a></h3>
<p>Estes helpers são para títulos dos parágrafos e subtítulos:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">H1</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;h1 id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/h1&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="head">
<h3>`` HEAD``<a class="headerlink" href="#head" title="Link permanente para este título">¶</a></h3>
<p>Para marcar a cabeça de uma página HTML.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">HEAD</span><span class="p">(</span><span class="n">TITLE</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">)))</span>
<span class="go">&lt;head&gt;&lt;title&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/title&gt;&lt;/head&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="html">
<h3>`` HTML``<a class="headerlink" href="#html" title="Link permanente para este título">¶</a></h3>
<p>Este assistente é um pouco diferente. Além de fazer os `` &lt;html&gt; `` tag, que precederá a tag com um fio doctype.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">HTML</span><span class="p">(</span><span class="n">BODY</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">)))</span>
<span class="go">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span>
<span class="go">&lt;html&gt;&lt;body&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/body&gt;&lt;/html&gt;</span>
</pre></div>
</div>
<p>O auxiliar HTML também leva alguns argumentos opcionais adicionais que têm o seguinte padrão:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">doctype</span><span class="o">=</span><span class="s1">&#39;transitional&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>onde DOCTYPE pode ser ‘rigorosa’, ‘transitório’, ‘do conjunto de quadros’, ‘html5’, ou uma corda tipo de documento completo.</p>
</div>
<div class="section" id="i">
<h3>`` I``<a class="headerlink" href="#i" title="Link permanente para este título">¶</a></h3>
<p>Este assistente torna o seu conteúdo em itálico.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">I</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;i id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/i&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="img">
<h3>`` IMG``<a class="headerlink" href="#img" title="Link permanente para este título">¶</a></h3>
<p>Ele pode ser usado para imagens incorporar em HTML:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">IMG</span><span class="p">(</span><span class="n">_src</span><span class="o">=</span><span class="s1">&#39;http://example.com/image.png&#39;</span><span class="p">,</span> <span class="n">_alt</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="go"> ![](http://example.com/image.ong){ alt=&quot;rest&quot; }</span>
</pre></div>
</div>
<p>Aqui é uma combinação de helpers A, IMG, e URL para a inclusão de uma imagem estática com um link:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">A</span><span class="p">(</span><span class="n">IMG</span><span class="p">(</span><span class="n">_src</span><span class="o">=</span><span class="n">URL</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;logo.png&#39;</span><span class="p">),</span> <span class="n">_alt</span><span class="o">=</span><span class="s2">&quot;My Logo&quot;</span><span class="p">),</span>
<span class="gp">... </span>  <span class="n">_href</span><span class="o">=</span><span class="n">URL</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">&lt;a href=&quot;/myapp/default/index&quot;&gt;</span>
<span class="go">   ![](/myapp/static/logo.png){ alt=&quot;My Logo&quot; }</span>
<span class="go">&lt;/a&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="input">
<h3>`` INPUT``<a class="headerlink" href="#input" title="Link permanente para este título">¶</a></h3>
<p>Cria um `` &lt;input … /&gt; `` tag. Uma tag de entrada não pode conter outras tags, e é fechada por `` /&gt; `` em vez de <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">``.</span> <span class="pre">A</span> <span class="pre">tag</span> <span class="pre">de</span> <span class="pre">entrada</span> <span class="pre">tem</span> <span class="pre">um</span> <span class="pre">atributo</span> <span class="pre">opcional</span> <span class="pre">``</span> <span class="pre">_type</span></code> que pode ser definido como “texto” (o padrão), “enviar”, “caixa”, ou “rádio”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">INPUT</span><span class="p">(</span><span class="n">_name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_value</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&lt;input value=&quot;a&quot; name=&quot;test&quot; /&gt;</span>
</pre></div>
</div>
<p>Ele também leva um argumento especial opcional chamado “valor”, distinto &lt;quotechar&gt; _value “. Este último define o valor padrão para o campo de entrada; o ex define seu valor atual. Para uma entrada do tipo”text &lt;quotechar&gt;, os antigos substitui o último:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">INPUT</span><span class="p">(</span><span class="n">_name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_value</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="go">&lt;input value=&quot;b&quot; name=&quot;test&quot; /&gt;</span>
</pre></div>
</div>
<p>Para os botões de rádio, `` INPUT`` define seletivamente o “marcada” atributo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">INPUT</span><span class="p">(</span><span class="n">_type</span><span class="o">=</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="n">_name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_value</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="n">v</span>
<span class="gp">...</span>
<span class="go">&lt;input value=&quot;a&quot; type=&quot;radio&quot; name=&quot;test&quot; /&gt; a</span>
<span class="go">&lt;input value=&quot;b&quot; type=&quot;radio&quot; checked=&quot;checked&quot; name=&quot;test&quot; /&gt; b</span>
<span class="go">&lt;input value=&quot;c&quot; type=&quot;radio&quot; name=&quot;test&quot; /&gt; c</span>
</pre></div>
</div>
<p>e similarmente para caixas de seleção:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">INPUT</span><span class="p">(</span><span class="n">_type</span><span class="o">=</span><span class="s1">&#39;checkbox&#39;</span><span class="p">,</span> <span class="n">_name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_value</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&lt;input value=&quot;a&quot; type=&quot;checkbox&quot; checked=&quot;checked&quot; name=&quot;test&quot; /&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">INPUT</span><span class="p">(</span><span class="n">_type</span><span class="o">=</span><span class="s1">&#39;checkbox&#39;</span><span class="p">,</span> <span class="n">_name</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_value</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;input value=&quot;a&quot; type=&quot;checkbox&quot; name=&quot;test&quot; /&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="label">
<h3>`` Label``<a class="headerlink" href="#label" title="Link permanente para este título">¶</a></h3>
<p>Ele é usado para criar uma tag rótulo para um campo de entrada.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">LABEL</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;label id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/label&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="li">
<h3>`` LI``<a class="headerlink" href="#li" title="Link permanente para este título">¶</a></h3>
<p>Faz um item da lista e deve estar contido em um `` UL`` ou `` tag OL``.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">LI</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;li id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/li&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="ol">
<h3>`` OL``<a class="headerlink" href="#ol" title="Link permanente para este título">¶</a></h3>
<p>Fica para a lista ordenada. A lista deve conter tags LI. `` Argumentos OL`` que não são `` objetos LI`` são automaticamente fechados em `` &lt;li&gt; … &lt;/ li&gt; `` tags.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">OL</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ol id=&quot;0&quot; class=&quot;test&quot;&gt;&lt;li&gt;&amp;lt;hello&amp;gt;&lt;/li&gt;&lt;li&gt;&lt;b&gt;world&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="option">
<h3>`` OPTION``<a class="headerlink" href="#option" title="Link permanente para este título">¶</a></h3>
<p>Isso só deve ser usado como parte de um `` / `` combinação OPTION`` SELECT``.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">OPTION</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_value</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&lt;option value=&quot;a&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/option&gt;</span>
</pre></div>
</div>
<p>Como no caso de `` INPUT``, py4web fazer uma distinção entre &lt;quotechar&gt; _value &lt;quotechar&gt; (o valor da opção), e “valor” (o valor atual do delimitador selecionar). Se forem iguais, a opção é “selecionado”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">SELECT</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">):</span>
<span class="go">&lt;select&gt;</span>
<span class="go">&lt;option value=&quot;a&quot;&gt;a&lt;/option&gt;</span>
<span class="go">&lt;option value=&quot;b&quot; selected=&quot;selected&quot;&gt;b&lt;/option&gt;</span>
<span class="go">&lt;/select&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="p">
<h3>`` P``<a class="headerlink" href="#p" title="Link permanente para este título">¶</a></h3>
<p>Isto é para marcar um parágrafo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">P</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;p id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="pre">
<h3>`` PRE``<a class="headerlink" href="#pre" title="Link permanente para este título">¶</a></h3>
<p>Gera um `` &lt;pre&gt; … &lt;/ pre&gt; `` tag para exibir texto pré-formatado. O `` CODE`` auxiliar é geralmente preferível para listagens de código.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">PRE</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;pre id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/pre&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="script">
<h3>`` SCRIPT``<a class="headerlink" href="#script" title="Link permanente para este título">¶</a></h3>
<p>Esta é incluir ou vincular um script, como JavaScript. O conteúdo entre as tags é processado como um comentário HTML, para o benefício dos navegadores realmente antigos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">SCRIPT</span><span class="p">(</span><span class="s1">&#39;alert(&quot;hello world&quot;);&#39;</span><span class="p">,</span> <span class="n">_type</span><span class="o">=</span><span class="s1">&#39;text/javascript&#39;</span><span class="p">)</span>
<span class="go">&lt;script type=&quot;text/javascript&quot;&gt;&lt;!--</span>
<span class="go">alert(&quot;hello world&quot;);</span>
<span class="go">//--&gt;&lt;/script&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="select">
<h3>`` SELECT``<a class="headerlink" href="#select" title="Link permanente para este título">¶</a></h3>
<p>Faz um `` &lt;selecionar&gt; … &lt;/ select&gt; tag <code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">Isto</span> <span class="pre">é</span> <span class="pre">usado</span> <span class="pre">com</span> <span class="pre">o</span> <span class="pre">``</span> <span class="pre">helper</span> <span class="pre">OPTION</span></code>. Esses `` argumentos SELECT`` que não são `` objetos OPTION`` são automaticamente convertidas em opções.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">SELECT</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;select id=&quot;0&quot; class=&quot;test&quot;&gt;</span>
<span class="go">&lt;option value=&quot;&amp;lt;hello&amp;gt;&quot;&gt;&amp;lt;hello&amp;gt;&lt;/option&gt;</span>
<span class="go">&lt;option value=&quot;&amp;lt;b&amp;gt;world&amp;lt;/b&amp;gt;&quot;&gt;&lt;b&gt;world&lt;/b&gt;&lt;/option&gt;</span>
<span class="go">&lt;/select&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="span">
<h3>`` SPAN``<a class="headerlink" href="#span" title="Link permanente para este título">¶</a></h3>
<p>Semelhante a `` div`` mas utilizado para marcação em linha (em vez de bloco) conteúdo.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;span id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/span&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="style">
<h3>`` STYLE``<a class="headerlink" href="#style" title="Link permanente para este título">¶</a></h3>
<p>Semelhante ao script, mas usadas para incluir ou código do link CSS. Aqui, o CSS está incluído:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">STYLE</span><span class="p">(</span><span class="n">XML</span><span class="p">(</span><span class="s1">&#39;body {color: white}&#39;</span><span class="p">))</span>
<span class="go">&lt;style&gt;&lt;!--</span>
<span class="go">body { color: white }</span>
<span class="go">//--&gt;&lt;/style&gt;</span>
</pre></div>
</div>
<p>e aqui ela está ligada:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">STYLE</span><span class="p">(</span><span class="n">_src</span><span class="o">=</span><span class="s1">&#39;style.css&#39;</span><span class="p">)</span>
<span class="go">&lt;style src=&quot;style.css&quot;&gt;&lt;!--</span>
<span class="go">//--&gt;&lt;/style&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="table-tr-td">
<h3>`` TABLE``, `` TR``, `` TD``<a class="headerlink" href="#table-tr-td" title="Link permanente para este título">¶</a></h3>
<p>Estas tags (juntamente com o opcional `` THEAD`` e `` helpers TBODY``) são utilizados para tabelas de construção HTML.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TABLE</span><span class="p">(</span><span class="n">TR</span><span class="p">(</span><span class="n">TD</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">TD</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)),</span> <span class="n">TR</span><span class="p">(</span><span class="n">TD</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">),</span> <span class="n">TD</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)))</span>
<span class="go">&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;c&lt;/td&gt;&lt;td&gt;d&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</pre></div>
</div>
<p>`` `` TR`` espera conteúdo TD``; argumentos que não são `` objetos TD`` são convertidos automaticamente.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TABLE</span><span class="p">(</span><span class="n">TR</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="n">TR</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">))</span>
<span class="go">&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;c&lt;/td&gt;&lt;td&gt;d&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</pre></div>
</div>
<p>É fácil converter uma matriz de Python em uma tabela HTML usando `` * `` notação argumentos de função do Python, que mapeia os elementos da lista para os argumentos da função posicionais.</p>
<p>Aqui, vamos fazê-lo linha por linha:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TABLE</span><span class="p">(</span><span class="n">TR</span><span class="p">(</span><span class="o">*</span><span class="n">table</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">TR</span><span class="p">(</span><span class="o">*</span><span class="n">table</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;c&lt;/td&gt;&lt;td&gt;d&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</pre></div>
</div>
<p>Aqui nós fazer todas as linhas de uma só vez:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TABLE</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">TR</span><span class="p">(</span><span class="o">*</span><span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">rows</span> <span class="ow">in</span> <span class="n">table</span><span class="p">])</span>
<span class="go">&lt;table&gt;&lt;tr&gt;&lt;td&gt;a&lt;/td&gt;&lt;td&gt;b&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;c&lt;/td&gt;&lt;td&gt;d&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="tbody">
<h3>`` TBODY``<a class="headerlink" href="#tbody" title="Link permanente para este título">¶</a></h3>
<p>Isto é usado para linhas tag contidos no corpo de mesa, em oposição a linhas de cabeçalho ou de rodapé. É opcional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TBODY</span><span class="p">(</span><span class="n">TR</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;tbody id=&quot;0&quot; class=&quot;test&quot;&gt;&lt;tr&gt;&lt;td&gt;&amp;lt;hello&amp;gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="textarea">
<h3>`` TEXTAREA``<a class="headerlink" href="#textarea" title="Link permanente para este título">¶</a></h3>
<p>Este assistente faz uma <cite>&lt;textarea&gt; … &lt;/ textarea&gt; tag</cite> <a href="#id1"><span class="problematic" id="id2">``</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TEXTAREA</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="go">&lt;textarea class=&quot;test&quot; cols=&quot;40&quot; rows=&quot;10&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/textarea&gt;</span>
</pre></div>
</div>
<p>A única ressalva é que o seu “valor” opcional substitui seu conteúdo (HTML interna)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TEXTAREA</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;&lt;hello world&gt;&quot;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="go">&lt;textarea class=&quot;test&quot; cols=&quot;40&quot; rows=&quot;10&quot;&gt;&amp;lt;hello world&amp;gt;&lt;/textarea&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="th">
<h3>`` TH``<a class="headerlink" href="#th" title="Link permanente para este título">¶</a></h3>
<p>Este é utilizado em vez de `` TD`` em cabeçalhos de tabela.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TH</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;th id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/th&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="thead">
<h3>`` THEAD``<a class="headerlink" href="#thead" title="Link permanente para este título">¶</a></h3>
<p>Isto é usado para linhas de cabeçalho da tabela tag.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">THEAD</span><span class="p">(</span><span class="n">TR</span><span class="p">(</span><span class="n">TH</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">)),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;thead id=&quot;0&quot; class=&quot;test&quot;&gt;&lt;tr&gt;&lt;th&gt;&amp;lt;hello&amp;gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="title">
<h3>`` TITLE``<a class="headerlink" href="#title" title="Link permanente para este título">¶</a></h3>
<p>Isto é usado para marcar o título de uma página em um cabeçalho HTML.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TITLE</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">))</span>
<span class="go">&lt;title&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/title&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="tr">
<h3>`` TR``<a class="headerlink" href="#tr" title="Link permanente para este título">¶</a></h3>
<p>Palavras chave uma linha da tabela. Ele deve ser processado dentro de uma tabela e conter `` &lt;td&gt; … &lt;/ td&gt; `` tags. `` Argumentos TR`` que não são `` objetos TD`` serão convertidos automaticamente.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TR</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;tr id=&quot;0&quot; class=&quot;test&quot;&gt;&lt;td&gt;&amp;lt;hello&amp;gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;world&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="tt">
<h3>`` TT``<a class="headerlink" href="#tt" title="Link permanente para este título">¶</a></h3>
<p>Etiquetas de texto como máquina de escrever texto (monoespaçada).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">TT</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;tt id=&quot;0&quot; class=&quot;test&quot;&gt;&amp;lt;hello&amp;gt;&lt;b&gt;world&lt;/b&gt;&lt;/tt&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="ul">
<h3>`` UL``<a class="headerlink" href="#ul" title="Link permanente para este título">¶</a></h3>
<p>Significa uma lista desordenada e deve conter `` itens LI``. Se o seu conteúdo não é marcado como `` LI``, `` UL`` faz isso automaticamente.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">UL</span><span class="p">(</span><span class="s1">&#39;&lt;hello&gt;&#39;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;world&lt;/b&gt;&#39;</span><span class="p">),</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ul id=&quot;0&quot; class=&quot;test&quot;&gt;&lt;li&gt;&amp;lt;hello&amp;gt;&lt;/li&gt;&lt;li&gt;&lt;b&gt;world&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="url">
<h3>`` URL``<a class="headerlink" href="#url" title="Link permanente para este título">¶</a></h3>
<p>O helper URL é documentado em * Capítulo 4 URL ../04*</p>
</div>
</div>
<div class="section" id="custom-helpers">
<h2>Helpers personalizados<a class="headerlink" href="#custom-helpers" title="Link permanente para este título">¶</a></h2>
<div class="section" id="tag">
<span id="id1"></span><h3>`` TAG``<a class="headerlink" href="#tag" title="Link permanente para este título">¶</a></h3>
<p>Às vezes você precisa para gerar tags XML personalizados. py4web fornece `` TAG``, um gerador de tag universal.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=TAG.name(&#39;a&#39;, &#39;b&#39;, _c=&#39;d&#39;)]]
</pre></div>
</div>
<p>gera o seguinte XML</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;name</span> <span class="na">c=</span><span class="s">&quot;d&quot;</span><span class="nt">&gt;</span>ab<span class="nt">&lt;/name&gt;</span>
</pre></div>
</div>
<p>Argumentos “a”, “b” e “d” são automaticamente escapou; usar o `` helper XML`` para suprimir esse comportamento. Usando `` TAG`` você pode gerar HTML / XML marcas já não fornecidos pela API. As etiquetas podem ser aninhados, e são serializados com `` str () `` Uma sintaxe é equivalente.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=TAG[&#39;name&#39;](&#39;a&#39;, &#39;b&#39;, c=&#39;d&#39;)]]
</pre></div>
</div>
<p>Se o objeto TAG é criado com um nome vazio, ele pode ser usado para concatenar várias cadeias e helpers HTML juntos sem inseri-los em uma tag ao redor, mas este uso é obsoleto. Use o `` helper CAT`` vez.</p>
<p>Tags com auto-fechamento podem ser geradas com o helper TAG. O noma da tag deve terminar com um “/”.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=TAG[&#39;link/&#39;](_href=&#39;http://py4web.com&#39;)]]
</pre></div>
</div>
<p>gera o seguinte XML:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;link</span> <span class="na">ref=</span><span class="s">&quot;http://py4web.com&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Note que `` TAG`` é um objecto, e `` `` TAG.name`` ou TAG [ “nome”] `` é uma função que retorna uma classe auxiliar temporária.</p>
</div>
<div class="section" id="menu">
<h3>`` MENU``<a class="headerlink" href="#menu" title="Link permanente para este título">¶</a></h3>
<p>O auxiliar MENU leva uma lista de listas ou de tuplas da forma de `` response.menu`` e gera uma árvore-como estrutura usando listas não ordenadas representam o menu. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">MENU</span><span class="p">([[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;link1&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Two&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;link2&#39;</span><span class="p">]])</span>
<span class="go">&lt;ul class=&quot;py4web-menu py4web-menu-vertical&quot;&gt;</span>
<span class="go">&lt;li&gt;&lt;a href=&quot;link1&quot;&gt;One&lt;/a&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;a href=&quot;link2&quot;&gt;Two&lt;/a&gt;&lt;/li&gt;</span>
<span class="go">&lt;/ul&gt;</span>
</pre></div>
</div>
<blockquote>
<div><p>O primeiro item em cada lista / tupla é o texto a ser exibido para o item de menu dado.</p>
</div></blockquote>
<p>O segundo produto em cada lista / tupla é um booleano que indica se o item de menu particular é activo (isto é, o produto actualmente seleccionada). Quando definido como verdadeiro, o `` MENU`` helper irá adicionar uma classe “-py4web-menu ativo” para o `` &lt;li&gt; `` para esse item (você pode alterar o nome dessa classe, através do argumento “li_active” a `` MENU``). Outra maneira de especificar o url ativo é passando-o directamente para `` MENU`` através do seu argumento “active_url”.</p>
<p>O terceiro item em cada lista / tupla pode ser um HTML helper (que poderia incluir helpers aninhados), eo `` MENU`` helper irá simplesmente tornar esse helper em vez de criar seu próprio `` &lt;a&gt; `` tag.</p>
<p>Cada item do menu pode ter um quarto argumento que é um submenu aninhado (e assim por diante de forma recursiva):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">MENU</span><span class="p">([[</span><span class="s1">&#39;One&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;link1&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;Two&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;link2&#39;</span><span class="p">]]]])</span>
<span class="go">&lt;ul class=&quot;py4web-menu py4web-menu-vertical&quot;&gt;</span>
<span class="go">&lt;li class=&quot;py4web-menu-expand&quot;&gt;</span>
<span class="go">&lt;a href=&quot;link1&quot;&gt;One&lt;/a&gt;</span>
<span class="go">&lt;ul class=&quot;py4web-menu-vertical&quot;&gt;</span>
<span class="go">&lt;li&gt;&lt;a href=&quot;link2&quot;&gt;Two&lt;/a&gt;&lt;/li&gt;</span>
<span class="go">&lt;/ul&gt;</span>
<span class="go">&lt;/li&gt;</span>
<span class="go">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Um item de menu também pode ter um quinto elemento opcional, que é um boolean. Quando false, o item de menu é ignorado pelo auxiliar MENU.</p>
<p>O `` MENU`` helper leva os seguintes argumentos opcionais: - `` _class``: o padrão é “menu py4web py4web-menu vertical” e define a classe dos elementos UL exteriores. - `` ul_class``: o padrão é “py4web-menu vertical” e define a classe dos elementos UL internos. - `` li_class``: o padrão é “py4web menu-expandir” e define a classe dos elementos LI internos. - `` li_first``: permite adicionar uma classe para o primeiro elemento da lista. - `` li_last``: permite adicionar uma classe para o último elemento da lista.</p>
<p>`` MENU`` leva um argumento opcional `` mobile``. Quando ajustado para `` True`` em vez de construir um `` estrutura do menu UL`` recursiva ele retorna um `` suspensa SELECT`` com todas as opções de menu e um atributo `` onchange`` que redireciona para a página correspondente ao opção selecionada. Isto é projetado uma representação de um menu alternativo que aumenta a usabilidade em pequenos dispositivos móveis, como telefones.</p>
<p>Normalmente, o menu é usado em um layout com a seguinte sintaxe:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=MENU(response.menu, mobile=request.user_agent().is_mobile)]]
</pre></div>
</div>
<p>Desta forma, um dispositivo móvel é automaticamente detectado e o menu é processado em conformidade.</p>
</div>
</div>
<div class="section" id="beautify">
<h2>`` BEAUTIFY``<a class="headerlink" href="#beautify" title="Link permanente para este título">¶</a></h2>
<p>`` BEAUTIFY`` é usado para representações de construção HTML de objetos compostos, incluindo listas, tuplas e dicionários:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[=BEAUTIFY({&quot;a&quot;: [&quot;hello&quot;, XML(&quot;world&quot;)], &quot;b&quot;: (1, 2)})]]
</pre></div>
</div>
<p>`` BEAUTIFY`` retorna um objeto serializado XML-like to XML, com uma representação de vista agradável de seu argumento construtor. Neste caso, a representação XML:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">XML</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)}</span>
</pre></div>
</div>
<p>retribuirá como:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>a<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>:<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>hello<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>world<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>b<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>:<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">td</span><span class="p">&gt;</span>1<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>2<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="server-side-dom-and-parsing">
<h2>Server-side * DOM * e análise<a class="headerlink" href="#server-side-dom-and-parsing" title="Link permanente para este título">¶</a></h2>
<div class="section" id="elements">
<h3>`` elements``<a class="headerlink" href="#elements" title="Link permanente para este título">¶</a></h3>
<p>O auxiliar DIV e todos os auxiliares derivados fornecer a métodos de pesquisa `` element`` e `` elements``.</p>
<p>`` Retornos element`` o primeiro elemento filho correspondente a uma condição especificada (ou nenhum, se não fósforo).</p>
<p>`` Elements`` retorna uma lista de todas as crianças correspondentes.</p>
<p>** elemento ** e elementos ** ** usar a mesma sintaxe para especificar a condição de correspondência, que permite três possibilidades que podem ser misturados e combinados: jQuery-como expressões, jogo pelo valor do atributo exato, fósforo usando expressões regulares.</p>
<p>Aqui está um exemplo simples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">DIV</span><span class="p">(</span><span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div#target&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;changed&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;div&gt;&lt;div id=&quot;target&quot; class=&quot;abc&quot;&gt;changed&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>O argumento sem nome de `` elements`` é uma string, que pode conter: o nome de uma tag, o id de uma tag precedida por um símbolo de libra, a classe precedido por um ponto, o valor explícito de um atributo em parêntesis rectos.</p>
<p>Aqui estão 4 maneiras equivalentes para pesquisar a tag anterior id:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;#target&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div#target&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div[id=target]&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="s1">&#39;target&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Aqui estão 4 maneiras equivalentes para pesquisar a tag anterior por classe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;.abc&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div.abc&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div[class=abc]&#39;</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Qualquer atributo pode ser usado para localizar um elemento (e não apenas `` id`` e `` class``), incluindo vários atributos (o elemento função pode demorar vários argumentos nomeados), mas apenas o primeiro elemento correspondente será devolvido.</p>
<p>Usando o jQuery sintaxe “div # target” é possível especificar vários critérios de pesquisa separadas por uma vírgula:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="s1">&#39;t1&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span#t1, div.c2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ou equivalente</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="s1">&#39;t1&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span#t1&#39;</span><span class="p">,</span> <span class="s1">&#39;div.c2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Se o valor de um atributo é especificado usando um argumento de nome, pode ser uma string ou uma expressão regular:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="s1">&#39;test123&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">_class</span><span class="o">=</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;test\d</span><span class="si">{3}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Um especial chamado argumento do DIV (e derivados) helpers é `` find``. Ele pode ser usado para especificar um valor de pesquisa ou uma expressão regular de busca no conteúdo de texto do tag. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;fghij&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="n">find</span><span class="o">=</span><span class="s1">&#39;bcd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;span&gt;abcde&lt;/span&gt;</span>
</pre></div>
</div>
<p>ou</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;fghij&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="n">find</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;fg\w</span><span class="si">{3}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;div&gt;fghij&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="components">
<h3>`` Components``<a class="headerlink" href="#components" title="Link permanente para este título">¶</a></h3>
<p>Aqui está um exemplo de listar todos os elementos em uma string html:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="n">TAG</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;xxx&lt;/a&gt;&lt;b&gt;yyy&lt;/b&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">html</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">item</span>
<span class="gp">...</span>
<span class="go">&lt;a&gt;xxx&lt;/a&gt;</span>
<span class="go">&lt;b&gt;yyy&lt;/b&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="parent-and-siblings">
<h3>`` `` Parent`` e siblings``<a class="headerlink" href="#parent-and-siblings" title="Link permanente para este título">¶</a></h3>
<p>`` Parent`` retorna o pai do elemento de corrente.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;_class&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div class=&quot;abc&quot;&gt;&lt;span&gt;a&lt;/span&gt;&lt;div&gt;b&lt;/div&gt;&lt;/div&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">siblings</span><span class="p">():</span> <span class="nb">print</span> <span class="n">e</span>
<span class="go">&lt;div&gt;b&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-elements">
<h3>Substituir elementos<a class="headerlink" href="#replacing-elements" title="Link permanente para este título">¶</a></h3>
<p>Elementos que são combinados também podem ser substituídos ou removidos, especificando o argumento `` replace``. Observe que uma lista dos elementos correspondentes originais ainda é devolvido como de costume.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="n">P</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;p&gt;z&lt;/p&gt;&lt;div&gt;&lt;p&gt;z&lt;/p&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>`` Replace`` pode ser um que pode ser chamado. Neste caso, será passado o elemento original e é esperado para retornar o elemento de substituição:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;p&gt;x&lt;/p&gt;&lt;div&gt;&lt;p&gt;y&lt;/p&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>Se `` substituir = None``, os elementos correspondentes serão completamente removidas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">elements</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span>
<span class="go">&lt;div&gt;&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="flatten">
<h3>`` flatten``<a class="headerlink" href="#flatten" title="Link permanente para este título">¶</a></h3>
<p>O método flatten recursivamente serializa o conteúdo dos filhos de um determinado elemento em texto normal (sem etiquetas):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="n">DIV</span><span class="p">(</span><span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="n">B</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">))),</span> <span class="n">SPAN</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="go">thisisatest</span>
</pre></div>
</div>
<p>Nivelar pode ser passado um argumento opcional, `` render``, isto é, uma função que processa / achata o conteúdo utilizando um protocolo diferente. Aqui está um exemplo para serializar algumas tags em sintaxe Markmin wiki:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">DIV</span><span class="p">(</span><span class="n">H1</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s1">&#39;example of a &#39;</span><span class="p">,</span> <span class="n">A</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">,</span> <span class="n">_href</span><span class="o">=</span><span class="s1">&#39;#test&#39;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gluon.html</span> <span class="kn">import</span> <span class="n">markmin_serializer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">render</span><span class="o">=</span><span class="n">markmin_serializer</span><span class="p">)</span>
<span class="go"># titles</span>

<span class="go">example of *a link *</span>
</pre></div>
</div>
<p>No momento da escrita nós fornecemos `` markmin_serializer`` e `` markdown_serializer``.</p>
</div>
<div class="section" id="parsing">
<h3>Análise<a class="headerlink" href="#parsing" title="Link permanente para este título">¶</a></h3>
<p>O objeto TAG é também um XML / HTML parser. Pode ler o texto e converter em uma estrutura de árvore de helpers. Isto permite a manipulação usando a API acima:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;this is a &lt;span&gt;test&lt;/span&gt;&lt;/p&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_html</span> <span class="o">=</span> <span class="n">TAG</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_html</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;TEST&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">parsed_html</span>
<span class="go">&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;this is a &lt;span&gt;TEST&lt;/span&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="page-layout">
<h2>Layout da página<a class="headerlink" href="#page-layout" title="Link permanente para este título">¶</a></h2>
<p>Visualizações pode estender e incluir outros pontos de vista em uma estrutura de árvore.</p>
<p>Por exemplo, podemos pensar em uma visão “index.html” que se estende “layout.html” e inclui “body.html”. Ao mesmo tempo, “layout.html” pode incluir “header.html” e “footer.html”.</p>
<p>A raiz da árvore é o que chamamos de exibição de layout. Assim como qualquer outro arquivo de modelo HTML, você pode editá-lo usando a interface administrativa py4web. O nome do arquivo “layout.html” é apenas uma convenção.</p>
<p>Aqui está uma página minimalista que se estende a visão “layout.html” e inclui o ponto de vista “page.html”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="n">extend</span> <span class="s1">&#39;layout.html&#39;</span><span class="p">]]</span>
<span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hello</span> <span class="n">World</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="n">include</span> <span class="s1">&#39;page.html&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>O arquivo de layout estendido deve conter um `` [[incluir]] `` directiva, algo como:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="n">Page</span> <span class="n">Title</span><span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
    <span class="p">[[</span><span class="n">include</span><span class="p">]]</span>
  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Quando o ponto de vista é chamado, o (layout) vista alargada é carregado, e o ponto de vista chamando substitui a `` [[incluir]] `` directiva dentro da disposição. O processamento continua de forma recursiva até que todo `` `` extend`` e directivas include`` tenham sido processados. O modelo resultante é então traduzido em código Python. Note, quando um aplicativo é bytecode compilado, é este código Python que é compilado, não a visão original próprios arquivos. Assim, a versão bytecode compilado de um determinado ponto de vista é um único arquivo .pyc que inclui o código Python não apenas para o arquivo de exibição original, mas para toda a sua árvore de pontos de vista estendidas e incluídos.</p>
<blockquote>
<div><p>`` Extend``, `` include``, `` block`` e `` super`` são directivas especiais do template, e não comandos Python.</p>
</div></blockquote>
<p>Qualquer conteúdo ou código que precede a `` [[estender …]] `` directiva será inserido (e, portanto, executado) antes do início do conteúdo / código da vista estendida. Embora este não é normalmente usado para inserir conteúdo HTML real antes de o conteúdo da exibição estendida, ele pode ser útil como um meio para definir variáveis ​​ou funções que você deseja disponibilizar para a exibição estendida. Por exemplo, considere uma visão “index.html”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="n">sidebar_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">]]</span>
<span class="p">[[</span><span class="n">extend</span> <span class="s1">&#39;layout.html&#39;</span><span class="p">]]</span>
<span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Home</span> <span class="n">Page</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>e um trecho de “layout.html”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="k">if</span> <span class="n">sidebar_enabled</span><span class="p">:]]</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;sidebar&quot;</span><span class="o">&gt;</span>
        <span class="n">Sidebar</span> <span class="n">Content</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="k">pass</span><span class="p">]]</span>
</pre></div>
</div>
<p>Porque o `` atribuição sidebar_enabled`` em “index.html” vem antes do `` extend``, essa linha é inserido antes do início do “layout.html”, fazendo com que `` qualquer lugar sidebar_enabled`` disponível dentro do “layout. html”código (uma versão um pouco mais sofisticada deste é usado no bem-vindo ** ** app).</p>
<p>Também é importante ressaltar que as variáveis ​​retornadas pela função de controlador estão disponíveis não só na vista principal da função, mas em todos os seus pontos de vista estendidas e incluídos também.</p>
<p>O argumento de um `` `` extend`` ou include`` (isto é, o nome vista alargada ou incluído) possa ser uma variável Python (embora não uma expressão Python). No entanto, este impõe uma limitação - vistas que usar variáveis ​​no `` extend`` ou `` declarações include`` não pode ser bytecode compilado. Como mencionado acima, vista compilado-bytecode incluem toda a árvore de pontos de vista estendidas e incluídos, de modo que o específica estendida e vistas incluídos deve ser conhecido em tempo de compilação, que não é possível se os nomes de exibição são variáveis ​​(cujos valores não são determinados até run Tempo). Porque vistas bytecode compilação pode fornecer um impulso de velocidade significativa, utilizando variáveis ​​em `` extend`` e `` include`` geralmente deve ser evitada, se possível.</p>
<p>Em alguns casos, uma alternativa para usar uma variável em um `` include`` é simplesmente para colocar regulares `` [[incluem …]] `` directivas dentro de um `` se … bloco else``.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[if some_condition:]]
[[include &#39;this_view.html&#39;]]
[[else:]]
[[include &#39;that_view.html&#39;]]
[[pass]]
</pre></div>
</div>
<p>O código acima não apresenta qualquer problema para a compilação bytecode porque há variáveis ​​estão envolvidas. Note, no entanto, que o bytecode compilado vista realmente irá incluir o código Python para ambos “this_view.html” e “that_view.html”, embora apenas o código para um desses pontos de vista serão executadas, dependendo do valor de `` some_condition <a href="#id1"><span class="problematic" id="id2">``</span></a>.</p>
<p>Tenha em mente, isso só funciona para `` include`` - você não pode colocar `` [[estender …]] `` directivas dentro `` se … blocos else``.</p>
<p>Layouts são usados ​​para página encapsular comunalidade (cabeçalhos, rodapés, menus), e embora eles não são obrigatórios, eles vão fazer a sua aplicação mais fácil de escrever e manter. Em particular, sugerimos escrever layouts que aproveitam as seguintes variáveis ​​que podem ser definidas no controlador. Usando estas variáveis ​​bem conhecidas irá ajudar a tornar seus layouts intercambiáveis:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>response.title
response.subtitle
response.meta.author
response.meta.keywords
response.meta.description
response.flash
response.menu
response.files
</pre></div>
</div>
<p>Exceto para `` menu`` e `` files``, estas são todas as cordas e seu significado deve ser óbvia.</p>
<p>`` Menu response.menu`` está uma lista de 3-tuplas ou 4-tuplas. Os três elementos são: o nome do link, um booleano representando se o link está ativo (é o elo atual), e o URL da página vinculada. Por exemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">menu</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Google&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;http://www.google.com&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                 <span class="p">(</span><span class="s1">&#39;Index&#39;</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="n">URL</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">),</span> <span class="p">[])]</span>
</pre></div>
</div>
<p>O quarto elemento tupla é um sub-menu de opcionais.</p>
<p>`` Response.files`` é uma lista de arquivos CSS e JS que são necessários pelo sua página.</p>
<p>Também recomendamos que você usa:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[include &#39;py4web_ajax.html&#39;]]
</pre></div>
</div>
<p>na cabeça HTML, uma vez que irá incluir as bibliotecas jQuery e definir algumas funções JavaScript compatível com versões anteriores para efeitos especiais e Ajax. “Py4web_ajax.html” inclui os `` tag response.meta`` na vista, base jQuery, o datepicker calendário, e todos CSS necessário e JS `` response.files``.</p>
<div class="section" id="default-page-layout">
<h3>Layout de página padrão<a class="headerlink" href="#default-page-layout" title="Link permanente para este título">¶</a></h3>
<p>O “views / layout.html” que acompanha o aplicativo andaimes py4web ** boas-vindas ** (despojado de algumas partes opcionais) é bastante complexa, mas tem a seguinte estrutura:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>[[=response.title or request.application]]<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  ...
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;[[=URL(&#39;static&#39;, &#39;js/modernizr.custom.js&#39;)]]&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

  [[
  response.files.append(URL(&#39;static&#39;, &#39;css/py4web.css&#39;))
  response.files.append(URL(&#39;static&#39;, &#39;css/bootstrap.min.css&#39;))
  response.files.append(URL(&#39;static&#39;, &#39;css/bootstrap-responsive.min.css&#39;))
  response.files.append(URL(&#39;static&#39;, &#39;css/py4web_bootstrap.css&#39;))
  ]]

  [[include &#39;py4web_ajax.html&#39;]]

  [[
  # using sidebars need to know what sidebar you want to use
  left_sidebar_enabled = globals().get(&#39;left_sidebar_enabled&#39;, False)
  right_sidebar_enabled = globals().get(&#39;right_sidebar_enabled&#39;, False)
  middle_columns = {0:&#39;span12&#39;, 1:&#39;span9&#39;, 2:&#39;span6&#39;}[
    (left_sidebar_enabled and 1 or 0)+(right_sidebar_enabled and 1 or 0)]
  ]]

  [[block head]][[end]]
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="c">&lt;!-- Navbar ================================================== --&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar navbar-inverse navbar-fixed-top&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;flash&quot;</span><span class="p">&gt;</span>[[=response.flash or &#39;&#39;]]<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-inner&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
        [[=response.logo or &#39;&#39;]]
        <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;navbar&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav pull-right&quot;</span><span class="p">&gt;</span>
          [[=&#39;auth&#39; in globals() and auth.navbar(mode=&quot;dropdown&quot;) or &#39;&#39;]]
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav-collapse&quot;</span><span class="p">&gt;</span>
          [[if response.menu:]]
          [[=MENU(response.menu)]]
          [[pass]]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="c">&lt;!--/.nav-collapse --&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span><span class="c">&lt;!--/top navbar --&gt;</span>

  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- Masthead ================================================== --&gt;</span>
    <span class="p">&lt;</span><span class="nt">header</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mastheader row&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;header&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;span12&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;page-header&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>
                    [[=response.title or request.application]]
                    <span class="p">&lt;</span><span class="nt">small</span><span class="p">&gt;</span>[[=response.subtitle or &#39;&#39;]]<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">section</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;main&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;main row&quot;</span><span class="p">&gt;</span>
        [[if left_sidebar_enabled:]]
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;span3 left-sidebar&quot;</span><span class="p">&gt;</span>
            [[block left_sidebar]]
            <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Left Sidebar<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
            [[end]]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        [[pass]]

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;[[=middle_columns]]&quot;</span><span class="p">&gt;</span>
            [[block center]]
            [[include]]
            [[end]]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        [[if right_sidebar_enabled:]]
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;span3&quot;</span><span class="p">&gt;</span>
            [[block right_sidebar]]
            <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Right Sidebar<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
            [[end]]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        [[pass]]
    <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span><span class="c">&lt;!--/main--&gt;</span>

    <span class="c">&lt;!-- Footer ================================================== --&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">footer</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;footer span12&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;footer&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;footer-content&quot;</span><span class="p">&gt;</span>
                [[block footer]] <span class="c">&lt;!-- this is default footer --&gt;</span>
                ...
                [[end]]
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span> <span class="c">&lt;!-- /container --&gt;</span>

  <span class="c">&lt;!-- The javascript =============================================</span>
<span class="c">       (Placed at the end of the document so the pages load faster) --&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;[[=URL(&#39;static&#39;, &#39;js/bootstrap.min.js&#39;)]]&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;[[=URL(&#39;static&#39;, &#39;js/py4web_bootstrap.js&#39;)]]&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  [[if response.google_analytics_id:]]
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;[[=URL(&#39;static&#39;, &#39;js/analytics.js&#39;)]]&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
    <span class="nx">analytics</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span>
      <span class="s1">&#39;Google Analytics&#39;</span><span class="o">:</span><span class="p">{</span><span class="nx">trackingId</span><span class="o">:</span><span class="s1">&#39;[[=response.google_analytics_id]]&#39;</span><span class="p">}</span>
    <span class="p">});&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  [[pass]]
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Existem algumas características deste layout padrão que tornam muito fácil de usar e personalizar:</p>
<ul class="simple">
<li><p>Ele é escrito em HTML5 e usa a biblioteca “Modernizr” para compatibilidade com versões anteriores. O layout real inclui algumas declarações condicionais extras exigidos pelo IE e eles são omitidos por brevidade.</p></li>
<li><p>Ele exibe tanto `` response.title`` e `` response.subtitle`` que pode ser definido em um modelo ou um controlador. Se eles não estão definidos, adota o nome do aplicativo como título.</p></li>
<li><p>Ele inclui o arquivo `` py4web_ajax.html`` no cabeçalho que gerou todas as declarações de importação da ligação e de script.</p></li>
<li><p>Ele usa uma versão modificada do Twitter Bootstrap para layouts flexíveis que funciona em dispositivos móveis e colunas reorganiza para caber telas pequenas.</p></li>
<li><p>Ele usa “analytics.js” para se conectar ao Google Analytics.</p></li>
<li><p>O `` [[= auth.navbar (…)]] `` exibe uma recepção para o usuário atual e links para as funções de autenticação, como login, logout, registro, alteração de senha, etc. dependendo do contexto. `` Auth.navbar`` é uma fábrica auxiliar e a sua saída podem ser manipulados como qualquer outro auxiliar. É colocado em uma expressão para verificar a existência de auth definição, as avalia a expressão ‘’ no caso de auth é indefinido.</p></li>
<li><p>O `` [[= MENU (response.menu)]] `` exibe a estrutura do menu como `` &lt;ul&gt; … &lt;/ ul&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>.</p></li>
<li><p>`` [[Incluir]] `` é substituído pelo conteúdo da vista que se prolonga, quando a página é processada.</p></li>
<li><p>Por padrão, ele usa uma de três colunas condicional (a esquerda e barras laterais direitas pode ser desligado com as vistas que se estendem)</p></li>
<li><p>Ele usa as seguintes classes: page-header, principal, rodapé.</p></li>
<li><p>Ele contém os seguintes blocos: cabeça, left_sidebar, centro, right_sidebar, rodapé.</p></li>
</ul>
<p>Em vista, você pode ativar e personalizar barras laterais da seguinte forma:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[left_sidebar_enabled=True]]
[[extend &#39;layout.html&#39;]]

This text goes in center

[[block left_sidebar]]
This text goes in sidebar
[[end]]
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-default-layout">
<h3>Personalizando o layout padrão<a class="headerlink" href="#customizing-the-default-layout" title="Link permanente para este título">¶</a></h3>
<p>Personalizando o layout padrão sem edição é fácil, porque a aplicação de boas-vindas é baseado no Twitter Bootstrap que está bem documentado e suporta temas. Em py4web quatro arquivos estáticos que são relevantes para o estilo:</p>
<ul class="simple">
<li><p>“Css / py4web.css” contém estilos py4web específicos</p></li>
<li><p>“Css / bootstrap.min.css” contém o estilo CSS Twitter Bootstrap</p></li>
<li><p>“Css / py4web_bootstrap.css”, que substitui alguns estilos Bootstrap para se conformar às necessidades py4web.</p></li>
<li><p>“js / bootstrap.min.js”, que inclui as bibliotecas para efeitos de menu, modais, painéis.</p></li>
</ul>
<p>Para alterar as cores e imagens de fundo, tente anexar o seguinte código ao header layout.html:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nt">style</span><span class="o">&gt;</span>
<span class="nt">body</span> <span class="p">{</span> <span class="k">background</span><span class="p">:</span> <span class="nb">url</span><span class="p">(</span><span class="s1">&#39;images/background.png&#39;</span><span class="p">)</span> <span class="kc">repeat-x</span> <span class="mh">#3A3A3A</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">a</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="mh">#349C01</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">page-header</span> <span class="nt">h1</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="mh">#349C01</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">page-header</span> <span class="nt">h2</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span> <span class="k">font-style</span><span class="p">:</span> <span class="kc">italic</span><span class="p">;</span> <span class="k">font-size</span><span class="p">:</span> <span class="mi">14</span><span class="kt">px</span><span class="p">;}</span>
<span class="p">.</span><span class="nc">statusbar</span> <span class="p">{</span> <span class="k">background</span><span class="p">:</span> <span class="mh">#333333</span><span class="p">;</span> <span class="k">border-bottom</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span> <span class="mh">#349C01</span> <span class="kc">solid</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">statusbar</span> <span class="nt">a</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">footer</span> <span class="p">{</span> <span class="k">border-top</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span> <span class="mh">#349C01</span> <span class="kc">solid</span><span class="p">;</span> <span class="p">}</span>
<span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Claro que você também pode substituir completamente o “layout.html” e arquivos “py4web.css” com o seu próprio.</p>
</div>
<div class="section" id="mobile-development">
<h3>Desenvolvimento móvel<a class="headerlink" href="#mobile-development" title="Link permanente para este título">¶</a></h3>
<p>Embora o layout.html padrão é projetado para ser compatível com telemóvel, pode-se às vezes é preciso usar diferentes pontos de vista quando uma página é visitada por um dispositivo móvel.</p>
<p>Para tornar a desenvolver para desktop e dispositivos móveis mais fáceis, py4web inclui o `` &#64; mobilize`` decorador. Este decorador é aplicado a ações que devem ter uma visão normal e uma exibição móvel. Isso é demonstrado aqui:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gluon.contrib.user_agent_parser</span> <span class="kn">import</span> <span class="n">mobilize</span>
<span class="nd">@mobilize</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
</pre></div>
</div>
<p>Observe que o decorador deve ser importada antes de usá-lo em um controlador. Quando a função “index” é chamado a partir de um browser normal (computador de mesa), py4web tornará o dicionário retornado usando a exibição “[controller] /index.html”. No entanto, quando ele é chamado por um dispositivo móvel, o dicionário vai ser processado por “[controller] /index.mobile.html”. Observe que visualizações móveis têm a extensão “mobile.html”.</p>
<p>Alternativamente, você pode aplicar a seguinte lógica para fazer todos os pontos de vista móvel amigável:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user_agent</span><span class="p">()</span><span class="o">.</span><span class="n">is_mobile</span><span class="p">:</span>
    <span class="n">response</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.html&#39;</span><span class="p">,</span> <span class="s1">&#39;.mobile.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A tarefa de criar os &lt;quotechar&gt; <a href="#id1"><span class="problematic" id="id2">*</span></a>. Mobile.html &lt;quotechar&gt; vista é deixada para o desenvolvedor, mas sugerimos usando o plugin “jQuery Mobile” que torna a tarefa muito fácil.</p>
</div>
</div>
<div class="section" id="functions-in-views">
<h2>Funções em vista<a class="headerlink" href="#functions-in-views" title="Link permanente para este título">¶</a></h2>
<p>Considere isso “layout.html”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
    <span class="p">[[</span><span class="n">include</span><span class="p">]]</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;sidebar&quot;</span><span class="o">&gt;</span>
      <span class="p">[[</span><span class="k">if</span> <span class="s1">&#39;mysidebar&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():]][[</span><span class="n">mysidebar</span><span class="p">()]][[</span><span class="k">else</span><span class="p">:]]</span>
        <span class="n">my</span> <span class="n">default</span> <span class="n">sidebar</span>
      <span class="p">[[</span><span class="k">pass</span><span class="p">]]</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>e este ponto de vista que se prolonga</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[def mysidebar():]]
my new sidebar!!!
[[return]]
[[extend &#39;layout.html&#39;]]
Hello World!!!
</pre></div>
</div>
<p>Repare que a função é definida antes do `` [[estender …]] `` declaração - Isto resulta na função que está sendo criado antes do código “layout.html” é executado, assim que a função pode ser chamado em qualquer lugar dentro “layout. html”, mesmo antes do` <cite>[[incluir]]</cite> <cite>. Observe também a função está incluída na vista alargada sem a `</cite> = `` prefixo.</p>
<p>O código gera o seguinte resultado:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    Hello World!!!
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidebar&quot;</span><span class="p">&gt;</span>
      my new sidebar!!!
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Observe que a função é definida em HTML (embora ele também poderia conter código Python) para que `` response.write`` é usado para gravar o seu conteúdo (a função não retornar o conteúdo). É por isso que o layout chama a função de visão utilizando `` [[mysidebar ()]] `` `` em vez de [[= mysidebar ()]] <a href="#id1"><span class="problematic" id="id2">``</span></a>. Funções definidas desta forma pode ter argumentos.</p>
</div>
<div class="section" id="blocks-in-views">
<h2>Blocos em vista<a class="headerlink" href="#blocks-in-views" title="Link permanente para este título">¶</a></h2>
<p>O caminho principal para fazer uma vista mais modular é usando `` [[bloco …]] `` s e este mecanismo é uma alternativa para o mecanismo discutido na secção anterior.</p>
<p>Para entender como isso funciona, considere aplicativos baseado no bem-vindo andaimes aplicativo, que tem um layout.html vista. Este ponto de vista é estendida pela vista `` padrão / index.html`` via `` [[estender “layout.html”]] <a href="#id1"><span class="problematic" id="id2">``</span></a>. O conteúdo do layout.html predefinir certos blocos com determinado conteúdo padrão, e estes são, portanto, incluídos em default / index.html.</p>
<p>Você pode substituir esses blocos de conteúdo padrão, colocando o seu novo conteúdo dentro do mesmo nome do bloco. A localização do bloco no layout.html não é alterado, mas o conteúdo é.</p>
<p>Aqui está uma versão Simplificado. Imagine isto é “layout.html”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
    <span class="p">[[</span><span class="n">include</span><span class="p">]]</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;sidebar&quot;</span><span class="o">&gt;</span>
      <span class="p">[[</span><span class="n">block</span> <span class="n">mysidebar</span><span class="p">]]</span>
        <span class="n">my</span> <span class="n">default</span> <span class="n">sidebar</span> <span class="p">(</span><span class="n">this</span> <span class="n">content</span> <span class="n">to</span> <span class="n">be</span> <span class="n">replaced</span><span class="p">)</span>
      <span class="p">[[</span><span class="n">end</span><span class="p">]]</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>e isto é um simples que se estende vista `` padrão / index.html``:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[extend &#39;layout.html&#39;]]
Hello World!!!
[[block mysidebar]]
my new sidebar!!!
[[end]]
</pre></div>
</div>
<p>Ele gera a saída seguinte, quando o teor é fornecido pelo bloco sobre-montada na vista estendendo-se, ainda a DIV envolvente e classe vem de layout.html. Isso permite que a consistência entre os pontos de vista:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    Hello World!!!
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidebar&quot;</span><span class="p">&gt;</span>
        my new sidebar!!!
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>O verdadeiro layout.html define um número de blocos úteis, e você pode facilmente adicionar mais para coincidir com o layout seu desejo.</p>
<p>Você pode ter muitos blocos, e se um bloco está presente na exibição estendida, mas não na visão estendendo, o conteúdo da visão ampliada é usado. Além disso, observe que, ao contrário com as funções, não é necessário definir blocos antes do `` [[estender …]] `` - mesmo se definido após o `` extend``, eles podem ser usados ​​para fazer substituições em qualquer lugar a vista estendida.</p>
<p>Dentro de um bloco, você pode usar a expressão `` [[Super]] `` para incluir o conteúdo do pai. Por exemplo, se substituir o acima estendendo vista com:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>[[extend &#39;layout.html&#39;]]
Hello World!!!
[[block mysidebar]]
[[super]]
my new sidebar!!!
[[end]]
</pre></div>
</div>
<p>nós temos:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    Hello World!!!
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidebar&quot;</span><span class="p">&gt;</span>
        my default sidebar
        my new sidebar!
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chapter-11.html" class="btn btn-neutral float-right" title="Internacionalização" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chapter-09.html" class="btn btn-neutral float-left" title="Linguagem de template YATL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, BSDv3 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      
      
     <span class="fa fa-element">
     <input class="container_toggle" type="checkbox" id="switch" name="mode">
     <label for="switch"></label>
     </span>
      
      v: 1.20210119.1"

      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Idiomas</dt>
        
          
          
          <dd><a href="../en/index.html">en</a></dd> 
        
           <strong> 
          <dd><a href="../pt/index.html">pt</a></dd> </strong>
          
        
      </dl>
      
      
      <dl>
        <dt>Versões</dt>
        
          
          <dd><a href="index.html">current</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Transferências</dt>
        
          <dd><a href="py4web_pt.pdf">pdf</a></dd>
        
          <dd><a href="py4web_pt.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
    </div>
  </div>

 

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>